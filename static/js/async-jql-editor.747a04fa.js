(self.webpackChunkjira_time_tracker=self.webpackChunkjira_time_tracker||[]).push([[343],{33543:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M13.25 15v-2.25a3 3 0 0 0-3-3h-4.5a3 3 0 0 0-3 3V15m8.5-11a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0Z"/>'},t));s.displayName="PersonIcon";e.default=s},31825:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M.75 7.75V7a.75.75 0 0 0-.75.75zm14.5 0 .646.382A.75.75 0 0 0 15.25 7zm-12.5-3V4a.75.75 0 0 0-.75.75zm6.25 0 .648-.378A.75.75 0 0 0 9 4zm-4.25-2V2H4v.75zm1.5 0H7V2h-.75zm6.113 9.886.646.382zm2.241-5.268-2.887 4.886 1.292.764 2.887-4.886zM11.287 12.5H2V14h9.287zM1.5 12V7.75H0V12zM.75 8.5h2V7h-2zm2.75-.75v-3H2v3zm-.75.75h8V7h-8zm8 0h4.5V7h-4.5zM8.352 5.128l1.75 3 1.296-.756-1.75-3zM2.75 5.5h2V4h-2zm2.75-.75v-2H4v2zM4.75 3.5h1.5V2h-1.5zm0 2h1.5V4h-1.5zm1.5 0H9V4H6.25zM5.5 2.75v2H7v-2zM2 12.5a.5.5 0 0 1-.5-.5H0a2 2 0 0 0 2 2zm9.717-.246a.5.5 0 0 1-.43.246V14a2 2 0 0 0 1.722-.982z"/>'},t));s.displayName="ReleaseIcon";e.default=s},38226:(t,e,r)=>{"use strict";e.A=void 0;var n=s(r(96540)),i=r(58983),o=s(r(33543));function s(t){return t&&t.__esModule?t:{default:t}}const a=t=>n.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M6 14c0-1.105.902-2 2.009-2h7.982c1.11 0 2.009.894 2.009 2.006v4.44c0 3.405-12 3.405-12 0z"/><circle cx="12" cy="7" r="4"/></g></svg>'},t,{newIcon:o.default}));a.displayName="PersonIcon";e.A=a},38057:(t,e,r)=>{"use strict";e.A=void 0;var n=s(r(96540)),i=r(58983),o=s(r(31825));function s(t){return t&&t.__esModule?t:{default:t}}const a=t=>n.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M6 12h8v-2H6zM4 8.99C4 8.445 4.456 8 5.002 8h9.996C15.55 8 16 8.451 16 8.99V14H4z"/><path d="M6 7.005C6 5.898 6.898 5 7.998 5h2.004C11.106 5 12 5.894 12 7.005V10H6zm4 0V7H7.999c.005 0 .002.003.002.005V8h2z"/><path fill-rule="nonzero" d="M4.5 17h13.994l1.002-3H4.14zm-2.495-4.012A.862.862 0 0 1 2.883 12h18.393c.55 0 .857.417.681.944l-1.707 5.112c-.174.521-.758.944-1.315.944H3.725a1.15 1.15 0 0 1-1.118-.988z"/></g></svg>'},t,{newIcon:o.default}));a.displayName="ShipIcon";e.A=a},98044:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=void 0;var i=r(67986);function o(t){if(void 0!==t)return"boolean"==typeof t?{capture:t}:t}e.bindAll=function(t,e,r){var s=e.map((function(e){var s=function(t,e){return null==e?t:n(n({},t),{options:n(n({},o(e)),o(t.options))})}(e,r);return(0,i.bind)(t,s)}));return function(){s.forEach((function(t){return t()}))}}},67986:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bind=void 0,e.bind=function(t,e){var r=e.type,n=e.listener,i=e.options;return t.addEventListener(r,n,i),function(){t.removeEventListener(r,n,i)}}},9305:(t,e,r)=>{"use strict";e.vJ=void 0;var n=r(67986);var i=r(98044);Object.defineProperty(e,"vJ",{enumerable:!0,get:function(){return i.bindAll}})},65879:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=void 0;var i=r(15833);function o(t){if(void 0!==t)return"boolean"==typeof t?{capture:t}:t}e.bindAll=function(t,e,r){var s=e.map((function(e){var s=function(t,e){return null==e?t:n(n({},t),{options:n(n({},o(e)),o(t.options))})}(e,r);return(0,i.bind)(t,s)}));return function(){s.forEach((function(t){return t()}))}}},15833:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bind=void 0,e.bind=function(t,e){var r=e.type,n=e.listener,i=e.options;return t.addEventListener(r,n,i),function(){t.removeEventListener(r,n,i)}}},47984:(t,e,r)=>{"use strict";e.oI=void 0;var n=r(15833);Object.defineProperty(e,"oI",{enumerable:!0,get:function(){return n.bind}});var i=r(65879)},87782:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>xO});var n=r(96540),i=r(15176),o=r(44264),s=r(39740);const a=JSON.parse('{"UU":"@atlassianlabs/jql-editor","rE":"2.0.1"}');var l=r(38021),c=r(80296),u=r(45458),h=r(64467),p="in",f="not in",d="is not",y="was in",g="was not in",v="was not",m="changed",x=["=","!="],b=["~","!~"],O=["<",">","<=",">="],S=[p,f],A=["is",d],E=["was",v],T=[y,g],N=[m],_=[].concat(x,b,O,S,A,E,T,N),w=[p,f,y,g],k=function(t){return w.includes(t)},C=r(92901),R=r(23029),P=function t(e,r){e.enterEveryNode&&e.enterEveryNode(r),r.enterNode(e),r.getChildren().forEach((function(r){return t(e,r)})),r.exitNode(e),e.exitEveryNode&&e.exitEveryNode(r)},I="[team]",j=/^.+\[(\D+)]$/i,L="assignee",M="created",D="duedate",q="issuetype",F="lastviewed",B="priority",U="project",z="reporter",V="resolutiondate",J="status",H="summary",W="type",G="updated",Y="resolution",K=[L,M,D,"issuekey",q,F,B,U,z,"resolved",V,J,"statuscategory",H,"text",W,G,"affectedversion","approvals","category","component","description","development","environment","epic link","filter","fixversion","labels","parent",Y,"sprint","assignee.property","creator.property","issue.property","project.property","reporter.property","voter.property","watcher.property"],$=(0,C.A)((function t(e){var r,n=this;(0,R.A)(this,t),(0,h.A)(this,"attributes",{jqlFieldValueCount:{issueType:0,project:0,assignee:0,reporter:0,priority:0,status:0,resolution:0,team:0},jqlFieldIsUsed:{summary:!1,due:!1,resolutionDate:!1,created:!1,lastviewed:!1,updated:!1,team:!1},jqlUsedFields:[],jqlUsedFieldsCount:0,jqlUsedFieldsOrderBy:[],jqlLineCount:0,jqlErrorCount:0,jqlClauseCount:{orderBy:0,leaf:0,and:0,not:0,or:0},jqlMaxCompoundClauseDepth:0}),(0,h.A)(this,"usedFields",new Set),(0,h.A)(this,"usedFieldsOrderBy",new Set),(0,h.A)(this,"fieldValueCount",0),(0,h.A)(this,"compoundClauseDepth",0),(0,h.A)(this,"getFieldName",(function(t){return function(t){var e=j.exec(t.toLowerCase());if(e)return"[".concat(e[1],"]")}(t.value)||t.value.toLowerCase()})),(0,h.A)(this,"incrementFieldValueCount",(function(){n.fieldValueCount+=1})),(0,h.A)(this,"exitQuery",(function(){var t=new Set;n.usedFields.forEach((function(e){return t.add(K.includes(e)?e:"other")})),n.attributes.jqlUsedFields=Array.from(t).sort(),n.attributes.jqlUsedFieldsCount=n.usedFields.size,n.attributes.jqlUsedFieldsOrderBy=Array.from(n.usedFieldsOrderBy)})),(0,h.A)(this,"enterCompoundClause",(function(t){"and"===t.operator.value?n.attributes.jqlClauseCount.and+=1:"or"===t.operator.value&&(n.attributes.jqlClauseCount.or+=1),n.compoundClauseDepth+=1,n.compoundClauseDepth>n.attributes.jqlMaxCompoundClauseDepth&&(n.attributes.jqlMaxCompoundClauseDepth=n.compoundClauseDepth)})),(0,h.A)(this,"exitCompoundClause",(function(){n.compoundClauseDepth-=1})),(0,h.A)(this,"enterTerminalClause",(function(t){var e=n.getFieldName(t.field);switch(e){case H:n.attributes.jqlFieldIsUsed.summary=!0;break;case D:n.attributes.jqlFieldIsUsed.due=!0;break;case V:n.attributes.jqlFieldIsUsed.resolutionDate=!0;break;case M:n.attributes.jqlFieldIsUsed.created=!0;break;case F:n.attributes.jqlFieldIsUsed.lastviewed=!0;break;case G:n.attributes.jqlFieldIsUsed.updated=!0;break;case I:n.attributes.jqlFieldIsUsed.team=!0}n.attributes.jqlClauseCount.leaf+=1,n.usedFields.add(e),n.fieldValueCount=0})),(0,h.A)(this,"exitTerminalClause",(function(t){switch(n.getFieldName(t.field)){case q:case W:n.attributes.jqlFieldValueCount.issueType+=n.fieldValueCount;break;case U:n.attributes.jqlFieldValueCount.project+=n.fieldValueCount;break;case L:n.attributes.jqlFieldValueCount.assignee+=n.fieldValueCount;break;case z:n.attributes.jqlFieldValueCount.reporter+=n.fieldValueCount;break;case B:n.attributes.jqlFieldValueCount.priority+=n.fieldValueCount;break;case J:n.attributes.jqlFieldValueCount.status+=n.fieldValueCount;break;case Y:n.attributes.jqlFieldValueCount.resolution+=n.fieldValueCount;break;case I:n.attributes.jqlFieldValueCount.team+=n.fieldValueCount}})),(0,h.A)(this,"enterNotClause",(function(){n.attributes.jqlClauseCount.not+=1})),(0,h.A)(this,"enterFunctionOperand",this.incrementFieldValueCount),(0,h.A)(this,"enterKeywordOperand",this.incrementFieldValueCount),(0,h.A)(this,"enterValueOperand",this.incrementFieldValueCount),(0,h.A)(this,"enterOrderByField",(function(t){n.usedFieldsOrderBy.add(n.getFieldName(t.field)),n.attributes.jqlClauseCount.orderBy+=1})),this.attributes.jqlLineCount=(r=e.represents,r.split(/(?:\r\n?|\n)/)).length,this.attributes.jqlErrorCount=e.errors.length})),Q=function(t){var e=new $(t);return function(t,e){e.query&&P(t,e.query)}(e,t),e.attributes},Z=r(85501),X=r(56822),tt=r(53954),et=r(90991),rt=r(9417);function nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nt=function(){return!!t})()}function it(t){var e=nt();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var ot=r(60493),st=r(40755),at=r(35922),lt=r(41097),ct=r(13161),ut=r(79449),ht=r(47760),pt=r(67435),ft=r(40659),dt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t))._interp=new ct.ParserATNSimulator(r._ATN,(0,rt.A)(n)),n}return(0,C.A)(r,[{key:"vocabulary",get:function(){return r.VOCABULARY}},{key:"grammarFileName",get:function(){return"JQLParser.g4"}},{key:"ruleNames",get:function(){return r.ruleNames}},{key:"serializedATN",get:function(){return r._serializedATN}},{key:"jqlQuery",value:function(){var t,e=new yt(this._ctx,this.state);this.enterRule(e,0,r.RULE_jqlQuery);try{this.enterOuterAlt(e,1),this.state=83,this._errHandler.sync(this),(!(-32&(t=this._input.LA(1)))&&1<<t&(1<<r.LPAREN|1<<r.BANG|1<<r.NOT)||!(t-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.CUSTOMFIELD-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33))&&(this.state=82,this.jqlWhere()),this.state=86,this._errHandler.sync(this),(t=this._input.LA(1))===r.ORDER&&(this.state=85,this.jqlOrderBy()),this.state=88,this.match(r.EOF)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlWhere",value:function(){var t=new gt(this._ctx,this.state);this.enterRule(t,2,r.RULE_jqlWhere);try{this.enterOuterAlt(t,1),this.state=90,this.jqlOrClause()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlOrClause",value:function(){var t,e=new vt(this._ctx,this.state);this.enterRule(e,4,r.RULE_jqlOrClause);try{for(this.enterOuterAlt(e,1),this.state=92,this.jqlAndClause(),this.state=97,this._errHandler.sync(this),t=this._input.LA(1);t===r.OR;)this.state=93,this.match(r.OR),this.state=94,this.jqlAndClause(),this.state=99,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlAndClause",value:function(){var t,e=new mt(this._ctx,this.state);this.enterRule(e,6,r.RULE_jqlAndClause);try{for(this.enterOuterAlt(e,1),this.state=100,this.jqlNotClause(),this.state=105,this._errHandler.sync(this),t=this._input.LA(1);t===r.AND;)this.state=101,this.match(r.AND),this.state=102,this.jqlNotClause(),this.state=107,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlNotClause",value:function(){var t,e=new xt(this._ctx,this.state);this.enterRule(e,8,r.RULE_jqlNotClause);try{switch(this.state=112,this._errHandler.sync(this),this._input.LA(1)){case r.BANG:case r.NOT:this.enterOuterAlt(e,1),this.state=108,(t=this._input.LA(1))!==r.BANG&&t!==r.NOT?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=109,this.jqlNotClause();break;case r.LPAREN:this.enterOuterAlt(e,2),this.state=110,this.jqlSubClause();break;case r.POSNUMBER:case r.NEGNUMBER:case r.CUSTOMFIELD:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(e,3),this.state=111,this.jqlTerminalClause();break;default:throw new st.NoViableAltException(this)}}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlSubClause",value:function(){var t=new bt(this._ctx,this.state);this.enterRule(t,10,r.RULE_jqlSubClause);try{this.enterOuterAlt(t,1),this.state=114,this.match(r.LPAREN),this.state=115,this.jqlOrClause(),this.state=116,this.match(r.RPAREN)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlTerminalClause",value:function(){var t=new Ot(this._ctx,this.state);this.enterRule(t,12,r.RULE_jqlTerminalClause);try{this.enterOuterAlt(t,1),this.state=118,this.jqlField(),this.state=119,this.jqlTerminalClauseRhs()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlTerminalClauseRhs",value:function(){var t,e=new St(this._ctx,this.state);this.enterRule(e,14,r.RULE_jqlTerminalClauseRhs);try{switch(this.state=176,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,14,this._ctx)){case 1:switch(e=new At(e),this.enterOuterAlt(e,1),this.state=121,this.jqlEqualsOperator(),this.state=125,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,5,this._ctx)){case 1:this.state=122,this.jqlEmpty();break;case 2:this.state=123,this.jqlValue();break;case 3:this.state=124,this.jqlFunction()}break;case 2:switch(e=new Et(e),this.enterOuterAlt(e,2),this.state=127,this.jqlLikeOperator(),this.state=131,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,6,this._ctx)){case 1:this.state=128,this.jqlEmpty();break;case 2:this.state=129,this.jqlValue();break;case 3:this.state=130,this.jqlFunction()}break;case 3:switch(e=new Tt(e),this.enterOuterAlt(e,3),this.state=133,this.jqlComparisonOperator(),this.state=136,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,7,this._ctx)){case 1:this.state=134,this.jqlValue();break;case 2:this.state=135,this.jqlFunction()}break;case 4:switch(e=new Nt(e),this.enterOuterAlt(e,4),this.state=138,this.jqlInOperator(),this.state=141,this._errHandler.sync(this),this._input.LA(1)){case r.LPAREN:this.state=139,this.jqlList();break;case r.POSNUMBER:case r.NEGNUMBER:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=140,this.jqlFunction();break;default:throw new st.NoViableAltException(this)}break;case 5:e=new _t(e),this.enterOuterAlt(e,5),this.state=143,this.jqlIsOperator(),this.state=144,this.jqlEmpty();break;case 6:switch(e=new wt(e),this.enterOuterAlt(e,6),this.state=146,this.jqlWasOperator(),this.state=150,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,9,this._ctx)){case 1:this.state=147,this.jqlEmpty();break;case 2:this.state=148,this.jqlValue();break;case 3:this.state=149,this.jqlFunction()}for(this.state=155,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=152,this.jqlWasPredicate(),this.state=157,this._errHandler.sync(this),t=this._input.LA(1);break;case 7:switch(e=new kt(e),this.enterOuterAlt(e,7),this.state=158,this.jqlWasInOperator(),this.state=161,this._errHandler.sync(this),this._input.LA(1)){case r.LPAREN:this.state=159,this.jqlList();break;case r.POSNUMBER:case r.NEGNUMBER:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=160,this.jqlFunction();break;default:throw new st.NoViableAltException(this)}for(this.state=166,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=163,this.jqlWasPredicate(),this.state=168,this._errHandler.sync(this),t=this._input.LA(1);break;case 8:for(e=new Ct(e),this.enterOuterAlt(e,8),this.state=169,this.jqlChangedOperator(),this.state=173,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.FROM|1<<r.TO|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=170,this.jqlChangedPredicate(),this.state=175,this._errHandler.sync(this),t=this._input.LA(1)}}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlEqualsOperator",value:function(){var t,e=new Rt(this._ctx,this.state);this.enterRule(e,16,r.RULE_jqlEqualsOperator);try{this.enterOuterAlt(e,1),this.state=178,(t=this._input.LA(1))!==r.EQUALS&&t!==r.NOT_EQUALS?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlLikeOperator",value:function(){var t,e=new Pt(this._ctx,this.state);this.enterRule(e,18,r.RULE_jqlLikeOperator);try{this.enterOuterAlt(e,1),this.state=180,(t=this._input.LA(1))!==r.LIKE&&t!==r.NOT_LIKE?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlComparisonOperator",value:function(){var t,e=new It(this._ctx,this.state);this.enterRule(e,20,r.RULE_jqlComparisonOperator);try{this.enterOuterAlt(e,1),this.state=182,-32&(t=this._input.LA(1))||!(1<<t&(1<<r.LT|1<<r.GT|1<<r.GTEQ|1<<r.LTEQ))?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlInOperator",value:function(){var t=new jt(this._ctx,this.state);this.enterRule(t,22,r.RULE_jqlInOperator);try{switch(this.state=187,this._errHandler.sync(this),this._input.LA(1)){case r.IN:this.enterOuterAlt(t,1),this.state=184,this.match(r.IN);break;case r.NOT:this.enterOuterAlt(t,2),this.state=185,this.match(r.NOT),this.state=186,this.match(r.IN);break;default:throw new st.NoViableAltException(this)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlIsOperator",value:function(){var t=new Lt(this._ctx,this.state);this.enterRule(t,24,r.RULE_jqlIsOperator);try{switch(this.state=192,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,16,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=189,this.match(r.IS);break;case 2:this.enterOuterAlt(t,2),this.state=190,this.match(r.IS),this.state=191,this.match(r.NOT)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasOperator",value:function(){var t=new Mt(this._ctx,this.state);this.enterRule(t,26,r.RULE_jqlWasOperator);try{switch(this.state=197,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,17,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=194,this.match(r.WAS);break;case 2:this.enterOuterAlt(t,2),this.state=195,this.match(r.WAS),this.state=196,this.match(r.NOT)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasInOperator",value:function(){var t=new Dt(this._ctx,this.state);this.enterRule(t,28,r.RULE_jqlWasInOperator);try{switch(this.state=204,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,18,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=199,this.match(r.WAS),this.state=200,this.match(r.IN);break;case 2:this.enterOuterAlt(t,2),this.state=201,this.match(r.WAS),this.state=202,this.match(r.NOT),this.state=203,this.match(r.IN)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlChangedOperator",value:function(){var t=new qt(this._ctx,this.state);this.enterRule(t,30,r.RULE_jqlChangedOperator);try{this.enterOuterAlt(t,1),this.state=206,this.match(r.CHANGED)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlField",value:function(){var t,e=new Ft(this._ctx,this.state);this.enterRule(e,32,r.RULE_jqlField);try{switch(this.state=219,this._errHandler.sync(this),this._input.LA(1)){case r.POSNUMBER:case r.NEGNUMBER:e=new Bt(e),this.enterOuterAlt(e,1),this.state=208,this.jqlNumber();break;case r.CUSTOMFIELD:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:switch(e=new Ut(e),this.enterOuterAlt(e,2),this.state=211,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=209,this.jqlString();break;case r.CUSTOMFIELD:this.state=210,this.jqlCustomField();break;default:throw new st.NoViableAltException(this)}for(this.state=216,this._errHandler.sync(this),t=this._input.LA(1);t===r.LBRACKET;)this.state=213,this.jqlFieldProperty(),this.state=218,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new st.NoViableAltException(this)}}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlFieldProperty",value:function(){var t,e=new zt(this._ctx,this.state);this.enterRule(e,34,r.RULE_jqlFieldProperty);try{for(this.enterOuterAlt(e,1),this.state=221,this.match(r.LBRACKET),this.state=222,this.jqlArgument(),this.state=223,this.match(r.RBRACKET),this.state=228,this._errHandler.sync(this),t=this._input.LA(1);!(t-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33);)this.state=225,this.jqlPropertyArgument(),this.state=230,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlCustomField",value:function(){var t=new Vt(this._ctx,this.state);this.enterRule(t,36,r.RULE_jqlCustomField);try{this.enterOuterAlt(t,1),this.state=231,this.match(r.CUSTOMFIELD),this.state=232,this.match(r.LBRACKET),this.state=233,this.match(r.POSNUMBER),this.state=234,this.match(r.RBRACKET)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlString",value:function(){var t,e=new Jt(this._ctx,this.state);this.enterRule(e,38,r.RULE_jqlString);try{this.enterOuterAlt(e,1),this.state=236,(t=this._input.LA(1))-37&-32||!(1<<t-37&(1<<r.STRING-37|1<<r.QUOTE_STRING-37|1<<r.SQUOTE_STRING-37))?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlNumber",value:function(){var t,e=new Ht(this._ctx,this.state);this.enterRule(e,40,r.RULE_jqlNumber);try{this.enterOuterAlt(e,1),this.state=238,e._jqlNum=this._input.LT(1),(t=this._input.LA(1))!==r.POSNUMBER&&t!==r.NEGNUMBER?e._jqlNum=this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlOperand",value:function(){var t=new Wt(this._ctx,this.state);this.enterRule(t,42,r.RULE_jqlOperand);try{switch(this.state=244,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,23,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=240,this.jqlEmpty();break;case 2:this.enterOuterAlt(t,2),this.state=241,this.jqlValue();break;case 3:this.enterOuterAlt(t,3),this.state=242,this.jqlFunction();break;case 4:this.enterOuterAlt(t,4),this.state=243,this.jqlList()}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlEmpty",value:function(){var t=new Gt(this._ctx,this.state);this.enterRule(t,44,r.RULE_jqlEmpty);try{this.enterOuterAlt(t,1),this.state=246,this.match(r.EMPTY)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlValue",value:function(){var t=new Yt(this._ctx,this.state);this.enterRule(t,46,r.RULE_jqlValue);try{switch(this.state=250,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=248,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=249,this.jqlNumber();break;default:throw new st.NoViableAltException(this)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlFunction",value:function(){var t,e=new Kt(this._ctx,this.state);this.enterRule(e,48,r.RULE_jqlFunction);try{this.enterOuterAlt(e,1),this.state=252,this.jqlFunctionName(),this.state=253,this.match(r.LPAREN),this.state=255,this._errHandler.sync(this),!((t=this._input.LA(1))-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33)&&(this.state=254,this.jqlArgumentList()),this.state=257,this.match(r.RPAREN)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlFunctionName",value:function(){var t=new $t(this._ctx,this.state);this.enterRule(t,50,r.RULE_jqlFunctionName);try{switch(this.state=261,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=259,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=260,this.jqlNumber();break;default:throw new st.NoViableAltException(this)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlArgumentList",value:function(){var t,e=new Qt(this._ctx,this.state);this.enterRule(e,52,r.RULE_jqlArgumentList);try{for(this.enterOuterAlt(e,1),this.state=263,this.jqlArgument(),this.state=268,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=264,this.match(r.COMMA),this.state=265,this.jqlArgument(),this.state=270,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlList",value:function(){var t,e=new Zt(this._ctx,this.state);this.enterRule(e,54,r.RULE_jqlList);try{for(this.enterOuterAlt(e,1),this.state=271,this.jqlListStart(),this.state=272,this.jqlOperand(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=273,this.match(r.COMMA),this.state=274,this.jqlOperand(),this.state=279,this._errHandler.sync(this),t=this._input.LA(1);this.state=280,this.jqlListEnd()}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlListStart",value:function(){var t=new Xt(this._ctx,this.state);this.enterRule(t,56,r.RULE_jqlListStart);try{this.enterOuterAlt(t,1),this.state=282,this.match(r.LPAREN)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlListEnd",value:function(){var t=new te(this._ctx,this.state);this.enterRule(t,58,r.RULE_jqlListEnd);try{this.enterOuterAlt(t,1),this.state=284,this.match(r.RPAREN)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlPropertyArgument",value:function(){var t=new ee(this._ctx,this.state);this.enterRule(t,60,r.RULE_jqlPropertyArgument);try{this.enterOuterAlt(t,1),this.state=286,this.jqlArgument()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlArgument",value:function(){var t=new re(this._ctx,this.state);this.enterRule(t,62,r.RULE_jqlArgument);try{switch(this.state=290,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=288,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=289,this.jqlNumber();break;default:throw new st.NoViableAltException(this)}}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasPredicate",value:function(){var t=new ne(this._ctx,this.state);this.enterRule(t,64,r.RULE_jqlWasPredicate);try{switch(this.enterOuterAlt(t,1),this.state=295,this._errHandler.sync(this),this._input.LA(1)){case r.BEFORE:case r.AFTER:case r.ON:this.state=292,this.jqlDatePredicateOperator();break;case r.DURING:this.state=293,this.jqlDateRangePredicateOperator();break;case r.BY:this.state=294,this.jqlUserPredicateOperator();break;default:throw new st.NoViableAltException(this)}this.state=297,this.jqlPredicateOperand()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlChangedPredicate",value:function(){var t=new ie(this._ctx,this.state);this.enterRule(t,66,r.RULE_jqlChangedPredicate);try{switch(this.enterOuterAlt(t,1),this.state=303,this._errHandler.sync(this),this._input.LA(1)){case r.BEFORE:case r.AFTER:case r.ON:this.state=299,this.jqlDatePredicateOperator();break;case r.DURING:this.state=300,this.jqlDateRangePredicateOperator();break;case r.BY:this.state=301,this.jqlUserPredicateOperator();break;case r.FROM:case r.TO:this.state=302,this.jqlValuePredicateOperator();break;default:throw new st.NoViableAltException(this)}this.state=305,this.jqlPredicateOperand()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlDatePredicateOperator",value:function(){var t,e=new oe(this._ctx,this.state);this.enterRule(e,68,r.RULE_jqlDatePredicateOperator);try{this.enterOuterAlt(e,1),this.state=307,-32&(t=this._input.LA(1))||!(1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON))?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlDateRangePredicateOperator",value:function(){var t=new se(this._ctx,this.state);this.enterRule(t,70,r.RULE_jqlDateRangePredicateOperator);try{this.enterOuterAlt(t,1),this.state=309,this.match(r.DURING)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlUserPredicateOperator",value:function(){var t=new ae(this._ctx,this.state);this.enterRule(t,72,r.RULE_jqlUserPredicateOperator);try{this.enterOuterAlt(t,1),this.state=311,this.match(r.BY)}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlValuePredicateOperator",value:function(){var t,e=new le(this._ctx,this.state);this.enterRule(e,74,r.RULE_jqlValuePredicateOperator);try{this.enterOuterAlt(e,1),this.state=313,(t=this._input.LA(1))!==r.FROM&&t!==r.TO?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlPredicateOperand",value:function(){var t=new ce(this._ctx,this.state);this.enterRule(t,76,r.RULE_jqlPredicateOperand);try{this.enterOuterAlt(t,1),this.state=315,this.jqlOperand()}catch(e){if(!(e instanceof ut.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlOrderBy",value:function(){var t,e=new ue(this._ctx,this.state);this.enterRule(e,78,r.RULE_jqlOrderBy);try{for(this.enterOuterAlt(e,1),this.state=317,this.match(r.ORDER),this.state=318,this.match(r.BY),this.state=319,this.jqlSearchSort(),this.state=324,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=320,this.match(r.COMMA),this.state=321,this.jqlSearchSort(),this.state=326,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlSearchSort",value:function(){var t,e=new he(this._ctx,this.state);this.enterRule(e,80,r.RULE_jqlSearchSort);try{this.enterOuterAlt(e,1),this.state=327,this.jqlField(),this.state=329,this._errHandler.sync(this),(t=this._input.LA(1))!==r.ASC&&t!==r.DESC||(this.state=328,(t=this._input.LA(1))!==r.ASC&&t!==r.DESC?this._errHandler.recoverInline(this):(this._input.LA(1)===ht.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()))}catch(t){if(!(t instanceof ut.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}}],[{key:"_ATN",get:function(){return r.__ATN||(r.__ATN=(new ot.ATNDeserializer).deserialize(ft.toCharArray(r._serializedATN))),r.__ATN}}]),r}(at.Parser);(0,h.A)(dt,"LPAREN",1),(0,h.A)(dt,"RPAREN",2),(0,h.A)(dt,"COMMA",3),(0,h.A)(dt,"LBRACKET",4),(0,h.A)(dt,"RBRACKET",5),(0,h.A)(dt,"BANG",6),(0,h.A)(dt,"LT",7),(0,h.A)(dt,"GT",8),(0,h.A)(dt,"GTEQ",9),(0,h.A)(dt,"LTEQ",10),(0,h.A)(dt,"EQUALS",11),(0,h.A)(dt,"NOT_EQUALS",12),(0,h.A)(dt,"LIKE",13),(0,h.A)(dt,"NOT_LIKE",14),(0,h.A)(dt,"IN",15),(0,h.A)(dt,"IS",16),(0,h.A)(dt,"AND",17),(0,h.A)(dt,"OR",18),(0,h.A)(dt,"NOT",19),(0,h.A)(dt,"EMPTY",20),(0,h.A)(dt,"WAS",21),(0,h.A)(dt,"CHANGED",22),(0,h.A)(dt,"BEFORE",23),(0,h.A)(dt,"AFTER",24),(0,h.A)(dt,"FROM",25),(0,h.A)(dt,"TO",26),(0,h.A)(dt,"ON",27),(0,h.A)(dt,"DURING",28),(0,h.A)(dt,"ORDER",29),(0,h.A)(dt,"BY",30),(0,h.A)(dt,"ASC",31),(0,h.A)(dt,"DESC",32),(0,h.A)(dt,"POSNUMBER",33),(0,h.A)(dt,"NEGNUMBER",34),(0,h.A)(dt,"CUSTOMFIELD",35),(0,h.A)(dt,"RESERVED_WORD",36),(0,h.A)(dt,"STRING",37),(0,h.A)(dt,"MATCHWS",38),(0,h.A)(dt,"ERROR_RESERVED",39),(0,h.A)(dt,"ERRORCHAR",40),(0,h.A)(dt,"QUOTE_STRING",41),(0,h.A)(dt,"UNCLOSED_QUOTE_STRING",42),(0,h.A)(dt,"INVALID_QUOTE_STRING",43),(0,h.A)(dt,"SQUOTE_STRING",44),(0,h.A)(dt,"UNCLOSED_SQUOTE_STRING",45),(0,h.A)(dt,"INVALID_SQUOTE_STRING",46),(0,h.A)(dt,"RULE_jqlQuery",0),(0,h.A)(dt,"RULE_jqlWhere",1),(0,h.A)(dt,"RULE_jqlOrClause",2),(0,h.A)(dt,"RULE_jqlAndClause",3),(0,h.A)(dt,"RULE_jqlNotClause",4),(0,h.A)(dt,"RULE_jqlSubClause",5),(0,h.A)(dt,"RULE_jqlTerminalClause",6),(0,h.A)(dt,"RULE_jqlTerminalClauseRhs",7),(0,h.A)(dt,"RULE_jqlEqualsOperator",8),(0,h.A)(dt,"RULE_jqlLikeOperator",9),(0,h.A)(dt,"RULE_jqlComparisonOperator",10),(0,h.A)(dt,"RULE_jqlInOperator",11),(0,h.A)(dt,"RULE_jqlIsOperator",12),(0,h.A)(dt,"RULE_jqlWasOperator",13),(0,h.A)(dt,"RULE_jqlWasInOperator",14),(0,h.A)(dt,"RULE_jqlChangedOperator",15),(0,h.A)(dt,"RULE_jqlField",16),(0,h.A)(dt,"RULE_jqlFieldProperty",17),(0,h.A)(dt,"RULE_jqlCustomField",18),(0,h.A)(dt,"RULE_jqlString",19),(0,h.A)(dt,"RULE_jqlNumber",20),(0,h.A)(dt,"RULE_jqlOperand",21),(0,h.A)(dt,"RULE_jqlEmpty",22),(0,h.A)(dt,"RULE_jqlValue",23),(0,h.A)(dt,"RULE_jqlFunction",24),(0,h.A)(dt,"RULE_jqlFunctionName",25),(0,h.A)(dt,"RULE_jqlArgumentList",26),(0,h.A)(dt,"RULE_jqlList",27),(0,h.A)(dt,"RULE_jqlListStart",28),(0,h.A)(dt,"RULE_jqlListEnd",29),(0,h.A)(dt,"RULE_jqlPropertyArgument",30),(0,h.A)(dt,"RULE_jqlArgument",31),(0,h.A)(dt,"RULE_jqlWasPredicate",32),(0,h.A)(dt,"RULE_jqlChangedPredicate",33),(0,h.A)(dt,"RULE_jqlDatePredicateOperator",34),(0,h.A)(dt,"RULE_jqlDateRangePredicateOperator",35),(0,h.A)(dt,"RULE_jqlUserPredicateOperator",36),(0,h.A)(dt,"RULE_jqlValuePredicateOperator",37),(0,h.A)(dt,"RULE_jqlPredicateOperand",38),(0,h.A)(dt,"RULE_jqlOrderBy",39),(0,h.A)(dt,"RULE_jqlSearchSort",40),(0,h.A)(dt,"ruleNames",["jqlQuery","jqlWhere","jqlOrClause","jqlAndClause","jqlNotClause","jqlSubClause","jqlTerminalClause","jqlTerminalClauseRhs","jqlEqualsOperator","jqlLikeOperator","jqlComparisonOperator","jqlInOperator","jqlIsOperator","jqlWasOperator","jqlWasInOperator","jqlChangedOperator","jqlField","jqlFieldProperty","jqlCustomField","jqlString","jqlNumber","jqlOperand","jqlEmpty","jqlValue","jqlFunction","jqlFunctionName","jqlArgumentList","jqlList","jqlListStart","jqlListEnd","jqlPropertyArgument","jqlArgument","jqlWasPredicate","jqlChangedPredicate","jqlDatePredicateOperator","jqlDateRangePredicateOperator","jqlUserPredicateOperator","jqlValuePredicateOperator","jqlPredicateOperand","jqlOrderBy","jqlSearchSort"]),(0,h.A)(dt,"_LITERAL_NAMES",[void 0,"'('","')'","','","'['","']'","'!'","'<'","'>'","'>='","'<='","'='","'!='","'~'","'!~'"]),(0,h.A)(dt,"_SYMBOLIC_NAMES",[void 0,"LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING"]),(0,h.A)(dt,"VOCABULARY",new pt.VocabularyImpl(dt._LITERAL_NAMES,dt._SYMBOLIC_NAMES,[])),(0,h.A)(dt,"_serializedATN",'줝쪺֍꾺体؇쉁0Ŏ\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t !\t!"\t"#\t#$\t$%\t%&\t&\'\t\'(\t()\t)*\t*V\nY\nb\n\fe\vj\n\fm\vs\n\b\b\b\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\n\t\f\t\t\v\t\t\t\t\t¤\n\t\t\t§\n\t\f\t\tª\v\t\t\t\t®\n\t\f\t\t±\v\t\t³\n\t\n\n\v\v\f\f\r\r\r\r¾\n\rÃ\nÈ\nÏ\nÖ\nÙ\n\fÜ\vÞ\nå\n\fè\v÷\ný\nĂ\nĈ\nč\n\fĐ\vĖ\n\fę\v  !!!ĥ\n!""""Ī\n"""#####Ĳ\n###$$%%&&\'\'(())))))Ņ\n)\f))ň\v)***Ō\n**+\b\n\f "$&(*,.02468:<>@BDFHJLNPR\v\b\b\r\t\f\'\'++..#$!"ŕU\\^\bf\nr\ftx²´¶¸½ÂÇÎ Ð"Ý$ß&é(î*ð,ö.ø0ü2þ4ć6ĉ8đ:Ĝ<Ğ>Ġ@ĤBĩDıFĵHķJĹLĻNĽPĿRŉTVUTUVVXWYP)XWXYYZZ[[\\]]^c\b_``b\ba_becacddecfk\nghhj\nigjmkikll\tmkno\tos\nps\fqs\brnrprqs\vtuuvvww\rxy"yz\tz{\n|.}0~2|}~³\v.02³\f02³\r82³.³.02B"³ £¡¤8¢¤2£¡£¢¤¨¥§B"¦¥§ª¨¦¨©©³ª¨«¯ ¬®D#­¬®±¯­¯°°³±¯²{²²²²²² ²«³´µ\tµ¶·\t·¸¹\t¹º¾»¼¼¾½º½»¾¿ÃÀÁÁÃÂ¿ÂÀÃÄÈÅÆÆÈÇÄÇÅÈÉÊÊÏËÌÌÍÍÏÎÉÎËÏÐÑÑ!ÒÞ*ÓÖ(ÔÖ&ÕÓÕÔÖÚ×Ù$Ø×ÙÜÚØÚÛÛÞÜÚÝÒÝÕÞ#ßààá@!áââæãå> äãåèæäæçç%èæéê%êëëì#ìíí\'îï\tï)ðñ\tñ+ò÷.ó÷0ô÷2õ÷8öòöóöôöõ÷-øùù/úý(ûý*üúüûý1þÿ4ÿāĀĂ6āĀāĂĂăăĄĄ3ąĈ(ĆĈ*ćąćĆĈ5ĉĎ@!Ċċċč@!ČĊčĐĎČĎďď7ĐĎđĒ:Ēė,ēĔĔĖ,ĕēĖęėĕėĘĘĚęėĚě<ě9Ĝĝĝ;Ğğğ=Ġġ@!ġ?Ģĥ(ģĥ*ĤĢĤģĥAĦĪF$ħĪH%ĨĪJ&ĩĦĩħĩĨĪīīĬN(ĬCĭĲF$ĮĲH%įĲJ&İĲL\'ıĭıĮıįıİĲĳĳĴN(ĴEĵĶ\t\bĶGķĸĸIĹĺ ĺKĻļ\t\tļMĽľ,ľOĿŀŀŁ ŁņR*łŃŃŅR*ńłŅňņńņŇŇQňņŉŋ"ŊŌ\t\nŋŊŋŌŌS$UXckr£¨¯²½ÂÇÎÕÚÝæöüāćĎėĤĩıņŋ'),(0,h.A)(dt,"__ATN",void 0);var yt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"EOF",value:function(){return this.getToken(dt.EOF,0)}},{key:"jqlWhere",value:function(){return this.tryGetRuleContext(0,gt)}},{key:"jqlOrderBy",value:function(){return this.tryGetRuleContext(0,ue)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlQuery}},{key:"enterRule",value:function(t){t.enterJqlQuery&&t.enterJqlQuery(this)}},{key:"exitRule",value:function(t){t.exitJqlQuery&&t.exitJqlQuery(this)}},{key:"accept",value:function(t){return t.visitJqlQuery?t.visitJqlQuery(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),gt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlOrClause",value:function(){return this.getRuleContext(0,vt)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlWhere}},{key:"enterRule",value:function(t){t.enterJqlWhere&&t.enterJqlWhere(this)}},{key:"exitRule",value:function(t){t.exitJqlWhere&&t.exitJqlWhere(this)}},{key:"accept",value:function(t){return t.visitJqlWhere?t.visitJqlWhere(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),vt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlAndClause",value:function(t){return void 0===t?this.getRuleContexts(mt):this.getRuleContext(t,mt)}},{key:"OR",value:function(t){return void 0===t?this.getTokens(dt.OR):this.getToken(dt.OR,t)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlOrClause}},{key:"enterRule",value:function(t){t.enterJqlOrClause&&t.enterJqlOrClause(this)}},{key:"exitRule",value:function(t){t.exitJqlOrClause&&t.exitJqlOrClause(this)}},{key:"accept",value:function(t){return t.visitJqlOrClause?t.visitJqlOrClause(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),mt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlNotClause",value:function(t){return void 0===t?this.getRuleContexts(xt):this.getRuleContext(t,xt)}},{key:"AND",value:function(t){return void 0===t?this.getTokens(dt.AND):this.getToken(dt.AND,t)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlAndClause}},{key:"enterRule",value:function(t){t.enterJqlAndClause&&t.enterJqlAndClause(this)}},{key:"exitRule",value:function(t){t.exitJqlAndClause&&t.exitJqlAndClause(this)}},{key:"accept",value:function(t){return t.visitJqlAndClause?t.visitJqlAndClause(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),xt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlNotClause",value:function(){return this.tryGetRuleContext(0,r)}},{key:"NOT",value:function(){return this.tryGetToken(dt.NOT,0)}},{key:"BANG",value:function(){return this.tryGetToken(dt.BANG,0)}},{key:"jqlSubClause",value:function(){return this.tryGetRuleContext(0,bt)}},{key:"jqlTerminalClause",value:function(){return this.tryGetRuleContext(0,Ot)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlNotClause}},{key:"enterRule",value:function(t){t.enterJqlNotClause&&t.enterJqlNotClause(this)}},{key:"exitRule",value:function(t){t.exitJqlNotClause&&t.exitJqlNotClause(this)}},{key:"accept",value:function(t){return t.visitJqlNotClause?t.visitJqlNotClause(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),bt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"LPAREN",value:function(){return this.getToken(dt.LPAREN,0)}},{key:"jqlOrClause",value:function(){return this.getRuleContext(0,vt)}},{key:"RPAREN",value:function(){return this.getToken(dt.RPAREN,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlSubClause}},{key:"enterRule",value:function(t){t.enterJqlSubClause&&t.enterJqlSubClause(this)}},{key:"exitRule",value:function(t){t.exitJqlSubClause&&t.exitJqlSubClause(this)}},{key:"accept",value:function(t){return t.visitJqlSubClause?t.visitJqlSubClause(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Ot=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlField",value:function(){return this.getRuleContext(0,Ft)}},{key:"jqlTerminalClauseRhs",value:function(){return this.getRuleContext(0,St)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlTerminalClause}},{key:"enterRule",value:function(t){t.enterJqlTerminalClause&&t.enterJqlTerminalClause(this)}},{key:"exitRule",value:function(t){t.exitJqlTerminalClause&&t.exitJqlTerminalClause(this)}},{key:"accept",value:function(t){return t.visitJqlTerminalClause?t.visitJqlTerminalClause(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),St=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"ruleIndex",get:function(){return dt.RULE_jqlTerminalClauseRhs}},{key:"copyFrom",value:function(t){(0,et.A)((0,tt.A)(r.prototype),"copyFrom",this).call(this,t)}}]),r}(lt.ParserRuleContext),At=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlEqualsOperator",value:function(){return this.getRuleContext(0,Rt)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Gt)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,Yt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"enterRule",value:function(t){t.enterJqlEqualsClause&&t.enterJqlEqualsClause(this)}},{key:"exitRule",value:function(t){t.exitJqlEqualsClause&&t.exitJqlEqualsClause(this)}},{key:"accept",value:function(t){return t.visitJqlEqualsClause?t.visitJqlEqualsClause(this):t.visitChildren(this)}}]),r}(St),Et=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlLikeOperator",value:function(){return this.getRuleContext(0,Pt)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Gt)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,Yt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"enterRule",value:function(t){t.enterJqlLikeClause&&t.enterJqlLikeClause(this)}},{key:"exitRule",value:function(t){t.exitJqlLikeClause&&t.exitJqlLikeClause(this)}},{key:"accept",value:function(t){return t.visitJqlLikeClause?t.visitJqlLikeClause(this):t.visitChildren(this)}}]),r}(St),Tt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlComparisonOperator",value:function(){return this.getRuleContext(0,It)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,Yt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"enterRule",value:function(t){t.enterJqlComparisonClause&&t.enterJqlComparisonClause(this)}},{key:"exitRule",value:function(t){t.exitJqlComparisonClause&&t.exitJqlComparisonClause(this)}},{key:"accept",value:function(t){return t.visitJqlComparisonClause?t.visitJqlComparisonClause(this):t.visitChildren(this)}}]),r}(St),Nt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlInOperator",value:function(){return this.getRuleContext(0,jt)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Zt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"enterRule",value:function(t){t.enterJqlInClause&&t.enterJqlInClause(this)}},{key:"exitRule",value:function(t){t.exitJqlInClause&&t.exitJqlInClause(this)}},{key:"accept",value:function(t){return t.visitJqlInClause?t.visitJqlInClause(this):t.visitChildren(this)}}]),r}(St),_t=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlIsOperator",value:function(){return this.getRuleContext(0,Lt)}},{key:"jqlEmpty",value:function(){return this.getRuleContext(0,Gt)}},{key:"enterRule",value:function(t){t.enterJqlIsClause&&t.enterJqlIsClause(this)}},{key:"exitRule",value:function(t){t.exitJqlIsClause&&t.exitJqlIsClause(this)}},{key:"accept",value:function(t){return t.visitJqlIsClause?t.visitJqlIsClause(this):t.visitChildren(this)}}]),r}(St),wt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlWasOperator",value:function(){return this.getRuleContext(0,Mt)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Gt)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,Yt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"jqlWasPredicate",value:function(t){return void 0===t?this.getRuleContexts(ne):this.getRuleContext(t,ne)}},{key:"enterRule",value:function(t){t.enterJqlWasClause&&t.enterJqlWasClause(this)}},{key:"exitRule",value:function(t){t.exitJqlWasClause&&t.exitJqlWasClause(this)}},{key:"accept",value:function(t){return t.visitJqlWasClause?t.visitJqlWasClause(this):t.visitChildren(this)}}]),r}(St),kt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlWasInOperator",value:function(){return this.getRuleContext(0,Dt)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Zt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"jqlWasPredicate",value:function(t){return void 0===t?this.getRuleContexts(ne):this.getRuleContext(t,ne)}},{key:"enterRule",value:function(t){t.enterJqlWasInClause&&t.enterJqlWasInClause(this)}},{key:"exitRule",value:function(t){t.exitJqlWasInClause&&t.exitJqlWasInClause(this)}},{key:"accept",value:function(t){return t.visitJqlWasInClause?t.visitJqlWasInClause(this):t.visitChildren(this)}}]),r}(St),Ct=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlChangedOperator",value:function(){return this.getRuleContext(0,qt)}},{key:"jqlChangedPredicate",value:function(t){return void 0===t?this.getRuleContexts(ie):this.getRuleContext(t,ie)}},{key:"enterRule",value:function(t){t.enterJqlChangedClause&&t.enterJqlChangedClause(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedClause&&t.exitJqlChangedClause(this)}},{key:"accept",value:function(t){return t.visitJqlChangedClause?t.visitJqlChangedClause(this):t.visitChildren(this)}}]),r}(St),Rt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"EQUALS",value:function(){return this.tryGetToken(dt.EQUALS,0)}},{key:"NOT_EQUALS",value:function(){return this.tryGetToken(dt.NOT_EQUALS,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlEqualsOperator}},{key:"enterRule",value:function(t){t.enterJqlEqualsOperator&&t.enterJqlEqualsOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlEqualsOperator&&t.exitJqlEqualsOperator(this)}},{key:"accept",value:function(t){return t.visitJqlEqualsOperator?t.visitJqlEqualsOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Pt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"LIKE",value:function(){return this.tryGetToken(dt.LIKE,0)}},{key:"NOT_LIKE",value:function(){return this.tryGetToken(dt.NOT_LIKE,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlLikeOperator}},{key:"enterRule",value:function(t){t.enterJqlLikeOperator&&t.enterJqlLikeOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlLikeOperator&&t.exitJqlLikeOperator(this)}},{key:"accept",value:function(t){return t.visitJqlLikeOperator?t.visitJqlLikeOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),It=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"LT",value:function(){return this.tryGetToken(dt.LT,0)}},{key:"GT",value:function(){return this.tryGetToken(dt.GT,0)}},{key:"LTEQ",value:function(){return this.tryGetToken(dt.LTEQ,0)}},{key:"GTEQ",value:function(){return this.tryGetToken(dt.GTEQ,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlComparisonOperator}},{key:"enterRule",value:function(t){t.enterJqlComparisonOperator&&t.enterJqlComparisonOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlComparisonOperator&&t.exitJqlComparisonOperator(this)}},{key:"accept",value:function(t){return t.visitJqlComparisonOperator?t.visitJqlComparisonOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),jt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"IN",value:function(){return this.getToken(dt.IN,0)}},{key:"NOT",value:function(){return this.tryGetToken(dt.NOT,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlInOperator}},{key:"enterRule",value:function(t){t.enterJqlInOperator&&t.enterJqlInOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlInOperator&&t.exitJqlInOperator(this)}},{key:"accept",value:function(t){return t.visitJqlInOperator?t.visitJqlInOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Lt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"IS",value:function(){return this.getToken(dt.IS,0)}},{key:"NOT",value:function(){return this.tryGetToken(dt.NOT,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlIsOperator}},{key:"enterRule",value:function(t){t.enterJqlIsOperator&&t.enterJqlIsOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlIsOperator&&t.exitJqlIsOperator(this)}},{key:"accept",value:function(t){return t.visitJqlIsOperator?t.visitJqlIsOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Mt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"WAS",value:function(){return this.getToken(dt.WAS,0)}},{key:"NOT",value:function(){return this.tryGetToken(dt.NOT,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlWasOperator}},{key:"enterRule",value:function(t){t.enterJqlWasOperator&&t.enterJqlWasOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlWasOperator&&t.exitJqlWasOperator(this)}},{key:"accept",value:function(t){return t.visitJqlWasOperator?t.visitJqlWasOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Dt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"WAS",value:function(){return this.getToken(dt.WAS,0)}},{key:"IN",value:function(){return this.getToken(dt.IN,0)}},{key:"NOT",value:function(){return this.tryGetToken(dt.NOT,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlWasInOperator}},{key:"enterRule",value:function(t){t.enterJqlWasInOperator&&t.enterJqlWasInOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlWasInOperator&&t.exitJqlWasInOperator(this)}},{key:"accept",value:function(t){return t.visitJqlWasInOperator?t.visitJqlWasInOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),qt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"CHANGED",value:function(){return this.getToken(dt.CHANGED,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlChangedOperator}},{key:"enterRule",value:function(t){t.enterJqlChangedOperator&&t.enterJqlChangedOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedOperator&&t.exitJqlChangedOperator(this)}},{key:"accept",value:function(t){return t.visitJqlChangedOperator?t.visitJqlChangedOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Ft=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"ruleIndex",get:function(){return dt.RULE_jqlField}},{key:"copyFrom",value:function(t){(0,et.A)((0,tt.A)(r.prototype),"copyFrom",this).call(this,t)}}]),r}(lt.ParserRuleContext),Bt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlNumber",value:function(){return this.getRuleContext(0,Ht)}},{key:"enterRule",value:function(t){t.enterJqlNumberField&&t.enterJqlNumberField(this)}},{key:"exitRule",value:function(t){t.exitJqlNumberField&&t.exitJqlNumberField(this)}},{key:"accept",value:function(t){return t.visitJqlNumberField?t.visitJqlNumberField(this):t.visitChildren(this)}}]),r}(Ft),Ut=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,C.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,Jt)}},{key:"jqlCustomField",value:function(){return this.tryGetRuleContext(0,Vt)}},{key:"jqlFieldProperty",value:function(t){return void 0===t?this.getRuleContexts(zt):this.getRuleContext(t,zt)}},{key:"enterRule",value:function(t){t.enterJqlNonNumberField&&t.enterJqlNonNumberField(this)}},{key:"exitRule",value:function(t){t.exitJqlNonNumberField&&t.exitJqlNonNumberField(this)}},{key:"accept",value:function(t){return t.visitJqlNonNumberField?t.visitJqlNonNumberField(this):t.visitChildren(this)}}]),r}(Ft),zt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"LBRACKET",value:function(){return this.tryGetToken(dt.LBRACKET,0)}},{key:"RBRACKET",value:function(){return this.tryGetToken(dt.RBRACKET,0)}},{key:"jqlPropertyArgument",value:function(t){return void 0===t?this.getRuleContexts(ee):this.getRuleContext(t,ee)}},{key:"jqlArgument",value:function(){return this.tryGetRuleContext(0,re)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlFieldProperty}},{key:"enterRule",value:function(t){t.enterJqlFieldProperty&&t.enterJqlFieldProperty(this)}},{key:"exitRule",value:function(t){t.exitJqlFieldProperty&&t.exitJqlFieldProperty(this)}},{key:"accept",value:function(t){return t.visitJqlFieldProperty?t.visitJqlFieldProperty(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Vt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"CUSTOMFIELD",value:function(){return this.getToken(dt.CUSTOMFIELD,0)}},{key:"LBRACKET",value:function(){return this.getToken(dt.LBRACKET,0)}},{key:"POSNUMBER",value:function(){return this.getToken(dt.POSNUMBER,0)}},{key:"RBRACKET",value:function(){return this.getToken(dt.RBRACKET,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlCustomField}},{key:"enterRule",value:function(t){t.enterJqlCustomField&&t.enterJqlCustomField(this)}},{key:"exitRule",value:function(t){t.exitJqlCustomField&&t.exitJqlCustomField(this)}},{key:"accept",value:function(t){return t.visitJqlCustomField?t.visitJqlCustomField(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Jt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"STRING",value:function(){return this.tryGetToken(dt.STRING,0)}},{key:"QUOTE_STRING",value:function(){return this.tryGetToken(dt.QUOTE_STRING,0)}},{key:"SQUOTE_STRING",value:function(){return this.tryGetToken(dt.SQUOTE_STRING,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlString}},{key:"enterRule",value:function(t){t.enterJqlString&&t.enterJqlString(this)}},{key:"exitRule",value:function(t){t.exitJqlString&&t.exitJqlString(this)}},{key:"accept",value:function(t){return t.visitJqlString?t.visitJqlString(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Ht=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){var i;return(0,R.A)(this,r),i=e.call(this,t,n),(0,h.A)((0,rt.A)(i),"_jqlNum",void 0),i}return(0,C.A)(r,[{key:"POSNUMBER",value:function(){return this.tryGetToken(dt.POSNUMBER,0)}},{key:"NEGNUMBER",value:function(){return this.tryGetToken(dt.NEGNUMBER,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlNumber}},{key:"enterRule",value:function(t){t.enterJqlNumber&&t.enterJqlNumber(this)}},{key:"exitRule",value:function(t){t.exitJqlNumber&&t.exitJqlNumber(this)}},{key:"accept",value:function(t){return t.visitJqlNumber?t.visitJqlNumber(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Wt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Gt)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,Yt)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Kt)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Zt)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlOperand}},{key:"enterRule",value:function(t){t.enterJqlOperand&&t.enterJqlOperand(this)}},{key:"exitRule",value:function(t){t.exitJqlOperand&&t.exitJqlOperand(this)}},{key:"accept",value:function(t){return t.visitJqlOperand?t.visitJqlOperand(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Gt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"EMPTY",value:function(){return this.getToken(dt.EMPTY,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlEmpty}},{key:"enterRule",value:function(t){t.enterJqlEmpty&&t.enterJqlEmpty(this)}},{key:"exitRule",value:function(t){t.exitJqlEmpty&&t.exitJqlEmpty(this)}},{key:"accept",value:function(t){return t.visitJqlEmpty?t.visitJqlEmpty(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Yt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,Jt)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Ht)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlValue}},{key:"enterRule",value:function(t){t.enterJqlValue&&t.enterJqlValue(this)}},{key:"exitRule",value:function(t){t.exitJqlValue&&t.exitJqlValue(this)}},{key:"accept",value:function(t){return t.visitJqlValue?t.visitJqlValue(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Kt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlFunctionName",value:function(){return this.getRuleContext(0,$t)}},{key:"LPAREN",value:function(){return this.getToken(dt.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(dt.RPAREN,0)}},{key:"jqlArgumentList",value:function(){return this.tryGetRuleContext(0,Qt)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlFunction}},{key:"enterRule",value:function(t){t.enterJqlFunction&&t.enterJqlFunction(this)}},{key:"exitRule",value:function(t){t.exitJqlFunction&&t.exitJqlFunction(this)}},{key:"accept",value:function(t){return t.visitJqlFunction?t.visitJqlFunction(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),$t=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,Jt)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Ht)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlFunctionName}},{key:"enterRule",value:function(t){t.enterJqlFunctionName&&t.enterJqlFunctionName(this)}},{key:"exitRule",value:function(t){t.exitJqlFunctionName&&t.exitJqlFunctionName(this)}},{key:"accept",value:function(t){return t.visitJqlFunctionName?t.visitJqlFunctionName(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Qt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlArgument",value:function(t){return void 0===t?this.getRuleContexts(re):this.getRuleContext(t,re)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(dt.COMMA):this.getToken(dt.COMMA,t)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlArgumentList}},{key:"enterRule",value:function(t){t.enterJqlArgumentList&&t.enterJqlArgumentList(this)}},{key:"exitRule",value:function(t){t.exitJqlArgumentList&&t.exitJqlArgumentList(this)}},{key:"accept",value:function(t){return t.visitJqlArgumentList?t.visitJqlArgumentList(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Zt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlListStart",value:function(){return this.getRuleContext(0,Xt)}},{key:"jqlOperand",value:function(t){return void 0===t?this.getRuleContexts(Wt):this.getRuleContext(t,Wt)}},{key:"jqlListEnd",value:function(){return this.getRuleContext(0,te)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(dt.COMMA):this.getToken(dt.COMMA,t)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlList}},{key:"enterRule",value:function(t){t.enterJqlList&&t.enterJqlList(this)}},{key:"exitRule",value:function(t){t.exitJqlList&&t.exitJqlList(this)}},{key:"accept",value:function(t){return t.visitJqlList?t.visitJqlList(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),Xt=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"LPAREN",value:function(){return this.getToken(dt.LPAREN,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlListStart}},{key:"enterRule",value:function(t){t.enterJqlListStart&&t.enterJqlListStart(this)}},{key:"exitRule",value:function(t){t.exitJqlListStart&&t.exitJqlListStart(this)}},{key:"accept",value:function(t){return t.visitJqlListStart?t.visitJqlListStart(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),te=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"RPAREN",value:function(){return this.getToken(dt.RPAREN,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlListEnd}},{key:"enterRule",value:function(t){t.enterJqlListEnd&&t.enterJqlListEnd(this)}},{key:"exitRule",value:function(t){t.exitJqlListEnd&&t.exitJqlListEnd(this)}},{key:"accept",value:function(t){return t.visitJqlListEnd?t.visitJqlListEnd(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ee=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlArgument",value:function(){return this.getRuleContext(0,re)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlPropertyArgument}},{key:"enterRule",value:function(t){t.enterJqlPropertyArgument&&t.enterJqlPropertyArgument(this)}},{key:"exitRule",value:function(t){t.exitJqlPropertyArgument&&t.exitJqlPropertyArgument(this)}},{key:"accept",value:function(t){return t.visitJqlPropertyArgument?t.visitJqlPropertyArgument(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),re=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,Jt)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Ht)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlArgument}},{key:"enterRule",value:function(t){t.enterJqlArgument&&t.enterJqlArgument(this)}},{key:"exitRule",value:function(t){t.exitJqlArgument&&t.exitJqlArgument(this)}},{key:"accept",value:function(t){return t.visitJqlArgument?t.visitJqlArgument(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ne=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlPredicateOperand",value:function(){return this.getRuleContext(0,ce)}},{key:"jqlDatePredicateOperator",value:function(){return this.tryGetRuleContext(0,oe)}},{key:"jqlDateRangePredicateOperator",value:function(){return this.tryGetRuleContext(0,se)}},{key:"jqlUserPredicateOperator",value:function(){return this.tryGetRuleContext(0,ae)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlWasPredicate}},{key:"enterRule",value:function(t){t.enterJqlWasPredicate&&t.enterJqlWasPredicate(this)}},{key:"exitRule",value:function(t){t.exitJqlWasPredicate&&t.exitJqlWasPredicate(this)}},{key:"accept",value:function(t){return t.visitJqlWasPredicate?t.visitJqlWasPredicate(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ie=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlPredicateOperand",value:function(){return this.getRuleContext(0,ce)}},{key:"jqlDatePredicateOperator",value:function(){return this.tryGetRuleContext(0,oe)}},{key:"jqlDateRangePredicateOperator",value:function(){return this.tryGetRuleContext(0,se)}},{key:"jqlUserPredicateOperator",value:function(){return this.tryGetRuleContext(0,ae)}},{key:"jqlValuePredicateOperator",value:function(){return this.tryGetRuleContext(0,le)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlChangedPredicate}},{key:"enterRule",value:function(t){t.enterJqlChangedPredicate&&t.enterJqlChangedPredicate(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedPredicate&&t.exitJqlChangedPredicate(this)}},{key:"accept",value:function(t){return t.visitJqlChangedPredicate?t.visitJqlChangedPredicate(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),oe=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"AFTER",value:function(){return this.tryGetToken(dt.AFTER,0)}},{key:"BEFORE",value:function(){return this.tryGetToken(dt.BEFORE,0)}},{key:"ON",value:function(){return this.tryGetToken(dt.ON,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlDatePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlDatePredicateOperator&&t.enterJqlDatePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlDatePredicateOperator&&t.exitJqlDatePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlDatePredicateOperator?t.visitJqlDatePredicateOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),se=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"DURING",value:function(){return this.getToken(dt.DURING,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlDateRangePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlDateRangePredicateOperator&&t.enterJqlDateRangePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlDateRangePredicateOperator&&t.exitJqlDateRangePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlDateRangePredicateOperator?t.visitJqlDateRangePredicateOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ae=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"BY",value:function(){return this.getToken(dt.BY,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlUserPredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlUserPredicateOperator&&t.enterJqlUserPredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlUserPredicateOperator&&t.exitJqlUserPredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlUserPredicateOperator?t.visitJqlUserPredicateOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),le=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"FROM",value:function(){return this.tryGetToken(dt.FROM,0)}},{key:"TO",value:function(){return this.tryGetToken(dt.TO,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlValuePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlValuePredicateOperator&&t.enterJqlValuePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlValuePredicateOperator&&t.exitJqlValuePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlValuePredicateOperator?t.visitJqlValuePredicateOperator(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ce=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlOperand",value:function(){return this.getRuleContext(0,Wt)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlPredicateOperand}},{key:"enterRule",value:function(t){t.enterJqlPredicateOperand&&t.enterJqlPredicateOperand(this)}},{key:"exitRule",value:function(t){t.exitJqlPredicateOperand&&t.exitJqlPredicateOperand(this)}},{key:"accept",value:function(t){return t.visitJqlPredicateOperand?t.visitJqlPredicateOperand(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),ue=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"ORDER",value:function(){return this.getToken(dt.ORDER,0)}},{key:"BY",value:function(){return this.getToken(dt.BY,0)}},{key:"jqlSearchSort",value:function(t){return void 0===t?this.getRuleContexts(he):this.getRuleContext(t,he)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(dt.COMMA):this.getToken(dt.COMMA,t)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlOrderBy}},{key:"enterRule",value:function(t){t.enterJqlOrderBy&&t.enterJqlOrderBy(this)}},{key:"exitRule",value:function(t){t.exitJqlOrderBy&&t.exitJqlOrderBy(this)}},{key:"accept",value:function(t){return t.visitJqlOrderBy?t.visitJqlOrderBy(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),he=function(t){(0,Z.A)(r,t);var e=it(r);function r(t,n){return(0,R.A)(this,r),e.call(this,t,n)}return(0,C.A)(r,[{key:"jqlField",value:function(){return this.getRuleContext(0,Ft)}},{key:"DESC",value:function(){return this.tryGetToken(dt.DESC,0)}},{key:"ASC",value:function(){return this.tryGetToken(dt.ASC,0)}},{key:"ruleIndex",get:function(){return dt.RULE_jqlSearchSort}},{key:"enterRule",value:function(t){t.enterJqlSearchSort&&t.enterJqlSearchSort(this)}},{key:"exitRule",value:function(t){t.exitJqlSearchSort&&t.exitJqlSearchSort(this)}},{key:"accept",value:function(t){return t.visitJqlSearchSort?t.visitJqlSearchSort(this):t.visitChildren(this)}}]),r}(lt.ParserRuleContext),pe=r(22807),fe=r(21088),de=function(t){(0,Z.A)(r,t);var e=it(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this,t))._interp=new fe.LexerATNSimulator(r._ATN,(0,rt.A)(n)),n}return(0,C.A)(r,[{key:"vocabulary",get:function(){return r.VOCABULARY}},{key:"grammarFileName",get:function(){return"JQLLexer.g4"}},{key:"ruleNames",get:function(){return r.ruleNames}},{key:"serializedATN",get:function(){return r._serializedATN}},{key:"channelNames",get:function(){return r.channelNames}},{key:"modeNames",get:function(){return r.modeNames}}],[{key:"_ATN",get:function(){return r.__ATN||(r.__ATN=(new ot.ATNDeserializer).deserialize(ft.toCharArray(r._serializedATN))),r.__ATN}}]),r}(pe.Lexer);(0,h.A)(de,"LPAREN",1),(0,h.A)(de,"RPAREN",2),(0,h.A)(de,"COMMA",3),(0,h.A)(de,"LBRACKET",4),(0,h.A)(de,"RBRACKET",5),(0,h.A)(de,"BANG",6),(0,h.A)(de,"LT",7),(0,h.A)(de,"GT",8),(0,h.A)(de,"GTEQ",9),(0,h.A)(de,"LTEQ",10),(0,h.A)(de,"EQUALS",11),(0,h.A)(de,"NOT_EQUALS",12),(0,h.A)(de,"LIKE",13),(0,h.A)(de,"NOT_LIKE",14),(0,h.A)(de,"IN",15),(0,h.A)(de,"IS",16),(0,h.A)(de,"AND",17),(0,h.A)(de,"OR",18),(0,h.A)(de,"NOT",19),(0,h.A)(de,"EMPTY",20),(0,h.A)(de,"WAS",21),(0,h.A)(de,"CHANGED",22),(0,h.A)(de,"BEFORE",23),(0,h.A)(de,"AFTER",24),(0,h.A)(de,"FROM",25),(0,h.A)(de,"TO",26),(0,h.A)(de,"ON",27),(0,h.A)(de,"DURING",28),(0,h.A)(de,"ORDER",29),(0,h.A)(de,"BY",30),(0,h.A)(de,"ASC",31),(0,h.A)(de,"DESC",32),(0,h.A)(de,"POSNUMBER",33),(0,h.A)(de,"NEGNUMBER",34),(0,h.A)(de,"CUSTOMFIELD",35),(0,h.A)(de,"RESERVED_WORD",36),(0,h.A)(de,"STRING",37),(0,h.A)(de,"MATCHWS",38),(0,h.A)(de,"ERROR_RESERVED",39),(0,h.A)(de,"ERRORCHAR",40),(0,h.A)(de,"QUOTE_STRING",41),(0,h.A)(de,"UNCLOSED_QUOTE_STRING",42),(0,h.A)(de,"INVALID_QUOTE_STRING",43),(0,h.A)(de,"SQUOTE_STRING",44),(0,h.A)(de,"UNCLOSED_SQUOTE_STRING",45),(0,h.A)(de,"INVALID_SQUOTE_STRING",46),(0,h.A)(de,"QUOTED_STR",1),(0,h.A)(de,"SQUOTED_STR",2),(0,h.A)(de,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),(0,h.A)(de,"modeNames",["DEFAULT_MODE","QUOTED_STR","SQUOTED_STR"]),(0,h.A)(de,"ruleNames",["LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","LQUOTE","LSQUOTE","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","QUOTED_CONTENT","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","SQUOTED_CONTENT","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING","VALID_UNQUOTED_CHARS","VALID_QUOTED_CHARS","VALID_SQUOTED_CHARS","RESERVED_CHARS","QUOTE","SQUOTE","BSLASH","NL","CR","SPACE","AMPER","AMPER_AMPER","PIPE","PIPE_PIPE","ESCAPE","NEWLINE","HEXDIGIT","WS","MINUS","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),(0,h.A)(de,"_LITERAL_NAMES",[void 0,"'('","')'","','","'['","']'","'!'","'<'","'>'","'>='","'<='","'='","'!='","'~'","'!~'"]),(0,h.A)(de,"_SYMBOLIC_NAMES",[void 0,"LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING"]),(0,h.A)(de,"VOCABULARY",new pt.VocabularyImpl(de._LITERAL_NAMES,de._SYMBOLIC_NAMES,[])),(0,h.A)(de,"_serializedATNSegments",3),(0,h.A)(de,"_serializedATNSegment0","줝쪺֍꾺体؇쉁0خ\b\b\b\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t !\t!\"\t\"#\t#$\t$%\t%&\t&'\t'(\t()\t)*\t*+\t+,\t,-\t-.\t./\t/0\t01\t12\t23\t34\t45\t56\t67\t78\t89\t9:\t:;\t;<\t<=\t=>\t>?\t?@\t@A\tAB\tBC\tCD\tDE\tEF\tFG\tGH\tHI\tIJ\tJK\tKL\tLM\tMN\tNO\tOP\tPQ\tQR\tRS\tST\tTU\tUV\tVW\tWX\tXY\tYZ\tZ[\t[\\\t\\]\t]^\t^_\t_`\t`a\ta\b\b\b\b\b\t\t\n\n\v\v\f\f\f\r\r\rü\nă\nĔ\n      !!!\"\"\"\"#####$$Ŕ\n$\r$$ŕ%%%Ś\n%\r%%ś&&&''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''ւ\n'(((ֆ\n(\r((և))֋\n)\r))֌))**++,,,,---֛\n---....////0000111֭\n11122223333445566778899::;;<<==>>???@@AAABBBBBBBBBBBBBף\nBCCCק\nCDDDDDDDDװ\nDEEEE׵\nEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUUVVWWXXYYZZ[[\\\\]]^^__``aab\t\v\r\b\t\n\v\f\r!#%')+-/13579;=?AC E!G\"I#K$M%O&Q'S(U)W*Y+[],_-a.ce/g0ikmoqsuwy{}¡£¥§©«­¯±³µ·¹»½¿ÁÃ\"\t.11=B]`}¡﷒ﷱ\0\n\v\r!$$^^¡﷒ﷱ\0\n\v\r!))^^¡﷒ﷱ\0\n%',-11==AB``}}ppttvv2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||ڵ\t\v\r!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegÅÇ\tÉ\vË\rÍÏÔÙÛÝßâåç!ê#ì%ï'ò)û+Ă-Ą/ē1ĕ3ę5ġ7Ĩ9Į;ĳ=Ķ?ĹAŀCņEŉGōIœKŗMŝOցQօS֊U֐W֒Y֔[֚]֞_֢a֦c֬eְgִiָkֺmּo־q׀sׂuׄw׆y׈{׊}׌׎בדזצׯ״׶׸׺׼׾؀؂؄؆؈¡؊£،¥؎§ؐ©ؒ«ؔ­ؖ¯ؘ±ؚ³؜µ؞·ؠ¹آ»ؤ½ئ¿بÁتÃجÅÆ*ÆÇÈ+È\bÉÊ.Ê\nËÌ]Ì\fÍÎ_ÎÏÐq8ÐÑÑÒ\bÒÓ\bÓÔÕs9ÕÖÖ×\b\b×Ø\b\bØÙÚ#ÚÛÜ>ÜÝÞ@Þßà@àá?áâã>ãä?äåæ?æçè#èé?é êëë\"ìí#íîî$ïð¡Pðñ«Uñ&òó¡PóôµZô(õöHö÷«U÷øKøüùü}>úü?ûõûùûúü*ýþ­Vþÿ³YÿăĀă@āăAĂýĂĀĂāă"),(0,h.A)(de,"_serializedATNSegment1",",Ąą«UąĆ­VĆć·[ć.ĈĉLĉĊ©TĊċ¯WċČ·[ČčÁ`čĔĎď«UďĐ¹\\Đđ§SđĒ§SĒĔēĈēĎĔ0ĕĖ½^ĖėHėĘµZĘ2ęĚJĚěOěĜHĜĝ«UĝĞNĞğLğĠKĠ4ġĢIĢģLģĤMĤĥ­VĥĦ³YĦħLħ6ĨĩHĩĪMĪī·[īĬLĬĭ³Yĭ8ĮįMįİ³Yİı­VıĲ©TĲ:ĳĴ·[Ĵĵ­Vĵ<Ķķ­Vķĸ«Uĸ>ĹĺKĺĻ¹\\Ļļ³YļĽ¡PĽľ«UľĿNĿ@ŀŁ­VŁł³YłŃKŃńLńŅ³YŅBņŇIŇňÁ`ňDŉŊHŊŋµZŋŌJŌFōŎKŎŏLŏŐµZŐőJőHŒŔGœŒŔŕŕœŕŖŖJŗřFŘŚGřŘŚśśřśŜŜLŝŞJŞşMşNŠšHšŢIŢţ­VţŤ³YŤť·[ťւŦŧHŧŨJŨũJũŪLŪūµZūŬµZŬւŭŮHŮůKůŰKŰւűŲHŲų§SųŴ¡PŴŵHŵŶµZŶւŷŸHŸŹ§SŹź·[źŻLŻż³YżւŽžHžſ«UſƀÁ`ƀւƁƂHƂƃµZƃւƄƅHƅƆ¹\\ƆƇKƇƈ¡PƈƉ·[ƉւƊƋHƋƌ»]ƌƍNƍւƎƏIƏƐLƐƑNƑƒ¡PƒƓ«UƓւƔƕIƕƖLƖƗ·[ƗƘ½^ƘƙLƙƚLƚƛ«UƛւƜƝIƝƞ­VƞƟ­VƟƠ§SƠơLơƢHƢƣ«UƣւƤƥIƥƦ³YƦƧLƧƨHƨƩ¥RƩւƪƫIƫƬÁ`Ƭƭ·[ƭƮLƮւƯưJưƱHƱƲ·[ƲƳJƳƴOƴւƵƶJƶƷOƷƸHƸƹ³YƹւƺƻJƻƼOƼƽHƽƾ³YƾƿHƿǀJǀǁ·[ǁǂLǂǃ³YǃւǄǅJǅǆOǆǇLǇǈJǈǉ¥RǉւǊǋJǋǌOǌǍLǍǎJǎǏ¥RǏǐ¯WǐǑ­VǑǒ¡PǒǓ«UǓǔ·[ǔւǕǖJǖǗ­VǗǘ§SǘǙ§SǙǚHǚǛ·[ǛǜLǜւǝǞJǞǟ­VǟǠ§SǠǡ§SǡǢHǢǣ·[ǣǤ¡PǤǥ­VǥǦ«UǦւǧǨJǨǩ­VǩǪ§SǪǫ¹\\ǫǬ©TǬǭ«UǭւǮǯJǯǰ­VǰǱ©TǱǲ©Tǲǳ¡PǳǴ·[ǴւǵǶJǶǷ­VǷǸ«UǸǹ«UǹǺLǺǻJǻǼ·[ǼւǽǾJǾǿ­VǿȀ«UȀȁ·[ȁȂ¡PȂȃ«UȃȄ¹\\ȄȅLȅւȆȇJȇȈ­VȈȉ¹\\ȉȊ«UȊȋ·[ȋւȌȍJȍȎ³YȎȏLȏȐHȐȑ·[ȑȒLȒւȓȔJȔȕ¹\\ȕȖ³YȖȗ³YȗȘLȘș«UșȚ·[ȚւțȜKȜȝHȝȞ·[ȞȟLȟւȠȡKȡȢLȢȣJȣȤ¡PȤȥ©TȥȦHȦȧ§SȧւȨȩKȩȪLȪȫJȫȬ§SȬȭHȭȮ³YȮȯLȯւȰȱKȱȲLȲȳJȳȴ³YȴȵLȵȶ©TȶȷLȷȸ«Uȸȹ·[ȹւȺȻKȻȼLȼȽMȽȾHȾȿ¹\\ȿɀ§SɀɁ·[ɁւɂɃKɃɄLɄɅMɅɆHɆɇ¹\\ɇɈ§SɈɉ·[ɉɊµZɊւɋɌKɌɍLɍɎMɎɏ¡Pɏɐ«UɐɑLɑւɒɓKɓɔLɔɕ§SɕɖLɖɗ·[ɗɘLɘւəɚKɚɛLɛɜ§Sɜɝ¡Pɝɞ©Tɞɟ¡Pɟɠ·[ɠɡLɡɢ³YɢւɣɤKɤɥ¡PɥɦMɦɧMɧɨLɨɩ³YɩɪLɪɫ«UɫɬJɬɭLɭւɮɯKɯɰ¡PɰɱµZɱɲ·[ɲɳ¡Pɳɴ«UɴɵJɵɶ·[ɶւɷɸKɸɹ¡Pɹɺ»]ɺɻ¡PɻɼKɼɽLɽւɾɿKɿʀ­VʀւʁʂKʂʃ­Vʃʄ¹\\ʄʅIʅʆ§SʆʇLʇւʈʉKʉʊ³Yʊʋ­Vʋʌ¯WʌւʍʎLʎʏ§SʏʐµZʐʑLʑւʒʓLʓʔ«UʔʕJʕʖ­VʖʗKʗʘ¡Pʘʙ«UʙʚNʚւʛʜLʜʝ«UʝʞKʞւʟʠLʠʡ±Xʡʢ¹\\ʢʣHʣʤ§SʤʥµZʥւʦʧLʧʨµZʨʩJʩʪHʪʫ¯WʫʬLʬւʭʮLʮʯ¿_ʯʰJʰʱ§Sʱʲ¹\\ʲʳµZʳʴ¡Pʴʵ»]ʵʶLʶւʷʸLʸʹ¿_ʹʺLʺʻJʻւʼʽLʽʾ¿_ʾʿLʿˀJˀˁ¹\\ˁ˂·[˂˃L˃ւ˄˅L˅ˆ¿_ˆˇ¡PˇˈµZˈˉ·[ˉˊµZˊւˋˌLˌˍ¿_ˍˎ¯Wˎˏ§SˏːHːˑ¡Pˑ˒«U˒ւ˓˔M˔˕H˕˖§S˖˗µZ˗˘L˘ւ˙˚M˚˛L˛˜·[˜˝J˝˞O˞ւ˟ˠMˠˡ¡Pˡˢ§SˢˣLˣւˤ˥M˥˦¡P˦˧L˧˨§S˨˩K˩ւ˪˫M˫ˬ¡Pˬ˭³Y˭ˮµZˮ˯·[˯ւ˰˱M˱˲§S˲˳­V˳˴H˴˵·[˵ւ˶˷M˷˸­V˸˹³Y˹ւ˺˻M˻˼¹\\˼˽«U˽˾J˾˿·[˿̀¡P̀́­V́̂«U̂ւ̃̄N̄̅­V̅ւ̆̇N̇̈­V̈̉·[̉̊­V̊ւ̋̌N̌̍³Y̍̎H̎̏«U̏̐·[̐ւ̑̒N̒̓³Y̓̔L̔̕H̖̕·[̖̗L̗̘³Y̘ւ̙̚N̛̚³Y̛̜­V̜̝¹\\̝̞¯W̞ւ̟̠O̡̠H̡̢»]̢̣¡P̣̤«U̤̥N̥ւ̧̦¡P̧̨K̨̩L̩̪«U̪̫·[̫̬¡P̬̭M̭̮¡P̮̯L̯̰K̰ւ̱̲¡P̲̳M̳ւ̴̵¡P̵̶©T̶̷©T̷̸L̸̹K̹̺¡P̺̻H̻̼·[̼̽L̽ւ̾̿¡P̿̀«U̀́J́͂³Y͂̓L̓̈́©T̈́ͅL͆ͅ«U͇͆·[͇ւ͈͉¡P͉͊«U͊͋K͋͌L͍͌¿_͍ւ͎͏¡P͏͐«U͐͑¡P͑͒·[͓͒¡P͓͔H͔͕§S͕ւ͖͗¡P͗͘«U͙͘«U͙͚L͚͛³Y͛ւ͜͝¡P͝͞«U͟͞­V͟͠¹\\͠͡·[͡ւͣ͢¡Pͣͤ«Uͤͥ¯Wͥͦ¹\\ͦͧ·[ͧւͨͩ¡Pͩͪ«UͪͫµZͫͬLͬͭ³Yͭͮ·[ͮւͯͰ¡PͰͱ«UͱͲ·[Ͳւͳʹ¡Pʹ͵«U͵Ͷ·[ͶͷLͷ͸N͸͹L͹ͺ³Yͺւͻͼ¡Pͼͽ«Uͽ;·[;ͿLͿ΀³Y΀΁µZ΁΂L΂΃J΃΄·[΄ւ΅Ά¡PΆ·«U·Έ·[ΈΉLΉΊ³YΊ΋µZ΋ΌLΌ΍J΍Ύ·[ΎΏ¡PΏΐ­VΐΑ«UΑւΒΓ¡PΓΔ«UΔΕ·[ΕΖ­VΖւΗΘ¡PΘΙµZΙΚLΚΛ©TΛΜ¯WΜΝ·[ΝΞÁ`ΞւΟΠ¡PΠΡµZΡ΢«U΢Σ¹\\ΣΤ§SΤΥ§SΥւΦΧ£QΧΨ­VΨΩ¡PΩΪ«UΪւΫά§SάέHέήµZήί·[ίւΰα§SαβLβγMγδ·[δւεζ§SζηLηθµZθιµZιւκλ§Sλμ¡Pμν¥RνξLξւοπ§Sπρ¡Pρς©Tςσ¡Pστ·[τւυφ§Sφχ­VχψJψω¥Rωւϊϋ§Sϋό­Vόύ«UύώNώւϏϐ©TϐϑHϑϒ¿_ϒւϓϔ©Tϔϕ¡Pϕϖ«UϖւϗϘ©TϘϙ¡PϙϚ«UϚϛ¹\\ϛϜµZϜւϝϞ©TϞϟ­VϟϠKϠϡLϡւϢϣ©TϣϤ­VϤϥKϥϦ¡PϦϧMϧϨÁ`ϨւϩϪ©TϪϫ­VϫϬKϬϭ¹\\ϭϮ§SϮϯ­Vϯւϰϱ©Tϱϲ­Vϲϳ³YϳϴLϴւϵ϶©T϶Ϸ¹\\Ϸϸ§SϸϹ·[ϹϺ¡PϺϻ¯Wϻϼ§SϼϽÁ`ϽւϾϿ«UϿЀLЀЁ¿_ЁЂ·[ЂւЃЄ«UЄЅ­VЅІHІЇ¹\\ЇЈKЈЉ¡PЉЊ·[ЊւЋЌ«UЌЍ­VЍЎ·[ЎЏ¡PЏА«UАւБВ«UВГ­VГД½^ДЕHЕЖ¡PЖЗ·[ЗւИЙ«UЙК¹\\КЛ©TЛМIМНLНО³YОւПР­VРСIСТ£QТУLУФJФХ·[ХւЦЧ­VЧШMШւЩЪ­VЪЫ¯WЫЬ·[ЬЭ¡PЭЮ­VЮЯ«UЯւаб­Vбв¹\\вг·[гдLде³Yеւжз­Vзи¹\\ий·[йк¯Wкл¹\\лм·[мւно¯Wоп­Vпр½^рсLст"),(0,h.A)(de,"_serializedATNSegment2",'³Yтւуф¯Wфх³YхцLцч»]чш¡Pшщ­Vщъ¹\\ъыµZыւьэ¯Wэю³Yюя¡Pяѐ­Vѐё³Yёւђѓ¯Wѓє³Yєѕ¡Pѕі»]ії¡Pїј§SјљLљњNњћLћќµZќւѝў¯Wўџ¹\\џѠIѠѡ§SѡѢ¡PѢѣJѣւѤѥ³YѥѦHѦѧ¡PѧѨµZѨѩLѩւѪѫ³YѫѬHѬѭ½^ѭւѮѯ³YѯѰLѰѱ©TѱѲHѲѳ¡PѳѴ«UѴѵKѵѶLѶѷ³YѷւѸѹ³YѹѺLѺѻ«UѻѼHѼѽ©TѽѾLѾւѿҀ³YҀҁLҁ҂µZ҂҃­V҃҄¹\\҄҅³Y҅҆J҆҇L҇ւ҈҉³Y҉ҊLҊҋ·[ҋҌ¹\\Ҍҍ³YҍҎ«UҎւҏҐ³YҐґLґҒ·[Ғғ¹\\ғҔ³YҔҕ«UҕҖµZҖւҗҘ³YҘҙLҙҚ»]Ққ­VқҜ¥RҜҝLҝւҞҟ³YҟҠ¡PҠҡNҡҢOҢң·[ңւҤҥ³YҥҦ­VҦҧ½^ҧւҨҩ³YҩҪ­VҪҫ½^ҫҬ¡PҬҭKҭւҮү³YүҰ­VҰұ½^ұҲ«UҲҳ¹\\ҳҴ©TҴւҵҶ³YҶҷ­VҷҸ½^ҸҹµZҹւҺһµZһҼLҼҽ§SҽҾLҾҿJҿӀ·[ӀւӁӂµZӂӃLӃӄµZӄӅµZӅӆ¡PӆӇ­VӇӈ«UӈւӉӊµZӊӋLӋӌ·[ӌւӍӎµZӎӏOӏӐHӐӑ³YӑӒLӒւӓӔµZӔӕ¡PӕӖÃaӖӗLӗւӘәµZәӚ±XӚӛ³YӛӜ·[ӜւӝӞµZӞӟ·[ӟӠHӠӡ³YӡӢ·[ӢւӣӤµZӤӥ·[ӥӦ³YӦӧ¡PӧӨJӨө·[өւӪӫµZӫӬ·[Ӭӭ³YӭӮ¡PӮӯ«UӯӰNӰւӱӲµZӲӳ¹\\ӳӴIӴӵ·[ӵӶ³YӶӷHӷӸJӸӹ·[ӹւӺӻµZӻӼ¹\\Ӽӽ©TӽւӾӿµZӿԀÁ`Ԁԁ«UԁԂ­VԂԃ«UԃԄÁ`Ԅԅ©TԅւԆԇ·[ԇԈHԈԉIԉԊ§SԊԋLԋւԌԍ·[ԍԎOԎԏLԏԐ«UԐւԑԒ·[Ԓԓ³YԓԔHԔԕ«UԕԖµZԖւԗԘ·[Ԙԙ³YԙԚHԚԛ«UԛԜµZԜԝHԝԞJԞԟ·[ԟԠ¡PԠԡ­VԡԢ«UԢւԣԤ·[Ԥԥ³YԥԦ¡PԦԧNԧԨNԨԩLԩԪ³YԪւԫԬ·[Ԭԭ³YԭԮ¹\\ԮԯLԯւ԰Ա¹\\ԱԲ¡PԲԳKԳւԴԵ¹\\ԵԶ«UԶԷ¡PԷԸ­VԸԹ«UԹւԺԻ¹\\ԻԼ«UԼԽ¡PԽԾ±XԾԿ¹\\ԿՀLՀւՁՂ¹\\ՂՃ¯WՃՄKՄՅHՅՆ·[ՆՇLՇւՈՉ¹\\ՉՊµZՊՋLՋՌ³YՌւՍՎ»]ՎՏHՏՐ§SՐՑ¡PՑՒKՒՓHՓՔ·[ՔՕLՕւՖ՗»]՗՘H՘ՙ§Sՙ՚¹\\՚՛L՛՜µZ՜ւ՝՞»]՞՟¡P՟ՠLՠա½^աւբգ½^գդOդեLեզ«Uզւէը½^ըթOթժLժի«UիլLլխ»]խծLծկ³Yկւհձ½^ձղOղճLճմ³YմյLյւնշ½^շոOոչ¡Pչպ§SպջLջւռս½^սվ¡Pվտ·[տրOրւցŠցŦցŭցűցŷցŽցƁցƄցƊցƎցƔցƜցƤցƪցƯցƵցƺցǄցǊցǕցǝցǧցǮցǵցǽցȆցȌցȓցțցȠցȨցȰցȺցɂցɋցɒցəցɣցɮցɷցɾցʁցʈցʍցʒցʛցʟցʦցʭցʷցʼց˄ցˋց˓ց˙ց˟ցˤց˪ց˰ց˶ց˺ց̃ց̆ց̋ց̑ց̙ց̟ց̦ց̱ց̴ց̾ց͈ց͎ց͖ց͜ց͢ցͨցͯցͳցͻց΅ցΒցΗցΟցΦցΫցΰցεցκցοցυցϊցϏցϓցϗցϝցϢցϩցϰցϵցϾցЃցЋցБցИցПցЦցЩցаցжցнցуցьցђցѝցѤցѪցѮցѸցѿց҈ցҏցҗցҞցҤցҨցҮցҵցҺցӁցӉցӍցӓցӘցӝցӣցӪցӱցӺցӾցԆցԌցԑցԗցԣցԫց԰ցԴցԺցՁցՈցՍցՖց՝ցբցէցհցնցռւPփֆBքֆi4օփօքֆևևօևֈֈR։֋E֊։֋֌֌֊֌֍֍֎֎֏\b)֏T֐֑o7֑V֒֓\v֓X֔֕q8֖֕֖֗\b,֗Z֛֘B֛֙k5֚֘֚֙֛֜֜֝\b-֝\\֞֟֟֠֠֡\b.֡^֢֣\v֣֤֤֥\b/֥`֦֧s9֧֨֨֩\b0֩b֪֭B֭֫m6֪֬֬֫֭֮֮֯\b1֯dְֱֱֲֲֳ\b2ֳfִֵ\vֵֶֶַ\b3ַhָֹ\nֹjֺֻ\nֻlּֽ\nֽn־ֿ\tֿp׀ׁ$ׁrׂ׃)׃tׅׄ^ׅv׆ׇׇx׈׉\f׉z׊׋"׋|׌׍(׍~׎׏(׏א(אבג~גדה~הו~וזעu:חף\tטףq8יףs9ךףu:כף{=לםwםמDמןDןנDנסDסףעחעטעיעךעכעלףפקw;ץקy<צפצץקרװGשװHתװI׫װJ׬װK׭װL׮װMׯרׯשׯתׯ׫ׯ׬ׯ׭ׯ׮װױ׵{=ײ׵\v׳׵C״ױ״ײ״׳׵׶׷/׷׸׹\t׹׺׻\t\b׻׼׽\t\t׽׾׿\t\n׿؀؁\t\v؁؂؃\t\f؃؄؅\t\r؅؆؇\t؇؈؉\t؉ ؊؋\t؋¢،؍\t؍¤؎؏\t؏¦ؐؑ\tؑ¨ؒؓ\tؓªؔؕ\tؕ¬ؖؗ\tؗ®ؘؙ\tؙ°ؚ؛\t؛²؜؝\t؝´؞؟\t؟¶ؠء\tء¸آأ\tأºؤإ\tإ¼ئا\tا¾بة\tةÀتث\t ثÂجح\t!حÄûĂēŕśցօև֌֚֬עצׯ״'),(0,h.A)(de,"_serializedATN",ft.join([de._serializedATNSegment0,de._serializedATNSegment1,de._serializedATNSegment2],"")),(0,h.A)(de,"__ATN",void 0);var ye=r(12221),ge=r(29741),ve=r(7477),me=function(t,e,r,n){var i=t.getText(ve.Interval.of(e,r.tokenIndex)),o=(0,c.A)(n,1)[0],s=r.stopIndex+1;if(o<s){var a=o-s;return i.slice(0,a)}return i};function xe(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return be(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oe=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;(0,R.A)(this,t),this.parser=e,this.core=new ge.CodeCompletionCore(this.parser),this.core.ignoredTokens=r,this.core.preferredRules=n,this.core.translateRulesTopDown=!0,this.delimiterTokens=i}return(0,C.A)(t,[{key:"getTokenStream",value:function(){return this.parser.inputStream}},{key:"getMatchedText",value:function(t,e){if(!t)return"";var r=this.isCaretAtDelimiterOrHiddenToken(t)?t.tokenIndex+1:t.tokenIndex;return me(this.getTokenStream(),r,t,e)}},{key:"getCandidateTokens",value:function(t,e,r){var n=this,i=[];return r.forEach((function(t,e){var r=[e].concat((0,u.A)(t)).map((function(t){return n.parser.vocabulary.getDisplayName(t).replace(/^'|'$/g,"")})).join(" ");r&&i.push(r)})),i.sort(),{matchedText:this.getMatchedText(t,e),replacePosition:this.getReplacePosition(t,t,e),values:i}}},{key:"getCandidateRules",value:function(t,e,r){var n=this.mapCandidateRules(t,e,r);return this.assignRuleContextData(t,n)}},{key:"mapCandidateRules",value:function(t,e,r){var n=this,i=new Map,o=this.getTokenStream();return r.forEach((function(r,s){var a,l=r.startTokenIndex,c=r.ruleList,u=o.get(l),h=n.getReplacePosition(u,t,e);t?a={matchedText:me(o,l,t,e),replacePosition:h,context:null}:a={matchedText:"",replacePosition:h,context:null};i.set(s,[a,c])})),i}},{key:"getCaretToken",value:function(t){if(0!==t){var e,r=xe(this.getTokenStream().getTokens());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(t>n.startIndex&&t<=n.stopIndex+1||n.type===ye.Token.EOF)return n}}catch(t){r.e(t)}finally{r.f()}}}},{key:"isCaretAtDelimiterToken",value:function(t){return this.delimiterTokens.has(t.type)}},{key:"isCaretAtDelimiterOrHiddenToken",value:function(t){return this.isCaretAtDelimiterToken(t)||t.channel===ye.Token.HIDDEN_CHANNEL}},{key:"overrideReplacePosition",value:function(t,e,r){return null}},{key:"getReplacePosition",value:function(t,e,r){var n=this.overrideReplacePosition(t,e,r);if(n)return n;var i=(0,c.A)(r,2),o=i[0],s=i[1];return[void 0===t||this.isCaretAtDelimiterOrHiddenToken(t)?o:Math.min(t.startIndex,o),void 0===e||this.isCaretAtDelimiterOrHiddenToken(e)?s:Math.max(e.stopIndex+1,s)]}},{key:"getCandidates",value:function(t,e){var r;r=void 0===t?0:this.isCaretAtDelimiterToken(t)?t.tokenIndex+1:t.tokenIndex;var n=this.core.collectCandidates(r);return{tokens:this.getCandidateTokens(t,e,n.tokens),rules:this.getCandidateRules(t,e,n.rules)}}},{key:"getSuggestionsForCaretPosition",value:function(t){var e=this.getCaretToken(t[0]);return this.getCandidates(e,t)}},{key:"getSuggestionsForTokenIndex",value:function(t){var e=this.getTokenStream().get(t),r=[e.stopIndex+1,e.stopIndex+1];return this.getCandidates(e,r)}},{key:"assignRuleContextData",value:function(t,e){return e}}]),t}(),Se=["=","!=",">","<",">=","<=","in","not in","~","!~","is","is not","was","was in","was not in","was not","changed"],Ae=[dt.RULE_jqlField,dt.RULE_jqlEqualsOperator,dt.RULE_jqlLikeOperator,dt.RULE_jqlComparisonOperator,dt.RULE_jqlInOperator,dt.RULE_jqlIsOperator,dt.RULE_jqlWasOperator,dt.RULE_jqlWasInOperator,dt.RULE_jqlChangedOperator,dt.RULE_jqlValue,dt.RULE_jqlListStart,dt.RULE_jqlFunction],Ee=[dt.UNCLOSED_QUOTE_STRING,dt.UNCLOSED_SQUOTE_STRING],Te=new Set([de.EOF,de.LPAREN,de.RPAREN,de.LBRACKET,de.RBRACKET,de.STRING,de.QUOTE_STRING,de.SQUOTE_STRING,de.POSNUMBER,de.NEGNUMBER,de.BANG,de.CUSTOMFIELD,de.COMMA]),Ne=[dt.RULE_jqlFieldProperty],_e=[dt.RULE_jqlEqualsOperator,dt.RULE_jqlLikeOperator,dt.RULE_jqlComparisonOperator,dt.RULE_jqlInOperator,dt.RULE_jqlIsOperator,dt.RULE_jqlWasOperator,dt.RULE_jqlWasInOperator,dt.RULE_jqlChangedOperator],we=[dt.RULE_jqlValue,dt.RULE_jqlFunction,dt.RULE_jqlListStart],ke=new Set([dt.RULE_jqlField].concat(_e,we,Ne,[dt.RULE_jqlPredicateOperand])),Ce=new Set([de.LPAREN,de.COMMA]),Re=r(80045),Pe=function(t){return t.includes(dt.RULE_jqlPredicateOperand)},Ie=function(t){return[t.start.startIndex,t.stop?t.stop.stopIndex+1:t.start.stopIndex+1]},je=function(t){return t.toLowerCase().replace(/\s+/g," ").trim()},Le=function(t){return Se.includes(t)},Me=["errorNodes"];function De(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?De(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fe=(0,C.A)((function t(e,r,n,i,o){var s=this;(0,R.A)(this,t),(0,h.A)(this,"visitJqlQuery",(function(t){var e=t.jqlWhere(),r=t.jqlOrderBy(),n=s.getCtxToVisit([e,r]),i=qe({},null==n?void 0:n.accept(s));return s.rule===dt.RULE_jqlField&&(i.clause=s.ruleList.includes(dt.RULE_jqlWhere)?"where":"orderBy"),i})),(0,h.A)(this,"visitJqlWhere",(function(t){return t.jqlOrClause().accept(s)})),(0,h.A)(this,"visitJqlOrderBy",(function(){return{}})),(0,h.A)(this,"visitJqlOrClause",(function(t){var e=s.getCtxToVisit(t.jqlAndClause());return qe({},null==e?void 0:e.accept(s))})),(0,h.A)(this,"visitJqlAndClause",(function(t){var e=s.getCtxToVisit(t.jqlNotClause());return qe({},null==e?void 0:e.accept(s))})),(0,h.A)(this,"visitJqlNotClause",(function(t){var e=s.getCtxToVisit([t.jqlNotClause(),t.jqlSubClause(),t.jqlTerminalClause()]);return qe({},null==e?void 0:e.accept(s))})),(0,h.A)(this,"visitJqlSubClause",(function(t){var e=t.jqlOrClause();return qe({},null==e?void 0:e.accept(s))})),(0,h.A)(this,"visitJqlTerminalClause",(function(t){var e=t.jqlField(),r=t.jqlTerminalClauseRhs().accept(s),n=r.errorNodes,i=(0,Re.A)(r,Me);return qe(qe(qe({},e.accept(s)),i),s.getCtxFromErrorNodes(n))})),(0,h.A)(this,"visitJqlField",(function(t){return s.rule===dt.RULE_jqlField?{}:{field:s.tokenStream.getText(t)}})),(0,h.A)(this,"visitJqlNumberField",(function(t){return s.visitJqlField(t)})),(0,h.A)(this,"visitJqlNonNumberField",(function(t){return s.visitJqlField(t)})),(0,h.A)(this,"visitJqlEqualsClause",(function(t){return t.jqlEqualsOperator().accept(s)})),(0,h.A)(this,"visitJqlEqualsOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlLikeClause",(function(t){return t.jqlLikeOperator().accept(s)})),(0,h.A)(this,"visitJqlLikeOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlComparisonClause",(function(t){return t.jqlComparisonOperator().accept(s)})),(0,h.A)(this,"visitJqlComparisonOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlInClause",(function(t){var e=t.jqlInOperator().accept(s),r=t.jqlList();return void 0!==r&&s.isReplacePosAtCtx(r)?qe(qe({},e),r.accept(s)):qe({},e)})),(0,h.A)(this,"visitJqlInOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlIsClause",(function(t){return t.jqlIsOperator().accept(s)})),(0,h.A)(this,"visitJqlIsOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlWasClause",(function(t){return t.jqlWasOperator().accept(s)})),(0,h.A)(this,"visitJqlWasOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlWasInClause",(function(t){var e=t.jqlWasInOperator().accept(s),r=t.jqlList();return void 0!==r&&s.isReplacePosAtCtx(r)?qe(qe({},e),r.accept(s)):qe({},e)})),(0,h.A)(this,"visitJqlWasInOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlChangedClause",(function(t){return t.jqlChangedOperator().accept(s)})),(0,h.A)(this,"visitJqlChangedOperator",(function(t){return s.visitOperator(t)})),(0,h.A)(this,"visitJqlList",(function(t){var e=Ie(t.jqlListStart()),r=(0,c.A)(e,2),n=(r[0],r[1]);try{var i=Ie(t.jqlListEnd()),o=(0,c.A)(i,1)[0];if(s.replacePositionStart>=n&&s.replacePositionStart<=o)return{isList:!0}}catch(t){return{isList:!0}}return{}})),(0,h.A)(this,"visitOperator",(function(t){var e=s.tokenStream.getText(t).substring(0,s.replacePositionStart-t.start.startIndex),r=je(e);return Le(r)?{operator:r}:{}})),(0,h.A)(this,"isReplacePosAtCtx",(function(t){var e=Ie(t),r=(0,c.A)(e,2),n=r[0],i=r[1];return s.replacePositionStart>=n&&s.replacePositionStart<=i||!!s.maybeCaretToken&&s.maybeCaretToken.type===de.MATCHWS&&s.maybeCaretToken.startIndex===i})),(0,h.A)(this,"getCtxToVisit",(function(t){for(var e=t.filter((function(t){return void 0!==t})),r=0;r<e.length;r++){var n=e[r];if(s.isReplacePosAtCtx(n))return n}})),(0,h.A)(this,"getCtxFromErrorNodes",(function(t){if(void 0!==t){var e=t.filter((function(t){return t.payload.startIndex<s.replacePositionStart})).map((function(t){return t.payload.text})).join(" "),r=je(e);if(Le(r))return{operator:r}}return{}})),(0,h.A)(this,"visitChildren",(function(t){for(var e=[],r=0;r<t.childCount;r++)e.push(t.getChild(r));return{errorNodes:e}})),(0,h.A)(this,"visit",(function(){throw new Error("Unsupported operation visit(ParseTree)")})),(0,h.A)(this,"visitErrorNode",(function(){throw new Error("Unsupported operation visitErrorNode(ErrorNode)")})),(0,h.A)(this,"visitTerminal",(function(){throw new Error("Unsupported operation visitTerminal(TerminalNode)")})),this.ruleList=r,this.rule=n,this.tokenStream=i,this.maybeCaretToken=o;var a=(0,c.A)(e.replacePosition,1);this.replacePositionStart=a[0]}));function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var Ue=function(t){(0,Z.A)(r,t);var e=Be(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ce,a=arguments.length>4?arguments[4]:void 0;return(0,R.A)(this,r),(n=e.call(this,t,i,o,s)).tree=a,n}return(0,C.A)(r,[{key:"assignRuleContextData",value:function(t,e){var r=this;return void 0===this.tree||e.forEach((function(e,n){var i=(0,c.A)(e,2),o=i[0],s=i[1];if(Ae.includes(n)){var a,l,u=new Fe(o,s,n,r.getTokenStream(),t);o.context=null!==(a=null===(l=r.tree)||void 0===l?void 0:l.accept(u))&&void 0!==a?a:null}})),e}},{key:"getJQLSuggestionsForCaretPosition",value:function(t){return this.mapToJQLSuggestions(this.getSuggestionsForCaretPosition(t))}},{key:"getJQLSuggestionsForTokenIndex",value:function(t){return this.mapToJQLSuggestions(this.getSuggestionsForTokenIndex(t))}},{key:"mapToJQLSuggestions",value:function(t){var e=t.tokens,r=t.rules,n={};return r.forEach((function(t,e){var r=(0,c.A)(t,2),i=r[0],o=r[1];switch(e){case dt.RULE_jqlField:n.field=i;break;case dt.RULE_jqlCustomField:n.customField=i;break;case dt.RULE_jqlEqualsOperator:case dt.RULE_jqlLikeOperator:case dt.RULE_jqlComparisonOperator:case dt.RULE_jqlInOperator:case dt.RULE_jqlIsOperator:case dt.RULE_jqlWasOperator:case dt.RULE_jqlWasInOperator:case dt.RULE_jqlChangedOperator:n.operator=i;break;case dt.RULE_jqlValue:Pe(o)||(n.value=i);break;case dt.RULE_jqlListStart:Pe(o)||(n.list=i);break;case dt.RULE_jqlFunction:Pe(o)||(n.function=i);break;case dt.RULE_jqlFieldProperty:n.fieldProperty=i;break;case dt.RULE_jqlArgument:for(var s=o.length-1;s>=0;s--){if(o[s]===dt.RULE_jqlFunction){n.functionArgument=i;break}if(o[s]===dt.RULE_jqlPropertyArgument){n.fieldPropertyArgument=i;break}if(o[s]===dt.RULE_jqlFieldProperty){n.fieldPropertyId=i;break}}}})),{tokens:e,rules:n}}},{key:"isCaretAtUnclosedString",value:function(t){return Ee.includes(t.type)}},{key:"overrideReplacePosition",value:function(t,e,r){if(e&&this.isCaretAtUnclosedString(e)){var n=(0,c.A)(r,2),i=n[0],o=n[1];return[void 0===t||this.isCaretAtDelimiterOrHiddenToken(t)?i:Math.min(t.startIndex,i),o]}return null}}],[{key:"fromText",value:function(t,e,n,i){var o=ye.CharStreams.fromString(t),s=new de(o),a=new ye.CommonTokenStream(s),l=new dt(a);return l.removeErrorListeners(),new r(l,e,n,i,l.jqlQuery())}},{key:"fromParser",value:function(t,e,n,i){return new r(t,e,n,i)}}]),r}(Oe),ze=r(78659),Ve=r.n(ze),Je=r(94394),He=r.n(Je);function We(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)r++;return r}if(i.content.size||o.content.size){let t=We(i.content,o.content,r+1);if(null!=t)return t}r+=i.nodeSize}else r+=i.nodeSize}}function Ge(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let t=0,e=Math.min(s.text.length,a.text.length);for(;t<e&&s.text[s.text.length-t-1]==a.text[a.text.length-t-1];)t++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let t=Ge(s.content,a.content,r-1,n-1);if(t)return t}r-=l,n-=l}else r-=l,n-=l}}class Ye{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,r,n=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),r,n+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,n){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{let l=s.isText?s.text.slice(Math.max(t,a)-a,e-a):s.isLeaf?n?"function"==typeof n?n(s):n:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&r&&(o?o=!1:i+=r),i+=l}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new Ye(n,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],n=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new Ye(r,n)}cutByIndex(t,e){return t==e?Ye.empty:0==t&&e==this.content.length?this:new Ye(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new Ye(n,i)}addToStart(t){return new Ye([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ye(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let n=this.content[e];t(n,r,e),r+=n.nodeSize}}findDiffStart(t,e=0){return We(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return Ge(this,t,e,r)}findIndex(t,e=-1){if(0==t)return $e(0,t);if(t==this.size)return $e(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?$e(r+1,i):$e(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return Ye.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ye(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ye.empty;let e,r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Ye(e||t,r)}static from(t){if(!t)return Ye.empty;if(t instanceof Ye)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ye([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ye.empty=new Ye([],0);const Ke={index:0,offset:0};function $e(t,e){return Ke.index=t,Ke.offset=e,Ke}function Qe(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Qe(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Qe(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Ze{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let n=0;n<t.length;n++){let i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Qe(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let n=r.create(e.attrs);return r.checkAttrs(n.attrs),n}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return Ze.none;if(t instanceof Ze)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}Ze.none=[];class Xe extends Error{}class tr{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=rr(this.content,t+this.openStart,e);return r&&new tr(r,this.openStart,this.openEnd)}removeBetween(t,e){return new tr(er(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return tr.empty;let r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new tr(Ye.fromJSON(t,e.content),r,n)}static maxOpen(t,e=!0){let r=0,n=0;for(let n=t.firstChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new tr(t,r,n)}}function er(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(i==e||o.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(er(o.content,e-i-1,r-i-1)))}function rr(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=rr(s.content,e-o-1,r);return a&&t.replaceChild(i,s.copy(a))}function nr(t,e,r){if(r.openStart>t.depth)throw new Xe("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Xe("Inconsistent open depths");return ir(t,e,r,0)}function ir(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=ir(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){let{start:i,end:s}=function(t,e){let r=e.depth-t.openStart,n=e.node(r).copy(t.content);for(let t=r-1;t>=0;t--)n=e.node(t).copy(Ye.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return cr(o,ur(t,i,s,e,n))}{let n=t.parent,i=n.content;return cr(n,i.cut(0,t.parentOffset).append(r.content).append(i.cut(e.parentOffset)))}}return cr(o,hr(t,e,n))}function or(t,e){if(!e.type.compatibleContent(t.type))throw new Xe("Cannot join "+e.type.name+" onto "+t.type.name)}function sr(t,e,r){let n=t.node(r);return or(n,e.node(r)),n}function ar(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function lr(t,e,r,n){let i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(ar(t.nodeAfter,n),o++));for(let t=o;t<s;t++)ar(i.child(t),n);e&&e.depth==r&&e.textOffset&&ar(e.nodeBefore,n)}function cr(t,e){return t.type.checkContent(e),t.copy(e)}function ur(t,e,r,n,i){let o=t.depth>i&&sr(t,e,i+1),s=n.depth>i&&sr(r,n,i+1),a=[];return lr(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(or(o,s),ar(cr(o,ur(t,e,r,n,i+1)),a)):(o&&ar(cr(o,hr(t,e,i+1)),a),lr(e,r,i,a),s&&ar(cr(s,hr(r,n,i+1)),a)),lr(n,null,i,a),new Ye(a)}function hr(t,e,r){let n=[];if(lr(null,t,r,n),t.depth>r){ar(cr(sr(t,e,r+1),hr(t,e,r+1)),n)}return lr(e,null,r,n),new Ye(n)}tr.empty=new tr(Ye.empty,0,0);class pr{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)n+=r.child(e).nodeSize;return n}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return Ze.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){let t=r;r=n,n=t}let i=r.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||n&&i[o].isInSet(n.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,n=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new gr(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],n=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),s=i-o;if(r.push(e,t,n+o),!s)break;if(e=e.child(t),e.isText)break;i=s-1,n+=o+1}return new pr(e,r,i)}static resolveCached(t,e){let r=yr.get(t);if(r)for(let t=0;t<r.elts.length;t++){let n=r.elts[t];if(n.pos==e)return n}else yr.set(t,r=new fr);let n=r.elts[r.i]=pr.resolve(t,e);return r.i=(r.i+1)%dr,n}}class fr{constructor(){this.elts=[],this.i=0}}const dr=12,yr=new WeakMap;class gr{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vr=Object.create(null);class mr{constructor(t,e,r,n=Ze.none){this.type=t,this.attrs=e,this.marks=n,this.content=r||Ye.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,n=0){this.content.nodesBetween(t,e,r,n,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&Qe(this.attrs,e||t.defaultAttrs||vr)&&Ze.sameSet(this.marks,r||Ze.none)}copy(t=null){return t==this.content?this:new mr(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new mr(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return tr.empty;let n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new tr(a,n.depth-o,i.depth-o)}replace(t,e,r){return nr(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:n}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(n==t||e.isText)return e;t-=n+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let n=this.content.child(e-1);return{node:n,index:e-1,offset:r-n.nodeSize}}resolve(t){return pr.resolveCached(this,t)}resolveNoCache(t){return pr.resolve(this,t)}rangeHasMark(t,e,r){let n=!1;return e>t&&this.nodesBetween(t,e,(t=>(r.isInSet(t.marks)&&(n=!0),!n))),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),xr(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=Ye.empty,n=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=n;t<i;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ze.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ze.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let n=Ye.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,n,r);return i.type.checkAttrs(i.attrs),i}}mr.prototype.text=void 0;function xr(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class br{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new Or(t,e);if(null==r.next)return br.empty;let n=Sr(r);r.next&&r.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return r(wr(t,0));function r(n){let i=[];n.forEach((e=>{t[e].forEach((({term:e,to:r})=>{if(!e)return;let n;for(let t=0;t<i.length;t++)i[t][0]==e&&(n=i[t][1]);wr(t,r).forEach((t=>{n||i.push([e,n=[]]),-1==n.indexOf(t)&&n.push(t)}))}))}));let o=e[n.join(",")]=new br(n.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(_r);o.next.push({type:i[t][0],next:e[n.join(",")]||r(n)})}return o}}(function(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){let i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,r)=>t.concat(o(r,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=r();return n(e,s),i(o(t.expr,s),s),[n(s)]}if("plus"==t.type){let s=r();return i(o(t.expr,e),s),i(o(t.expr,s),s),[n(s)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=r();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=r();n(s,e),i(o(t.expr,s),e),s=e}return[n(s)]}if("name"==t.type)return[n(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let n=0;;n++){let s=o(t.exprs[n],e);if(n==t.exprs.length-1)return s;i(s,e=r())}}}(n));return function(t,e){for(let r=0,n=[t];r<n.length;r++){let t=n[r],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:r,next:s}=t.next[e];o.push(r.name),!i||r.isText||r.hasRequiredAttrs()||(i=!1),-1==n.indexOf(s)&&n.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let n=this;for(let i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let n=[this];return function i(o,s){let a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return Ye.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:r}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==n.indexOf(r)){n.push(r);let t=i(r,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let n=r.shift(),i=n.match;if(i.matchType(t)){let t=[];for(let e=n;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||n.type&&!s.validEnd||(r.push({match:o.contentMatch,type:o,via:n}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let n=0;n<r.next.length;n++)-1==t.indexOf(r.next[n].next)&&e(r.next[n].next)}(this),t.map(((e,r)=>{let n=r+(e.validEnd?"*":" ")+" ";for(let r=0;r<e.next.length;r++)n+=(r?", ":"")+e.next[r].type.name+"->"+t.indexOf(e.next[r].next);return n})).join("\n")}}br.empty=new br(!0);class Or{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Sr(t){let e=[];do{e.push(Ar(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Ar(t){let e=[];do{e.push(Er(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Er(t){let e=function(t){if(t.eat("(")){let e=Sr(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let t in r){let n=r[t];n.isInGroup(e)&&i.push(n)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Nr(t,e)}return e}function Tr(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Nr(t,e){let r=Tr(t),n=r;return t.eat(",")&&(n="}"!=t.next?Tr(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function _r(t,e){return e-t}function wr(t,e){let r=[];return function e(n){let i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(let t=0;t<i.length;t++){let{term:n,to:o}=i[t];n||-1!=r.indexOf(o)||e(o)}}(e),r.sort(_r)}class kr{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let r=this.matchedStyles=[];e.forEach((t=>{if(function(t){return null!=t.tag}(t))this.tags.push(t);else if(function(t){return null!=t.style}(t)){let e=/[^=]*/.exec(t.style)[0];r.indexOf(e)<0&&r.push(e),this.styles.push(t)}})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let r=t.nodes[e.node];return r.contentMatch.matchType(r)}))}parse(t,e={}){let r=new Lr(this,e,!1);return r.addAll(t,Ze.none,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new Lr(this,e,!0);return r.addAll(t,Ze.none,e.from,e.to),tr.maxOpen(r.finish())}matchTag(t,e,r){for(let n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){let r=this.tags[n];if(Mr(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}matchStyle(t,e,r,n){for(let i=n?this.styles.indexOf(n)+1:0;i<this.styles.length;i++){let n=this.styles[i],o=n.style;if(!(0!=o.indexOf(t)||n.context&&!r.matchesContext(n.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}static schemaRules(t){let e=[];function r(t){let r=null==t.priority?50:t.priority,n=0;for(;n<e.length;n++){let t=e[n];if((null==t.priority?50:t.priority)<r)break}e.splice(n,0,t)}for(let e in t.marks){let n=t.marks[e].spec.parseDOM;n&&n.forEach((t=>{r(t=Dr(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let n=t.nodes[e].spec.parseDOM;n&&n.forEach((t=>{r(t=Dr(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new kr(t,kr.schemaRules(t)))}}const Cr={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Rr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Pr={ol:!0,ul:!0};function Ir(t,e,r){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&r}class jr{constructor(t,e,r,n,i,o){this.type=t,this.attrs=e,this.marks=r,this.solid=n,this.options=o,this.content=[],this.activeMarks=Ze.none,this.match=i||(4&o?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Ye.from(t));if(!e){let e,r=this.type.contentMatch;return(e=r.findWrapping(t.type))?(this.match=r,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let r=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}let e=Ye.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(Ye.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Cr.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Lr{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let n,i=e.topNode,o=Ir(null,e.preserveWhitespace,0)|(r?4:0);n=i?new jr(i.type,i.attrs,Ze.none,!0,e.topMatch||i.type.contentMatch,o):new jr(r?null:t.schema.topNodeType,null,Ze.none,!0,null,o),this.nodes=[n],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let r=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&n.options)r=2&n.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let e=n.content[n.content.length-1],i=t.previousSibling;(!e||i&&"BR"==i.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,r){let n,i=t.nodeName.toLowerCase();Pr.hasOwnProperty(i)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&Pr.hasOwnProperty(t)&&r?(r.appendChild(e),e=r):"li"==t?r=e:t&&(r=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,r));if(o?o.ignore:Rr.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let r,n=this.top,s=this.needsBlock;if(Cr.hasOwnProperty(i))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),r=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t,e);let a=o&&o.skip?e:this.readStyles(t,e);a&&this.addAll(t,a),r&&this.sync(n),this.needsBlock=s}else{let r=this.readStyles(t,e);r&&this.addElementByRule(t,o,r,!1===o.consuming?n:void 0)}}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let r=t.style;if(r&&r.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let n=this.parser.matchedStyles[t],i=r.getPropertyValue(n);if(i)for(let t;;){let r=this.parser.matchStyle(n,i,this,t);if(!r)break;if(r.ignore)return null;if(e=r.clearMark?e.filter((t=>!r.clearMark(t))):e.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;t=r}}return e}addElementByRule(t,e,r,n){let i,o;if(e.node)if(o=this.parser.schema.nodes[e.node],o.isLeaf)this.insertNode(o.create(e.attrs),r)||this.leafFallback(t,r);else{let t=this.enter(o,e.attrs||null,r,e.preserveWhitespace);t&&(i=!0,r=t)}else{let t=this.parser.schema.marks[e.mark];r=r.concat(t.create(e.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,r,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t,r)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n,r),this.findAround(t,n,!1)}i&&this.sync(s)&&this.open--}addAll(t,e,r,n){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,e);this.findAtPoint(t,i)}findPlace(t,e){let r,n;for(let e=this.open;e>=0;e--){let i=this.nodes[e],o=i.findWrapping(t);if(o&&(!r||r.length>o.length)&&(r=o,n=i,!o.length))break;if(i.solid)break}if(!r)return null;this.sync(n);for(let t=0;t<r.length;t++)e=this.enterInner(r[t],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(e=this.enterInner(t,null,e))}let r=this.findPlace(t,e);if(r){this.closeExtra();let e=this.top;e.match&&(e.match=e.match.matchType(t.type));let n=Ze.none;for(let i of r.concat(t.marks))(e.type?e.type.allowsMarkType(i.type):qr(i.type,t.type))&&(n=i.addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,r,n){let i=this.findPlace(t.create(e),r);return i&&(i=this.enterInner(t,e,r,!0,n)),i}enterInner(t,e,r,n=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let s=Ir(t,i,o.options);4&o.options&&0==o.content.length&&(s|=4);let a=Ze.none;return r=r.filter((e=>!(o.type?o.type.allowsMarkType(e.type):qr(e.type,t))||(a=e.addToSet(a),!1))),this.nodes.push(new jr(t,e,a,n,null,s)),this.open++,r}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let e=r.length-1;e>=0;e--)t+=r[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let n=0;n<this.find.length;n++)if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)){e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,n=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(n?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&n?this.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!t||t.name!=a&&!t.isInGroup(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Mr(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Dr(t){let e={};for(let r in t)e[r]=t[r];return e}function qr(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let r=0;r<t.edgeCount;r++){let{type:n,next:i}=t.edge(r);if(n==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class Fr{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=Ur(e).createDocumentFragment());let n=r,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let r=0,o=0;for(;r<i.length&&o<t.marks.length;){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[r][0])||!1===e.type.spec.spanning)break;r++,o++}else o++}for(;r<i.length;)n=i.pop()[1];for(;o<t.marks.length;){let r=t.marks[o++],s=this.serializeMark(r,t.isInline,e);s&&(i.push([r,n]),n.appendChild(s.dom),n=s.contentDOM||s.dom)}}n.appendChild(this.serializeNodeInner(t,e))})),r}serializeNodeInner(t,e){let{dom:r,contentDOM:n}=Jr(Ur(e),this.nodes[t.type.name](t),null,t.attrs);if(n){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,n)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let n=t.marks.length-1;n>=0;n--){let i=this.serializeMark(t.marks[n],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,e,r={}){let n=this.marks[t.type.name];return n&&Jr(Ur(r),n(t,e),null,t.attrs)}static renderSpec(t,e,r=null,n){return Jr(t,e,r,n)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Fr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=Br(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return Br(t.marks)}}function Br(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Ur(t){return t.document||window.document}const zr=new WeakMap;function Vr(t){let e=zr.get(t);return void 0===e&&zr.set(t,e=function(t){let e=null;function r(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])e||(e=[]),e.push(t);else for(let e=0;e<t.length;e++)r(t[e]);else for(let e in t)r(t[e])}return r(t),e}(t)),e}function Jr(t,e,r,n){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let i,o=e[0];if("string"!=typeof o)throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=Vr(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=o.indexOf(" ");a>0&&(r=o.slice(0,a),o=o.slice(a+1));let l=r?t.createElementNS(r,o):t.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let t in c)if(null!=c[t]){let e=t.indexOf(" ");e>0?l.setAttributeNS(t.slice(0,e),t.slice(e+1),c[t]):l.setAttribute(t,c[t])}}for(let i=u;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:e,contentDOM:i}=Jr(t,o,r,n);if(l.appendChild(e),i){if(s)throw new RangeError("Multiple content holes");s=i}}}return{dom:l,contentDOM:s}}const Hr=Math.pow(2,16);function Wr(t){return 65535&t}class Gr{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Yr{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&Yr.empty)return Yr.empty}recover(t){let e=0,r=Wr(t);if(!this.inverted)for(let t=0;t<r;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+e+function(t){return(t-(65535&t))/Hr}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let n=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;let l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(t<=u){let i=a+n+((l?t==a?-1:t==u?1:e:e)<0?0:c);if(r)return i;let o=t==(e<0?a:u)?null:s/3+(t-a)*Hr,h=t==a?2:t==u?1:4;return(e<0?t!=a:t!=u)&&(h|=8),new Gr(i,h,o)}n+=c-l}return r?t+n:new Gr(t+n,0,null)}touches(t,e){let r=0,n=Wr(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let s=this.ranges[e]-(this.inverted?r:0);if(s>t)break;let a=this.ranges[e+i];if(t<=s+a&&e==3*n)return!0;r+=this.ranges[e+o]-a}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let n=0,i=0;n<this.ranges.length;n+=3){let o=this.ranges[n],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[n+e],c=this.ranges[n+r];t(s,s+l,a,a+c),i+=c-l}}invert(){return new Yr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Yr.empty:new Yr(t<0?[0,-t,0]:[0,0,t])}}Yr.empty=new Yr([]);const Kr=Object.create(null);class $r{getMap(){return Yr.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Kr[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Kr)throw new RangeError("Duplicate use of step JSON ID "+t);return Kr[t]=e,e.prototype.jsonID=t,e}}class Qr{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Qr(t,null)}static fail(t){return new Qr(null,t)}static fromReplace(t,e,r,n){try{return Qr.ok(t.replace(e,r,n))}catch(t){if(t instanceof Xe)return Qr.fail(t.message);throw t}}}function Zr(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Zr(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return Ye.fromArray(n)}class Xr extends $r{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),n=r.node(r.sharedDepth(this.to)),i=new tr(Zr(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),n),e.openStart,e.openEnd);return Qr.fromReplace(t,this.from,this.to,i)}invert(){return new tn(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Xr(e.pos,r.pos,this.mark)}merge(t){return t instanceof Xr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Xr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xr(e.from,e.to,t.markFromJSON(e.mark))}}$r.jsonID("addMark",Xr);class tn extends $r{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new tr(Zr(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return Qr.fromReplace(t,this.from,this.to,r)}invert(){return new Xr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new tn(e.pos,r.pos,this.mark)}merge(t){return t instanceof tn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new tn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tn(e.from,e.to,t.markFromJSON(e.mark))}}$r.jsonID("removeMark",tn);class en extends $r{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Qr.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Qr.fromReplace(t,this.pos,this.pos+1,new tr(Ye.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(t))return new en(this.pos,e.marks[r]);return new en(this.pos,this.mark)}}return new rn(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new en(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new en(e.pos,t.markFromJSON(e.mark))}}$r.jsonID("addNodeMark",en);class rn extends $r{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Qr.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Qr.fromReplace(t,this.pos,this.pos+1,new tr(Ye.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new en(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new rn(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new rn(e.pos,t.markFromJSON(e.mark))}}$r.jsonID("removeNodeMark",rn);class nn extends $r{constructor(t,e,r,n=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=n}apply(t){return this.structure&&sn(t,this.from,this.to)?Qr.fail("Structure replace would overwrite content"):Qr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Yr([this.from,this.to-this.from,this.slice.size])}invert(t){return new nn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new nn(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof nn)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?tr.empty:new tr(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new nn(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?tr.empty:new tr(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new nn(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nn(e.from,e.to,tr.fromJSON(t,e.slice),!!e.structure)}}$r.jsonID("replace",nn);class on extends $r{constructor(t,e,r,n,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=n,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(sn(t,this.from,this.gapFrom)||sn(t,this.gapTo,this.to)))return Qr.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Qr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?Qr.fromReplace(t,this.from,this.to,r):Qr.fail("Content does not fit in gap")}getMap(){return new Yr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new on(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||n<e.pos||i>r.pos?null:new on(e.pos,r.pos,n,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new on(e.from,e.to,e.gapFrom,e.gapTo,tr.fromJSON(t,e.slice),e.insert,!!e.structure)}}function sn(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let t=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}$r.jsonID("replaceAround",on);class an extends $r{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return Qr.fail("No node at attribute step's position");let r=Object.create(null);for(let t in e.attrs)r[t]=e.attrs[t];r[this.attr]=this.value;let n=e.type.create(r,null,e.marks);return Qr.fromReplace(t,this.pos,this.pos+1,new tr(Ye.from(n),0,e.isLeaf?0:1))}getMap(){return Yr.empty}invert(t){return new an(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new an(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new an(e.pos,e.attr,e.value)}}$r.jsonID("attr",an);class ln extends $r{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let r=t.type.create(e,t.content,t.marks);return Qr.ok(r)}getMap(){return Yr.empty}invert(t){return new ln(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ln(e.attr,e.value)}}$r.jsonID("docAttr",ln);let cn=class extends Error{};cn=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},(cn.prototype=Object.create(Error.prototype)).constructor=cn,cn.prototype.name="TransformError";const un=Object.create(null);class hn{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new pn(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=tr.empty){let r=e.content.lastChild,n=null;for(let t=0;t<e.openEnd;t++)n=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:l}=o[s],c=t.mapping.slice(i);t.replaceRange(c.map(a.pos),c.map(l.pos),s?tr.empty:e),0==s&&Sn(t,i,(r?r.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:o,$to:s}=n[i],a=t.mapping.slice(r),l=a.map(o.pos),c=a.map(s.pos);i?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),Sn(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let n=t.parent.inlineContent?new yn(t):On(t.node(0),t.parent,t.pos,t.index(),e,r);if(n)return n;for(let n=t.depth-1;n>=0;n--){let i=e<0?On(t.node(0),t.node(n),t.before(n+1),t.index(n),e,r):On(t.node(0),t.node(n),t.after(n+1),t.index(n)+1,e,r);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new xn(t.node(0))}static atStart(t){return On(t,t,0,0,1)||new xn(t)}static atEnd(t){return On(t,t,t.content.size,t.childCount,-1)||new xn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=un[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in un)throw new RangeError("Duplicate use of selection JSON ID "+t);return un[t]=e,e.prototype.jsonID=t,e}getBookmark(){return yn.between(this.$anchor,this.$head).getBookmark()}}hn.prototype.visible=!0;class pn{constructor(t,e){this.$from=t,this.$to=e}}let fn=!1;function dn(t){fn||t.parent.inlineContent||(fn=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class yn extends hn{constructor(t,e=t){dn(t),dn(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return hn.near(r);let n=t.resolve(e.map(this.anchor));return new yn(n.parent.inlineContent?n:r,r)}replace(t,e=tr.empty){if(super.replace(t,e),e==tr.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof yn&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new gn(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new yn(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let n=t.resolve(e);return new this(n,r==e?n:t.resolve(r))}static between(t,e,r){let n=t.pos-e.pos;if(r&&!n||(r=n>=0?1:-1),!e.parent.inlineContent){let t=hn.findFrom(e,r,!0)||hn.findFrom(e,-r,!0);if(!t)return hn.near(e,r);e=t.$head}return t.parent.inlineContent||(0==n||(t=(hn.findFrom(t,-r,!0)||hn.findFrom(t,r,!0)).$anchor).pos<e.pos!=n<0)&&(t=e),new yn(t,e)}}hn.jsonID("text",yn);class gn{constructor(t,e){this.anchor=t,this.head=e}map(t){return new gn(t.map(this.anchor),t.map(this.head))}resolve(t){return yn.between(t.resolve(this.anchor),t.resolve(this.head))}}class vn extends hn{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:n}=e.mapResult(this.anchor),i=t.resolve(n);return r?hn.near(i):new vn(i)}content(){return new tr(Ye.from(this.node),0,0)}eq(t){return t instanceof vn&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mn(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new vn(t.resolve(e.anchor))}static create(t,e){return new vn(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}vn.prototype.visible=!1,hn.jsonID("node",vn);class mn{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new gn(r,r):new mn(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&vn.isSelectable(r)?new vn(e):hn.near(e)}}class xn extends hn{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=tr.empty){if(e==tr.empty){t.delete(0,t.doc.content.size);let e=hn.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new xn(t)}map(t){return new xn(t)}eq(t){return t instanceof xn}getBookmark(){return bn}}hn.jsonID("all",xn);const bn={map(){return this},resolve:t=>new xn(t)};function On(t,e,r,n,i,o=!1){if(e.inlineContent)return yn.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let n=e.child(s);if(n.isAtom){if(!o&&vn.isSelectable(n))return vn.create(t,r-(i<0?n.nodeSize:0))}else{let e=On(t,n,r+i,i<0?n.childCount:0,i,o);if(e)return e}r+=n.nodeSize*i}return null}function Sn(t,e,r){let n=t.steps.length-1;if(n<e)return;let i,o=t.steps[n];(o instanceof nn||o instanceof on)&&(t.mapping.maps[n].forEach(((t,e,r,n)=>{null==i&&(i=n)})),t.setSelection(hn.near(t.doc.resolve(i),r)))}function An(t,e){return e&&t?t.bind(e):t}class En{constructor(t,e,r){this.name=t,this.init=An(e.init,r),this.apply=An(e.apply,r)}}new En("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new En("selection",{init:(t,e)=>t.selection||hn.atStart(e.doc),apply:t=>t.selection}),new En("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,r,n)=>n.selection.$cursor?t.storedMarks:null}),new En("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e});Object.create(null);var Tn={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Nn=/Edge\/(\d+)/.exec(navigator.userAgent),_n=/MSIE \d/.test(navigator.userAgent),wn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),kn=Tn.ie=!!(_n||wn||Nn);Tn.ie_version=_n?document.documentMode||6:wn?+wn[1]:Nn?+Nn[1]:null,Tn.gecko=!kn&&/gecko\/(\d+)/i.test(navigator.userAgent),Tn.gecko_version=Tn.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Cn=!kn&&/Chrome\/(\d+)/.exec(navigator.userAgent);Tn.chrome=!!Cn,Tn.chrome_version=Cn&&+Cn[1],Tn.safari=!kn&&/Apple Computer/.test(navigator.vendor),Tn.ios=Tn.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Tn.mac=Tn.ios||/Mac/.test(navigator.platform),Tn.android=/Android \d/.test(navigator.userAgent),Tn.webkit="webkitFontSmoothing"in document.documentElement.style,Tn.webkit_version=Tn.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Rn=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Pn=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},In=null,jn=function(t,e,r){var n=In||(In=document.createRange());return n.setEnd(t,null==r?t.nodeValue.length:r),n.setStart(t,e||0),n},Ln=function(t,e,r,n){return r&&(Dn(t,e,r,n,-1)||Dn(t,e,r,n,1))},Mn=/^(img|br|input|textarea|hr)$/i;function Dn(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:qn(t))){var o=t.parentNode;if(!o||1!=o.nodeType||Fn(t)||Mn.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Rn(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?qn(t):0}}}function qn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Fn(t){for(var e,r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Bn=function(t){var e=t.isCollapsed;return e&&Tn.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Un(t,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function zn(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vn(t,e){return"number"==typeof t?t:t[e]}function Jn(t){var e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function Hn(t,e,r){for(var n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=r||t.dom;s;s=Pn(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?zn(o):Jn(s),c=0,u=0;if(e.top<l.top+Vn(n,"top")?u=-(l.top-e.top+Vn(i,"top")):e.bottom>l.bottom-Vn(n,"bottom")&&(u=e.bottom-l.bottom+Vn(i,"bottom")),e.left<l.left+Vn(n,"left")?c=-(l.left-e.left+Vn(i,"left")):e.right>l.right-Vn(n,"right")&&(c=e.right-l.right+Vn(i,"right")),c||u)if(a)o.defaultView.scrollBy(c,u);else{var h=s.scrollLeft,p=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var f=s.scrollLeft-h,d=s.scrollTop-p;e={left:e.left-f,top:e.top-d,right:e.right-f,bottom:e.bottom-d}}if(a)break}}function Wn(t){for(var e=[],r=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=r);t=Pn(t));return e}function Gn(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=n.dom,o=n.top,s=n.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var Yn=null;function Kn(t,e){for(var r,n,i=2e8,o=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=jn(l).getClientRects()}for(var h=0;h<u.length;h++){var p=u[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var f=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(f<i){r=l,i=f,n=f&&3==r.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==l.nodeType&&f&&(o=c+(e.left>=(p.left+p.right)/2?1:0));continue}}!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=c+1)}}return r&&3==r.nodeType?function(t,e){for(var r=t.nodeValue.length,n=document.createRange(),i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);var o=Xn(n,1);if(o.top!=o.bottom&&$n(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(r,n):!r||i&&1==r.nodeType?{node:t,offset:o}:Kn(r,n)}function $n(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Qn(t,e,r){var n=t.childNodes.length;if(n&&r.top<r.bottom)for(var i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){var s=t.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if($n(e,c))return Qn(s,e,c)}if((o=(o+1)%n)==i)break}return t}function Zn(t,e){var r,n,i,o,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(i=(r=a).offsetNode,o=r.offset)}catch(t){}if(!i&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(e.left,e.top);l&&(i=(n=l).startContainer,o=n.startOffset)}var c,u=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var h=t.dom.getBoundingClientRect();if(!$n(e,h))return null;if(!(u=Qn(t.dom,e,h)))return null}if(Tn.safari)for(var p=u;i&&p;p=Pn(p))p.draggable&&(i=o=null);if(u=function(t,e){var r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}(u,e),i){if(Tn.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var f,d=i.childNodes[o];"IMG"==d.nodeName&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(c=function(t,e,r,n){for(var i=-1,o=e;o!=t.dom;){var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>n.left||a.top>n.top)i=s.posBefore;else{if(!(a.right<n.left||a.bottom<n.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r)}(t,i,o,e))}null==c&&(c=function(t,e,r){var n=Kn(e,r),i=n.node,o=n.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}(t,u,e));var y=t.docView.nearestDesc(u,!0);return{pos:c,inside:y?y.posAtStart-y.border:-1}}function Xn(t,e){var r=t.getClientRects();return r.length?r[e<0?0:r.length-1]:t.getBoundingClientRect()}var ti=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ei(t,e,r){var n=t.docView.domFromPos(e,r<0?-1:1),i=n.node,o=n.offset,s=Tn.webkit||Tn.gecko;if(3==i.nodeType){if(!s||!ti.test(i.nodeValue)&&(r<0?o:o!=i.nodeValue.length)){var a=o,l=o,c=r<0?1:-1;return r<0&&!o?(l++,c=-1):r>=0&&o==i.nodeValue.length?(a--,c=1):r<0?a--:l++,ri(Xn(jn(i,a,l),c),c<0)}var u=Xn(jn(i,o,o),r);if(Tn.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var h=Xn(jn(i,o-1,o-1),-1);if(h.top==u.top){var p=Xn(jn(i,o,o+1),-1);if(p.top!=u.top)return ri(p,p.left<h.left)}}return u}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(r<0||o==qn(i))){var f=i.childNodes[o-1];if(1==f.nodeType)return ni(f.getBoundingClientRect(),!1)}if(o<qn(i)){var d=i.childNodes[o];if(1==d.nodeType)return ni(d.getBoundingClientRect(),!0)}return ni(i.getBoundingClientRect(),r>=0)}if(o&&(r<0||o==qn(i))){var y=i.childNodes[o-1],g=3==y.nodeType?jn(y,qn(y)-(s?0:1)):1!=y.nodeType||"BR"==y.nodeName&&y.nextSibling?null:y;if(g)return ri(Xn(g,1),!1)}if(o<qn(i)){for(var v=i.childNodes[o];v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;var m=v?3==v.nodeType?jn(v,0,s?0:1):1==v.nodeType?v:null:null;if(m)return ri(Xn(m,-1),!0)}return ri(Xn(3==i.nodeType?jn(i):i,-r),r>=0)}function ri(t,e){if(0==t.width)return t;var r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function ni(t,e){if(0==t.height)return t;var r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function ii(t,e,r){var n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}var oi=/[\u0590-\u08ac]/;var si=null,ai=null,li=!1;function ci(t,e,r){return si==e&&ai==r?li:(si=e,ai=r,li="up"==r||"down"==r?function(t,e,r){var n=e.selection,i="up"==r?n.$from:n.$to;return ii(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==r?-1:1).node;;){var n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}for(var o=ei(t,i.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=jn(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top+1&&("up"==r?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(t,e,r):function(t,e,r){var n=e.selection.$head;if(!n.parent.isTextblock)return!1;var i=n.parentOffset,o=!i,s=i==n.parent.content.size,a=t.root.getSelection();return oi.test(n.parent.textContent)&&a.modify?ii(t,e,(function(){var e=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",r,"character");var l=!(n.depth?t.docView.domAfterPos(n.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),l})):"left"==r||"backward"==r?o:s}(t,e,r))}var ui=function(t,e,r,n){this.parent=t,this.children=e,this.dom=r,r.pmViewDesc=this,this.contentDOM=n,this.dirty=0},hi={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};ui.prototype.matchesWidget=function(){return!1},ui.prototype.matchesMark=function(){return!1},ui.prototype.matchesNode=function(){return!1},ui.prototype.matchesHack=function(t){return!1},ui.prototype.parseRule=function(){return null},ui.prototype.stopEvent=function(){return!1},hi.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},hi.border.get=function(){return 0},ui.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},ui.prototype.posBeforeChild=function(t){for(var e=0,r=this.posAtStart;e<this.children.length;e++){var n=this.children[e];if(n==t)return r;r+=n.size}},hi.posBefore.get=function(){return this.parent.posBeforeChild(this)},hi.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},hi.posAfter.get=function(){return this.posBefore+this.size},hi.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},ui.prototype.localPosFromDOM=function(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){var n,i;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>Rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?r>0:a)?this.posAtEnd:this.posAtStart},ui.prototype.nearestDesc=function(t,e){for(var r=!0,n=t;n;n=n.parentNode){var i=this.getDesc(n);if(i&&(!e||i.node)){if(!r||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;r=!1}}},ui.prototype.getDesc=function(t){for(var e=t.pmViewDesc,r=e;r;r=r.parent)if(r==this)return e},ui.prototype.posFromDOM=function(t,e,r){for(var n=t;n;n=n.parentNode){var i=this.getDesc(n);if(i)return i.localPosFromDOM(t,e,r)}return-1},ui.prototype.descAt=function(t){for(var e=0,r=0;e<this.children.length;e++){var n=this.children[e],i=r+n.size;if(r==t&&i!=r){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(t<i)return n.descAt(t-r-n.border);r=i}},ui.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,n=0,i=0;r<this.children.length;r++){var o=this.children[r],s=i+o.size;if(s>t||o instanceof xi){n=t-i;break}i=s}if(n)return this.children[r].domFromPos(n-this.children[r].border,e);for(var a=void 0;r&&!(a=this.children[r-1]).size&&a instanceof fi&&a.widget.type.side>=0;r--);if(e<=0){for(var l,c=!0;(l=r?this.children[r-1]:null)&&l.dom.parentNode!=this.contentDOM;r--,c=!1);return l&&e&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,e):{node:this.contentDOM,offset:l?Rn(l.dom)+1:0}}for(var u,h=!0;(u=r<this.children.length?this.children[r]:null)&&u.dom.parentNode!=this.contentDOM;r++,h=!1);return u&&h&&!u.border&&!u.domAtom?u.domFromPos(0,e):{node:this.contentDOM,offset:u?Rn(u.dom):this.contentDOM.childNodes.length}},ui.prototype.parseRange=function(t,e,r){if(void 0===r&&(r=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var n=-1,i=-1,o=r,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==n&&t<=l){var c=o+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=o;for(var u=s;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){n=Rn(h.dom)+1;break}t-=h.size}-1==n&&(n=0)}if(n>-1&&(l>e||s==this.children.length-1)){e=l;for(var p=s+1;p<this.children.length;p++){var f=this.children[p];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Rn(f.dom);break}e+=f.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:n,toOffset:i}},ui.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},ui.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),r=e.node,n=e.offset;if(1!=r.nodeType||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]},ui.prototype.setSelection=function(t,e,r,n){for(var i=Math.min(t,e),o=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(i>a&&o<c)return l.setSelection(t-a-l.border,e-a-l.border,r,n);a=c}var u=this.domFromPos(t,t?-1:1),h=e==t?u:this.domFromPos(e,e?-1:1),p=r.getSelection(),f=!1;if((Tn.gecko||Tn.safari)&&t==e){var d=u.node,y=u.offset;if(3==d.nodeType){if((f=y&&"\n"==d.nodeValue[y-1])&&y==d.nodeValue.length)for(var g=d,v=void 0;g;g=g.parentNode){if(v=g.nextSibling){"BR"==v.nodeName&&(u=h={node:v.parentNode,offset:Rn(v)+1});break}var m=g.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{var x=d.childNodes[y-1];f=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(Tn.gecko&&p.focusNode&&p.focusNode!=h.node&&1==p.focusNode.nodeType){var b=p.focusNode.childNodes[p.focusOffset];b&&"false"==b.contentEditable&&(n=!0)}if(n||f&&Tn.safari||!Ln(u.node,u.offset,p.anchorNode,p.anchorOffset)||!Ln(h.node,h.offset,p.focusNode,p.focusOffset)){var O=!1;if((p.extend||t==e)&&!f){p.collapse(u.node,u.offset);try{t!=e&&p.extend(h.node,h.offset),O=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!O){if(t>e){var S=u;u=h,h=S}var A=document.createRange();A.setEnd(h.node,h.offset),A.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(A)}}},ui.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},hi.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},ui.prototype.markDirty=function(t,e){for(var r=0,n=0;n<this.children.length;n++){var i=this.children[n],o=r+i.size;if(r==o?t<=o&&e>=r:t<o&&e>r){var s=r+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==r||e==o?2:1,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}r=o}this.dirty=2},ui.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var r=1==t?2:1;e.dirty<r&&(e.dirty=r)}},hi.domAtom.get=function(){return!1},hi.ignoreForCoords.get=function(){return!1},Object.defineProperties(ui.prototype,hi);var pi=[],fi=function(t){function e(e,r,n,i){var o,s=r.type.toDOM;if("function"==typeof s&&(s=s(n,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!r.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,pi,s,null),this.widget=r,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},r.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,r),e}(ui),di=function(t){function e(e,r,n,i){t.call(this,e,pi,r,null),this.textDOM=n,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return r.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,r),e}(ui),yi=function(t){function e(e,r,n,i){t.call(this,e,[],n,i),this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,r,n,i){var o=i.nodeViews[r.type.name],s=o&&o(r,i,n);return s&&s.dom||(s=Fr.renderSpec(document,r.type.spec.toDOM(r,n))),new e(t,r,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,r){if(t.prototype.markDirty.call(this,e,r),0!=this.dirty){for(var n=this.parent;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,r,n){var i=e.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;r<s&&(o=Pi(o,r,s,n)),t>0&&(o=Pi(o,0,t,n));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(ui),gi=function(t){function e(e,r,n,i,o,s,a,l,c){t.call(this,e,r.isLeaf?pi:[],o,s),this.nodeDOM=a,this.node=r,this.outerDeco=n,this.innerDeco=i,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,r,n,i,o,s){var a,l,c=o.nodeViews[r.type.name],u=c&&c(r,o,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),n,i),h=u&&u.dom,p=u&&u.contentDOM;if(r.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(r.text);else h||(h=(a=Fr.renderSpec(document,r.type.spec.toDOM(r))).dom,p=a.contentDOM);p||r.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),r.type.spec.draggable&&(h.draggable=!0));var f=h;return h=_i(h,n,r),u?l=new bi(t,r,n,i,h,p,f,u,o,s+1):r.isText?new mi(t,r,n,i,h,f,o):new e(t,r,n,i,h,p,f,o,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return"pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?Ye.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,r){return 0==this.dirty&&t.eq(this.node)&&wi(e,this.outerDeco)&&r.eq(this.innerDeco)},r.size.get=function(){return this.node.nodeSize},r.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var r=this,n=this.node.inlineContent,i=e,o=t.composing&&this.localCompositionInfo(t,e),s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Ci(this,s&&s.node);!function(t,e,r,n){var i=e.locals(t),o=0;if(0==i.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);n(a,i,e.forChild(o,a),s),o+=a.nodeSize}return}for(var l=0,c=[],u=null,h=0;;){if(l<i.length&&i[l].to==o){for(var p=i[l++],f=void 0;l<i.length&&i[l].to==o;)(f||(f=[p])).push(i[l++]);if(f){f.sort(Ri);for(var d=0;d<f.length;d++)r(f[d],h,!!u)}else r(p,h,!!u)}var y=void 0,g=void 0;if(u)g=-1,y=u,u=null;else{if(!(h<t.childCount))break;g=h,y=t.child(h++)}for(var v=0;v<c.length;v++)c[v].to<=o&&c.splice(v--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var m=o+y.nodeSize;if(y.isText){var x=m;l<i.length&&i[l].from<x&&(x=i[l].from);for(var b=0;b<c.length;b++)c[b].to<x&&(x=c[b].to);x<m&&(u=y.cut(x-o),y=y.cut(0,x-o),m=x,g=-1)}n(y,c.length?y.isInline&&!y.isLeaf?c.filter((function(t){return!t.inline})):c.slice():pi,e.forChild(o,y),g),o=m}}(this.node,this.innerDeco,(function(e,o,s){e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&l.syncToMarks(o==r.node.childCount?Ze.none:r.node.child(o).marks,n,t),l.placeWidget(e,t,i)}),(function(e,r,s,c){var u;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,r,s,c)||a&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,r,s,u,t)||l.updateNextNode(e,r,s,t,c)||l.addNode(e,r,s,t,i),i+=e.nodeSize})),l.syncToMarks(pi,n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),Oi(this.contentDOM,this.children,t),Tn.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var r=t.state.selection,n=r.from,i=r.to;if(!(!(t.state.selection instanceof yn)||n<e||i>e+this.node.content.size)){var o=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=qn(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,l=function(t,e,r,n){for(var i=0,o=0;i<t.childCount&&o<=n;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;i<t.childCount;){var c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r&&a<n){var u=l.lastIndexOf(e,n-a-1);if(u>=0&&u+e.length+a>=r)return a+u}}}return-1}(this.node.content,a,n-e,i-e);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var r=e.node,n=e.pos,i=e.text;if(!this.getDesc(r)){for(var o=r;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new di(this,o,r,i);t.compositionNodes.push(s),this.children=Pi(this.children,n,n+i.length,t,s)}},e.prototype.update=function(t,e,r,n){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,r,n),!0)},e.prototype.updateInner=function(t,e,r,n){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!wi(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=Ti(this.dom,this.nodeDOM,Ei(this.outerDeco,this.node,e),Ei(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},r.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,r),e}(ui);function vi(t,e,r,n,i){return _i(n,e,t),new gi(null,t,e,r,n,n,n,i,0)}var mi=function(t){function e(e,r,n,i,o,s,a){t.call(this,e,r,n,i,o,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,r,n){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,r,n)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,r,n){var i=this.node.cut(t,r),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)},e.prototype.markDirty=function(e,r){t.prototype.markDirty.call(this,e,r),this.dom==this.nodeDOM||0!=e&&r!=this.nodeDOM.nodeValue.length||(this.dirty=3)},r.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,r),e}(gi),xi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},r.domAtom.get=function(){return!0},r.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,r),e}(ui),bi=function(t){function e(e,r,n,i,o,s,a,l,c,u){t.call(this,e,r,n,i,o,s,a,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,r,n,i){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,r,n,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):t.prototype.setSelection.call(this,e,r,n,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(gi);function Oi(t,e,r){for(var n=t.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=n;)n=ki(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(s instanceof yi){var l=n?n.previousSibling:t.lastChild;Oi(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=ki(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}function Si(t){t&&(this.nodeName=t)}Si.prototype=Object.create(null);var Ai=[new Si];function Ei(t,e,r){if(0==t.length)return Ai;for(var n=r?Ai[0]:new Si,i=[n],o=0;o<t.length;o++){var s=t[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(n=new Si(s.nodeName)),s){var l=s[a];null!=l&&(r&&1==i.length&&i.push(n=new Si(e.isInline?"span":"div")),"class"==a?n.class=(n.class?n.class+" ":"")+l:"style"==a?n.style=(n.style?n.style+";":"")+l:"nodeName"!=a&&(n[a]=l))}}return i}function Ti(t,e,r,n){if(r==Ai&&n==Ai)return e;for(var i=e,o=0;o<n.length;o++){var s=n[o],a=r[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(i),a=Ai[0]),i=l}Ni(i,a||Ai[0],s)}return i}function Ni(t,e,r){for(var n in e)"class"==n||"style"==n||"nodeName"==n||n in r||t.removeAttribute(n);for(var i in r)"class"!=i&&"style"!=i&&"nodeName"!=i&&r[i]!=e[i]&&t.setAttribute(i,r[i]);if(e.class!=r.class){for(var o=e.class?e.class.split(" ").filter(Boolean):pi,s=r.class?r.class.split(" ").filter(Boolean):pi,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&t.classList.add(s[l]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);r.style&&(t.style.cssText+=r.style)}}function _i(t,e,r){return Ti(t,t,Ai,Ei(e,r,1!=t.nodeType))}function wi(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function ki(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ci=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){var r=e,n=r.children.length,i=t.childCount,o=new Map,s=[];t:for(;i>0;){for(var a=void 0;;)if(n){var l=r.children[n-1];if(!(l instanceof yi)){a=l,n--;break}r=l,n=l.children.length}else{if(r==e)break t;n=r.parent.children.indexOf(r),r=r.parent}var c=a.node;if(c){if(c!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(t.node.content,t)};function Ri(t,e){return t.type.side-e.type.side}function Pi(t,e,r,n,i){for(var o=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,u=a+=l.size;c>=r||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,n)),i&&(o.push(i),i=null),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function Ii(t,e){var r=t.root.getSelection(),n=t.state.doc;if(!r.focusNode)return null;var i=t.docView.nearestDesc(r.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(r.focusNode,r.focusOffset);if(s<0)return null;var a,l,c=n.resolve(s);if(Bn(r)){for(a=c;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&vn.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(t,e,r){for(var n=0==e,i=e==qn(t);n||i;){if(t==r)return!0;var o=Rn(t);if(!(t=t.parentNode))return!1;n=n&&0==o,i=i&&o==qn(t)}}(r.focusNode,r.focusOffset,i.dom))){var u=i.posBefore;l=new vn(s==u?c:n.resolve(u))}}else{var h=t.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(h<0)return null;a=n.resolve(h)}l||(l=zi(t,a,c,"pointer"==e||t.state.selection.head<c.pos&&!o?1:-1));return l}function ji(t){return t.editable?t.hasFocus():Vi(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Li(t,e){var r=t.state.selection;if(Bi(t,r),ji(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault&&Tn.chrome){var n=t.root.getSelection(),i=t.domObserver.currentSelection;if(n.anchorNode&&Ln(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset))return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),r=document.createRange(),n=t.cursorWrapper.dom,i="IMG"==n.nodeName;i?r.setEnd(n.parentNode,Rn(n)+1):r.setEnd(n,0);r.collapse(!1),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Tn.ie&&Tn.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}(t);else{var o,s,a=r.anchor,l=r.head;!Mi||r instanceof yn||(r.$from.parent.inlineContent||(o=Di(t,r.from)),r.empty||r.$from.parent.inlineContent||(s=Di(t,r.to))),t.docView.setSelection(a,l,t.root,e),Mi&&(o&&Fi(o),s&&Fi(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var r=t.root.getSelection(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){r.anchorNode==n&&r.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){ji(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Ci.prototype.destroyBetween=function(t,e){if(t!=e){for(var r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Ci.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ci.prototype.syncToMarks=function(t,e,r){for(var n=0,i=this.stack.length>>1,o=Math.min(i,t.length);n<o&&(n==i-1?this.top:this.stack[n+1<<1]).matchesMark(t[n])&&!1!==t[n].type.spec.spanning;)n++;for(;n<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=yi.create(this.top,t[i],e,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}},Ci.prototype.findNodeMatch=function(t,e,r,n){var i,o=-1;if(n>=this.preMatch.index&&(i=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,r))o=this.top.children.indexOf(i,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var l=this.top.children[s];if(l.matchesNode(t,e,r)&&!this.preMatch.matched.has(l)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},Ci.prototype.updateNodeAt=function(t,e,r,n,i){return!!this.top.children[n].update(t,e,r,i)&&(this.destroyBetween(this.index,n),this.index=n+1,!0)},Ci.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var r=t.pmViewDesc;if(r)for(var n=this.index;n<this.top.children.length;n++)if(this.top.children[n]==r)return n;return-1}t=e}},Ci.prototype.updateNextNode=function(t,e,r,n,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof gi){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&wi(e,s.outerDeco)))&&s.update(t,e,r,n))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Ci.prototype.addNode=function(t,e,r,n,i){this.top.children.splice(this.index++,0,gi.create(this.top,t,e,r,n,i)),this.changed=!0},Ci.prototype.placeWidget=function(t,e,r){var n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(t)||t!=n.widget&&n.widget.type.toDOM.parentNode){var i=new fi(this.top,t,e,r);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},Ci.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof yi;)t=t.children[t.children.length-1];t&&t instanceof mi&&!/\n$/.test(t.node.text)||((Tn.safari||Tn.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Ci.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new xi(this.top,pi,e,null)),this.changed=!0}};var Mi=Tn.safari||Tn.chrome&&Tn.chrome_version<63;function Di(t,e){var r=t.docView.domFromPos(e,0),n=r.node,i=r.offset,o=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(Tn.safari&&o&&"false"==o.contentEditable)return qi(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return qi(o);if(s)return qi(s)}}function qi(t){return t.contentEditable="true",Tn.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Fi(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Bi(t,e){if(e instanceof vn){var r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Ui(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Ui(t)}function Ui(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function zi(t,e,r,n){return t.someProp("createSelectionBetween",(function(n){return n(t,e,r)}))||yn.between(e,r,n)}function Vi(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Ji(t,e){var r=t.selection,n=r.$anchor,i=r.$head,o=e>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&hn.findFrom(s,e)}function Hi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Wi(t,e,r){var n=t.state.selection;if(!(n instanceof yn)){if(n instanceof vn&&n.node.isInline)return Hi(t,new yn(e>0?n.$to:n.$from));var i=Ji(t.state,e);return!!i&&Hi(t,i)}if(!n.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=Ji(t.state,e);return!!(o&&o instanceof vn)&&Hi(t,o)}if(!(Tn.mac&&r.indexOf("m")>-1)){var s,a=n.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=e<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(vn.isSelectable(l)?Hi(t,new vn(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):!!Tn.webkit&&Hi(t,new yn(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function Gi(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Yi(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Ki(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){var i,o,s=!1;for(Tn.gecko&&1==r.nodeType&&n<Gi(r)&&Yi(r.childNodes[n])&&(s=!0);;)if(n>0){if(1!=r.nodeType)break;var a=r.childNodes[n-1];if(Yi(a))i=r,o=--n;else{if(3!=a.nodeType)break;n=(r=a).nodeValue.length}}else{if(Qi(r))break;for(var l=r.previousSibling;l&&Yi(l);)i=r.parentNode,o=Rn(l),l=l.previousSibling;if(l)n=Gi(r=l);else{if((r=r.parentNode)==t.dom)break;n=0}}s?Zi(t,e,r,n):i&&Zi(t,e,i,o)}}function $i(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){for(var i,o,s=Gi(r);;)if(n<s){if(1!=r.nodeType)break;if(!Yi(r.childNodes[n]))break;i=r,o=++n}else{if(Qi(r))break;for(var a=r.nextSibling;a&&Yi(a);)i=a.parentNode,o=Rn(a)+1,a=a.nextSibling;if(a)n=0,s=Gi(r=a);else{if((r=r.parentNode)==t.dom)break;n=s=0}}i&&Zi(t,e,i,o)}}function Qi(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Zi(t,e,r,n){if(Bn(e)){var i=document.createRange();i.setEnd(r,n),i.setStart(r,n),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(r,n);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&Li(t)}),50)}function Xi(t,e,r){var n=t.state.selection;if(n instanceof yn&&!n.empty||r.indexOf("s")>-1)return!1;if(Tn.mac&&r.indexOf("m")>-1)return!1;var i=n.$from,o=n.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Ji(t.state,e);if(s&&s instanceof vn)return Hi(t,s)}if(!i.parent.inlineContent){var a=e<0?i:o,l=n instanceof xn?hn.near(a,e):hn.findFrom(a,e);return!!l&&Hi(t,l)}return!1}function to(t,e){if(!(t.state.selection instanceof yn))return!0;var r=t.state.selection,n=r.$head,i=r.$anchor,o=r.empty;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function eo(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function ro(t,e){var r=e.keyCode,n=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==r||Tn.mac&&72==r&&"c"==n?to(t,-1)||Ki(t):46==r||Tn.mac&&68==r&&"c"==n?to(t,1)||$i(t):13==r||27==r||(37==r?Wi(t,-1,n)||Ki(t):39==r?Wi(t,1,n)||$i(t):38==r?Xi(t,-1,n)||Ki(t):40==r?function(t){if(Tn.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r&&1==r.nodeType&&0==n&&r.firstChild&&"false"==r.firstChild.contentEditable){var i=r.firstChild;eo(t,i,!0),setTimeout((function(){return eo(t,i,!1)}),20)}}}(t)||Xi(t,1,n)||$i(t):n==(Tn.mac?"m":"c")&&(66==r||73==r||89==r||90==r))}function no(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Tn.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(t.parentNode.lastChild==t||Tn.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function io(t,e,r,n,i){if(e<0){var o=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=Ii(t,o);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),t.dispatch(a)}}else{var l=t.state.doc.resolve(e),c=l.sharedDepth(r);e=l.before(c+1),r=t.state.doc.resolve(r).after(c+1);var u=t.state.selection,h=function(t,e,r){var n=t.docView.parseRange(e,r),i=n.node,o=n.fromOffset,s=n.toOffset,a=n.from,l=n.to,c=t.root.getSelection(),u=null,h=c.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(u=[{node:h,offset:c.anchorOffset}],Bn(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Tn.chrome&&8===t.lastKeyCode)for(var p=s;p>o;p--){var f=i.childNodes[p-1],d=f.pmViewDesc;if("BR"==f.nodeName&&!d){s=p;break}if(!d||d.size)break}var y=t.state.doc,g=t.someProp("domParser")||kr.fromSchema(t.state.schema),v=y.resolve(a),m=null,x=g.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=v.parent.type.whitespace||"full",editableContent:!0,findPositions:u,ruleFromNode:no,context:v});if(u&&null!=u[0].pos){var b=u[0].pos,O=u[1]&&u[1].pos;null==O&&(O=b),m={anchor:b+a,head:O+a}}return{doc:x,sel:m,from:a,to:l}}(t,e,r);if(Tn.chrome&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var p=t.cursorWrapper.deco.type.toDOM.nextSibling,f=p&&p.nodeValue?p.nodeValue.length:1;h.sel={anchor:h.sel.anchor+f,head:h.sel.anchor+f}}var d,y,g=t.state.doc,v=g.slice(h.from,h.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(d=t.state.selection.to,y="end"):(d=t.state.selection.from,y="start"),t.lastKeyCode=null;var m=function(t,e,r,n,i){var o=t.findDiffStart(e,r);if(null==o)return null;var s=t.findDiffEnd(e,r+t.size,r+e.size),a=s.a,l=s.b;if("end"==i){n-=a+Math.max(0,o-Math.min(a,l))-o}if(a<o&&t.size<e.size){l=(o-=n<=o&&n>=a?o-n:0)+(l-a),a=o}else if(l<o){a=(o-=n<=o&&n>=l?o-n:0)+(a-l),l=o}return{start:o,endA:a,endB:l}}(v.content,h.doc.content,h.from,d,y);if(!m){if(!(n&&u instanceof yn&&!u.empty&&u.$head.sameParent(u.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if((Tn.ios&&t.lastIOSEnter>Date.now()-225||Tn.android)&&i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,Un(13,"Enter"))})))return void(t.lastIOSEnter=0);if(h.sel){var x=oo(t,t.state.doc,h.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}m={start:u.from,endA:u.to,endB:u.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof yn&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Tn.ie&&Tn.ie_version<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>h.from&&"  "==h.doc.textBetween(m.start-h.from-1,m.start-h.from+1)&&(m.start--,m.endA--,m.endB--);var b,O=h.doc.resolveNoCache(m.start-h.from),S=h.doc.resolveNoCache(m.endB-h.from),A=O.sameParent(S)&&O.parent.inlineContent;if((Tn.ios&&t.lastIOSEnter>Date.now()-225&&(!A||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!A&&O.pos<h.doc.content.size&&(b=hn.findFrom(h.doc.resolve(O.pos+1),1,!0))&&b.head==S.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,Un(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>m.start&&function(t,e,r,n,i){if(!n.parent.isTextblock||r-e<=i.pos-n.pos||so(n,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(so(o,!0,!0));if(!s.parent.isTextblock||s.pos>r||so(s,!0,!1)<r)return!1;return n.parent.content.cut(n.parentOffset).eq(s.parent.content)}(g,m.start,m.endA,O,S)&&t.someProp("handleKeyDown",(function(e){return e(t,Un(8,"Backspace"))})))Tn.android&&Tn.chrome&&t.domObserver.suppressSelectionUpdates();else{Tn.chrome&&Tn.android&&m.toB==m.from&&(t.lastAndroidDelete=Date.now()),Tn.android&&!A&&O.start()!=S.start()&&0==S.parentOffset&&O.depth==S.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==m.endA&&(m.endB-=2,S=h.doc.resolveNoCache(m.endB-h.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,Un(13,"Enter"))}))}),20));var E,T,N,_,w=m.start,k=m.endA;if(A)if(O.pos==S.pos)Tn.ie&&Tn.ie_version<=11&&0==O.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Li(t)}),20)),E=t.state.tr.delete(w,k),T=g.resolve(m.start).marksAcross(g.resolve(m.endA));else if(m.endA==m.endB&&(_=g.resolve(m.start))&&(N=function(t,e){for(var r,n,i,o=t.firstChild.marks,s=e.firstChild.marks,a=o,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==a.length&&0==l.length)n=a[0],r="add",i=function(t){return t.mark(n.addToSet(t.marks))};else{if(0!=a.length||1!=l.length)return null;n=l[0],r="remove",i=function(t){return t.mark(n.removeFromSet(t.marks))}}for(var h=[],p=0;p<e.childCount;p++)h.push(i(e.child(p)));if(Ye.from(h).eq(t))return{mark:n,type:r}}(O.parent.content.cut(O.parentOffset,S.parentOffset),_.parent.content.cut(_.parentOffset,m.endA-_.start()))))E=t.state.tr,"add"==N.type?E.addMark(w,k,N.mark):E.removeMark(w,k,N.mark);else if(O.parent.child(O.index()).isText&&O.index()==S.index()-(S.textOffset?0:1)){var C=O.parent.textBetween(O.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,w,k,C)})))return;E=t.state.tr.insertText(C,w,k)}if(E||(E=t.state.tr.replace(w,k,h.doc.slice(m.start-h.from,m.endB-h.from))),h.sel){var R=oo(t,E.doc,h.sel);R&&!(Tn.chrome&&Tn.android&&t.composing&&R.empty&&(m.start!=m.endB||t.lastAndroidDelete<Date.now()-100)&&(R.head==w||R.head==E.mapping.map(k)-1)||Tn.ie&&R.empty&&R.head==w)&&E.setSelection(R)}T&&E.ensureMarks(T),t.dispatch(E.scrollIntoView())}}}function oo(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:zi(t,e.resolve(r.anchor),e.resolve(r.head))}function so(t,e,r){for(var n=t.depth,i=e?t.end():t.pos;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r)for(var o=t.node(n).maybeChild(t.indexAfter(n));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function ao(t,e){for(var r=[],n=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&1==n.childCount&&1==n.firstChild.childCount;){i--,o--;var s=n.firstChild;r.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),n=s.content}var a=t.someProp("clipboardSerializer")||Fr.fromSchema(t.state.schema),l=mo(),c=l.createElement("div");c.appendChild(a.serializeFragment(n,{document:l}));for(var u,h=c.firstChild;h&&1==h.nodeType&&(u=go[h.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var f=l.createElement(u[p]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f),"tbody"!=u[p]&&(i++,o++)}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(r)),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function lo(t,e,r,n,i){var o,s,a=i.parent.type.spec.code;if(!r&&!e)return null;var l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",(function(t){e=t(e,a||n)})),a)return e?new tr(Ye.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):tr.empty;var c=t.someProp("clipboardTextParser",(function(t){return t(e,i,n)}));if(c)s=c;else{var u=i.marks(),h=t.state.schema,p=Fr.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((function(t){var e=o.appendChild(document.createElement("p"));t&&e.appendChild(p.serializeNode(h.text(t,u)))}))}}else t.someProp("transformPastedHTML",(function(t){r=t(r)})),o=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var r,n=mo().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(r=i&&go[i[1].toLowerCase()])&&(t=r.map((function(t){return"<"+t+">"})).join("")+t+r.map((function(t){return"</"+t+">"})).reverse().join(""));if(n.innerHTML=t,r)for(var o=0;o<r.length;o++)n=n.querySelector(r[o])||n;return n}(r),Tn.webkit&&function(t){for(var e=t.querySelectorAll(Tn.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var n=e[r];1==n.childNodes.length&&" "==n.textContent&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}(o);var f=o&&o.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var y=t.someProp("clipboardParser")||t.someProp("domParser")||kr.fromSchema(t.state.schema);s=y.parseSlice(o,{preserveWhitespace:!(!l&&!d),context:i,ruleFromNode:function(t){if("BR"==t.nodeName&&!t.nextSibling&&t.parentNode&&!co.test(t.parentNode.nodeName))return{ignore:!0}}})}if(d)s=function(t,e){if(!t.size)return t;var r,n=t.content.firstChild.type.schema;try{r=JSON.parse(e)}catch(e){return t}for(var i=t.content,o=t.openStart,s=t.openEnd,a=r.length-2;a>=0;a-=2){var l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Ye.from(l.create(r[a+1],i)),o++,s++}return new tr(i,o,s)}(yo(s,+d[1],+d[2]),d[3]);else if(s=tr.maxOpen(function(t,e){if(t.childCount<2)return t;for(var r=function(r){var n=e.node(r).contentMatchAt(e.index(r)),i=void 0,o=[];if(t.forEach((function(t){if(o){var e,r=n.findWrapping(t.type);if(!r)return o=null;if(e=o.length&&i.length&&ho(r,i,t,o[o.length-1],0))o[o.length-1]=e;else{o.length&&(o[o.length-1]=po(o[o.length-1],i.length));var s=uo(t,r);o.push(s),n=n.matchType(s.type,s.attrs),i=r}}})),o)return{v:Ye.from(o)}},n=e.depth;n>=0;n--){var i=r(n);if(i)return i.v}return t}(s.content,i),!0),s.openStart||s.openEnd){for(var g=0,v=0,m=s.content.firstChild;g<s.openStart&&!m.type.spec.isolating;g++,m=m.firstChild);for(var x=s.content.lastChild;v<s.openEnd&&!x.type.spec.isolating;v++,x=x.lastChild);s=yo(s,g,v)}return t.someProp("transformPasted",(function(t){s=t(s)})),s}var co=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uo(t,e,r){void 0===r&&(r=0);for(var n=e.length-1;n>=r;n--)t=e[n].create(null,Ye.from(t));return t}function ho(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var o=ho(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(Ye.from(uo(r,t,i+1))))}}function po(t,e){if(0==e)return t;var r=t.content.replaceChild(t.childCount-1,po(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Ye.empty,!0);return t.copy(r.append(n))}function fo(t,e,r,n,i,o){var s=e<0?t.firstChild:t.lastChild,a=s.content;return i<n-1&&(a=fo(a,e,r,n,i+1,o)),i>=r&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Ye.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function yo(t,e,r){return e<t.openStart&&(t=new tr(fo(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new tr(fo(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var go={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},vo=null;function mo(){return vo||(vo=document.implementation.createHTMLDocument("title"))}var xo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bo=Tn.ie&&Tn.ie_version<=11,Oo=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Oo.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Oo.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var So=function(t,e){var r=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)r.queue.push(t[e]);Tn.ie&&Tn.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?r.flushSoon():r.flush()})),this.currentSelection=new Oo,bo&&(this.onCharData=function(t){r.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};So.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},So.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},So.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,xo),bo&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},So.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}bo&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},So.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},So.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},So.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},So.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&Vi(t)){var t;if(this.suppressingSelectionUpdates)return Li(this.view);if(Tn.ie&&Tn.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Ln(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},So.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},So.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},So.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Vi(this.view)&&!this.ignoreSelectionChange(e),n=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var l=this.registerMutation(t[a],s);l&&(n=n<0?l.from:Math.min(l.from,n),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(o=!0))}if(Tn.gecko&&s.length>1){var c=s.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var u=c[0],h=c[1];u.parentNode&&u.parentNode.parentNode==h.parentNode?h.remove():u.remove()}}(n>-1||r)&&(n>-1&&(this.view.docView.markDirty(n,i),function(t){if(Ao)return;Ao=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(n,i,o,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Li(this.view),this.currentSelection.set(e))}},So.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(var n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};var i=t.previousSibling,o=t.nextSibling;if(Tn.ie&&Tn.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],l=a.previousSibling,c=a.nextSibling;(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}var u=i&&i.parentNode==t.target?Rn(i)+1:0,h=r.localPosFromDOM(t.target,u,-1),p=o&&o.parentNode==t.target?Rn(o):t.target.childNodes.length;return{from:h,to:r.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Ao=!1;var Eo={},To={};function No(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function _o(t){t.someProp("handleDOMEvents",(function(e){for(var r in e)t.eventHandlers[r]||t.dom.addEventListener(r,t.eventHandlers[r]=function(e){return wo(t,e)})}))}function wo(t,e){return t.someProp("handleDOMEvents",(function(r){var n=r[e.type];return!!n&&(n(t,e)||e.defaultPrevented)}))}function ko(t){return{left:t.clientX,top:t.clientY}}function Co(t,e,r,n,i){if(-1==n)return!1;for(var o=t.state.doc.resolve(n),s=function(n){if(t.someProp(e,(function(e){return n>o.depth?e(t,r,o.nodeAfter,o.before(n),i,!0):e(t,r,o.node(n),o.before(n),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Ro(t,e,r){t.focused||t.focus();var n=t.state.tr.setSelection(e);"pointer"==r&&n.setMeta("pointer",!0),t.dispatch(n)}function Po(t,e,r,n,i){return Co(t,"handleClickOn",e,r,n)||t.someProp("handleClick",(function(r){return r(t,e,n)}))||(i?function(t,e){if(-1==e)return!1;var r,n,i=t.state.selection;i instanceof vn&&(r=i.node);for(var o=t.state.doc.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(vn.isSelectable(a)){n=r&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=n&&(Ro(t,vn.create(t.state.doc,n),"pointer"),!0)}(t,r):function(t,e){if(-1==e)return!1;var r=t.state.doc.resolve(e),n=r.nodeAfter;return!!(n&&n.isAtom&&vn.isSelectable(n))&&(Ro(t,new vn(r),"pointer"),!0)}(t,r))}function Io(t,e,r,n){return Co(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",(function(r){return r(t,e,n)}))}function jo(t,e,r,n){return Co(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",(function(r){return r(t,e,n)}))||function(t,e,r){if(0!=r.button)return!1;var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Ro(t,yn.create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(e),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ro(t,yn.create(n,a+1,a+1+s.content.size),"pointer");else{if(!vn.isSelectable(s))continue;Ro(t,vn.create(n,a),"pointer")}return!0}}(t,r,n)}function Lo(t){return zo(t)}To.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!qo(t,e)&&(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Tn.android||!Tn.chrome||13!=e.keyCode))if(229!=e.keyCode&&t.domObserver.forceFlush(),!Tn.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(r){return r(t,e)}))||ro(t,e)?e.preventDefault():No(t,"key");else{var r=Date.now();t.lastIOSEnter=r,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==r&&(t.someProp("handleKeyDown",(function(e){return e(t,Un(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},To.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},To.keypress=function(t,e){if(!(qo(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Tn.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(r){return r(t,e)})))e.preventDefault();else{var r=t.state.selection;if(!(r instanceof yn&&r.$from.sameParent(r.$to))){var n=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,r.$from.pos,r.$to.pos,n)}))||t.dispatch(t.state.tr.insertText(n).scrollIntoView()),e.preventDefault()}}};var Mo=Tn.mac?"metaKey":"ctrlKey";Eo.mousedown=function(t,e){t.shiftKey=e.shiftKey;var r=Lo(t),n=Date.now(),i="singleClick";n-t.lastClick.time<500&&function(t,e){var r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}(e,t.lastClick)&&!e[Mo]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:n,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(ko(e));o&&("singleClick"==i?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Do(t,o,e,r)):("doubleClick"==i?Io:jo)(t,o.pos,o.inside,e)?e.preventDefault():No(t,"pointer"))};var Do=function(t,e,r,n){var i,o,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=r,this.flushed=n,this.selectNode=r[Mo],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var l=n?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var u=t.state.selection;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||u instanceof vn&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Tn.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),No(t,"pointer")};function qo(t,e){return!!t.composing||!!(Tn.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Do.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return Li(t.view)})),this.view.mouseDown=null},Do.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(ko(t))),this.allowDefault||!e?No(this.view,"pointer"):Po(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||Tn.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Tn.chrome&&!(this.view.state.selection instanceof yn)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ro(this.view,hn.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):No(this.view,"pointer")}},Do.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),No(this.view,"pointer"),0==t.buttons&&this.done()},Eo.touchdown=function(t){Lo(t),No(t,"pointer")},Eo.contextmenu=function(t){return Lo(t)};var Fo=Tn.android?5e3:-1;function Bo(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return zo(t)}),e))}function Uo(t){var e;for(t.composing&&(t.composing=!1,t.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function zo(t,e){if(!(Tn.android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Uo(t),e||t.docView&&t.docView.dirty){var r=Ii(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}To.compositionstart=To.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||r.marks(),zo(t,!0),t.markCursor=null;else if(zo(t),Tn.gecko&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var n=t.root.getSelection(),i=n.focusNode,o=n.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){n.collapse(s,s.nodeValue.length);break}i=s,o=-1}t.composing=!0}Bo(t,Fo)},To.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Bo(t,20))};var Vo=Tn.ie&&Tn.ie_version<15||Tn.ios&&Tn.webkit_version<604;function Jo(t,e,r,n){var i=lo(t,e,r,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,n,i||tr.empty)})))return!0;if(!i)return!1;var o=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(i),s=o?t.state.tr.replaceSelectionWith(o,t.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Eo.copy=To.cut=function(t,e){var r=t.state.selection,n="cut"==e.type;if(!r.empty){var i=Vo?null:e.clipboardData,o=ao(t,r.content()),s=o.dom,a=o.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r),t.focus()}),50)}}(t,s),n&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},To.paste=function(t,e){if(!t.composing||Tn.android){var r=Vo?null:e.clipboardData;r&&Jo(t,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Jo(t,n.value,null,e):Jo(t,n.textContent,n.innerHTML,e)}),50)}}(t,e)}};var Ho=function(t,e){this.slice=t,this.move=e},Wo=Tn.mac?"altKey":"ctrlKey";for(var Go in Eo.dragstart=function(t,e){var r=t.mouseDown;if(r&&r.done(),e.dataTransfer){var n=t.state.selection,i=n.empty?null:t.posAtCoords(ko(e));if(i&&i.pos>=n.from&&i.pos<=(n instanceof vn?n.to-1:n.to));else if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(vn.create(t.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var o=t.docView.nearestDesc(e.target,!0);o&&o.node.type.spec.draggable&&o!=t.docView&&t.dispatch(t.state.tr.setSelection(vn.create(t.state.doc,o.posBefore)))}var s=t.state.selection.content(),a=ao(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Vo?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Vo||e.dataTransfer.setData("text/plain",c),t.dragging=new Ho(s,!e[Wo])}},Eo.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},To.dragover=To.dragenter=function(t,e){return e.preventDefault()},To.drop=function(t,e){var r=t.dragging;if(t.dragging=null,e.dataTransfer){var n=t.posAtCoords(ko(e));if(n){var i=t.state.doc.resolve(n.pos);if(i){var o=r&&r.slice;o?t.someProp("transformPasted",(function(t){o=t(o)})):o=lo(t,e.dataTransfer.getData(Vo?"Text":"text/plain"),Vo?null:e.dataTransfer.getData("text/html"),!1,i);var s=r&&!e[Wo];if(t.someProp("handleDrop",(function(r){return r(t,e,o||tr.empty,s)})))e.preventDefault();else if(o){e.preventDefault();var a=o?function(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let t=0;t<r.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==r.openStart&&r.size?2:1);t++)for(let e=n.depth;e>=0;e--){let r=e==n.depth?0:n.pos<=(n.start(e+1)+n.end(e+1))/2?-1:1,o=n.index(e)+(r>0?1:0),s=n.node(e),a=!1;if(1==t)a=s.canReplace(o,o,i);else{let t=s.contentMatchAt(o).findWrapping(i.firstChild.type);a=t&&s.canReplaceWith(o,o,t[0])}if(a)return 0==r?n.pos:r<0?n.before(e+1):n.after(e+1)}return null}(t.state.doc,i.pos,o):i.pos;null==a&&(a=i.pos);var l=t.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),u=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,h=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(h)){var p=l.doc.resolve(c);if(u&&vn.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new vn(p));else{var f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((function(t,e,r,n){return f=n})),l.setSelection(zi(t,p,l.doc.resolve(f)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Eo.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Li(t)}),20))},Eo.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},Eo.beforeinput=function(t,e){if(Tn.chrome&&Tn.android&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();var r=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==r&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,Un(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},To)Eo[Go]=To[Go];function Yo(t,e){if(t==e)return!0;for(var r in t)if(t[r]!==e[r])return!1;for(var n in e)if(!(n in t))return!1;return!0}var Ko=function(t,e){this.spec=e||es,this.side=this.spec.side||0,this.toDOM=t};Ko.prototype.map=function(t,e,r,n){var i=t.mapResult(e.from+n,this.side<0?-1:1),o=i.pos;return i.deleted?null:new Zo(o-r,o-r,this)},Ko.prototype.valid=function(){return!0},Ko.prototype.eq=function(t){return this==t||t instanceof Ko&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Yo(this.spec,t.spec))},Ko.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var $o=function(t,e){this.spec=e||es,this.attrs=t};$o.prototype.map=function(t,e,r,n){var i=t.map(e.from+n,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+n,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Zo(i,o,this)},$o.prototype.valid=function(t,e){return e.from<e.to},$o.prototype.eq=function(t){return this==t||t instanceof $o&&Yo(this.attrs,t.attrs)&&Yo(this.spec,t.spec)},$o.is=function(t){return t.type instanceof $o};var Qo=function(t,e){this.spec=e||es,this.attrs=t};Qo.prototype.map=function(t,e,r,n){var i=t.mapResult(e.from+n,1);if(i.deleted)return null;var o=t.mapResult(e.to+n,-1);return o.deleted||o.pos<=i.pos?null:new Zo(i.pos-r,o.pos-r,this)},Qo.prototype.valid=function(t,e){var r,n=t.content.findIndex(e.from),i=n.index,o=n.offset;return o==e.from&&!(r=t.child(i)).isText&&o+r.nodeSize==e.to},Qo.prototype.eq=function(t){return this==t||t instanceof Qo&&Yo(this.attrs,t.attrs)&&Yo(this.spec,t.spec)};var Zo=function(t,e,r){this.from=t,this.to=e,this.type=r},Xo={spec:{configurable:!0},inline:{configurable:!0}};Zo.prototype.copy=function(t,e){return new Zo(t,e,this.type)},Zo.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Zo.prototype.map=function(t,e,r){return this.type.map(t,this,e,r)},Zo.widget=function(t,e,r){return new Zo(t,t,new Ko(e,r))},Zo.inline=function(t,e,r,n){return new Zo(t,e,new $o(r,n))},Zo.node=function(t,e,r,n){return new Zo(t,e,new Qo(r,n))},Xo.spec.get=function(){return this.type.spec},Xo.inline.get=function(){return this.type instanceof $o},Object.defineProperties(Zo.prototype,Xo);var ts=[],es={},rs=function(t,e){this.local=t&&t.length?t:ts,this.children=e&&e.length?e:ts};rs.create=function(t,e){return e.length?cs(e,t,0,es):ns},rs.prototype.find=function(t,e,r){var n=[];return this.findInner(null==t?0:t,null==e?1e9:e,n,0,r),n},rs.prototype.findInner=function(t,e,r,n,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&r.push(s.copy(s.from+n,s.to+n))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,r,n+l,i)}},rs.prototype.map=function(t,e,r){return this==ns||0==t.maps.length?this:this.mapInner(t,e,0,0,r||es)},rs.prototype.mapInner=function(t,e,r,n,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,r,n);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,r,n,i,o,s){for(var a=t.slice(),l=function(t,e,r,n){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||t>l+o||(e>=a[s]+o?a[s+1]=-1:r>=i&&(c=n-r-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<r.maps.length;c++)r.maps[c].forEach(l);for(var u=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var p=r.map(t[h]+o),f=p-i;if(f<0||f>=n.content.size){u=!0;continue}var d=r.map(t[h+1]+o,-1)-i,y=n.content.findIndex(f),g=y.index,v=y.offset,m=n.maybeChild(g);if(m&&v==f&&v+m.nodeSize==d){var x=a[h+2].mapInner(r,m,p+1,t[h]+o+1,s);x!=ns?(a[h]=f,a[h+1]=d,a[h+2]=x):(a[h+1]=-2,u=!0)}else u=!0}if(u){var b=function(t,e,r,n,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var l=t.local[o].map(n,i,e);l?r.push(l):s.onRemove&&s.onRemove(t.local[o].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+o+1);return r}(a,t,e||[],r,i,o,s),O=cs(b,n,0,s);e=O.local;for(var S=0;S<a.length;S+=3)a[S+1]<0&&(a.splice(S,3),S-=3);for(var A=0,E=0;A<O.children.length;A+=3){for(var T=O.children[A];E<a.length&&a[E]<T;)E+=3;a.splice(E,0,O.children[A],O.children[A+1],O.children[A+2])}}return new rs(e&&e.sort(us),a)}(this.children,o,t,e,r,n,i):o?new rs(o.sort(us)):ns},rs.prototype.add=function(t,e){return e.length?this==ns?rs.create(t,e):this.addInner(t,e,0):this},rs.prototype.addInner=function(t,e,r){var n,i=this,o=0;t.forEach((function(t,s){var a,l=s+r;if(a=as(e,t,l)){for(n||(n=i.children.slice());o<n.length&&n[o]<s;)o+=3;n[o]==s?n[o+2]=n[o+2].addInner(t,a,l+1):n.splice(o,0,s,s+t.nodeSize,cs(a,t,l+1,es)),o+=3}}));for(var s=ss(o?ls(e):e,-r),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new rs(s.length?this.local.concat(s).sort(us):this.local,n||this.children)},rs.prototype.remove=function(t){return 0==t.length||this==ns?this:this.removeInner(t,0)},rs.prototype.removeInner=function(t,e){for(var r=this.children,n=this.local,i=0;i<r.length;i+=3){for(var o=void 0,s=r[i]+e,a=r[i+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(o||(o=[])).push(c));if(o){r==this.children&&(r=this.children.slice());var u=r[i+2].removeInner(o,s+1);u!=ns?r[i+2]=u:(r.splice(i,3),i-=3)}}if(n.length)for(var h=0,p=void 0;h<t.length;h++)if(p=t[h])for(var f=0;f<n.length;f++)n[f].eq(p,e)&&(n==this.local&&(n=this.local.slice()),n.splice(f--,1));return r==this.children&&n==this.local?this:n.length||r.length?new rs(n,r):ns},rs.prototype.forChild=function(t,e){if(this==ns)return this;if(e.isLeaf)return rs.empty;for(var r,n,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof $o){var c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(n||(n=[])).push(l.copy(c,u))}}if(n){var h=new rs(n.sort(us));return r?new is([h,r]):h}return r||ns},rs.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof rs)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0},rs.prototype.locals=function(t){return hs(this.localsInner(t))},rs.prototype.localsInner=function(t){if(this==ns)return ts;if(t.inlineContent||!this.local.some($o.is))return this.local;for(var e=[],r=0;r<this.local.length;r++)this.local[r].type instanceof $o||e.push(this.local[r]);return e};var ns=new rs;rs.empty=ns,rs.removeOverlap=hs;var is=function(t){this.members=t};function ss(t,e){if(!e||!t.length)return t;for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(new Zo(i.from+e,i.to+e,i.type))}return r}function as(t,e,r){if(e.isLeaf)return null;for(var n=r+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[o]=null);return i}function ls(t){for(var e=[],r=0;r<t.length;r++)null!=t[r]&&e.push(t[r]);return e}function cs(t,e,r,n){var i=[],o=!1;e.forEach((function(e,s){var a=as(t,e,s+r);if(a){o=!0;var l=cs(a,e,r+s+1,n);l!=ns&&i.push(s,s+e.nodeSize,l)}}));for(var s=ss(o?ls(t):t,-r).sort(us),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new rs(s,i):ns}function us(t,e){return t.from-e.from||t.to-e.to}function hs(t){for(var e=t,r=0;r<e.length-1;r++){var n=e[r];if(n.from!=n.to)for(var i=r+1;i<e.length;i++){var o=e[i];if(o.from!=n.from){o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),ps(e,i,n.copy(o.from,n.to)));break}o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),ps(e,i+1,o.copy(n.to,o.to)))}}return e}function ps(t,e,r){for(;e<t.length&&us(r,t[e])>0;)e++;t.splice(e,0,r)}function fs(t){var e=[];return t.someProp("decorations",(function(r){var n=r(t.state);n&&n!=ns&&e.push(n)})),t.cursorWrapper&&e.push(rs.create(t.state.doc,[t.cursorWrapper.deco])),is.from(e)}is.prototype.map=function(t,e){var r=this.members.map((function(r){return r.map(t,e,es)}));return is.from(r)},is.prototype.forChild=function(t,e){if(e.isLeaf)return rs.empty;for(var r=[],n=0;n<this.members.length;n++){var i=this.members[n].forChild(t,e);i!=ns&&(i instanceof is?r=r.concat(i.members):r.push(i))}return is.from(r)},is.prototype.eq=function(t){if(!(t instanceof is)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},is.prototype.locals=function(t){for(var e,r=!0,n=0;n<this.members.length;n++){var i=this.members[n].localsInner(t);if(i.length)if(e){r&&(e=e.slice(),r=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?hs(r?e:e.sort(us)):ts},is.from=function(t){switch(t.length){case 0:return ns;case 1:return t[0];default:return new is(t)}};var ds=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(bs),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=ms(this),this.markCursor=null,this.cursorWrapper=null,vs(this),this.nodeViews=xs(this),this.docView=vi(this.state.doc,gs(this),fs(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new So(t,(function(e,r,n,i){return io(t,e,r,n,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var r=Eo[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=t.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||wo(t,e)||!t.editable&&e.type in To||r(t,e)})};for(var r in Eo)e(r);Tn.safari&&t.dom.addEventListener("input",(function(){return null})),_o(t)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},ys={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function gs(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(r){if("function"==typeof r&&(r=r(t.state)),r)for(var n in r)"class"==n&&(e.class+=" "+r[n]),"style"==n?e.style=(e.style?e.style+";":"")+r[n]:e[n]||"contenteditable"==n||"nodeName"==n||(e[n]=String(r[n]))})),[Zo.node(0,t.state.doc.content.size,e)]}function vs(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Zo.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ms(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function xs(t){var e={};return t.someProp("nodeViews",(function(t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r])})),e}function bs(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}ys.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},ds.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_o(this),this._props=t,t.plugins&&(t.plugins.forEach(bs),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},ds.prototype.setProps=function(t){var e={};for(var r in this._props)e[r]=this._props[r];for(var n in e.state=this.state,t)e[n]=t[n];this.update(e)},ds.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},ds.prototype.updateStateInner=function(t,e){var r=this,n=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(Uo(this),o=!0),this.state=t,e){var s=xs(this);(function(t,e){var r=0,n=0;for(var i in t){if(t[i]!=e[i])return!0;r++}for(var o in e)n++;return r!=n})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),_o(this)}this.editable=ms(this),vs(this);var a=fs(this),l=gs(this),c=e?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(t.doc,l,a);!u&&t.selection.eq(n.selection)||(o=!0);var h,p,f,d,y,g,v,m,x,b,O,S="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){for(var e,r,n=t.dom.getBoundingClientRect(),i=Math.max(0,n.top),o=(n.left+n.right)/2,s=i+1;s<Math.min(innerHeight,n.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=i-20){e=a,r=l.top;break}}}return{refDOM:e,refTop:r,stack:Wn(t.dom)}}(this);if(o){this.domObserver.stop();var A=u&&(Tn.ie||Tn.chrome)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&(d=n.selection,y=t.selection,g=Math.min(d.$anchor.sharedDepth(d.head),y.$anchor.sharedDepth(y.head)),d.$anchor.start(g)!=y.$anchor.start(g));if(u){var E=Tn.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=vi(t.doc,l,a,this.dom,this)),E&&!this.trackWrites&&(A=!0)}A||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(h=this,p=h.docView.domFromPos(h.state.selection.anchor,0),f=h.root.getSelection(),Ln(p.node,p.offset,f.anchorNode,f.anchorOffset)))?Li(this,A):(Bi(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var T=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(r)}))||(t.selection instanceof vn?Hn(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),T):Hn(this,this.coordsAtPos(t.selection.head,1),T))}else S&&(m=(v=S).refDOM,x=v.refTop,b=v.stack,O=m?m.getBoundingClientRect().top:0,Gn(b,0==O?0:O-x))},ds.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},ds.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},ds.prototype.someProp=function(t,e){var r,n=this._props&&this._props[t];if(null!=n&&(r=e?e(n):n))return r;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(r=e?e(o):o))return r}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var l=s[a].props[t];if(null!=l&&(r=e?e(l):l))return r}},ds.prototype.hasFocus=function(){return this.root.activeElement==this.dom},ds.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Yn)return t.focus(Yn);var e=Wn(t);t.focus(null==Yn?{get preventScroll(){return Yn={preventScroll:!0},!0}}:void 0),Yn||(Yn=!1,Gn(e,0))}(this.dom),Li(this),this.domObserver.start()},ys.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},ds.prototype.posAtCoords=function(t){return Zn(this,t)},ds.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),ei(this,t,e)},ds.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},ds.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},ds.prototype.posAtDOM=function(t,e,r){void 0===r&&(r=-1);var n=this.docView.posFromDOM(t,e,r);if(null==n)throw new RangeError("DOM position not inside the editor");return n},ds.prototype.endOfTextblock=function(t,e){return ci(this,e||this.state,t)},ds.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],fs(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},ys.isDestroyed.get=function(){return null==this.docView},ds.prototype.dispatchEvent=function(t){return function(t,e){wo(t,e)||!Eo[e.type]||!t.editable&&e.type in To||Eo[e.type](t,e)}(this,t)},ds.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(ds.prototype,ys);var Os=r(18393),Ss=r(22703),As=r(86463),Es=r(49323),Ts=r(34725),Ns=r(15576),_s=r(24995),ws=r(68414),ks=r(54836),Cs=function(t){return t.CLICKED="clicked",t.RETRIEVE_FAILED="retrieveFailed",t.RETRIEVED="retrieved",t.SELECTED="selected",t.VIEWED="viewed",t}({}),Rs=function(t){return t.BUTTON="button",t.AUTOCOMPLETE_OPTION="autocompleteOption",t.ERROR_MESSAGE="errorMessage",t}({}),Ps=function(t){return t.EDITOR_EXPAND="jqlEditorExpand",t.EDITOR_SEARCH="jqlEditorSearch",t.EDITOR_HELP="jqlEditorHelp",t.JQL_RESULT="jqlResult",t}({}),Is=r(63662);function js(t){var e="function"==typeof Map?new Map:void 0;return js=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(nt())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&(0,Is.A)(i,r.prototype),i}(t,arguments,(0,tt.A)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,Is.A)(r,t)},js(t)}function Ls(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var Ms=function(t){(0,Z.A)(r,t);var e=Ls(r);function r(t,n){var i;return(0,R.A)(this,r),(i=e.call(this,t)).name="JQLParseError",i.cause=n,i.description=t,i}return(0,C.A)(r)}(js(Error));function Ds(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var qs=function(t){(0,Z.A)(r,t);var e=Ds(r);function r(t,n,i,o,s){var a;return(0,R.A)(this,r),(a=e.call(this,t)).name="JQLSyntaxError",a.start=n,a.stop=i,a.line=o,a.charPositionInLine=s,a}return(0,C.A)(r)}(Ms),Fs=r(93804),Bs=r(73916),Us=r.n(Bs);function zs(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)r++;return r}if(i.content.size||o.content.size){let t=zs(i.content,o.content,r+1);if(null!=t)return t}r+=i.nodeSize}else r+=i.nodeSize}}function Vs(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let t=0,e=Math.min(s.text.length,a.text.length);for(;t<e&&s.text[s.text.length-t-1]==a.text[a.text.length-t-1];)t++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let t=Vs(s.content,a.content,r-1,n-1);if(t)return t}r-=l,n-=l}else r-=l,n-=l}}class Js{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,r,n=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),r,n+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,n){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{let l=s.isText?s.text.slice(Math.max(t,a)-a,e-a):s.isLeaf?n?"function"==typeof n?n(s):n:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&r&&(o?o=!1:i+=r),i+=l}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new Js(n,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],n=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new Js(r,n)}cutByIndex(t,e){return t==e?Js.empty:0==t&&e==this.content.length?this:new Js(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new Js(n,i)}addToStart(t){return new Js([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Js(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let n=this.content[e];t(n,r,e),r+=n.nodeSize}}findDiffStart(t,e=0){return zs(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return Vs(this,t,e,r)}findIndex(t,e=-1){if(0==t)return Ws(0,t);if(t==this.size)return Ws(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?Ws(r+1,i):Ws(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return Js.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Js(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Js.empty;let e,r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Js(e||t,r)}static from(t){if(!t)return Js.empty;if(t instanceof Js)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Js([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Js.empty=new Js([],0);const Hs={index:0,offset:0};function Ws(t,e){return Hs.index=t,Hs.offset=e,Hs}function Gs(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Gs(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Gs(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Ys{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let n=0;n<t.length;n++){let i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Gs(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let n=r.create(e.attrs);return r.checkAttrs(n.attrs),n}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return Ys.none;if(t instanceof Ys)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}Ys.none=[];class Ks extends Error{}class $s{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=Zs(this.content,t+this.openStart,e);return r&&new $s(r,this.openStart,this.openEnd)}removeBetween(t,e){return new $s(Qs(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return $s.empty;let r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new $s(Js.fromJSON(t,e.content),r,n)}static maxOpen(t,e=!0){let r=0,n=0;for(let n=t.firstChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new $s(t,r,n)}}function Qs(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(i==e||o.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(Qs(o.content,e-i-1,r-i-1)))}function Zs(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=Zs(s.content,e-o-1,r);return a&&t.replaceChild(i,s.copy(a))}function Xs(t,e,r){if(r.openStart>t.depth)throw new Ks("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Ks("Inconsistent open depths");return ta(t,e,r,0)}function ta(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=ta(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){let{start:i,end:s}=function(t,e){let r=e.depth-t.openStart,n=e.node(r).copy(t.content);for(let t=r-1;t>=0;t--)n=e.node(t).copy(Js.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return oa(o,sa(t,i,s,e,n))}{let n=t.parent,i=n.content;return oa(n,i.cut(0,t.parentOffset).append(r.content).append(i.cut(e.parentOffset)))}}return oa(o,aa(t,e,n))}function ea(t,e){if(!e.type.compatibleContent(t.type))throw new Ks("Cannot join "+e.type.name+" onto "+t.type.name)}function ra(t,e,r){let n=t.node(r);return ea(n,e.node(r)),n}function na(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function ia(t,e,r,n){let i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(na(t.nodeAfter,n),o++));for(let t=o;t<s;t++)na(i.child(t),n);e&&e.depth==r&&e.textOffset&&na(e.nodeBefore,n)}function oa(t,e){return t.type.checkContent(e),t.copy(e)}function sa(t,e,r,n,i){let o=t.depth>i&&ra(t,e,i+1),s=n.depth>i&&ra(r,n,i+1),a=[];return ia(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(ea(o,s),na(oa(o,sa(t,e,r,n,i+1)),a)):(o&&na(oa(o,aa(t,e,i+1)),a),ia(e,r,i,a),s&&na(oa(s,aa(r,n,i+1)),a)),ia(n,null,i,a),new Js(a)}function aa(t,e,r){let n=[];if(ia(null,t,r,n),t.depth>r){na(oa(ra(t,e,r+1),aa(t,e,r+1)),n)}return ia(e,null,r,n),new Js(n)}$s.empty=new $s(Js.empty,0,0);class la{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)n+=r.child(e).nodeSize;return n}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return Ys.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){let t=r;r=n,n=t}let i=r.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||n&&i[o].isInSet(n.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,n=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new pa(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],n=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),s=i-o;if(r.push(e,t,n+o),!s)break;if(e=e.child(t),e.isText)break;i=s-1,n+=o+1}return new la(e,r,i)}static resolveCached(t,e){let r=ha.get(t);if(r)for(let t=0;t<r.elts.length;t++){let n=r.elts[t];if(n.pos==e)return n}else ha.set(t,r=new ca);let n=r.elts[r.i]=la.resolve(t,e);return r.i=(r.i+1)%ua,n}}class ca{constructor(){this.elts=[],this.i=0}}const ua=12,ha=new WeakMap;class pa{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const fa=Object.create(null);class da{constructor(t,e,r,n=Ys.none){this.type=t,this.attrs=e,this.marks=n,this.content=r||Js.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,n=0){this.content.nodesBetween(t,e,r,n,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&Gs(this.attrs,e||t.defaultAttrs||fa)&&Ys.sameSet(this.marks,r||Ys.none)}copy(t=null){return t==this.content?this:new da(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new da(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return $s.empty;let n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new $s(a,n.depth-o,i.depth-o)}replace(t,e,r){return Xs(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:n}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(n==t||e.isText)return e;t-=n+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let n=this.content.child(e-1);return{node:n,index:e-1,offset:r-n.nodeSize}}resolve(t){return la.resolveCached(this,t)}resolveNoCache(t){return la.resolve(this,t)}rangeHasMark(t,e,r){let n=!1;return e>t&&this.nodesBetween(t,e,(t=>(r.isInSet(t.marks)&&(n=!0),!n))),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),ya(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=Js.empty,n=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=n;t<i;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ys.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ys.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let n=Js.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,n,r);return i.type.checkAttrs(i.attrs),i}}da.prototype.text=void 0;function ya(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class ga{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new va(t,e);if(null==r.next)return ga.empty;let n=ma(r);r.next&&r.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return r(Ea(t,0));function r(n){let i=[];n.forEach((e=>{t[e].forEach((({term:e,to:r})=>{if(!e)return;let n;for(let t=0;t<i.length;t++)i[t][0]==e&&(n=i[t][1]);Ea(t,r).forEach((t=>{n||i.push([e,n=[]]),-1==n.indexOf(t)&&n.push(t)}))}))}));let o=e[n.join(",")]=new ga(n.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(Aa);o.next.push({type:i[t][0],next:e[n.join(",")]||r(n)})}return o}}(function(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){let i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,r)=>t.concat(o(r,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=r();return n(e,s),i(o(t.expr,s),s),[n(s)]}if("plus"==t.type){let s=r();return i(o(t.expr,e),s),i(o(t.expr,s),s),[n(s)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=r();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=r();n(s,e),i(o(t.expr,s),e),s=e}return[n(s)]}if("name"==t.type)return[n(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let n=0;;n++){let s=o(t.exprs[n],e);if(n==t.exprs.length-1)return s;i(s,e=r())}}}(n));return function(t,e){for(let r=0,n=[t];r<n.length;r++){let t=n[r],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:r,next:s}=t.next[e];o.push(r.name),!i||r.isText||r.hasRequiredAttrs()||(i=!1),-1==n.indexOf(s)&&n.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let n=this;for(let i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let n=[this];return function i(o,s){let a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return Js.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:r}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==n.indexOf(r)){n.push(r);let t=i(r,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let n=r.shift(),i=n.match;if(i.matchType(t)){let t=[];for(let e=n;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||n.type&&!s.validEnd||(r.push({match:o.contentMatch,type:o,via:n}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let n=0;n<r.next.length;n++)-1==t.indexOf(r.next[n].next)&&e(r.next[n].next)}(this),t.map(((e,r)=>{let n=r+(e.validEnd?"*":" ")+" ";for(let r=0;r<e.next.length;r++)n+=(r?", ":"")+e.next[r].type.name+"->"+t.indexOf(e.next[r].next);return n})).join("\n")}}ga.empty=new ga(!0);class va{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function ma(t){let e=[];do{e.push(xa(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function xa(t){let e=[];do{e.push(ba(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function ba(t){let e=function(t){if(t.eat("(")){let e=ma(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let t in r){let n=r[t];n.isInGroup(e)&&i.push(n)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Sa(t,e)}return e}function Oa(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Sa(t,e){let r=Oa(t),n=r;return t.eat(",")&&(n="}"!=t.next?Oa(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Aa(t,e){return e-t}function Ea(t,e){let r=[];return function e(n){let i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(let t=0;t<i.length;t++){let{term:n,to:o}=i[t];n||-1!=r.indexOf(o)||e(o)}}(e),r.sort(Aa)}new WeakMap;const Ta=Math.pow(2,16);function Na(t){return 65535&t}class _a{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class wa{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&wa.empty)return wa.empty}recover(t){let e=0,r=Na(t);if(!this.inverted)for(let t=0;t<r;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+e+function(t){return(t-(65535&t))/Ta}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let n=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;let l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(t<=u){let i=a+n+((l?t==a?-1:t==u?1:e:e)<0?0:c);if(r)return i;let o=t==(e<0?a:u)?null:s/3+(t-a)*Ta,h=t==a?2:t==u?1:4;return(e<0?t!=a:t!=u)&&(h|=8),new _a(i,h,o)}n+=c-l}return r?t+n:new _a(t+n,0,null)}touches(t,e){let r=0,n=Na(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let s=this.ranges[e]-(this.inverted?r:0);if(s>t)break;let a=this.ranges[e+i];if(t<=s+a&&e==3*n)return!0;r+=this.ranges[e+o]-a}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let n=0,i=0;n<this.ranges.length;n+=3){let o=this.ranges[n],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[n+e],c=this.ranges[n+r];t(s,s+l,a,a+c),i+=c-l}}invert(){return new wa(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?wa.empty:new wa(t<0?[0,-t,0]:[0,0,t])}}wa.empty=new wa([]);class ka{constructor(t=[],e,r=0,n=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=n}slice(t=0,e=this.maps.length){return new ka(this.maps,this.mirror,t,e)}copy(){return new ka(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let n=t.getMirror(e);this.appendMap(t.maps[e],null!=n&&n<e?r+n:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let n=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=n&&n>e?r-n-1:void 0)}}invert(){let t=new ka;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let n=0;for(let r=this.from;r<this.to;r++){let i=this.maps[r].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(r);if(null!=e&&e>r&&e<this.to){r=e,t=this.maps[e].recover(i.recover);continue}}n|=i.delInfo,t=i.pos}return r?t:new _a(t,n,null)}}const Ca=Object.create(null);class Ra{getMap(){return wa.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ca[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Ca)throw new RangeError("Duplicate use of step JSON ID "+t);return Ca[t]=e,e.prototype.jsonID=t,e}}class Pa{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Pa(t,null)}static fail(t){return new Pa(null,t)}static fromReplace(t,e,r,n){try{return Pa.ok(t.replace(e,r,n))}catch(t){if(t instanceof Ks)return Pa.fail(t.message);throw t}}}function Ia(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Ia(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return Js.fromArray(n)}class ja extends Ra{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),n=r.node(r.sharedDepth(this.to)),i=new $s(Ia(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),n),e.openStart,e.openEnd);return Pa.fromReplace(t,this.from,this.to,i)}invert(){return new La(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new ja(e.pos,r.pos,this.mark)}merge(t){return t instanceof ja&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ja(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ja(e.from,e.to,t.markFromJSON(e.mark))}}Ra.jsonID("addMark",ja);class La extends Ra{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new $s(Ia(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return Pa.fromReplace(t,this.from,this.to,r)}invert(){return new ja(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new La(e.pos,r.pos,this.mark)}merge(t){return t instanceof La&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new La(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new La(e.from,e.to,t.markFromJSON(e.mark))}}Ra.jsonID("removeMark",La);class Ma extends Ra{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Pa.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Pa.fromReplace(t,this.pos,this.pos+1,new $s(Js.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(t))return new Ma(this.pos,e.marks[r]);return new Ma(this.pos,this.mark)}}return new Da(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Ma(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ma(e.pos,t.markFromJSON(e.mark))}}Ra.jsonID("addNodeMark",Ma);class Da extends Ra{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Pa.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Pa.fromReplace(t,this.pos,this.pos+1,new $s(Js.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Ma(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Da(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Da(e.pos,t.markFromJSON(e.mark))}}Ra.jsonID("removeNodeMark",Da);class qa extends Ra{constructor(t,e,r,n=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=n}apply(t){return this.structure&&Ba(t,this.from,this.to)?Pa.fail("Structure replace would overwrite content"):Pa.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new wa([this.from,this.to-this.from,this.slice.size])}invert(t){return new qa(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new qa(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof qa)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?$s.empty:new $s(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new qa(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?$s.empty:new $s(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new qa(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qa(e.from,e.to,$s.fromJSON(t,e.slice),!!e.structure)}}Ra.jsonID("replace",qa);class Fa extends Ra{constructor(t,e,r,n,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=n,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(Ba(t,this.from,this.gapFrom)||Ba(t,this.gapTo,this.to)))return Pa.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Pa.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?Pa.fromReplace(t,this.from,this.to,r):Pa.fail("Content does not fit in gap")}getMap(){return new wa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Fa(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||n<e.pos||i>r.pos?null:new Fa(e.pos,r.pos,n,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Fa(e.from,e.to,e.gapFrom,e.gapTo,$s.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Ba(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let t=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function Ua(t,e,r){return(0==e||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function za(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let n=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&n.canReplace(i,o,e))return r;if(0==r||n.type.spec.isolating||!Ua(n,i,o))break}return null}function Va(t,e,r=1,n){let i=t.resolve(e),o=i.depth-r,s=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=r-2;t>o;t--,e--){let r=i.node(t),o=i.index(t);if(r.type.spec.isolating)return!1;let s=r.content.cutByIndex(o,r.childCount),a=n&&n[e+1];a&&(s=s.replaceChild(0,a.type.create(a.attrs)));let l=n&&n[e]||r;if(!r.canReplace(o+1,r.childCount)||!l.type.validContent(s))return!1}let a=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Ja(t,e){let r=t.resolve(e),n=r.index();return Ha(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function Ha(t,e){return!(!t||!e||t.isLeaf||!function(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==n?t.type.schema.nodes.text:o.type;if(r=r.matchType(s),!r)return!1;if(!t.type.allowsMarks(o.marks))return!1}return r.validEnd}(t,e))}Ra.jsonID("replaceAround",Fa);class Wa extends Ra{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return Pa.fail("No node at attribute step's position");let r=Object.create(null);for(let t in e.attrs)r[t]=e.attrs[t];r[this.attr]=this.value;let n=e.type.create(r,null,e.marks);return Pa.fromReplace(t,this.pos,this.pos+1,new $s(Js.from(n),0,e.isLeaf?0:1))}getMap(){return wa.empty}invert(t){return new Wa(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Wa(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wa(e.pos,e.attr,e.value)}}Ra.jsonID("attr",Wa);class Ga extends Ra{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let r=t.type.create(e,t.content,t.marks);return Pa.ok(r)}getMap(){return wa.empty}invert(t){return new Ga(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ga(e.attr,e.value)}}Ra.jsonID("docAttr",Ga);let Ya=class extends Error{};Ya=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},(Ya.prototype=Object.create(Error.prototype)).constructor=Ya,Ya.prototype.name="TransformError";const Ka=Object.create(null);class $a{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new Qa(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=$s.empty){let r=e.content.lastChild,n=null;for(let t=0;t<e.openEnd;t++)n=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:l}=o[s],c=t.mapping.slice(i);t.replaceRange(c.map(a.pos),c.map(l.pos),s?$s.empty:e),0==s&&al(t,i,(r?r.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:o,$to:s}=n[i],a=t.mapping.slice(r),l=a.map(o.pos),c=a.map(s.pos);i?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),al(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let n=t.parent.inlineContent?new tl(t):sl(t.node(0),t.parent,t.pos,t.index(),e,r);if(n)return n;for(let n=t.depth-1;n>=0;n--){let i=e<0?sl(t.node(0),t.node(n),t.before(n+1),t.index(n),e,r):sl(t.node(0),t.node(n),t.after(n+1),t.index(n)+1,e,r);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new il(t.node(0))}static atStart(t){return sl(t,t,0,0,1)||new il(t)}static atEnd(t){return sl(t,t,t.content.size,t.childCount,-1)||new il(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ka[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Ka)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ka[t]=e,e.prototype.jsonID=t,e}getBookmark(){return tl.between(this.$anchor,this.$head).getBookmark()}}$a.prototype.visible=!0;class Qa{constructor(t,e){this.$from=t,this.$to=e}}let Za=!1;function Xa(t){Za||t.parent.inlineContent||(Za=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class tl extends $a{constructor(t,e=t){Xa(t),Xa(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return $a.near(r);let n=t.resolve(e.map(this.anchor));return new tl(n.parent.inlineContent?n:r,r)}replace(t,e=$s.empty){if(super.replace(t,e),e==$s.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof tl&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new el(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new tl(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let n=t.resolve(e);return new this(n,r==e?n:t.resolve(r))}static between(t,e,r){let n=t.pos-e.pos;if(r&&!n||(r=n>=0?1:-1),!e.parent.inlineContent){let t=$a.findFrom(e,r,!0)||$a.findFrom(e,-r,!0);if(!t)return $a.near(e,r);e=t.$head}return t.parent.inlineContent||(0==n||(t=($a.findFrom(t,-r,!0)||$a.findFrom(t,r,!0)).$anchor).pos<e.pos!=n<0)&&(t=e),new tl(t,e)}}$a.jsonID("text",tl);class el{constructor(t,e){this.anchor=t,this.head=e}map(t){return new el(t.map(this.anchor),t.map(this.head))}resolve(t){return tl.between(t.resolve(this.anchor),t.resolve(this.head))}}class rl extends $a{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:n}=e.mapResult(this.anchor),i=t.resolve(n);return r?$a.near(i):new rl(i)}content(){return new $s(Js.from(this.node),0,0)}eq(t){return t instanceof rl&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new nl(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new rl(t.resolve(e.anchor))}static create(t,e){return new rl(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}rl.prototype.visible=!1,$a.jsonID("node",rl);class nl{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new el(r,r):new nl(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&rl.isSelectable(r)?new rl(e):$a.near(e)}}class il extends $a{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=$s.empty){if(e==$s.empty){t.delete(0,t.doc.content.size);let e=$a.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new il(t)}map(t){return new il(t)}eq(t){return t instanceof il}getBookmark(){return ol}}$a.jsonID("all",il);const ol={map(){return this},resolve:t=>new il(t)};function sl(t,e,r,n,i,o=!1){if(e.inlineContent)return tl.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let n=e.child(s);if(n.isAtom){if(!o&&rl.isSelectable(n))return rl.create(t,r-(i<0?n.nodeSize:0))}else{let e=sl(t,n,r+i,i<0?n.childCount:0,i,o);if(e)return e}r+=n.nodeSize*i}return null}function al(t,e,r){let n=t.steps.length-1;if(n<e)return;let i,o=t.steps[n];(o instanceof qa||o instanceof Fa)&&(t.mapping.maps[n].forEach(((t,e,r,n)=>{null==i&&(i=n)})),t.setSelection($a.near(t.doc.resolve(i),r)))}function ll(t,e){return e&&t?t.bind(e):t}class cl{constructor(t,e,r){this.name=t,this.init=ll(e.init,r),this.apply=ll(e.apply,r)}}new cl("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new cl("selection",{init:(t,e)=>t.selection||$a.atStart(e.doc),apply:t=>t.selection}),new cl("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,r,n)=>n.selection.$cursor?t.storedMarks:null}),new cl("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e});function ul(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):"handleDOMEvents"==n&&(i=ul(i,e,{})),r[n]=i}return r}class hl{constructor(t){this.spec=t,this.props={},t.props&&ul(t.props,this,this.props),this.key=t.key?t.key.key:fl("plugin")}getState(t){return t[this.key]}}const pl=Object.create(null);function fl(t){return t in pl?t+"$"+ ++pl[t]:(pl[t]=0,t+"$")}class dl{constructor(t="key"){this.key=fl(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}function yl(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function gl(t,e,r){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(r&&1!=t.childCount)return!1}return!1}function vl(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ml(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}function xl(t){for(var e=0;e<t.edgeCount;e++){var r=t.edge(e).type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function bl(t,e){var r=t.selection,n=r.$from,i=r.$to;if(t.selection instanceof rl&&t.selection.node.isBlock)return!(!n.parentOffset||!Va(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){var o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof tl||t.selection instanceof il)&&s.deleteSelection();var a=0==n.depth?null:xl(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=Va(s.doc,s.mapping.map(n.pos),1,l);if(l||c||!Va(s.doc,s.mapping.map(n.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(n.pos),1,l),!o&&!n.parentOffset&&n.parent.type!=a)){var u=s.mapping.map(n.before()),h=s.doc.resolve(u);n.node(-1).canReplaceWith(h.index(),h.index()+1,a)&&s.setNodeMarkup(s.mapping.map(n.before()),a)}e(s.scrollIntoView())}return!0}function Ol(t,e,r){var n,i,o=e.nodeBefore,s=e.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,r){var n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(n&&i&&n.type.compatibleContent(i.type))||(!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!Ja(t.doc,e.pos)||(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,r))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(n=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(n[0]||s.type).validEnd){if(r){for(var l=e.pos+s.nodeSize,c=Js.empty,u=n.length-1;u>=0;u--)c=Js.from(n[u].create(null,c));c=Js.from(o.copy(c));var h=t.tr.step(new Fa(e.pos-1,l,e.pos,l,new $s(c,1,0),n.length,!0)),p=l+2*n.length;Ja(h.doc,p)&&h.join(p),r(h.scrollIntoView())}return!0}var f=$a.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),y=d&&za(d);if(null!=y&&y>=e.depth)return r&&r(t.tr.lift(d,y).scrollIntoView()),!0;if(a&&gl(s,"start",!0)&&gl(o,"end")){for(var g=o,v=[];v.push(g),!g.isTextblock;)g=g.lastChild;for(var m=s,x=1;!m.isTextblock;m=m.firstChild)x++;if(g.canReplace(g.childCount,g.childCount,m.content)){if(r){for(var b=Js.empty,O=v.length-1;O>=0;O--)b=Js.from(v[O].copy(b));r(t.tr.step(new Fa(e.pos-v.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new $s(b,v.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Sl(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,r,n){for(var i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var Al=Sl(yl,(function(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("backward",t):n.parentOffset>0))return!1;var i=vl(n);if(!i){var o=n.blockRange(),s=o&&za(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}var a=i.nodeBefore;if(!a.type.spec.isolating&&Ol(t,i,e))return!0;if(0==n.parent.content.size&&(gl(a,"end")||rl.isSelectable(a))){if(e){var l=t.tr.deleteRange(n.before(),n.after());l.setSelection(gl(a,"end")?$a.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):rl.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}return!(!a.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0)}),(function(t,e,r){var n=t.selection,i=n.$head,o=i;if(!n.empty)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=vl(i)}var s=o&&o.nodeBefore;return!(!s||!rl.isSelectable(s))&&(e&&e(t.tr.setSelection(rl.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)})),El=Sl(yl,(function(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size))return!1;var i=ml(n);if(!i)return!1;var o=i.nodeAfter;if(Ol(t,i,e))return!0;if(0==n.parent.content.size&&(gl(o,"start")||rl.isSelectable(o))){if(e){var s=t.tr.deleteRange(n.before(),n.after());s.setSelection(gl(o,"start")?$a.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):rl.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}return!(!o.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)}),(function(t,e,r){var n=t.selection,i=n.$head,o=i;if(!n.empty)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=ml(i)}var s=o&&o.nodeAfter;return!(!s||!rl.isSelectable(s))&&(e&&e(t.tr.setSelection(rl.create(t.doc,o.pos)).scrollIntoView()),!0)})),Tl={Enter:Sl((function(t,e){var r=t.selection,n=r.$head,i=r.$anchor;return!(!n.parent.type.spec.code||!n.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var r=t.selection,n=r.$from,i=r.$to;if(r instanceof il||n.parent.inlineContent||i.parent.inlineContent)return!1;var o=xl(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(tl.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}),(function(t,e){var r=t.selection.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var n=r.before();if(Va(t.doc,n))return e&&e(t.tr.split(n).scrollIntoView()),!0}var i=r.blockRange(),o=i&&za(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}),bl),"Mod-Enter":function(t,e){var r=t.selection,n=r.$head,i=r.$anchor;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;var o=n.node(-1),s=n.indexAfter(-1),a=xl(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(e){var l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection($a.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},Backspace:Al,"Mod-Backspace":Al,"Shift-Backspace":Al,Delete:El,"Mod-Delete":El,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new il(t.doc))),!0}},Nl={"Ctrl-h":Tl.Backspace,"Alt-Backspace":Tl["Mod-Backspace"],"Ctrl-d":Tl.Delete,"Ctrl-Alt-Backspace":Tl["Mod-Delete"],"Alt-Delete":Tl["Mod-Delete"],"Alt-d":Tl["Mod-Delete"]};for(var _l in Tl)Nl[_l]=Tl[_l];var wl=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Nl:Tl,kl=200,Cl=function(){};Cl.prototype.append=function(t){return t.length?(t=Cl.from(t),!this.length&&t||t.length<kl&&this.leafAppend(t)||this.length<kl&&t.leafPrepend(this)||this.appendInner(t)):this},Cl.prototype.prepend=function(t){return t.length?Cl.from(t).append(this):this},Cl.prototype.appendInner=function(t){return new Pl(this,t)},Cl.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Cl.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Cl.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Cl.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},Cl.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var n=[];return this.forEach((function(e,r){return n.push(t(e,r))}),e,r),n},Cl.from=function(t){return t instanceof Cl?t:t&&t.length?new Rl(t):Cl.empty};var Rl=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new e(this.values.slice(t,r))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,r,n){for(var i=e;i<r;i++)if(!1===t(this.values[i],n+i))return!1},e.prototype.forEachInvertedInner=function(t,e,r,n){for(var i=e-1;i>=r;i--)if(!1===t(this.values[i],n+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=kl)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=kl)return new e(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Cl);Cl.empty=new Rl([]);var Pl=function(t){function e(e,r){t.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,r,n){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(r,i),n))&&(!(r>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,r)-i,n+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,r,n){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(r,i)-i,n+i))&&(!(r<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),r,n))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var r=this.left.length;return e<=r?this.left.slice(t,e):t>=r?this.right.slice(t-r,e-r):this.left.slice(t,r).append(this.right.slice(0,e-r))},e.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new e(r,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Cl);const Il=Cl;class jl{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let r,n,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),n=r.maps.length);let o,s,a=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return r||(r=this.remapping(i,e+1),n=r.maps.length),n--,void c.push(t);if(r){c.push(new Ll(t.map));let e,i=t.step.map(r.slice(n));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new Ll(e,void 0,void 0,l.length+c.length))),n--,e&&r.appendMap(e,n)}else a.maybeStep(t.step);return t.selection?(o=r?t.selection.map(r.slice(n)):t.selection,s=new jl(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(t,e,r,n){let i=[],o=this.eventCount,s=this.items,a=!n&&s.length?s.get(s.length-1):null;for(let r=0;r<t.steps.length;r++){let l,c=t.steps[r].invert(t.docs[r]),u=new Ll(t.mapping.maps[r],c,e);(l=a&&a.merge(u))&&(u=l,r?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=void 0),n||(a=u)}let l=o-r.depth;return l>Dl&&(s=function(t,e){let r;return t.forEach(((t,n)=>{if(t.selection&&0==e--)return r=n,!1})),t.slice(r)}(s,l),o-=l),new jl(s.append(i),o)}remapping(t,e){let r=new ka;return this.items.forEach(((e,n)=>{let i=null!=e.mirrorOffset&&n-e.mirrorOffset>=t?r.maps.length-e.mirrorOffset:void 0;r.appendMap(e.map,i)}),t,e),r}addMaps(t){return 0==this.eventCount?this:new jl(this.items.append(t.map((t=>new Ll(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],n=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((t=>{t.selection&&s--}),n);let a=e;this.items.forEach((e=>{let n=i.getMirror(--a);if(null==n)return;o=Math.min(o,n);let l=i.maps[n];if(e.step){let o=t.steps[n].invert(t.docs[n]),c=e.selection&&e.selection.map(i.slice(a+1,n));c&&s++,r.push(new Ll(l,o,c))}else r.push(new Ll(l))}),n);let l=[];for(let t=e;t<o;t++)l.push(new Ll(i.maps[t]));let c=this.items.slice(0,n).append(l).append(r),u=new jl(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,n=[],i=0;return this.items.forEach(((o,s)=>{if(s>=t)n.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(r)),s=t&&t.getMap();if(r--,s&&e.appendMap(s,r),t){let a=o.selection&&o.selection.map(e.slice(r));a&&i++;let l,c=new Ll(s.invert(),t,a),u=n.length-1;(l=n.length&&n[u].merge(c))?n[u]=l:n.push(c)}}else o.map&&r--}),this.items.length,0),new jl(Il.from(n.reverse()),i)}}jl.empty=new jl(Il.empty,0);class Ll{constructor(t,e,r,n){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=n}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Ll(e.getMap().invert(),e,this.selection)}}}class Ml{constructor(t,e,r,n,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=n,this.prevComposition=i}}const Dl=20;function ql(t){let e=[];for(let r=t.length-1;r>=0&&0==e.length;r--)t[r].forEach(((t,r,n,i)=>e.push(n,i)));return e}function Fl(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}let Bl=!1,Ul=null;function zl(t){let e=t.plugins;if(Ul!=e){Bl=!1,Ul=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Bl=!0;break}}return Bl}const Vl=new dl("history"),Jl=new dl("closeHistory");function Hl(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new hl({key:Vl,state:{init:()=>new Ml(jl.empty,jl.empty,null,0,-1),apply:(e,r,n)=>function(t,e,r,n){let i,o=r.getMeta(Vl);if(o)return o.historyState;r.getMeta(Jl)&&(t=new Ml(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(s&&s.getMeta(Vl))return s.getMeta(Vl).redo?new Ml(t.done.addTransform(r,void 0,n,zl(e)),t.undone,ql(r.mapping.maps),t.prevTime,t.prevComposition):new Ml(t.done,t.undone.addTransform(r,void 0,n,zl(e)),null,t.prevTime,t.prevComposition);if(!1===r.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=r.getMeta("rebased"))?new Ml(t.done.rebased(r,i),t.undone.rebased(r,i),Fl(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ml(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Fl(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);{let i=r.getMeta("composition"),o=0==t.prevTime||!s&&t.prevComposition!=i&&(t.prevTime<(r.time||0)-n.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach(((t,n)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&n>=e[i]&&(r=!0)})),r}(r,t.prevRanges)),a=s?Fl(t.prevRanges,r.mapping):ql(r.mapping.maps);return new Ml(t.done.addTransform(r,o?e.selection.getBookmark():void 0,n,zl(e)),jl.empty,a,r.time,null==i?t.prevComposition:i)}}(r,n,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,n="historyUndo"==r?Gl:"historyRedo"==r?Yl:null;return!!n&&(e.preventDefault(),n(t.state,t.dispatch))}}}})}function Wl(t,e){return(r,n)=>{let i=Vl.getState(r);if(!i||0==(t?i.undone:i.done).eventCount)return!1;if(n){let o=function(t,e,r){let n=zl(e),i=Vl.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,n),l=new Ml(r?a:o.remaining,r?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Vl,{redo:r,historyState:l})}(i,r,t);o&&n(e?o.scrollIntoView():o)}return!0}}const Gl=Wl(!1,!0),Yl=Wl(!0,!0);Wl(!1,!1),Wl(!0,!1);for(var Kl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$l={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ql="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Zl="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Xl=0;Xl<10;Xl++)Kl[48+Xl]=Kl[96+Xl]=String(Xl);for(Xl=1;Xl<=24;Xl++)Kl[Xl+111]="F"+Xl;for(Xl=65;Xl<=90;Xl++)Kl[Xl]=String.fromCharCode(Xl+32),$l[Xl]=String.fromCharCode(Xl);for(var tc in Kl)$l.hasOwnProperty(tc)||($l[tc]=Kl[tc]);var ec="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function rc(t){var e,r,n,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))n=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);ec?i=!0:r=!0}}return e&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),n&&(s="Shift-"+s),s}function nc(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t}function ic(t){return new hl({props:{handleKeyDown:oc(t)}})}function oc(t){var e=function(t){var e=Object.create(null);for(var r in t)e[rc(r)]=t[r];return e}(t);return function(t,r){var n,i=function(t){var e=!(Ql&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Zl&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?$l:Kl)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),o=1==i.length&&" "!=i,s=e[nc(i,r,!o)];if(s&&s(t.state,t.dispatch,t))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(n=Kl[r.keyCode])&&n!=i){var a=e[nc(n,r,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(o&&r.shiftKey){var l=e[nc(i,r,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}function sc(t){this.content=t}sc.prototype={constructor:sc,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return-1==i?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new sc(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new sc(r)},addToStart:function(t,e){return new sc([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new sc(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(-1==o?i.length:o,0,e,r),new sc(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=sc.from(t)).size?new sc(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=sc.from(t)).size?new sc(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=sc.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},get size(){return this.content.length>>1}},sc.from=function(t){if(t instanceof sc)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new sc(e)};const ac=sc;function lc(t,e,r){for(var n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;var i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(var s=0;i.text[s]==o.text[s];s++)r++;return r}if(i.content.size||o.content.size){var a=lc(i.content,o.content,r+1);if(null!=a)return a}r+=i.nodeSize}else r+=i.nodeSize}}function cc(t,e,r,n){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};var s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){for(var c=0,u=Math.min(s.text.length,a.text.length);c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){var h=cc(s.content,a.content,r-1,n-1);if(h)return h}r-=l,n-=l}else r-=l,n-=l}}var uc=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize},hc={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};uc.prototype.nodesBetween=function(t,e,r,n,i){void 0===n&&(n=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),r,n+c)}s=l}},uc.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},uc.prototype.textBetween=function(t,e,r,n){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!r):s.isLeaf&&n?(i+="function"==typeof n?n(s):n,o=!r):!o&&s.isBlock&&(i+=r,o=!0)}),0),i},uc.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new uc(n,this.size+t.size)},uc.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var r=[],n=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new uc(r,n)},uc.prototype.cutByIndex=function(t,e){return t==e?uc.empty:0==t&&e==this.content.length?this:new uc(this.content.slice(t,e))},uc.prototype.replaceChild=function(t,e){var r=this.content[t];if(r==e)return this;var n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new uc(n,i)},uc.prototype.addToStart=function(t){return new uc([t].concat(this.content),this.size+t.nodeSize)},uc.prototype.addToEnd=function(t){return new uc(this.content.concat(t),this.size+t.nodeSize)},uc.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},hc.firstChild.get=function(){return this.content.length?this.content[0]:null},hc.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},hc.childCount.get=function(){return this.content.length},uc.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},uc.prototype.maybeChild=function(t){return this.content[t]},uc.prototype.forEach=function(t){for(var e=0,r=0;e<this.content.length;e++){var n=this.content[e];t(n,r,e),r+=n.nodeSize}},uc.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),lc(this,t,e)},uc.prototype.findDiffEnd=function(t,e,r){return void 0===e&&(e=this.size),void 0===r&&(r=t.size),cc(this,t,e,r)},uc.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return fc(0,t);if(t==this.size)return fc(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,n=0;;r++){var i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?fc(r+1,i):fc(r,n);n=i}},uc.prototype.toString=function(){return"<"+this.toStringInner()+">"},uc.prototype.toStringInner=function(){return this.content.join(", ")},uc.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},uc.fromJSON=function(t,e){if(!e)return uc.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new uc(e.map(t.nodeFromJSON))},uc.fromArray=function(t){if(!t.length)return uc.empty;for(var e,r=0,n=0;n<t.length;n++){var i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new uc(e||t,r)},uc.from=function(t){if(!t)return uc.empty;if(t instanceof uc)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new uc([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(uc.prototype,hc);var pc={index:0,offset:0};function fc(t,e){return pc.index=t,pc.offset=e,pc}function dc(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!dc(t[n],e[n]))return!1}else{for(var i in t)if(!(i in e)||!dc(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}uc.empty=new uc([],0);var yc=function(t,e){this.type=t,this.attrs=e};function gc(t){var e=Error.call(this,t);return e.__proto__=gc.prototype,e}yc.prototype.addToSet=function(t){for(var e,r=!1,n=0;n<t.length;n++){var i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e},yc.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},yc.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},yc.prototype.eq=function(t){return this==t||this.type==t.type&&dc(this.attrs,t.attrs)},yc.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},yc.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var r=t.marks[e.type];if(!r)throw new RangeError("There is no mark type "+e.type+" in this schema");return r.create(e.attrs)},yc.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0},yc.setFrom=function(t){if(!t||0==t.length)return yc.none;if(t instanceof yc)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},yc.none=[],gc.prototype=Object.create(Error.prototype),gc.prototype.constructor=gc,gc.prototype.name="ReplaceError";var vc=function(t,e,r){this.content=t,this.openStart=e,this.openEnd=r},mc={size:{configurable:!0}};function xc(t,e,r){var n=t.findIndex(e),i=n.index,o=n.offset,s=t.maybeChild(i),a=t.findIndex(r),l=a.index,c=a.offset;if(o==e||s.isText){if(c!=r&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(xc(s.content,e-o-1,r-o-1)))}function bc(t,e,r,n){var i=t.findIndex(e),o=i.index,s=i.offset,a=t.maybeChild(o);if(s==e||a.isText)return n&&!n.canReplace(o,o,r)?null:t.cut(0,e).append(r).append(t.cut(e));var l=bc(a.content,e-s-1,r);return l&&t.replaceChild(o,a.copy(l))}function Oc(t,e,r){if(r.openStart>t.depth)throw new gc("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new gc("Inconsistent open depths");return Sc(t,e,r,0)}function Sc(t,e,r,n){var i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){var s=Sc(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){var a=function(t,e){for(var r=e.depth-t.openStart,n=e.node(r).copy(t.content),i=r-1;i>=0;i--)n=e.node(i).copy(uc.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return _c(o,wc(t,a.start,a.end,e,n))}var l=t.parent,c=l.content;return _c(l,c.cut(0,t.parentOffset).append(r.content).append(c.cut(e.parentOffset)))}return _c(o,kc(t,e,n))}function Ac(t,e){if(!e.type.compatibleContent(t.type))throw new gc("Cannot join "+e.type.name+" onto "+t.type.name)}function Ec(t,e,r){var n=t.node(r);return Ac(n,e.node(r)),n}function Tc(t,e){var r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Nc(t,e,r,n){var i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(Tc(t.nodeAfter,n),o++));for(var a=o;a<s;a++)Tc(i.child(a),n);e&&e.depth==r&&e.textOffset&&Tc(e.nodeBefore,n)}function _c(t,e){if(!t.type.validContent(e))throw new gc("Invalid content for node "+t.type.name);return t.copy(e)}function wc(t,e,r,n,i){var o=t.depth>i&&Ec(t,e,i+1),s=n.depth>i&&Ec(r,n,i+1),a=[];return Nc(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(Ac(o,s),Tc(_c(o,wc(t,e,r,n,i+1)),a)):(o&&Tc(_c(o,kc(t,e,i+1)),a),Nc(e,r,i,a),s&&Tc(_c(s,kc(r,n,i+1)),a)),Nc(n,null,i,a),new uc(a)}function kc(t,e,r){var n=[];(Nc(null,t,r,n),t.depth>r)&&Tc(_c(Ec(t,e,r+1),kc(t,e,r+1)),n);return Nc(e,null,r,n),new uc(n)}mc.size.get=function(){return this.content.size-this.openStart-this.openEnd},vc.prototype.insertAt=function(t,e){var r=bc(this.content,t+this.openStart,e,null);return r&&new vc(r,this.openStart,this.openEnd)},vc.prototype.removeBetween=function(t,e){return new vc(xc(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},vc.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},vc.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},vc.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},vc.fromJSON=function(t,e){if(!e)return vc.empty;var r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new vc(uc.fromJSON(t,e.content),r,n)},vc.maxOpen=function(t,e){void 0===e&&(e=!0);for(var r=0,n=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)r++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)n++;return new vc(t,r,n)},Object.defineProperties(vc.prototype,mc),vc.empty=new vc(uc.empty,0,0);var Cc=function(t,e,r){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=r},Rc={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};Cc.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},Rc.parent.get=function(){return this.node(this.depth)},Rc.doc.get=function(){return this.node(0)},Cc.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},Cc.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},Cc.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},Cc.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},Cc.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},Cc.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},Cc.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},Rc.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Rc.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n},Rc.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},Cc.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)n+=r.child(i).nodeSize;return n},Cc.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return yc.none;if(this.textOffset)return t.child(e).marks;var r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){var i=r;r=n,n=i}for(var o=r.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||n&&o[s].isInSet(n.marks)||(o=o[s--].removeFromSet(o));return o},Cc.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var r=e.marks,n=t.parent.maybeChild(t.index()),i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r},Cc.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},Cc.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new Lc(this,t,r)},Cc.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},Cc.prototype.max=function(t){return t.pos>this.pos?t:this},Cc.prototype.min=function(t){return t.pos<this.pos?t:this},Cc.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},Cc.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var r=[],n=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,l=s.offset,c=i-l;if(r.push(o,a,n+l),!c)break;if((o=o.child(a)).isText)break;i=c-1,n+=l+1}return new Cc(e,r,i)},Cc.resolveCached=function(t,e){for(var r=0;r<Pc.length;r++){var n=Pc[r];if(n.pos==e&&n.doc==t)return n}var i=Pc[Ic]=Cc.resolve(t,e);return Ic=(Ic+1)%jc,i},Object.defineProperties(Cc.prototype,Rc);var Pc=[],Ic=0,jc=12,Lc=function(t,e,r){this.$from=t,this.$to=e,this.depth=r},Mc={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Mc.start.get=function(){return this.$from.before(this.depth+1)},Mc.end.get=function(){return this.$to.after(this.depth+1)},Mc.parent.get=function(){return this.$from.node(this.depth)},Mc.startIndex.get=function(){return this.$from.index(this.depth)},Mc.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Lc.prototype,Mc);var Dc=Object.create(null),qc=function(t,e,r,n){this.type=t,this.attrs=e,this.content=r||uc.empty,this.marks=n||yc.none},Fc={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Fc.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Fc.childCount.get=function(){return this.content.childCount},qc.prototype.child=function(t){return this.content.child(t)},qc.prototype.maybeChild=function(t){return this.content.maybeChild(t)},qc.prototype.forEach=function(t){this.content.forEach(t)},qc.prototype.nodesBetween=function(t,e,r,n){void 0===n&&(n=0),this.content.nodesBetween(t,e,r,n,this)},qc.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Fc.textContent.get=function(){return this.textBetween(0,this.content.size,"")},qc.prototype.textBetween=function(t,e,r,n){return this.content.textBetween(t,e,r,n)},Fc.firstChild.get=function(){return this.content.firstChild},Fc.lastChild.get=function(){return this.content.lastChild},qc.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},qc.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},qc.prototype.hasMarkup=function(t,e,r){return this.type==t&&dc(this.attrs,e||t.defaultAttrs||Dc)&&yc.sameSet(this.marks,r||yc.none)},qc.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},qc.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},qc.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},qc.prototype.slice=function(t,e,r){if(void 0===e&&(e=this.content.size),void 0===r&&(r=!1),t==e)return vc.empty;var n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new vc(a,n.depth-o,i.depth-o)},qc.prototype.replace=function(t,e,r){return Oc(this.resolve(t),this.resolve(e),r)},qc.prototype.nodeAt=function(t){for(var e=this;;){var r=e.content.findIndex(t),n=r.index,i=r.offset;if(!(e=e.maybeChild(n)))return null;if(i==t||e.isText)return e;t-=i+1}},qc.prototype.childAfter=function(t){var e=this.content.findIndex(t),r=e.index,n=e.offset;return{node:this.content.maybeChild(r),index:r,offset:n}},qc.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),r=e.index,n=e.offset;if(n<t)return{node:this.content.child(r),index:r,offset:n};var i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}},qc.prototype.resolve=function(t){return Cc.resolveCached(this,t)},qc.prototype.resolveNoCache=function(t){return Cc.resolve(this,t)},qc.prototype.rangeHasMark=function(t,e,r){var n=!1;return e>t&&this.nodesBetween(t,e,(function(t){return r.isInSet(t.marks)&&(n=!0),!n})),n},Fc.isBlock.get=function(){return this.type.isBlock},Fc.isTextblock.get=function(){return this.type.isTextblock},Fc.inlineContent.get=function(){return this.type.inlineContent},Fc.isInline.get=function(){return this.type.isInline},Fc.isText.get=function(){return this.type.isText},Fc.isLeaf.get=function(){return this.type.isLeaf},Fc.isAtom.get=function(){return this.type.isAtom},qc.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Uc(this.marks,t)},qc.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},qc.prototype.canReplace=function(t,e,r,n,i){void 0===r&&(r=uc.empty),void 0===n&&(n=0),void 0===i&&(i=r.childCount);var o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=n;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0},qc.prototype.canReplaceWith=function(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;var i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},qc.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},qc.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=yc.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!yc.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},qc.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},qc.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}var n=uc.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,n,r)},Object.defineProperties(qc.prototype,Fc);var Bc=function(t){function e(e,r,n,i){if(t.call(this,e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Uc(this.marks,JSON.stringify(this.text))},r.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},r.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,r),e}(qc);function Uc(t,e){for(var r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var zc=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Vc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};zc.parse=function(t,e){var r=new Jc(t,e);if(null==r.next)return zc.empty;var n=Wc(r);r.next&&r.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return r(Zc(t,0));function r(n){var i=[];n.forEach((function(e){t[e].forEach((function(e){var r=e.term,n=e.to;if(r){var o=i.indexOf(r),s=o>-1&&i[o+1];Zc(t,n).forEach((function(t){s||i.push(r,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var o=e[n.join(",")]=new zc(n.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(Qc);o.next.push(i[s],e[a.join(",")]||r(a))}return o}}(function(t){var e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){var i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,r){return t.concat(o(r,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=r())}else{if("star"==t.type){var l=r();return n(e,l),i(o(t.expr,l),l),[n(l)]}if("plus"==t.type){var c=r();return i(o(t.expr,e),c),i(o(t.expr,c),c),[n(c)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){for(var u=e,h=0;h<t.min;h++){var p=r();i(o(t.expr,u),p),u=p}if(-1==t.max)i(o(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var d=r();n(u,d),i(o(t.expr,u),d),u=d}return[n(u)]}if("name"==t.type)return[n(e,null,t.value)]}}}(n));return function(t,e){for(var r=0,n=[t];r<n.length;r++){for(var i=n[r],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==n.indexOf(c)&&n.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i},zc.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},zc.prototype.matchFragment=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.childCount);for(var n=this,i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n},Vc.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Vc.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},zc.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var r=0;r<t.next.length;r+=2)if(this.next[e]==t.next[r])return!0;return!1},zc.prototype.fillBefore=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=0);var n=[this];return function i(o,s){var a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return uc.from(s.map((function(t){return t.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var c=o.next[l],u=o.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==n.indexOf(u)){n.push(u);var h=i(u,s.concat(c));if(h)return h}}}(this,[])},zc.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r},zc.prototype.computeWrapping=function(t){for(var e=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var n=r.shift(),i=n.match;if(i.matchType(t)){for(var o=[],s=n;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||n.type&&!i.next[a+1].validEnd||(r.push({match:l.contentMatch,type:l,via:n}),e[l.name]=!0)}}},Vc.edgeCount.get=function(){return this.next.length>>1},zc.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},zc.prototype.toString=function(){var t=[];return function e(r){t.push(r);for(var n=1;n<r.next.length;n+=2)-1==t.indexOf(r.next[n])&&e(r.next[n])}(this),t.map((function(e,r){for(var n=r+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)n+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return n})).join("\n")},Object.defineProperties(zc.prototype,Vc),zc.empty=new zc(!0);var Jc=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Hc={next:{configurable:!0}};function Wc(t){var e=[];do{e.push(Gc(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Gc(t){var e=[];do{e.push(Yc(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Yc(t){for(var e=function(t){if(t.eat("(")){var e=Wc(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var r=function(t,e){var r=t.nodeTypes,n=r[e];if(n)return[n];var i=[];for(var o in r){var s=r[o];s.groups.indexOf(e)>-1&&i.push(s)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==r.length?r[0]:{type:"choice",exprs:r}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=$c(t,e)}return e}function Kc(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function $c(t,e){var r=Kc(t),n=r;return t.eat(",")&&(n="}"!=t.next?Kc(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Qc(t,e){return e-t}function Zc(t,e){var r=[];return function e(n){var i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,l=s.to;a||-1!=r.indexOf(l)||e(l)}}(e),r.sort(Qc)}function Xc(t){var e=Object.create(null);for(var r in t){var n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function tu(t,e){var r=Object.create(null);for(var n in t){var i=e&&e[n];if(void 0===i){var o=t[n];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+n);i=o.default}r[n]=i}return r}function eu(t){var e=Object.create(null);if(t)for(var r in t)e[r]=new iu(t[r]);return e}Hc.next.get=function(){return this.tokens[this.pos]},Jc.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},Jc.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(Jc.prototype,Hc);var ru=function(t,e,r){this.name=t,this.schema=e,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=eu(r.attrs),this.defaultAttrs=Xc(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t},nu={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};nu.isInline.get=function(){return!this.isBlock},nu.isTextblock.get=function(){return this.isBlock&&this.inlineContent},nu.isLeaf.get=function(){return this.contentMatch==zc.empty},nu.isAtom.get=function(){return this.isLeaf||this.spec.atom},nu.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},ru.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},ru.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},ru.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:tu(this.attrs,t)},ru.prototype.create=function(t,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qc(this,this.computeAttrs(t),uc.from(e),yc.setFrom(r))},ru.prototype.createChecked=function(t,e,r){if(e=uc.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new qc(this,this.computeAttrs(t),e,yc.setFrom(r))},ru.prototype.createAndFill=function(t,e,r){if(t=this.computeAttrs(t),(e=uc.from(e)).size){var n=this.contentMatch.fillBefore(e);if(!n)return null;e=n.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(uc.empty,!0);return i?new qc(this,t,e.append(i),yc.setFrom(r)):null},ru.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0},ru.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},ru.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},ru.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:yc.empty:t},ru.compile=function(t,e){var r=Object.create(null);t.forEach((function(t,n){return r[t]=new ru(t,e,n)}));var n=e.spec.topNode||"doc";if(!r[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r},Object.defineProperties(ru.prototype,nu);var iu=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},ou={isRequired:{configurable:!0}};ou.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(iu.prototype,ou);var su=function(t,e,r,n){this.name=t,this.schema=r,this.spec=n,this.attrs=eu(n.attrs),this.rank=e,this.excluded=null;var i=Xc(this.attrs);this.instance=i&&new yc(this,i)};su.prototype.create=function(t){return!t&&this.instance?this.instance:new yc(this,tu(this.attrs,t))},su.compile=function(t,e){var r=Object.create(null),n=0;return t.forEach((function(t,i){return r[t]=new su(t,n++,e,i)})),r},su.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},su.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},su.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var au=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=ac.from(t.nodes),this.spec.marks=ac.from(t.marks),this.nodes=ru.compile(this.spec.nodes,this),this.marks=su.compile(this.spec.marks,this);var r=Object.create(null);for(var n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");var i=this.nodes[n],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=r[o]||(r[o]=zc.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?lu(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:lu(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function lu(t,e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=t.marks[i],s=o;if(o)r.push(o);else for(var a in t.marks){var l=t.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}au.prototype.node=function(t,e,r,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof ru))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,n)},au.prototype.text=function(t,e){var r=this.nodes.text;return new Bc(r,r.defaultAttrs,t,yc.setFrom(e))},au.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},au.prototype.nodeFromJSON=function(t){return qc.fromJSON(this,t)},au.prototype.markFromJSON=function(t){return yc.fromJSON(this,t)},au.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var cu=function(t,e){var r=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?r.tags.push(t):t.style&&r.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var r=t.nodes[e.node];return r.contentMatch.matchType(r)}))};cu.prototype.parse=function(t,e){void 0===e&&(e={});var r=new yu(this,e,!1);return r.addAll(t,null,e.from,e.to),r.finish()},cu.prototype.parseSlice=function(t,e){void 0===e&&(e={});var r=new yu(this,e,!0);return r.addAll(t,null,e.from,e.to),vc.maxOpen(r.finish())},cu.prototype.matchTag=function(t,e,r){for(var n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){var i=this.tags[n];if(vu(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},cu.prototype.matchStyle=function(t,e,r,n){for(var i=n?this.styles.indexOf(n)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!r.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s}return o}}},cu.schemaRules=function(t){var e=[];function r(t){for(var r=null==t.priority?50:t.priority,n=0;n<e.length;n++){var i=e[n];if((null==i.priority?50:i.priority)<r)break}e.splice(n,0,t)}var n=function(e){var n=t.marks[e].spec.parseDOM;n&&n.forEach((function(t){r(t=mu(t)),t.mark=e}))};for(var i in t.marks)n(i);var o;for(var s in t.nodes)o=void 0,(o=t.nodes[s].spec.parseDOM)&&o.forEach((function(t){r(t=mu(t)),t.node=s}));return e},cu.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new cu(t,cu.schemaRules(t)))};var uu={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hu={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pu={ol:!0,ul:!0};function fu(t,e){return(e?1:0)|("full"===e||null==e&&t&&"pre"==t.whitespace?2:0)}var du=function(t,e,r,n,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=r,this.activeMarks=yc.none,this.pendingMarks=n,this.stashMarks=[]};du.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(uc.from(t));if(!e){var r,n=this.type.contentMatch;return(r=n.findWrapping(t.type))?(this.match=n,r):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},du.prototype.finish=function(t){if(!(1&this.options)){var e,r=this.content[this.content.length-1];r&&r.isText&&(e=/[ \t\r\n\u000c]+$/.exec(r.text))&&(r.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-e[0].length)))}var n=uc.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(uc.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n},du.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},du.prototype.applyPending=function(t){for(var e=0,r=this.pendingMarks;e<r.length;e++){var n=r[e];(this.type?this.type.allowsMarkType(n.type):xu(n.type,t))&&!n.isInSet(this.activeMarks)&&(this.activeMarks=n.addToSet(this.activeMarks),this.pendingMarks=n.removeFromSet(this.pendingMarks))}},du.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!uu.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var yu=function(t,e,r){this.parser=t,this.options=e,this.isOpen=r;var n,i=e.topNode,o=fu(null,e.preserveWhitespace)|(r?4:0);n=i?new du(i.type,i.attrs,yc.none,yc.none,!0,e.topMatch||i.type.contentMatch,o):new du(r?null:t.schema.topNodeType,null,yc.none,yc.none,!0,null,o),this.nodes=[n],this.open=0,this.find=e.findPositions,this.needsBlock=!1},gu={top:{configurable:!0},currentPos:{configurable:!0}};function vu(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mu(t){var e={};for(var r in t)e[r]=t[r];return e}function xu(t,e){var r=e.schema.nodes,n=function(n){var i=r[n];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var r=0;r<t.edgeCount;r++){var n=t.edge(r),i=n.type,a=n.next;if(i==e)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in r){var o=n(i);if(o)return o.v}}gu.top.get=function(){return this.nodes[this.open]},yu.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),r=e?this.readStyles(function(t){var e,r=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;e=r.exec(t);)n.push(e[1],e[2].trim());return n}(e)):null,n=this.top;if(null!=r)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(t),null!=r)for(var o=0;o<r.length;o++)this.removePendingMark(r[o],n)}},yu.prototype.addTextNode=function(t){var e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var n=r.content[r.content.length-1],i=t.previousSibling;(!n||i&&"BR"==i.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},yu.prototype.addElement=function(t,e){var r,n=t.nodeName.toLowerCase();pu.hasOwnProperty(n)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,r=null;e;e=e.nextSibling){var n=1==e.nodeType?e.nodeName.toLowerCase():null;n&&pu.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):"li"==n?r=e:n&&(r=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(r=this.parser.matchTag(t,this,e));if(i?i.ignore:hu.hasOwnProperty(n))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,s=this.top,a=this.needsBlock;if(uu.hasOwnProperty(n))o=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,i,!1===i.consuming?r:null)},yu.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},yu.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},yu.prototype.readStyles=function(t){var e=yc.none;t:for(var r=0;r<t.length;r+=2)for(var n=null;;){var i=this.parser.matchStyle(t[r],t[r+1],this,n);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;n=i}return e},yu.prototype.addElementByRule=function(t,e,r){var n,i,o,s=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):n=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var l=e.contentElement;"string"==typeof l?l=t.querySelector(l):"function"==typeof l&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},yu.prototype.addAll=function(t,e,r,n){for(var i=r||0,o=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&uu.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},yu.prototype.findPlace=function(t){for(var e,r,n=this.open;n>=0;n--){var i=this.nodes[n],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,r=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(r);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},yu.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));for(var n=r.activeMarks,i=0;i<t.marks.length;i++)r.type&&!r.type.allowsMarkType(t.marks[i].type)||(n=t.marks[i].addToSet(n));return r.content.push(t.mark(n)),!0}return!1},yu.prototype.enter=function(t,e,r){var n=this.findPlace(t.create(e));return n&&this.enterInner(t,e,!0,r),n},yu.prototype.enterInner=function(t,e,r,n){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==n?-5&i.options:fu(t,n);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new du(t,e,i.activeMarks,i.pendingMarks,r,null,o)),this.open++},yu.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},yu.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},yu.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},gu.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var r=this.nodes[e].content,n=r.length-1;n>=0;n--)t+=r[n].nodeSize;e&&t++}return t},yu.prototype.findAtPoint=function(t,e){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)},yu.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},yu.prototype.findAround=function(t,e,r){if(t!=e&&this.find)for(var n=0;n<this.find.length;n++){if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node))e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}},yu.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},yu.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var r=t.split("/"),n=this.options.context,i=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var l=r[t];if(""==l){if(t==r.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&i?e.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(r.length-1,this.open)},yu.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var n in this.parser.schema.nodes){var i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}},yu.prototype.addPendingMark=function(t){var e=function(t,e){for(var r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},yu.prototype.removePendingMark=function(t,e){for(var r=this.open;r>=0;r--){var n=this.nodes[r];if(n.pendingMarks.lastIndexOf(t)>-1)n.pendingMarks=t.removeFromSet(n.pendingMarks);else{n.activeMarks=t.removeFromSet(n.activeMarks);var i=n.popFromStashMark(t);i&&n.type&&n.type.allowsMarkType(i.type)&&(n.activeMarks=i.addToSet(n.activeMarks))}if(n==e)break}},Object.defineProperties(yu.prototype,gu);var bu=function(t,e){this.nodes=t||{},this.marks=e||{}};function Ou(t){var e={};for(var r in t){var n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Su(t){return t.document||window.document}bu.prototype.serializeFragment=function(t,e,r){var n=this;void 0===e&&(e={}),r||(r=Su(e).createDocumentFragment());var i=r,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var r=0,s=0;r<o.length&&s<t.marks.length;){var a=t.marks[s];if(n.marks[a.type.name]){if(!a.eq(o[r])||!1===a.type.spec.spanning)break;r+=2,s++}else s++}for(;r<o.length;)i=o.pop(),o.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=n.serializeMark(l,t.isInline,e);c&&(o.push(l,i),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(n.serializeNodeInner(t,e))})),r},bu.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var r=bu.renderSpec(Su(e),this.nodes[t.type.name](t)),n=r.dom,i=r.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return n},bu.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var r=this.serializeNodeInner(t,e),n=t.marks.length-1;n>=0;n--){var i=this.serializeMark(t.marks[n],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r},bu.prototype.serializeMark=function(t,e,r){void 0===r&&(r={});var n=this.marks[t.type.name];return n&&bu.renderSpec(Su(r),n(t,e))},bu.renderSpec=function(t,e,r){if(void 0===r&&(r=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var n=e[0],i=n.indexOf(" ");i>0&&(r=n.slice(0,i),n=n.slice(i+1));var o=null,s=r?t.createElementNS(r,n):t.createElement(n),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}for(var h=l;h<e.length;h++){var p=e[h];if(0===p){if(h<e.length-1||h>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=bu.renderSpec(t,p,r),d=f.dom,y=f.contentDOM;if(s.appendChild(d),y){if(o)throw new RangeError("Multiple content holes");o=y}}return{dom:s,contentDOM:o}},bu.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new bu(this.nodesFromSchema(t),this.marksFromSchema(t)))},bu.nodesFromSchema=function(t){var e=Ou(t.nodes);return e.text||(e.text=function(t){return t.text}),e},bu.marksFromSchema=function(t){return Ou(t.marks)};var Au=r(41811),Eu=(0,C.A)((function t(){var e=this;(0,R.A)(this,t),(0,h.A)(this,"errors",[]),(0,h.A)(this,"syntaxError",(function(t,r,n,i,o){void 0===r?e.errors.push(new Ms(o)):e.errors.push(new qs(o,r.startIndex,r.stopIndex+1,n,i))}))})),Tu=r(60680),Nu=r.n(Tu),_u=new RegExp("[\\s".concat(Nu()("\"'=!<>()~,[]|&{}*/%+^$#@?;"),"]")),wu=function(t){return _u.test(t)?'"'.concat(t.replace(/"/g,'\\"'),'"'):t},ku=function(t){return function(t){return function(t){return!(t.length<2)&&"'"===t[0]&&"'"===t[t.length-1]&&"\\"!==t[t.length-2]}(t)||function(t){return!(t.length<2)&&'"'===t[0]&&'"'===t[t.length-1]&&"\\"!==t[t.length-2]}(t)}(t)?t.slice(1,-1).replace(/(?:\\(.))/g,"$1"):t.startsWith('"')||t.startsWith("'")?t.slice(1).replace(/(?:\\(.))/g,"$1"):t},Cu=function(){return[]},Ru=function(t){t.getChildren().forEach((function(e){e.parent=t}))};function Pu(t){return t.visitArgument?t.visitArgument(this):t.visitChildren(this)}function Iu(t){t.enterArgument&&t.enterArgument(this)}function ju(t){t.exitArgument&&t.exitArgument(this)}var Lu=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Pu,enterNode:Iu,exitNode:ju,getChildren:Cu,parent:null}},Mu="clause",Du="operand",qu="compound";function Fu(t){var e,r=[t];t.clauseType===qu&&t.operator.value===this.operator.value&&(r=t.clauses),(e=this.clauses).push.apply(e,(0,u.A)(r)),Ru(this)}function Bu(){this.parent&&this.parent.removeClause(this)}function Uu(t){this.clauses=this.clauses.filter((function(e){return e!==t})),1===this.clauses.length?this.replace(this.clauses[0]):0===this.clauses.length&&this.remove()}function zu(t){this.parent&&this.parent.replaceClause(this,t)}function Vu(t,e){this.clauses=this.clauses.map((function(r){return r===t?e:r})),Ru(this)}function Ju(t){return t.visitCompoundClause?t.visitCompoundClause(this):t.visitChildren(this)}function Hu(t){t.enterCompoundClause&&t.enterCompoundClause(this)}function Wu(t){t.exitCompoundClause&&t.exitCompoundClause(this)}function Gu(){return[this.operator].concat((0,u.A)(this.clauses))}var Yu=function(t,e){var r={type:Mu,clauseType:qu,operator:t,clauses:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Ju,enterNode:Hu,exitNode:Wu,getChildren:Gu,parent:null,appendClause:Fu,remove:Bu,removeClause:Uu,replace:zu,replaceClause:Vu};return Ru(r),r};function Ku(t){return t.visitCompoundOperator?t.visitCompoundOperator(this):t.visitChildren(this)}function $u(t){t.enterCompoundOperator&&t.enterCompoundOperator(this)}function Qu(t){t.exitCompoundOperator&&t.exitCompoundOperator(this)}var Zu=function(t,e){return{value:t,positions:e,position:null,accept:Ku,enterNode:$u,exitNode:Qu,getChildren:Cu,parent:null}};function Xu(t){return t.visitField?t.visitField(this):t.visitChildren(this)}function th(t){t.enterField&&t.enterField(this)}function eh(t){t.exitField&&t.exitField(this)}function rh(){return this.properties?(0,u.A)(this.properties):[]}var nh=function(t,e,r){var n={text:e,value:t,properties:r,position:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,accept:Xu,enterNode:th,exitNode:eh,getChildren:rh,parent:null};return Ru(n),n},ih="list",oh="empty";function sh(t){return t.visitFunctionOperand?t.visitFunctionOperand(this):t.visitChildren(this)}function ah(t){t.enterFunctionOperand&&t.enterFunctionOperand(this)}function lh(t){t.exitFunctionOperand&&t.exitFunctionOperand(this)}function ch(){return[this.function].concat((0,u.A)(this.arguments))}var uh=function(t,e){var r={type:Du,operandType:"function",function:t,arguments:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:sh,enterNode:ah,exitNode:lh,getChildren:ch,parent:null};return Ru(r),r};function hh(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}function ph(t){t.enterFunction&&t.enterFunction(this)}function fh(t){t.exitFunction&&t.exitFunction(this)}var dh=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:hh,enterNode:ph,exitNode:fh,getChildren:Cu,parent:null}};function yh(t){return t.visitKeywordOperand?t.visitKeywordOperand(this):t.visitChildren(this)}function gh(t){t.enterKeywordOperand&&t.enterKeywordOperand(this)}function vh(t){t.exitKeywordOperand&&t.exitKeywordOperand(this)}var mh=function(t){return{type:Du,operandType:"keyword",value:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:yh,enterNode:gh,exitNode:vh,getChildren:Cu,parent:null}};function xh(t){var e;(e=this.values).push.apply(e,(0,u.A)(t.operandType===ih?t.values:[t])),Ru(this)}function bh(t){return t.visitListOperand?t.visitListOperand(this):t.visitChildren(this)}function Oh(t){t.enterListOperand&&t.enterListOperand(this)}function Sh(t){t.exitListOperand&&t.exitListOperand(this)}function Ah(){return(0,u.A)(this.values)}var Eh=function(t){var e={type:Du,operandType:ih,values:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:bh,enterNode:Oh,exitNode:Sh,getChildren:Ah,parent:null,appendOperand:xh};return Ru(e),e};function Th(){this.parent&&this.parent.removeClause(this)}function Nh(t){this.clause===t&&this.remove()}function _h(t){this.parent&&this.parent.replaceClause(this,t)}function wh(t,e){this.clause===t&&(this.clause=e,Ru(this))}function kh(t){return t.visitNotClauseOperator?t.visitNotClauseOperator(this):t.visitChildren(this)}function Ch(t){t.enterNotClauseOperator&&t.enterNotClauseOperator(this)}function Rh(t){t.exitNotClauseOperator&&t.exitNotClauseOperator(this)}var Ph=function(){return Ih()},Ih=function(){return{value:"not",position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,accept:kh,enterNode:Ch,exitNode:Rh,getChildren:Cu,parent:null}};function jh(t){return t.visitNotClause?t.visitNotClause(this):t.visitChildren(this)}function Lh(t){t.enterNotClause&&t.enterNotClause(this)}function Mh(t){t.exitNotClause&&t.exitNotClause(this)}function Dh(){return[this.operator,this.clause]}var qh=function(t,e){var r={type:Mu,clauseType:"not",clause:t,operator:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:jh,enterNode:Lh,exitNode:Mh,getChildren:Dh,parent:null,remove:Th,removeClause:Nh,replace:_h,replaceClause:wh};return Ru(r),r};function Fh(t){return t.visitOperator?t.visitOperator(this):t.visitChildren(this)}function Bh(t){t.enterOperator&&t.enterOperator(this)}function Uh(t){t.exitOperator&&t.exitOperator(this)}var zh=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Fh,enterNode:Bh,exitNode:Uh,getChildren:Cu,parent:null}};function Vh(t){this.fields.unshift(t),Ru(this)}function Jh(t){this.fields.length>0&&this.fields[0].setOrderDirection(t)}function Hh(t){return t.visitOrderByOperator?t.visitOrderByOperator(this):t.visitChildren(this)}function Wh(t){t.enterOrderByOperator&&t.enterOrderByOperator(this)}function Gh(t){t.exitOrderByOperator&&t.exitOrderByOperator(this)}var Yh=function(){return Kh()},Kh=function(){return{value:"ORDER BY",position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,accept:Hh,enterNode:Wh,exitNode:Gh,getChildren:Cu,parent:null}};function $h(t){return t.visitOrderBy?t.visitOrderBy(this):t.visitChildren(this)}function Qh(t){t.enterOrderBy&&t.enterOrderBy(this)}function Zh(t){t.exitOrderBy&&t.exitOrderBy(this)}function Xh(){return[this.operator].concat((0,u.A)(this.fields))}var tp=function(t,e){var r={type:"order_by",operator:e,fields:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:$h,enterNode:Qh,exitNode:Zh,getChildren:Xh,parent:null,prependOrderField:Vh,setOrderDirection:Jh};return Ru(r),r};function ep(t){return t.visitOrderByDirection?t.visitOrderByDirection(this):t.visitChildren(this)}function rp(t){t.enterOrderByDirection&&t.enterOrderByDirection(this)}function np(t){t.exitOrderByDirection&&t.exitOrderByDirection(this)}var ip=function(t){return{value:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:ep,enterNode:rp,exitNode:np,getChildren:Cu,parent:null}};function op(t){this.direction=t,Ru(this)}function sp(t){return t.visitOrderByField?t.visitOrderByField(this):t.visitChildren(this)}function ap(t){t.enterOrderByField&&t.enterOrderByField(this)}function lp(t){t.exitOrderByField&&t.exitOrderByField(this)}function cp(){var t=[this.field];return this.direction&&t.push(this.direction),t}var up=function(t,e){var r={field:t,direction:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:sp,enterNode:ap,exitNode:lp,getChildren:cp,parent:null,setOrderDirection:op};return Ru(r),r};function hp(t){return t.visitPredicate?t.visitPredicate(this):t.visitChildren(this)}function pp(t){t.enterPredicate&&t.enterPredicate(this)}function fp(t){t.exitPredicate&&t.exitPredicate(this)}function dp(){var t=[this.operator];return this.operand&&t.push(this.operand),t}var yp=function(t,e){var r={operator:t,operand:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:hp,enterNode:pp,exitNode:fp,getChildren:dp,parent:null};return Ru(r),r};function gp(t){return t.visitPredicateOperator?t.visitPredicateOperator(this):t.visitChildren(this)}function vp(t){t.enterPredicateOperator&&t.enterPredicateOperator(this)}function mp(t){t.exitPredicateOperator&&t.exitPredicateOperator(this)}var xp=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:gp,enterNode:vp,exitNode:mp,getChildren:Cu,parent:null}};function bp(t){return t.visitProperty?t.visitProperty(this):t.visitChildren(this)}function Op(t){t.enterProperty&&t.enterProperty(this)}function Sp(t){t.exitProperty&&t.exitProperty(this)}function Ap(){var t=[];return this.key&&t.push(this.key),this.path?t.concat(this.path):t}var Ep=function(t,e){var r={key:t,path:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:bp,enterNode:Op,exitNode:Sp,getChildren:Ap,parent:null};return Ru(r),r};function Tp(t,e){if(this.where){var r=$p.compoundOperator(e),n=$p.compoundClause(r,[]);n.appendClause(this.where),n.appendClause(t),this.where=n}else this.where=t;Ru(this)}function Np(t){this.orderBy?this.orderBy.prependOrderField(t):(this.orderBy=$p.orderBy([t]),Ru(this))}function _p(t){this.orderBy&&this.orderBy.setOrderDirection(t)}function wp(t){this.where===t&&(this.where=void 0)}function kp(t,e){this.where===t&&(this.where=e,Ru(this))}function Cp(t){return t.visitQuery?t.visitQuery(this):t.visitChildren(this)}function Rp(t){t.enterQuery&&t.enterQuery(this)}function Pp(t){t.exitQuery&&t.exitQuery(this)}function Ip(){var t=[];return this.where&&t.push(this.where),this.orderBy&&t.push(this.orderBy),t}var jp=function(t,e){var r={type:"query",where:t,orderBy:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Cp,enterNode:Rp,exitNode:Pp,getChildren:Ip,parent:null,appendClause:Tp,prependOrderField:Np,setOrderDirection:_p,removeClause:wp,replaceClause:kp};return Ru(r),r};function Lp(t){this.operator=t,Ru(this)}function Mp(t){this.operand=t,Ru(this)}function Dp(t){this.operand?this.operand.operandType===ih?this.operand.appendOperand(t):this.setOperand($p.listOperand([this.operand].concat((0,u.A)(t.operandType===ih?t.values:[t])))):this.setOperand(t)}function qp(){this.parent&&this.parent.removeClause(this)}function Fp(t){this.parent&&this.parent.replaceClause(this,t)}function Bp(t){return t.visitTerminalClause?t.visitTerminalClause(this):t.visitChildren(this)}function Up(t){t.enterTerminalClause&&t.enterTerminalClause(this)}function zp(t){t.exitTerminalClause&&t.exitTerminalClause(this)}function Vp(){var t=[this.field];return this.operator&&t.push(this.operator),this.operand&&t.push(this.operand),t.concat(this.predicates)}var Jp=function(t,e,r,n){var i={type:Mu,clauseType:"terminal",field:t,operator:e,operand:r,predicates:n,position:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,accept:Bp,enterNode:Up,exitNode:zp,getChildren:Vp,parent:null,setOperator:Lp,setOperand:Mp,appendOperand:Dp,remove:qp,replace:Fp};return Ru(i),i};function Hp(t){return t.visitValueOperand?t.visitValueOperand(this):t.visitChildren(this)}function Wp(t){t.enterValueOperand&&t.enterValueOperand(this)}function Gp(t){t.exitValueOperand&&t.exitValueOperand(this)}var Yp=function(t,e){return{type:Du,operandType:"value",text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Hp,enterNode:Wp,exitNode:Gp,getChildren:Cu,parent:null}},Kp={query:jp,compoundClause:Yu,compoundOperator:Zu,terminalClause:Jp,notClause:qh,notClauseOperator:Ih,predicate:yp,predicateOperator:xp,field:nh,property:Ep,operator:zh,valueOperand:Yp,keywordOperand:mh,functionOperand:uh,functionString:dh,argument:Lu,listOperand:Eh,orderBy:tp,orderByOperator:Kh,orderByField:up,orderByDirection:ip};const $p={query:function(t,e){return jp(t,e)},compoundClause:function(t,e){return Yu(t,e)},compoundOperator:function(t){return Zu(t,[])},terminalClause:function(t,e,r){return Jp(t,e,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[])},notClause:function(t){return qh(t,Ph())},notClauseOperator:Ph,predicate:function(t,e){return yp(t,e)},predicateOperator:function(t){return xp(t,t)},field:function(t,e){return nh(t,wu(t),e)},property:function(t){return Ep(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},operator:function(t){return zh(t,t)},valueOperand:function(t){return Yp(t,wu(t))},keywordOperand:function(){return mh(oh)},functionOperand:function(t){return uh(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},functionString:function(t){return dh(t,wu(t))},argument:function(t){return Lu(t,wu(t))},listOperand:function(t){return Eh(t)},orderBy:function(t){return tp(t,Yh())},orderByOperator:Yh,orderByField:function(t,e){return up(t,e)},orderByDirection:function(t){return ip(t)},byText:{argument:function(t){return Lu(ku(t),t)},valueOperand:function(t){return Yp(ku(t),t)}}};var Qp=function(){function t(e){(0,R.A)(this,t),this.tokens=e}return(0,C.A)(t,[{key:"visit",value:function(t){throw new Error("Unsupported operation visit(ParseTree)")}},{key:"visitChildren",value:function(t){throw new Error("Unsupported operation visitChildren(RuleNode)")}},{key:"visitErrorNode",value:function(t){throw new Error("Unsupported operation visitErrorNode(ErrorNode)")}},{key:"visitTerminal",value:function(t){throw new Error("Unsupported operation visitTerminal(TerminalNode)")}}]),t}(),Zp=function(t,e){return[t.startIndex,(e||t).stopIndex+1]},Xp=function(t){return[t.start.startIndex,t.stop?t.stop.stopIndex+1:t.start.stopIndex]},tf=function(t){return t.map((function(t){return Zp(t.payload)}))},ef=function(t){return t.toLowerCase().replace(/\s+/g," ")};function rf(t){return void 0!==t}function nf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var of=function(t){(0,Z.A)(r,t);var e=nf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"visitJqlString",(function(e){var r,n=t.tokens.getText(e),i=Xp(e);return r=e.QUOTE_STRING()?n.replace(/^"|"$/g,"").replace(/(?:\\(.))/g,"$1"):e.SQUOTE_STRING()?n.replace(/^'|'$/g,"").replace(/(?:\\(.))/g,"$1"):n,{text:n,value:r,position:i}})),t}return(0,C.A)(r)}(Qp);function sf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var af=function(t){(0,Z.A)(r,t);var e=sf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"stringVisitor",new of(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlArgument",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return Kp.argument(n.value,n.text,n.position)}var i=t.tokens.getText(e);return Kp.argument(i,i,Xp(e))})),t}return(0,C.A)(r)}(Qp);function lf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var cf=function(t){(0,Z.A)(r,t);var e=lf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"stringVisitor",new of(t.tokens)),(0,h.A)((0,rt.A)(t),"fieldPropertyVisitor",new uf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlNumberField",(function(e){var r=t.tokens.getText(e);return Kp.field(r,r,void 0,Xp(e))})),(0,h.A)((0,rt.A)(t),"visitJqlNonNumberField",(function(e){var r=e.jqlString(),n=e.jqlFieldProperty().map((function(e){return e.accept(t.fieldPropertyVisitor)}));if(void 0!==r){var i=r.accept(t.stringVisitor);return Kp.field(i.value,i.text,n,Xp(e))}var o=t.tokens.getText(e);return Kp.field(o,o,n,Xp(e))})),t}return(0,C.A)(r)}(Qp),uf=function(t){(0,Z.A)(r,t);var e=lf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"argumentVisitor",new af(t.tokens)),(0,h.A)((0,rt.A)(t),"propertyArgumentVisitor",new hf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlFieldProperty",(function(e){var r=e.jqlArgument(),n=e.jqlPropertyArgument().map((function(e){return e.accept(t.propertyArgumentVisitor)}));return Kp.property(r&&r.accept(t.argumentVisitor),n,Xp(e))})),t}return(0,C.A)(r)}(Qp),hf=function(t){(0,Z.A)(r,t);var e=lf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"argumentVisitor",new af(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlPropertyArgument",(function(e){return e.jqlArgument().accept(t.argumentVisitor)})),t}return(0,C.A)(r)}(Qp);function pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var ff=function(t){(0,Z.A)(r,t);var e=pf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"searchSortVisitor",new df(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlOrderBy",(function(e){if(!e.exception){var r=Kp.orderByOperator(Zp(e.ORDER().payload,e.BY().payload)),n=e.jqlSearchSort().map((function(e){return e.accept(t.searchSortVisitor)})).filter(rf);return Kp.orderBy(n,r,Xp(e))}})),t}return(0,C.A)(r)}(Qp),df=function(t){(0,Z.A)(r,t);var e=pf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"fieldVisitor",new cf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlSearchSort",(function(e){if(!e.jqlField().exception){var r,n=e.DESC(),i=e.ASC();return void 0!==n?r=Kp.orderByDirection("DESC",Zp(n.payload)):void 0!==i&&(r=Kp.orderByDirection("ASC",Zp(i.payload))),Kp.orderByField(e.jqlField().accept(t.fieldVisitor),r,Xp(e))}})),t}return(0,C.A)(r)}(Qp);function yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var gf=function(t){(0,Z.A)(r,t);var e=yf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"visitJqlNumber",(function(e){var r=t.tokens.getText(e);return Kp.valueOperand(r,r,Xp(e))})),t}return(0,C.A)(r)}(Qp);function vf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var mf=function(t){(0,Z.A)(r,t);var e=vf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"stringVisitor",new of(t.tokens)),(0,h.A)((0,rt.A)(t),"numberVisitor",new gf(t.tokens)),(0,h.A)((0,rt.A)(t),"functionNameVisitor",new xf(t.tokens)),(0,h.A)((0,rt.A)(t),"argumentListVisitor",new bf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlOperand",(function(e){var r=[e.jqlEmpty(),e.jqlValue(),e.jqlList(),e.jqlFunction()].find(rf);return null==r?void 0:r.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitJqlEmpty",(function(t){if(!t.exception)return Kp.keywordOperand(oh,Zp(t.EMPTY().payload))})),(0,h.A)((0,rt.A)(t),"visitJqlValue",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return Kp.valueOperand(n.value,n.text,n.position)}var i=e.jqlNumber();if(void 0!==i)return i.accept(t.numberVisitor)})),(0,h.A)((0,rt.A)(t),"visitJqlList",(function(e){var r=e.jqlOperand().map((function(e){return e.accept((0,rt.A)(t))})).filter(rf);return Kp.listOperand(r,Xp(e))})),(0,h.A)((0,rt.A)(t),"visitJqlFunction",(function(e){var r=e.jqlArgumentList();return Kp.functionOperand(e.jqlFunctionName().accept(t.functionNameVisitor),void 0===r?[]:r.accept(t.argumentListVisitor),Xp(e))})),t}return(0,C.A)(r)}(Qp),xf=function(t){(0,Z.A)(r,t);var e=vf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"stringVisitor",new of(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlFunctionName",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return Kp.functionString(n.value,n.text,n.position)}var i=t.tokens.getText(e);return Kp.functionString(i,i,Xp(e))})),t}return(0,C.A)(r)}(Qp),bf=function(t){(0,Z.A)(r,t);var e=vf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"argumentVisitor",new af(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlArgumentList",(function(e){return e.jqlArgument().map((function(e){return e.accept(t.argumentVisitor)}))})),t}return(0,C.A)(r)}(Qp);function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var Sf=function(t){(0,Z.A)(r,t);var e=Of(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"visitChildren",(function(e){var r=e.sourceInterval,n=t.tokens.getText(r);if(n){var i=ef(n),o=r.a,s=r.b,a=t.tokens.get(o),l=t.tokens.get(s),c=Zp(a,l);if(function(t){return _.includes(t)}(i))return Kp.operator(i,n,c)}})),t}return(0,C.A)(r,[{key:"visitJqlEqualsOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return x.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised equals operators"));return Kp.operator(e,e,Xp(t))}},{key:"visitJqlLikeOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return b.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised like operators"));return Kp.operator(e,e,Xp(t))}},{key:"visitJqlComparisonOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return O.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised comparison operators"));return Kp.operator(e,e,Xp(t))}},{key:"visitJqlInOperator",value:function(t){var e=this.tokens.getText(t),r=ef(e);if(function(t){return S.includes(t)}(r))return Kp.operator(r,e,Xp(t))}},{key:"visitJqlIsOperator",value:function(t){var e=this.tokens.getText(t),r=ef(e);if(!function(t){return A.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised is operators"));return Kp.operator(r,e,Xp(t))}},{key:"visitJqlWasOperator",value:function(t){var e=this.tokens.getText(t),r=ef(e);if(!function(t){return E.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised was operators"));return Kp.operator(r,e,Xp(t))}},{key:"visitJqlWasInOperator",value:function(t){var e=this.tokens.getText(t),r=ef(e);if(!function(t){return T.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised was in operators"));return Kp.operator(r,e,Xp(t))}},{key:"visitJqlChangedOperator",value:function(t){var e=this.tokens.getText(t),r=ef(e);if(!function(t){return N.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised changed operators"));return Kp.operator(r,e,Xp(t))}}]),r}(Qp),Af=["after","before","by","during","from","on","to"];function Ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var Tf=function(t){(0,Z.A)(r,t);var e=Ef(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"predicateOperatorVisitor",new Nf(t.tokens)),(0,h.A)((0,rt.A)(t),"predicateOperandVisitor",new _f(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlWasPredicate",(function(e){var r=t.getOperatorForContexts([e.jqlDatePredicateOperator(),e.jqlDateRangePredicateOperator(),e.jqlUserPredicateOperator()]),n=e.jqlPredicateOperand().accept(t.predicateOperandVisitor),i=Xp(e);return Kp.predicate(r,n,i)})),(0,h.A)((0,rt.A)(t),"visitJqlChangedPredicate",(function(e){var r=t.getOperatorForContexts([e.jqlDatePredicateOperator(),e.jqlDateRangePredicateOperator(),e.jqlUserPredicateOperator(),e.jqlValuePredicateOperator()]),n=e.jqlPredicateOperand().accept(t.predicateOperandVisitor),i=Xp(e);return Kp.predicate(r,n,i)})),(0,h.A)((0,rt.A)(t),"getOperatorForContexts",(function(e){var r=e.find(rf);if(void 0!==r)return r.accept(t.predicateOperatorVisitor);throw new Error("Undefined predicate operator context")})),t}return(0,C.A)(r)}(Qp),Nf=function(t){(0,Z.A)(r,t);var e=Ef(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"visitJqlDatePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,h.A)((0,rt.A)(t),"visitJqlDateRangePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,h.A)((0,rt.A)(t),"visitJqlUserPredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,h.A)((0,rt.A)(t),"visitJqlValuePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,h.A)((0,rt.A)(t),"getPredicateOperator",(function(e){var r=t.tokens.getText(e),n=r.toLowerCase().replace(/\s+/g," ");if(!function(t){return Af.includes(t)}(n))throw new Error("Found a history predicate operator which does not map to a changed time predicate operator in the ast: ".concat(r));return Kp.predicateOperator(n,r,Xp(e))})),t}return(0,C.A)(r)}(Qp),_f=function(t){(0,Z.A)(r,t);var e=Ef(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"operandVisitor",new mf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlPredicateOperand",(function(e){return e.jqlOperand().accept(t.operandVisitor)})),t}return(0,C.A)(r)}(Qp);function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var kf=function(t){(0,Z.A)(r,t);var e=wf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"fieldVisitor",new cf(t.tokens)),(0,h.A)((0,rt.A)(t),"terminalClauseRhsVisitor",new Cf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlTerminalClause",(function(e){var r=e.jqlField().accept(t.fieldVisitor),n=e.jqlTerminalClauseRhs().accept(t.terminalClauseRhsVisitor),i=n.operator,o=n.operand,s=n.predicates,a=Xp(e);return Kp.terminalClause(r,i,o,s,a)})),t}return(0,C.A)(r)}(Qp),Cf=function(t){(0,Z.A)(r,t);var e=wf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"operatorVisitor",new Sf(t.tokens)),(0,h.A)((0,rt.A)(t),"terminalClauseOperandVisitor",new Rf(t.tokens)),(0,h.A)((0,rt.A)(t),"predicateVisitor",new Tf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlEqualsClause",(function(e){return{operator:e.jqlEqualsOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,h.A)((0,rt.A)(t),"visitJqlLikeClause",(function(e){return{operator:e.jqlLikeOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,h.A)((0,rt.A)(t),"visitJqlComparisonClause",(function(e){return{operator:e.jqlComparisonOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,h.A)((0,rt.A)(t),"visitJqlInClause",(function(e){return{operator:e.jqlInOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,h.A)((0,rt.A)(t),"visitJqlIsClause",(function(e){return{operator:e.jqlIsOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,h.A)((0,rt.A)(t),"visitJqlWasClause",(function(e){var r=e.jqlWasOperator().accept(t.operatorVisitor),n=e.accept(t.terminalClauseOperandVisitor),i=e.jqlWasPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(rf);return{operator:r,operand:n,predicates:i}})),(0,h.A)((0,rt.A)(t),"visitJqlWasInClause",(function(e){var r=e.jqlWasInOperator().accept(t.operatorVisitor),n=e.accept(t.terminalClauseOperandVisitor),i=e.jqlWasPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(rf);return{operator:r,operand:n,predicates:i}})),(0,h.A)((0,rt.A)(t),"visitJqlChangedClause",(function(e){var r=e.jqlChangedOperator().accept(t.operatorVisitor),n=e.jqlChangedPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(rf);return{operator:r,operand:void 0,predicates:n}})),(0,h.A)((0,rt.A)(t),"visitChildren",(function(e){return{operator:e.accept(t.operatorVisitor),operand:void 0,predicates:[]}})),t}return(0,C.A)(r)}(Qp),Rf=function(t){(0,Z.A)(r,t);var e=wf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"operandVisitor",new mf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlEqualsClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"visitJqlLikeClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"visitJqlComparisonClause",(function(e){return t.getOperandForContexts([e.jqlValue(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"visitJqlInClause",(function(e){return t.getOperandForContexts([e.jqlList(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"visitJqlIsClause",(function(e){return t.getOperandForContexts([e.jqlEmpty()])})),(0,h.A)((0,rt.A)(t),"visitJqlWasClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"visitJqlWasInClause",(function(e){return t.getOperandForContexts([e.jqlList(),e.jqlFunction()])})),(0,h.A)((0,rt.A)(t),"getOperandForContexts",(function(e){var r=e.find(rf);return null==r?void 0:r.accept(t.operandVisitor)})),t}return(0,C.A)(r)}(Qp);function Pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var If=function(t){(0,Z.A)(r,t);var e=Pf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"terminalClauseVisitor",new kf(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlWhere",(function(e){return t.visitJqlOrClause(e.jqlOrClause())})),(0,h.A)((0,rt.A)(t),"visitJqlOrClause",(function(e){var r=e.jqlAndClause().map((function(e){return e.accept((0,rt.A)(t))})).filter(rf);if(r.length>1){var n=Kp.compoundOperator("or",tf(e.OR()));return Kp.compoundClause(n,r,Xp(e))}return 0===r.length?void 0:r[0]})),(0,h.A)((0,rt.A)(t),"visitJqlAndClause",(function(e){var r=e.jqlNotClause().map((function(e){return e.accept((0,rt.A)(t))})).filter(rf);if(r.length>1){var n=Kp.compoundOperator("and",tf(e.AND()));return Kp.compoundClause(n,r,Xp(e))}return 0===r.length?void 0:r[0]})),(0,h.A)((0,rt.A)(t),"visitJqlNotClause",(function(e){var r,n=e.jqlNotClause(),i=e.jqlSubClause(),o=e.jqlTerminalClause();void 0!==n?r=n.accept((0,rt.A)(t)):void 0!==i?r=i.accept((0,rt.A)(t)):void 0!==o&&(r=o.accept(t.terminalClauseVisitor));var s=e.NOT();return(s=void 0===s?e.BANG():s)&&r?Kp.notClause(r,Kp.notClauseOperator(Zp(s.payload)),Xp(e)):r})),(0,h.A)((0,rt.A)(t),"visitJqlSubClause",(function(e){return t.visitJqlOrClause(e.jqlOrClause())})),t}return(0,C.A)(r)}(Qp);function jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var Lf,Mf,Df=function(t){(0,Z.A)(r,t);var e=jf(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"whereVisitor",new If(t.tokens)),(0,h.A)((0,rt.A)(t),"orderByVisitor",new ff(t.tokens)),(0,h.A)((0,rt.A)(t),"visitJqlQuery",(function(e){var r=e.jqlWhere(),n=e.jqlOrderBy();return Kp.query(r&&r.accept(t.whereVisitor),n&&n.accept(t.orderByVisitor),Xp(e))})),t}return(0,C.A)(r)}(Qp),qf=function(){function t(){(0,R.A)(this,t),(0,h.A)(this,"errorListeners",[]),(0,h.A)(this,"errorHandler",void 0),(0,h.A)(this,"getTokens",(0,Au.A)((function(t){var e=ye.CharStreams.fromString(t),r=new de(e);return new ye.CommonTokenStream(r)}))),(0,h.A)(this,"getParser",(0,Au.A)((function(t){return new dt(t)})))}return(0,C.A)(t,[{key:"setErrorHandler",value:function(t){return this.errorHandler=t,this}},{key:"setErrorListeners",value:function(t){return this.errorListeners=this.errorListeners.concat(t),this}},{key:"build",value:function(t){var e=this.getTokens(t),r=this.getParser(e),n=new Eu;r.removeErrorListeners(),r.addErrorListener(n),this.errorListeners.forEach((function(t){return r.addErrorListener(t)})),this.errorHandler&&(r.errorHandler=this.errorHandler,this.errorHandler.reset(r));var i=new Df(e);try{return{query:r.jqlQuery().accept(i),represents:t,errors:n.errors}}catch(e){return{query:void 0,represents:t,errors:[new Ms(e.message,e)]}}}}]),t}(),Ff=function(t,e,r){return Bf(t.content,e,r)},Bf=function(t,e,r){return Uf(t,e,r,"\n")},Uf=function(t,e,r,n,i){var o="",s=!1;return t.nodesBetween(e,r,(function(t,a){var l;t.isText?o+=null===(l=t.text)||void 0===l?void 0:l.slice(Math.max(e,a)-a,r-a):t.isLeaf&&i?o+=i:t.isBlock&&(s?o+=n:s=!0)}),0),o},zf=r(52037),Vf=r.n(zf),Jf=new Set([de.EOF,de.LPAREN,de.LBRACKET,de.STRING,de.QUOTE_STRING,de.SQUOTE_STRING,de.POSNUMBER,de.NEGNUMBER,de.BANG,de.CUSTOMFIELD]),Hf=new Set([dt.RULE_jqlField,dt.RULE_jqlFieldProperty,dt.RULE_jqlEqualsOperator,dt.RULE_jqlLikeOperator,dt.RULE_jqlComparisonOperator,dt.RULE_jqlInOperator,dt.RULE_jqlIsOperator,dt.RULE_jqlWasOperator,dt.RULE_jqlWasInOperator,dt.RULE_jqlChangedOperator,dt.RULE_jqlValue,dt.RULE_jqlListStart,dt.RULE_jqlFunction,dt.RULE_jqlCustomField,dt.RULE_jqlArgument]),Wf=[de.RPAREN,de.RBRACKET,de.COMMA],Gf=r(31635),Yf=r(40554);function Kf(){var t=n.useContext(i.ob);return(0,Yf.HM)(t),t}!function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"}(Lf||(Lf={})),function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"}(Mf||(Mf={}));var $f=function(t){var e=Kf(),r=t.value,n=t.children,i=(0,Gf.Tt)(t,["value","children"]);return n(e.formatNumberToParts(r,i))};$f.displayName="FormattedNumberParts";function Qf(t){var e=function(e){var r=Kf(),n=e.value,i=e.children,o=(0,Gf.Tt)(e,["value","children"]),s="string"==typeof n?new Date(n||0):n;return i("formatDate"===t?r.formatDateToParts(s,o):r.formatTimeToParts(s,o))};return e.displayName=Mf[t],e}function Zf(t){var e=function(e){var r=Kf(),i=e.value,o=e.children,s=(0,Gf.Tt)(e,["value","children"]),a=r[t](i,s);if("function"==typeof o)return o(a);var l=r.textComponent||n.Fragment;return n.createElement(l,null,a)};return e.displayName=Lf[t],e}$f.displayName="FormattedNumberParts";Zf("formatDate"),Zf("formatTime"),Zf("formatNumber"),Zf("formatList"),Zf("formatDisplayName"),Qf("formatDate"),Qf("formatTime");var Xf={expectingOperatorButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperatorButReceived",defaultMessage:"Expecting an operator but got ''{received}''. The valid operators are '=', '!=', '<', '>', '<=', '>=', '~', '!~', 'IN', 'NOT IN', 'IS' and 'IS NOT'.",description:"When an operator was expected but another token was received."},expectingOperatorBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperatorBeforeEOF",defaultMessage:"Expecting an operator before the end of the query. The valid operators are '=', '!=', '<', '>', '<=', '>=', '~', '!~', 'IN', 'NOT IN', 'IS' and 'IS NOT'.",description:"When an operator was expected before the end of the query."},expectingFieldButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldButReceived",defaultMessage:"Expecting a field name but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a field name.",description:"When a field was expected but another token was received."},expectingFieldBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldBeforeEOF",defaultMessage:"Expecting a field name before the end of the query.",description:"When a field was expected before the end of the query."},expectingCFButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingCFButReceived",defaultMessage:"Expecting a field name but got '['. Did you mean 'cf['?",description:"When a field was expected but a left bracket was received without a 'cf' prefix."},expectingCustomFieldId:{id:"jql-editor.plugins.jql-ast.error-messages.expectingCustomFieldId",defaultMessage:"Expecting a custom field id enclosed by '[ ]' after 'cf'. Example: 'cf[10021]'.",description:"When a custom field id was expected before the end of the query. Text wrapped in single quotes in our message refer to specific tokens in the query so they should not be translated."},expectingOperandButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperandButReceived",defaultMessage:"Expecting either a value, list or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When an operand was expected but another token was received."},expectingOperandBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperandBeforeEOF",defaultMessage:"Expecting either a value, list or function before the end of the query.",description:"When an operand was expected before the end of the query."},expectingValueOrFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueOrFunctionButReceived",defaultMessage:"Expecting a value or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a value or function was expected but another token was received."},expectingValueOrFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueOrFunctionBeforeEOF",defaultMessage:"Expecting a value or function before the end of the query.",description:"When a value or function was expected before the end of the query."},expectingListOrFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListOrFunctionButReceived",defaultMessage:"Expecting a list or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a list or function was expected but another token was received."},expectingListOrFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListOrFunctionBeforeEOF",defaultMessage:"Expecting a list or function before the end of the query.",description:"When a list or function was expected before the end of the query."},expectingValueButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueButReceived",defaultMessage:"Expecting a value but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a value was expected but another token was received."},expectingValueBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueBeforeEOF",defaultMessage:"Expecting a value before the end of the query.",description:"When a value was expected before the end of the query."},expectingListButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListButReceived",defaultMessage:"Expecting a list but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a list was expected but another token was received."},expectingListBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListBeforeEOF",defaultMessage:"Expecting a list before the end of the query.",description:"When a list was expected before the end of the query."},expectingFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionButReceived",defaultMessage:"Expecting a function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a function was expected but another token was received."},expectingFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionBeforeEOF",defaultMessage:"Expecting a function before the end of the query.",description:"When a function was expected before the end of the query."},expectingFieldPropertyIdButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldPropertyIdButReceived",defaultMessage:"Expecting a property id but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a field property ID was expected but another token was received."},expectingFieldPropertyIdBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldPropertyIdBeforeEOF",defaultMessage:"Expecting a property id before the end of the query.",description:"When a field property ID was expected before the end of the query."},expectingFunctionArgButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionArgButReceived",defaultMessage:"Expecting a function argument but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a function argument was expected but another token was received."},expectingFunctionArgBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionArgBeforeEOF",defaultMessage:"Expecting a function argument before the end of the query.",description:"When a function argument was expected before the end of the query."},expectingMultipleTokensButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingMultipleTokensButReceived",defaultMessage:"Expecting {firstExpectedTokens} or ''{lastExpectedToken}'' but got ''{received}''.",description:"When the text the user entered does not match any of the expected tokens."},expectingMultipleTokensBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingMultipleTokensBeforeEOF",defaultMessage:"Expecting {firstExpectedTokens} or ''{lastExpectedToken}'' before the end of the query.",description:"When there are still tokens expected before the query can end."},expectingTokenButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingTokenButReceived",defaultMessage:"Expecting ''{expectedToken}'' but got ''{received}''.",description:"When the text the user entered does not match the expected tokens."},expectingTokenBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingTokenBeforeEOF",defaultMessage:"Expecting ''{expectedToken}'' before the end of the query.",description:"When an expected token needs to be inserted before the query can end."},unknownErrorAtToken:{id:"jql-editor.plugins.jql-ast.error-messages.unknownErrorAtToken",defaultMessage:"Unable to parse the query at ''{received}''.",description:"When the query could not be parsed when a token was reached."},reservedChar:{id:"jql-editor.plugins.jql-ast.error-messages.reservedChar",defaultMessage:"The character ''{char}'' is a reserved JQL character. You must enclose it in a string or use the escape ''{escapedChar}'' instead.",description:"When the user has a reserved character in the query."},reservedWord:{id:"jql-editor.plugins.jql-ast.error-messages.reservedWord",defaultMessage:"''{word}'' is a reserved JQL word. You must surround it in quotation marks to use it in a query.",description:"When the user has a reserved word in the query."},unfinishedString:{id:"jql-editor.plugins.jql-ast.error-messages.unfinishedString",defaultMessage:"The quoted string ''{received}'' has not been completed.",description:"When a string is missing an opening or closing quote."},unfinishedStringBlank:{id:"jql-editor.plugins.jql-ast.error-messages.unfinishedStringBlank",defaultMessage:"The quoted string has not been completed.",description:"When a string is missing an opening or closing quote."},illegalEscape:{id:"jql-editor.plugins.jql-ast.error-messages.illegalEscape",defaultMessage:"''{received}'' is an illegal JQL escape sequence. The valid escape sequences are \\', \\\", \\t, \\n, \\r, \\\\, '\\ ' and \\uXXXX.",description:"When there are no valid tokens following an escape character."},illegalEscapeBlank:{id:"jql-editor.plugins.jql-ast.error-messages.illegalEscapeBlank",defaultMessage:"The escape sequence has not been completed. The valid escape sequences are \\', \\\", \\t, \\n, \\r, \\\\, '\\ ' and \\uXXXX.",description:"When there are no valid tokens following an escape character."},illegalChar:{id:"jql-editor.plugins.jql-ast.error-messages.illegalChar",defaultMessage:"The character ''{char}'' must be escaped. Use the escape ''{escapedChar}'' instead.",description:"When an illegal character is encountered in a query."}},td={unknownError:{id:"jql-editor.common.validation.unknown-error",defaultMessage:"Unable to parse the query.",description:"Message shown when the query could not be parsed due to an unknown error."}},ed=function(t,e){return e.map((function(e){return t.vocabulary.getDisplayName(e).replace(/^'|'$/g,"")}))},rd=function(t,e){var r;return(null!==(r=null==e?void 0:e.expectedTokens)&&void 0!==r?r:t.getExpectedTokens()).toArray().filter((function(t){return!Jf.has(t)}))},nd=function(t,e,r,n,i){0===r.length&&(r=ed(t,rd(t,i)));var o=ed(t,Wf),s=r.filter((function(t){return!o.includes(t)}));s.length>0&&(r=s);var a=e.type===de.EOF;if(r.length>1){var l=r.slice(0,-1).map((function(t){return"'".concat(t,"'")})).join(", "),c=r[r.length-1];return a?n.formatMessage(Xf.expectingMultipleTokensBeforeEOF,{firstExpectedTokens:l,lastExpectedToken:c}):n.formatMessage(Xf.expectingMultipleTokensButReceived,{firstExpectedTokens:l,lastExpectedToken:c,received:e.text})}return 1===r.length?a?n.formatMessage(Xf.expectingTokenBeforeEOF,{expectedToken:r[0]}):n.formatMessage(Xf.expectingTokenButReceived,{expectedToken:r[0],received:e.text}):a?n.formatMessage(td.unknownError):n.formatMessage(Xf.unknownErrorAtToken,{received:e.text})};function id(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var od=function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"U+".concat(Vf()(e,4,"0"))},sd=function(t){var e=t.charCodeAt(0).toString(16);return"\\u".concat(Vf()(e,4,"0"))},ad=function(t){(0,Z.A)(r,t);var e=id(r);function r(t){var n;return(0,R.A)(this,r),(n=e.call(this)).intlRef=t,n}return(0,C.A)(r,[{key:"reportInputMismatch",value:function(t,e){this.handleSyntaxError(t,t.currentToken,e)}},{key:"reportUnwantedToken",value:function(t){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),this.handleSyntaxError(t,t.currentToken))}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t))if(this.beginErrorCondition(t),rd(t).length>0){var e=nd(t,t.currentToken,[],this.intlRef.current);t.notifyErrorListeners(e,t.currentToken,void 0)}else this.handleSyntaxError(t,t.currentToken)}},{key:"reportNoViableAlternative",value:function(t,e){var r,n=null!==(r=null==e?void 0:e.getOffendingToken())&&void 0!==r?r:t.currentToken;this.handleSyntaxError(t,n,e)}},{key:"reportFailedPredicate",value:function(t,e){(0,et.A)((0,tt.A)(r.prototype),"reportFailedPredicate",this).call(this,t,e)}},{key:"handleSyntaxError",value:function(t,e,r){var n;switch(e.type){case de.ERRORCHAR:case de.INVALID_QUOTE_STRING:case de.INVALID_SQUOTE_STRING:var i,o=e.text;if(e.type===de.INVALID_QUOTE_STRING||e.type===de.INVALID_SQUOTE_STRING)o=null===(i=o)||void 0===i?void 0:i.slice(-1);if("\\"===o){var s=t.inputStream.get(e.tokenIndex+1);if(s.type===de.MATCHWS||s.type===de.EOF)n=this.intlRef.current.formatMessage(Xf.illegalEscapeBlank);else{var a,l,c="".concat(null!==(a=o)&&void 0!==a?a:"").concat(null!==(l=s.text)&&void 0!==l?l:"");n=this.intlRef.current.formatMessage(Xf.illegalEscape,{received:c})}}else{var u,h;n=this.intlRef.current.formatMessage(Xf.illegalChar,{char:od(null!==(u=o)&&void 0!==u?u:""),escapedChar:sd(null!==(h=o)&&void 0!==h?h:"")})}break;case de.UNCLOSED_QUOTE_STRING:case de.UNCLOSED_SQUOTE_STRING:var p,f=ku(null!==(p=e.text)&&void 0!==p?p:"");n=""===f?this.intlRef.current.formatMessage(Xf.unfinishedStringBlank):this.intlRef.current.formatMessage(Xf.unfinishedString,{received:f});break;case de.RESERVED_WORD:n=this.intlRef.current.formatMessage(Xf.reservedWord,{word:e.text});break;case de.ERROR_RESERVED:var d;n=this.intlRef.current.formatMessage(Xf.reservedChar,{char:e.text,escapedChar:sd(null!==(d=e.text)&&void 0!==d?d:"")});break;default:var y=Ue.fromParser(t,Jf,Hf,new Set).getJQLSuggestionsForTokenIndex(e.tokenIndex),g=y.tokens,v=y.rules;n=v.value||v.list||v.function&&t.context.ruleIndex===dt.RULE_jqlFunction?function(t,e,r,n,i,o){0===r.length&&(r=ed(t,rd(t,o)));var s=e.type===de.EOF;return n.value&&n.list&&n.function?s?i.formatMessage(Xf.expectingOperandBeforeEOF):i.formatMessage(Xf.expectingOperandButReceived,{received:e.text}):n.value&&n.function?s?i.formatMessage(Xf.expectingValueOrFunctionBeforeEOF):i.formatMessage(Xf.expectingValueOrFunctionButReceived,{received:e.text}):n.list&&n.function?r.length?nd(t,e,r,i,o):s?i.formatMessage(Xf.expectingListOrFunctionBeforeEOF):i.formatMessage(Xf.expectingListOrFunctionButReceived,{received:e.text}):n.function?r.length?nd(t,e,r,i,o):s?i.formatMessage(Xf.expectingFunctionBeforeEOF):i.formatMessage(Xf.expectingFunctionButReceived,{received:e.text}):n.list?r.length?nd(t,e,r,i,o):s?i.formatMessage(Xf.expectingListBeforeEOF):i.formatMessage(Xf.expectingListButReceived,{received:e.text}):s?i.formatMessage(Xf.expectingValueBeforeEOF):i.formatMessage(Xf.expectingValueButReceived,{received:e.text})}(t,e,g.values,v,this.intlRef.current,r):g.values.includes("EMPTY")?nd(t,e,g.values,this.intlRef.current,r):v.operator?function(t,e){return t.type===de.EOF?e.formatMessage(Xf.expectingOperatorBeforeEOF):e.formatMessage(Xf.expectingOperatorButReceived,{received:t.text})}(e,this.intlRef.current):v.field?function(t,e){var r=t.type===de.EOF;return t.type===de.LBRACKET?e.formatMessage(Xf.expectingCFButReceived):r?e.formatMessage(Xf.expectingFieldBeforeEOF):e.formatMessage(Xf.expectingFieldButReceived,{received:t.text})}(e,this.intlRef.current):v.customField?this.intlRef.current.formatMessage(Xf.expectingCustomFieldId):v.fieldProperty&&t.context.ruleIndex===dt.RULE_jqlFieldProperty?nd(t,e,[],this.intlRef.current,r):v.fieldPropertyId?function(t,e){return t.type===de.EOF?e.formatMessage(Xf.expectingFieldPropertyIdBeforeEOF):e.formatMessage(Xf.expectingFieldPropertyIdButReceived,{received:t.text})}(e,this.intlRef.current):v.functionArgument?function(t,e){return t.type===de.EOF?e.formatMessage(Xf.expectingFunctionArgBeforeEOF):e.formatMessage(Xf.expectingFunctionArgButReceived,{received:t.text})}(e,this.intlRef.current):nd(t,e,g.values,this.intlRef.current,r)}t.notifyErrorListeners(n,e,void 0)}}]),r}(ye.DefaultErrorStrategy),ld=new Fs.hs("jql-ast-plugin"),cd=function(t){var e=ld.getState(t);return null==e?(console.error("Unable to get state from the JQLAstPlugin as it has not been configured."),{query:void 0,represents:"",errors:[]}):e};const ud=function(t){var e=(new qf).setErrorHandler(new ad(t));return new Fs.k_({key:ld,state:{init:function(t,r){var n=r.doc;return e.build(Ff(n,0,n.content.size))},apply:function(t,r,n){var i=Ff(t.doc,0,t.doc.content.size);return i!==Ff(n.doc,0,n.doc.content.size)?e.build(i):r}}})};var hd=function(){function t(){(0,R.A)(this,t)}return(0,C.A)(t,[{key:"visit",value:function(t){return t.accept(this)}},{key:"visitChildren",value:function(t){for(var e=this.defaultResult(),r=t.getChildren(),n=0;n<r.length&&this.shouldVisitNextChild(t,e);n++){var i=r[n].accept(this);e=this.aggregateResult(e,i)}return e}},{key:"aggregateResult",value:function(t,e){return e}},{key:"shouldVisitNextChild",value:function(t,e){return!0}}]),t}();function pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var fd=function(t){(0,Z.A)(r,t);var e=pd(r);function r(t){var n;return(0,R.A)(this,r),n=e.call(this),(0,h.A)((0,rt.A)(n),"visitCompoundOperator",(function(t){return t.positions.map((function(t){return n.createHighlight("keyword",t)}))})),(0,h.A)((0,rt.A)(n),"visitNotClauseOperator",(function(t){return n.getHighlightsIfPosition("keyword",t.position)})),(0,h.A)((0,rt.A)(n),"visitOrderByOperator",(function(t){return n.getHighlightsIfPosition("keyword",t.position)})),(0,h.A)((0,rt.A)(n),"visitOrderByDirection",(function(t){return n.getHighlightsIfPosition("keyword",t.position)})),(0,h.A)((0,rt.A)(n),"visitField",(function(t){return n.getHighlightsIfPosition("field",t.position)})),(0,h.A)((0,rt.A)(n),"visitOperator",(function(t){return n.getHighlightsIfPosition("operator",t.position)})),(0,h.A)((0,rt.A)(n),"visitPredicateOperator",(function(t){return n.getHighlightsIfPosition("operator",t.position)})),(0,h.A)((0,rt.A)(n),"getHighlightsIfPosition",(function(t,e){return e?[n.createHighlight(t,e)]:[]})),(0,h.A)((0,rt.A)(n),"createHighlight",(function(t,e){var r=(0,c.A)(e,2),i=r[0],o=r[1];return{tokenType:t,documentFrom:Gm(n.state.doc,i),documentTo:Gm(n.state.doc,o)}})),n.state=t,n}return(0,C.A)(r,[{key:"shouldVisitNextChild",value:function(t){return!(t.type===Du)}},{key:"aggregateResult",value:function(t,e){return t.concat(e)}},{key:"defaultResult",value:function(){return[]}}]),r}(hd),dd=new Fs.hs("jql-syntax-highlighting-plugin");const yd=function(){return new Fs.k_({key:dd,appendTransaction:function(t,e,r){if(e.doc!==r.doc){var n=r.tr;n.removeMark(0,r.doc.content.size);var i=function(t){var e=cd(t),r=new fd(t),n=e.query?r.visit(e.query):[],i=(0,c.A)(e.errors,1)[0];if(i instanceof qs){var o=Gm(t.doc,i.start),s=Gm(t.doc,i.stop);n.push({tokenType:"error",documentFrom:o,documentTo:s})}return n}(r);return i.forEach((function(t){var e=t.tokenType,i=t.documentFrom,o=t.documentTo;r.doc.nodesBetween(i,o,(function(t,s){if(t.isText){var a=Math.max(s,i),l=Math.min(s+t.nodeSize,o),c=r.schema.marks.token.create({tokenType:e});n.addMark(a,l,c)}}))})),n}}})};var gd=r(82284);function vd(t){var e=function(t,e){if("object"!==(0,gd.A)(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==(0,gd.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,gd.A)(e)?e:String(e)}function md(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?md(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):md(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var bd=function(){function t(){(0,R.A)(this,t),(0,h.A)(this,"keymap",{})}return(0,C.A)(t,[{key:"bindKey",value:function(t,e){this.keymap=xd(xd({},this.keymap),{},(0,h.A)({},t,e))}},{key:"bindMultipleKeys",value:function(t,e){var r=this;t.forEach((function(t){r.keymap=xd(xd({},r.keymap),{},(0,h.A)({},t,e))}))}},{key:"unbindKey",value:function(t){var e=this.keymap,r=(e[t],(0,Re.A)(e,[t].map(vd)));this.keymap=r}},{key:"getKeyBinding",value:function(t){return this.keymap[t]}}]),t}(),Od=r(18557),Sd="jql-autocomplete-plugin",Ad="ArrowUp",Ed="ArrowDown",Td="Cmd-ArrowUp",Nd="Cmd-ArrowDown",_d="Home",wd="End",kd="Enter",Cd="Escape",Rd="Tab",Pd={onFields:function(){return(0,Od.I)()},onOperators:function(){return(0,Od.I)()},onValues:function(){return(0,Od.I)()},onFunctions:function(){return(0,Od.I)()}},Id=new Fs.hs(Sd),jd=r(61920),Ld=function(){function t(e,r,i){var o=this;(0,R.A)(this,t),(0,h.A)(this,"componentSubject",new jd.Subject),(0,h.A)(this,"init",(function(){var t=o.getComponent(),e=function(){var e=(0,n.useState)((function(){return o.getInitialComponentProps()})),r=(0,c.A)(e,2),i=r[0],s=r[1];return(0,n.useEffect)((function(){var t=o.componentSubject.subscribe((function(t){s(t)}));return function(){return t.unsubscribe()}}),[]),n.createElement(t,i)};o.portalActions.onCreatePortal(o.portalKey,n.createElement(e,null),o.containerKey)})),this.portalActions=e,this.portalKey=r,this.containerKey=i}return(0,C.A)(t,[{key:"destroy",value:function(){this.portalActions.onDestroyPortal(this.portalKey)}}]),t}(),Md=r(58168),Dd=r(17437),qd=r(78056),Fd=r(57181),Bd=r(32395),Ud={xsmall:8,small:16,medium:24,large:48,xlarge:96};var zd=(0,Dd.i7)({to:{transform:"rotate(360deg)"}}),Vd=(0,Dd.AH)({animation:"".concat(zd," 0.86s infinite"),animationTimingFunction:"cubic-bezier(0.4, 0.15, 0.6, 0.85)",transformOrigin:"center"}),Jd=(0,Dd.i7)({from:{transform:"rotate(50deg)",opacity:0,strokeDashoffset:60},to:{transform:"rotate(230deg)",opacity:1,strokeDashoffset:50}}),Hd=(0,Dd.AH)({animation:"".concat(Jd," 1s ease-in-out"),animationFillMode:"forwards",opacity:0}),Wd=(0,Dd.AH)({display:"inline-flex",verticalAlign:"middle"}),Gd=(0,Dd.AH)({fill:"none",strokeDasharray:60,strokeDashoffset:"inherit",strokeLinecap:"round",strokeWidth:1.5,"@media screen and (forced-colors: active)":{filter:"grayscale(100%)",stroke:"CanvasText"}}),Yd="undefined"==typeof window?n.useEffect:n.useLayoutEffect;const Kd=n.memo(n.forwardRef((function(t,e){var r=t.appearance,i=void 0===r?"inherit":r,o=t.delay,s=void 0===o?0:o,a=t.interactionName,l=t.label,c=t.size,u=void 0===c?"medium":c,h=t.testId,p="number"==typeof u?u:Ud[u],f="".concat(s,"ms"),d=function(t){var e=t.mode,r=t.appearance;return"light"===e?"inherit"===r?"var(--ds-icon-subtle, ".concat(Fd.UP,")"):"var(--ds-icon-inverse, ".concat(Fd.N0,")"):"inherit"===r?"var(--ds-icon-subtle, ".concat(Fd.KV,")"):"var(--ds-icon-inverse, ".concat(Fd.qB,")")}({mode:(0,Bd.m)().mode,appearance:i}),y=(0,n.useContext)(qd.A);return Yd((function(){if(null!=y)return y.hold(a)}),[y,a]),(0,Dd.Y)("span",{css:[Wd,Vd],"data-testid":h&&"".concat(h,"-wrapper"),style:{animationDelay:f,width:p,height:p}},(0,Dd.Y)("svg",{height:p,width:p,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":h,ref:e,"aria-label":l,css:Hd,style:{animationDelay:f}},(0,Dd.Y)("circle",{cx:"8",cy:"8",r:"7",css:Gd,style:{stroke:d}})))})));var $d,Qd,Zd,Xd=r(57528),ty=r(30073),ey=(0,Dd.AH)($d||($d=(0,Xd.A)(["\n  clip: rect(1px, 1px, 1px, 1px);\n  clip-path: inset(50%);\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n"]))),ry=ty.A.div(Qd||(Qd=(0,Xd.A)(["\n  /* CSS reset */\n  font-family: ",";\n"])),ks.mw),ny=ty.A.div(Zd||(Zd=(0,Xd.A)(["\n  ","\n"])),ey),iy="jql-editor-main",oy="jql-editor-autocomplete",sy="jql-editor-input",ay="jql-editor-help-content",ly={optionsFound:{id:"jql-editor.plugins.autocomplete.options-found",defaultMessage:"Choose from the suggested list of options below.",description:"This message is read by screen readers when autocomplete suggestions are available in the JQL editor."}},cy=r(50828),uy=r.n(cy),hy=r(63950),py=r.n(hy),fy=r(91527),dy=r(21267),yy=r(47984),gy=r(32737);function vy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function my(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vy(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var xy=function(){function t(e){var r=this;(0,R.A)(this,t),(0,h.A)(this,"_isAnalyticsEvent",!0),(0,h.A)(this,"clone",(function(){return new t({payload:my({},r.payload)})})),this.payload=e.payload}return(0,C.A)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===(0,gd.A)(t)&&(this.payload=my(my({},this.payload),t)),this}}]),t}();function by(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(by=function(){return!!t})()}var Oy=function(t){(0,Z.A)(i,t);var e,r,n=(e=i,r=by(),function(){var t,n=(0,tt.A)(e);if(r){var i=(0,tt.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,X.A)(this,t)});function i(t){var e;return(0,R.A)(this,i),e=n.call(this,t),(0,h.A)((0,rt.A)(e),"_isUIAnalyticsEvent",!0),(0,h.A)((0,rt.A)(e),"clone",(function(){return e.hasFired?null:new i({context:(0,u.A)(e.context),handlers:(0,u.A)(e.handlers),payload:JSON.parse(JSON.stringify(e.payload))})})),(0,h.A)((0,rt.A)(e),"fire",(function(t){e.hasFired||(e.handlers.forEach((function(r){return r((0,rt.A)(e),t)})),e.hasFired=!0)})),e.context=t.context||[],e.handlers=t.handlers||[],e.hasFired=!1,e}return(0,C.A)(i,[{key:"update",value:function(t){return this.hasFired?this:(0,et.A)((0,tt.A)(i.prototype),"update",this).call(this,t)}}]),i}(xy),Sy=r(45310);function Ay(){var t=(0,n.useContext)(Sy.A);return{createAnalyticsEvent:(0,gy.l6)((function(e){return new Oy({context:t.getAtlaskitAnalyticsContext(),handlers:t.getAtlaskitAnalyticsEventHandlers(),payload:e})}),[t])}}var Ey=function(t){var e=(0,n.useRef)(t);return e.current=t,e};function Ty(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ny(t){var e=t.fn,r=t.action,i=t.componentName,o=t.packageName,s=t.packageVersion,a=t.analyticsData,l=Ay().createAnalyticsEvent,c=Ey(a),u=Ey(e),p=(0,n.useCallback)((function(){var t=l({action:r,actionSubject:i,attributes:{componentName:i,packageName:o,packageVersion:s}}),e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ty(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:i,packageName:o,packageVersion:s},c.current);t.context.push(e);var n=t.clone();n&&n.fire("atlaskit"),u.current(t)}),[r,i,o,s,l,c,u]);return p}function _y(){}var wy=r(9305);var ky=r(4267),Cy=r(35735),Ry=r(15249),Py=r(56300),Iy=[{name:"flip",options:{flipVariations:!1,padding:5,boundary:"clippingParents",rootBoundary:"viewport"}},{name:"preventOverflow",options:{padding:5,rootBoundary:"document"}}];function jy(){return null}var Ly=[0,8];function My(t){var e=t.children,r=void 0===e?jy:e,i=t.offset,o=void 0===i?Ly:i,s=t.placement,a=void 0===s?"bottom-start":s,l=t.referenceElement,h=void 0===l?void 0:l,p=t.modifiers,f=t.strategy,d=void 0===f?"fixed":f,y=(0,c.A)(o,2),g=y[0],v=y[1],m=(0,n.useMemo)((function(){return[].concat(Iy,[{name:"offset",options:{offset:[g,v]}}])}),[g,v]),x=(0,n.useMemo)((function(){return null==p?m:[].concat((0,u.A)(m),(0,u.A)(p))}),[m,p]);return n.createElement(Py.N,{modifiers:x,placement:a,strategy:d,referenceElement:h},r)}var Dy=r(49166),qy="__ATLASKIT_THEME__",Fy=["light","dark"],By=function(){return 9999},Uy=null;function zy(){null!=Uy&&(window.clearTimeout(Uy),Uy=null)}function Vy(t,e){zy(),Uy=window.setTimeout((function(){Uy=null,t()}),e)}var Jy=null;var Hy=r(99747);function Wy(t){if(t&&t.theme){if(qy in t.theme)return t.theme[qy];if("mode"in t.theme&&Fy.includes(t.theme.mode))return t.theme}return{mode:"light"}}function Gy(t,e){if("string"==typeof t)return r=t,n=e,function(t){var e=Wy(t);if(t&&t[r]&&n){var i=n[t[r]];if(i&&i[e.mode]){var o=i[e.mode];if(o)return o}}return""};var r,n,i=t;return function(t){var e=Wy(t);if(e.mode in i){var r=i[e.mode];if(r)return r}return""}}var Yy="#FF5630",Ky="#FFAB00",$y="#36B37E",Qy="#4C9AFF",Zy="#2684FF",Xy="#0052CC",tg="#FFFFFF",eg="#6B778C",rg="#172B4D",ng="#B8C7E0",ig="#8C9CB8",og="#283447",sg=(Gy({light:"var(--ds-surface, ".concat(tg,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),Gy({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),Gy({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),Gy({light:"var(--ds-surface-overlay, ".concat(tg,")"),dark:"var(--ds-surface-overlay, ".concat(og,")")}),Gy({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(ng,")")}),Gy({light:"var(--ds-text, ".concat(rg,")"),dark:"var(--ds-text, ".concat(ng,")")}),Gy({light:"var(--ds-text-selected, ".concat(Xy,")"),dark:"var(--ds-text-selected, ".concat(Xy,")")}),Gy({light:"var(--ds-text-subtlest, ".concat(eg,")"),dark:"var(--ds-text-subtlest, ".concat(ig,")")}),Gy({light:"var(--ds-text-subtlest, ".concat(eg,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),Gy({light:"var(--ds-text, ".concat(rg,")"),dark:"var(--ds-text, ".concat(ng,")")}),Gy({light:"var(--ds-text-subtlest, ".concat(eg,")"),dark:"var(--ds-text-subtlest, ".concat(ig,")")}),Gy({light:"#F4F5F7",dark:og}),Gy({light:"var(--ds-link, ".concat(Xy,")"),dark:"var(--ds-link, ".concat(Qy,")")}),Gy({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(Zy,")")}),Gy({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(Qy,")")}),Gy({light:"var(--ds-border-focused, ".concat(Zy,")"),dark:"var(--ds-border-focused, ".concat(Zy,")")}),Gy({light:"var(--ds-background-brand-bold, ".concat(Xy,")"),dark:"var(--ds-background-brand-bold, ".concat(Qy,")")}),Gy({light:Xy,dark:Qy}),Gy({light:"#00B8D9",dark:"#00C7E6"}),Gy({light:"#6554C0",dark:"#998DD9"}),Gy({light:Yy,dark:Yy}),Gy({light:Ky,dark:Ky}),Gy({light:$y,dark:$y}),["children"]);var ag=function(t){var e=function(t,e){return t(e)},r=(0,n.createContext)(t);function i(t){return((0,n.useContext)(r)||e)(t)}return{Consumer:function(t){var e=t.children,r=i((0,Re.A)(t,sg));return n.createElement(n.Fragment,null,e(r))},Provider:function(t){var i=(0,n.useContext)(r),o=t.value||e,s=(0,n.useCallback)((function(t){return o(i,t)}),[i,o]);return n.createElement(r.Provider,{value:s},t.children)},useTheme:i}}((function(){return{mode:"light"}})),lg=ag.Provider,cg=ag.Consumer;ag.useTheme;const ug={Provider:lg,Consumer:cg};function hg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hg(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var fg="tooltipPrimitiveZindex",dg=(0,Dd.AH)({zindex:"var(".concat(fg,")"),cursor:"default"}),yg=(0,n.forwardRef)((function(t,e){var r=t.style,n=t.className,i=t.children,o=t.placement,s=t.testId,a=t.onMouseOut,l=t.onMouseOver,c=t.id,u=pg(pg({},r),{},(0,h.A)({},fg,By()));return(0,Dd.Y)("div",{ref:e,style:u,"data-testid":s?"".concat(s,"--wrapper"):void 0},(0,Dd.Y)("div",{role:"tooltip",className:n,onMouseOut:a,onMouseOver:l,css:dg,"data-placement":o,"data-testid":s,id:c},i))}));yg.displayName="TooltipPrimitive";const gg=yg;var vg=(0,Dd.AH)({boxSizing:"border-box",maxWidth:"240px",padding:"var(--ds-space-025, 2px)".concat(" ","var(--ds-space-075, 6px)"),insetBlockStart:"var(--ds-space-0, 0px)",insetInlineStart:"var(--ds-space-0, 0px)",borderRadius:"var(--ds-border-radius, 3px)",fontSize:"var(--ds-font-size-075, 12px)",lineHeight:1.3,overflowWrap:"break-word",wordWrap:"break-word"}),mg=(0,Dd.AH)({maxWidth:"420px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),xg=(0,Dd.AH)({backgroundColor:"var(--ds-background-neutral-bold, ".concat(rg,")"),color:"var(--ds-text-inverse, ".concat(tg,")")}),bg=(0,Dd.AH)({backgroundColor:"var(--ds-background-neutral-bold, ".concat("#0D1424",")"),color:"var(--ds-text-inverse, ".concat(ng,")")}),Og=(0,n.forwardRef)((function(t,e){var r=t.style,n=t.className,i=t.children,o=t.truncate,s=t.placement,a=t.testId,l=t.onMouseOut,c=t.onMouseOver,u=t.id;return(0,Dd.Y)(ug.Consumer,null,(function(t){var h=t.mode;return(0,Dd.Y)(gg,{ref:e,style:r,className:n,placement:s,testId:a,id:u,onMouseOut:l,onMouseOver:c,css:[vg,o?mg:null,"light"===h?xg:bg]},i)}))}));Og.displayName="TooltipContainer";const Sg=Og;function Ag(t){var e=t||{top:0,left:0};return{getBoundingClientRect:function(){return{top:e.top,left:e.left,bottom:e.top,right:e.left,width:0,height:0}},clientWidth:0,clientHeight:0}}function Eg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eg(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ng=By(),_g={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.8.10"},wg={top:"bottom",bottom:"top",left:"right",right:"left"};function kg(t){var e=t.children,r=t.position,i=void 0===r?"bottom":r,o=t.mousePosition,s=void 0===o?"bottom":o,a=t.content,l=t.truncate,u=void 0!==l&&l,h=t.component,p=void 0===h?Sg:h,f=t.tag,d=void 0===f?"div":f,y=t.testId,g=t.delay,v=void 0===g?300:g,m=t.onShow,x=void 0===m?_y:m,b=t.onHide,O=void 0===b?_y:b,S=t.hideTooltipOnClick,A=void 0!==S&&S,E=t.hideTooltipOnMouseDown,T=void 0!==E&&E,N=t.analyticsContext,_=t.strategy,w=void 0===_?"fixed":_,k="mouse"===i?s:i,C=Ny(Tg({fn:x,action:"displayed",analyticsData:N},_g)),R=Ny(Tg({fn:O,action:"hidden",analyticsData:N},_g)),P=(0,n.useRef)(null),I=(0,n.useState)("hide"),j=(0,c.A)(I,2),L=j[0],M=j[1],D=(0,n.useRef)(null),q=(0,n.useRef)(null),F=(0,n.useCallback)((function(t){D.current=t}),[]),B=(0,n.useRef)(L),U=(0,n.useRef)(v),z=(0,n.useRef)({onShowHandler:C,onHideHandler:R}),V=(0,n.useRef)(!1);(0,n.useEffect)((function(){B.current=L,U.current=v,z.current={onShowHandler:C,onHideHandler:R}}),[v,R,C,L]);var J=(0,n.useCallback)((function(t){P.current=t,V.current=!1}),[]),H=(0,n.useCallback)((function(){P.current&&(V.current&&z.current.onHideHandler(),P.current=null,V.current=!1,M("hide"))}),[]),W=(0,n.useCallback)((function(){P.current&&(P.current.abort(),V.current&&z.current.onHideHandler(),P.current=null)}),[]);(0,n.useEffect)((function(){return function(){P.current&&W()}}),[W]);var G=(0,n.useCallback)((function(t){if(P.current&&!P.current.isActive()&&W(),P.current&&P.current.isActive())P.current.keep();else{var e=function(t){var e="waiting-to-show";function r(){return Boolean(Jy&&Jy.entry===t)}function n(){r()&&(zy(),Jy=null)}function i(){r()&&t.done(),e="done",n()}function o(){r()&&t.hide({isImmediate:!0}),i()}function s(){return"shown"===e||"waiting-to-hide"===e||"hide-animating"===e}return function(){var r=Boolean(Jy&&Jy.isVisible());function n(){e="shown",t.show({isImmediate:r})}Jy&&(zy(),Jy.entry.hide({isImmediate:!0}),Jy.entry.done(),Jy=null),Jy={entry:t,isVisible:s},r?n():(e="waiting-to-show",Vy(n,t.delay))}(),{keep:function(){if(r())return"waiting-to-hide"===e?(e="shown",void zy()):"hide-animating"===e?(e="shown",zy(),void t.show({isImmediate:!1})):void 0},abort:n,isActive:r,requestHide:function(n){var i=n.isImmediate;r()&&("waiting-to-show"!==e?"waiting-to-hide"!==e&&(i?o():(e="waiting-to-hide",Vy((function(){e="hide-animating",t.hide({isImmediate:!1})}),t.delay))):o())},finishHideAnimation:function(){r()&&"hide-animating"===e&&i()},mousePosition:"mouse"===t.source.type?t.source.mouse:null}}({source:t,delay:U.current,show:function(t){var e=t.isImmediate;V.current||(V.current=!0,z.current.onShowHandler()),M(e?"show-immediate":"fade-in")},hide:function(t){var e=t.isImmediate;M(e?"hide":"before-fade-out")},done:H});J(e)}}),[W,H,J]);!function(t){var e=t.onClose,r=t.isDisabled,i=(0,n.useRef)(!1),o=(0,n.useCallback)((function(t){r||i.current||"Escape"!==t.key||(i.current=!0,e(t))}),[e,r]),s=(0,n.useCallback)((function(){i.current=!1}),[]);(0,n.useEffect)((function(){return(0,wy.vJ)(document,[{type:"keydown",listener:o},{type:"keyup",listener:s}],{capture:!1})}),[o,s])}({onClose:(0,n.useCallback)((function(){var t;null===(t=P.current)||void 0===t||t.requestHide({isImmediate:!0})}),[P]),isDisabled:"hide"===L||"fade-out"===L}),(0,n.useEffect)((function(){return"hide"===L?_y:("before-fade-out"===L&&M("fade-out"),(0,yy.oI)(window,{type:"scroll",listener:function(){P.current&&P.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}}))}),[L]);var Y,K,$,Q=(0,n.useCallback)((function(){T&&P.current&&P.current.requestHide({isImmediate:!0})}),[T]),Z=(0,n.useCallback)((function(){A&&P.current&&P.current.requestHide({isImmediate:!0})}),[A]),X=(0,n.useCallback)((function(t){if(!(q.current&&t.target===q.current||t.defaultPrevented)){t.preventDefault();var e="mouse"===i?{type:"mouse",mouse:Ag({left:t.clientX,top:t.clientY})}:{type:"keyboard"};G(e)}}),[i,G]),tt=(0,n.useCallback)((function(t){q.current&&t.target===q.current||t.defaultPrevented||(t.preventDefault(),P.current&&P.current.requestHide({isImmediate:!1}))}),[]),et="mouse"===i?function(t){var e;null!==(e=P.current)&&void 0!==e&&e.isActive()&&(P.current.mousePosition=Ag({left:t.clientX,top:t.clientY}))}:void 0,rt=(0,n.useCallback)((function(){P.current&&P.current.isActive()&&P.current.keep()}),[]),nt=(0,n.useCallback)((function(){G({type:"keyboard"})}),[G]),it=(0,n.useCallback)((function(){P.current&&P.current.requestHide({isImmediate:!1})}),[]),ot=(0,n.useCallback)((function(t){"exiting"===t&&"fade-out"===B.current&&P.current&&P.current.finishHideAnimation()}),[]),st=d,at="hide"!==L&&Boolean(a),lt="hide"!==L&&"fade-out"!==L,ct=function(){var t,e;return"mouse"===i&&null!==(t=P.current)&&void 0!==t&&t.mousePosition?null===(e=P.current)||void 0===e?void 0:e.mousePosition:D.current||void 0},ut=(Y="tooltip",K=at,$=(0,Hy.n)(),K?"".concat($(Y)):void 0),ht={onMouseOver:X,onMouseOut:tt,onMouseMove:et,onMouseDown:Q,onClick:Z,onFocus:nt,onBlur:it};return y&&(ht["data-testid"]="".concat(y,"--container")),(0,n.useEffect)((function(){if(q.current&&D.current&&ut){var t=D.current;at?t.setAttribute("aria-describedby",ut):t.removeAttribute("aria-describedby")}}),[at,ut]),(0,Dd.Y)(n.Fragment,null,"function"==typeof e?e(Tg(Tg({},ht),{},{"aria-describedby":ut,ref:F})):(0,Dd.Y)(st,(0,Md.A)({},ht,{ref:function(t){q.current=t,D.current=t?t.firstElementChild:null},role:"presentation"}),e),at?(0,Dd.Y)(Dy.A,{zIndex:Ng},(0,Dd.Y)(My,{placement:k,referenceElement:ct(),strategy:w},(function(t){var e=t.ref,r=t.style,n=t.update,o=t.placement,s="mouse"===i?void 0:wg[function(t){return t.split("-")[0]}(o)];return(0,Dd.Y)(ky.Ay,{appear:!0},lt&&(0,Dd.Y)(Cy.Ay,{distance:"constant",entranceDirection:s,exitDirection:s,onFinish:ot,duration:"show-immediate"===L?0:Ry.G5},(function(t){var i=t.className;return(0,Dd.Y)(p,{ref:e,className:"Tooltip ".concat(i),style:r,truncate:u,placement:k,testId:ct()?y:y&&"".concat(y,"--unresolved"),onMouseOut:tt,onMouseOver:rt,id:ut},"function"==typeof a?a({update:n}):a)})))}))):null)}kg.displayName="Tooltip";const Cg=kg;var Rg,Pg,Ig,jg,Lg,Mg,Dg,qg,Fg,Bg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M7 4h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3zm.417 10.636h1.15V9.141H7.42L6 10.12v1.07l1.348-.93h.069v4.376zm1.923-3.85v.02h1.067v-.024c0-.506.365-.857.898-.857.503 0 .861.313.861.755 0 .357-.194.643-.967 1.397l-1.794 1.756v.803h3.964v-.955h-2.406v-.069l1.05-1.002c.953-.895 1.277-1.409 1.277-2.007 0-.944-.8-1.603-1.947-1.603-1.188 0-2.003.724-2.003 1.786zm5.811 1.466h.682c.617 0 .994.297.994.777 0 .469-.4.792-.975.792-.59 0-.983-.293-1.017-.757h-1.1c.05 1.035.88 1.713 2.106 1.713 1.253 0 2.159-.697 2.159-1.66 0-.724-.472-1.226-1.226-1.31v-.069c.613-.125 1.013-.62 1.013-1.257 0-.864-.811-1.481-1.939-1.481-1.2 0-1.972.655-2.01 1.695H14.9c.03-.476.385-.777.918-.777.537 0 .88.282.88.723 0 .45-.355.754-.876.754h-.67v.857z",fill:"currentColor",fillRule:"evenodd"}))},Ug=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M4 5.994C4 4.893 4.895 4 5.994 4h12.012C19.107 4 20 4.895 20 5.994v12.012A1.995 1.995 0 0 1 18.006 20H5.994A1.995 1.995 0 0 1 4 18.006V5.994zm5.707 5.299a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z",fill:"currentColor",fillRule:"evenodd"}))},zg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M8.667 6.167V7A.834.834 0 0 1 7 7V5.333a.834.834 0 0 1 1.667 0v.834zm6.666 0v-.834a.834.834 0 0 1 1.667 0V7a.834.834 0 0 1-1.667 0v-.833zm2.5 0h.005c.918 0 1.662.745 1.662 1.661v10.01c0 .918-.743 1.662-1.662 1.662H6.161A1.663 1.663 0 0 1 4.5 17.838V7.828c0-.917.743-1.661 1.662-1.661h.005V7c0 .927.746 1.667 1.666 1.667C8.76 8.667 9.5 7.92 9.5 7v-.833h5V7c0 .927.746 1.667 1.667 1.667.927 0 1.666-.747 1.666-1.667v-.833zm-10 6.667H9.5v-1.667H7.833v1.667zm0 3.334H9.5V14.5H7.833v1.668zm3.334-3.334h1.666v-1.667h-1.666v1.667zm0 3.334h1.666V14.5h-1.666v1.668zm3.333-3.334h1.667v-1.667H14.5v1.667zm0 3.334h1.667V14.5H14.5v1.668z",fill:"currentColor",fillRule:"evenodd"}))},Vg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M12 19.5a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zm.65-5.268l2.44-2.463a.84.84 0 0 0 0-1.182.822.822 0 0 0-1.17 0l-1.916 1.93-1.922-1.939a.824.824 0 0 0-1.173 0 .842.842 0 0 0 0 1.183l2.45 2.47a.92.92 0 0 0 .649.269.9.9 0 0 0 .641-.268z",fill:"currentColor"}))},Jg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M11.433 5.428l-4.207.6a2 2 0 0 0-1.697 1.698l-.601 4.207a1 1 0 0 0 .283.849l6.894 6.894a1 1 0 0 0 1.414 0l5.657-5.657a1 1 0 0 0 0-1.414L12.282 5.71a1 1 0 0 0-.849-.283zm-.647 5.858a1.667 1.667 0 1 1-2.357-2.357 1.667 1.667 0 0 1 2.357 2.357z",fill:"currentColor",fillRule:"evenodd"}))},Hg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M7 7h11a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 4h11a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z",fill:"currentColor",fillRule:"evenodd"}))},Wg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M12.12 20.249a8.398 8.398 0 0 1-.39-.003A8.25 8.25 0 0 1 3.75 12 8.25 8.25 0 0 1 12 3.75 8.25 8.25 0 0 1 20.25 12a8.25 8.25 0 0 1-8.13 8.25v-.001zm4.463-3.762A6.396 6.396 0 0 0 18.417 12 6.424 6.424 0 0 0 12 5.583 6.424 6.424 0 0 0 5.583 12c0 1.745.7 3.33 1.834 4.487v-1.27a2.291 2.291 0 0 1 2.292-2.292h4.582a2.292 2.292 0 0 1 2.292 2.291v1.27zM12 12a2.75 2.75 0 1 1 0-5.5 2.75 2.75 0 0 1 0 5.5z",fill:"currentColor",fillRule:"evenodd"}))},Gg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M6.72 7.178l-2.93 8.627a.5.5 0 0 0 .473.661h.842a.75.75 0 0 0 .716-.53l.581-1.887h3.425l.58 1.887a.75.75 0 0 0 .717.53h.916a.5.5 0 0 0 .473-.66L9.578 7.177a1 1 0 0 0-.946-.678h-.966a1 1 0 0 0-.947.678zm1.37 1.228h.047l1.25 4.082H6.841l1.25-4.082zm10.187 1.872v-.23a.986.986 0 1 1 1.972 0v5.433a.986.986 0 0 1-1.972 0v-.217h-.08c-.36.802-1.13 1.32-2.217 1.32-1.81 0-2.952-1.479-2.952-3.834 0-2.334 1.149-3.805 2.952-3.805 1.075 0 1.858.546 2.216 1.333h.08zm-.04 2.486c0-1.347-.63-2.203-1.61-2.203-.978 0-1.58.843-1.58 2.203 0 1.368.602 2.196 1.58 2.196.988 0 1.61-.836 1.61-2.196z",fill:"currentColor"}))},Yg=function(){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false"},n.createElement("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm.787-7.674V8.944c0-.52-.402-.944-.893-.944-.492 0-.894.425-.894.944v3.777c0 .263.104.5.269.672l2.207 2.332a.862.862 0 0 0 1.263 0 .985.985 0 0 0 0-1.336l-1.952-2.063z",fill:"currentColor",fillRule:"evenodd"}))},Kg={deprecatedFieldTooltipDefaultMessage:{id:"jql-editor.plugins.autocomplete.autocomplete-option.deprecated-tooltip.default",defaultMessage:"This field has been deprecated and may stop working in the future.",description:"Default tooltip message for a deprecated field."},deprecatedFieldTooltipParentReplacementMessage:{id:"jql-editor.plugins.autocomplete.autocomplete-option.deprecated-tooltip.epic-link",defaultMessage:"<b>''{received}''</b> will soon be replaced with <b>''{parentReplacement}''</b>. Use the <b>''{parentReplacement}''</b> field instead.",description:"Tooltip message served to user when there is a deprecated field"}},$g=ty.A.div(Rg||(Rg=(0,Xd.A)(["\n  font-family: ",";\n"])),ks.mw),Qg=ty.A.li(Pg||(Pg=(0,Xd.A)(["\n  cursor: pointer;\n  padding: "," ","px;\n  font-family: ",";\n  line-height: 24px;\n  ","\n  ","\n"])),"var(--ds-space-075, 6px)",5/4*(0,ks.oZ)(),ks.Lt,(function(t){return t.isSelected?(0,Dd.AH)(Ig||(Ig=(0,Xd.A)(["\n          background: ",";\n        "])),"var(--ds-background-neutral-subtle-hovered, ".concat(Fd.Zv,")")):""}),(function(t){return t.isDeprecated?(0,Dd.AH)(jg||(jg=(0,Xd.A)(["\n          cursor: default;\n          color: ",";\n        "])),"var(--ds-text-disabled, ".concat(Fd._u,")")):""})),Zg=ty.A.div(Lg||(Lg=(0,Xd.A)(["\n  color: ",";\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  // Added so that overflowed option names do not squish the deprecated info icon\n  flex: 1;\n"])),"var(--ds-text, ".concat(Fd.Pq,")")),Xg=ty.A.div(Mg||(Mg=(0,Xd.A)(["\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n  opacity: 0.6;\n"])),"var(--ds-text-disabled, ".concat(Fd._u,")")),tv=ty.A.span(Dg||(Dg=(0,Xd.A)(["\n  font-weight: bold;\n"]))),ev=ty.A.div(qg||(qg=(0,Xd.A)(["\n  display: flex;\n  align-items: center;\n  margin-top: calc(-1 * ",");\n  color: ",";\n"])),"var(--ds-space-025, 2px)","var(--ds-text-subtlest, ".concat(Fd.ay,")")),rv=ty.A.span(Fg||(Fg=(0,Xd.A)(["\n  display: flex;\n  margin-right: ",";\n"])),"var(--ds-space-050, 4px)"),nv=function(t){var e=t.glyph;return n.createElement(fy.A,{glyph:e,size:"small",label:"",testId:"jql-editor-field-type-icon"})};const iv=(0,n.forwardRef)((function(t,e){var r=t.option,i=r.id,o=r.name,s=r.fieldType,a=r.matchedText,l=r.isDeprecated,h=void 0!==l&&l,p=r.deprecatedSearcherKey,f=t.isSelected,d=t.onClick,y=t.onMouseMove,g=(0,n.useState)(!1),v=(0,c.A)(g,2),m=v[0],x=v[1],b=Lx(),O=(0,c.A)(b,1)[0].formatMessage,S=(0,n.useCallback)((function(t){null!=t&&x(t.offsetWidth<t.scrollWidth)}),[]),A=s?function(t){switch(t){case"Checkboxes":return n.createElement(nv,{glyph:Ug});case"Date":return n.createElement(nv,{glyph:zg});case"Dropdown":return n.createElement(nv,{glyph:Vg});case"Labels":return n.createElement(nv,{glyph:Jg});case"Number":return n.createElement(nv,{glyph:Bg});case"Paragraph":return n.createElement(nv,{glyph:Hg});case"People":return n.createElement(nv,{glyph:Wg});case"Short text":return n.createElement(nv,{glyph:Gg});case"Time stamp":return n.createElement(nv,{glyph:Yg});default:return null}}(s):null,E=(0,n.useMemo)((function(){var t=function(t,e){var r=uy()(t).toLowerCase(),n=uy()(ku(e)).toLowerCase(),i=r.indexOf(n);return-1===i?null:[i,i+n.length]}(o,a);return t?n.createElement(Zg,{ref:S,"aria-label":o},o.substring(0,t[0]),n.createElement(tv,null,o.substring.apply(o,(0,u.A)(t))),o.substring(t[1])):n.createElement(Zg,{ref:S},o)}),[S,o,a]),T=n.createElement($g,null,O(function(t){switch(t){case"com.pyxis.greenhopper.jira:gh-epic-link-searcher":case"com.atlassian.jpo:jpo-custom-field-parent-searcher":return Kg.deprecatedFieldTooltipParentReplacementMessage;default:return Kg.deprecatedFieldTooltipDefaultMessage}}(p),{b:function(t){return n.createElement("b",null,t)},received:o,parentReplacement:"Parent"})),N=n.createElement(Qg,(0,Md.A)({id:i,"data-testid":"jql-editor-autocomplete-option",role:"option",isSelected:f,isDeprecated:h,onClick:h?py():d,onMouseMove:h?py():y},e&&{ref:e},{"aria-selected":f}),h?n.createElement(Xg,null,E,n.createElement(Cg,{content:T,position:"right"},n.createElement(dy.A,{testId:"jql-editor-deprecated-icon",label:"",primaryColor:"var(--ds-icon, ".concat(Fd.P6,")")}))):E,s&&n.createElement(ev,null,A&&n.createElement(rv,null,A),s)),_=n.createElement($g,null,o);return m?n.createElement(Cg,{content:_,position:"right"},N):N}));var ov,sv,av,lv,cv,uv=ty.A.div(ov||(ov=(0,Xd.A)(["\n  position: absolute;\n  background-color: ",";\n  border-radius: ",";\n  will-change: top, left;\n  visibility: ",";\n  z-index: ",";\n  box-shadow: ",";\n  padding: "," 0;\n  min-width: ","px;\n  max-width: ","px;\n\n  &:focus {\n    outline: none;\n  }\n"])),"var(--ds-surface-overlay, white)","var(--ds-border-radius-100, 3px)",(function(t){return t.isOpen?"visible":"hidden"}),ks.ZF.dialog,"var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(Fd.nW,", 0 0 1px ").concat(Fd.Gv),")"),"var(--ds-space-075, 6px)",25*(0,ks.oZ)(),50*(0,ks.oZ)()),hv=ty.A.div(sv||(sv=(0,Xd.A)(["\n  max-height: ","px;\n  overflow: auto;\n"])),36*(0,ks.oZ)()),pv=ty.A.ul(av||(av=(0,Xd.A)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),fv=ty.A.div(lv||(lv=(0,Xd.A)(["\n  display: flex;\n  justify-content: center;\n  color: ",";\n  font-style: italic;\n  padding: ",";\n  text-align: center;\n  ",";\n"])),"var(--ds-text-subtlest, ".concat(Fd.lu,")"),"var(--ds-space-150, 12px)",(function(t){return t.hasOptions?(0,Dd.AH)(cv||(cv=(0,Xd.A)(["\n          border-top: solid 1px ",";\n          margin-top: ",";\n          /* 3/2 + 3/4 */\n          padding-top: ","px;\n        "])),"var(--ds-border, ".concat(Fd.br,")"),"var(--ds-space-075, 6px)",9/4*(0,ks.oZ)()):""}));const dv=function(t){var e=t.options,r=t.loading,i=t.keymap,o=t.onClick,s=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useRef)(null),u=(0,n.useState)(!1),h=(0,c.A)(u,2),p=h[0],f=h[1],d=Lx(),y=(0,c.A)(d,1)[0],g=Px(),v=(0,c.A)(g,2)[1],m=v.onEditorViewFocus,x=v.onEditorViewBlur,b=Bx(),O=(0,c.A)(b,2),S=O[0].selectedOptionId,A=O[1],E=A.closeAutocomplete,T=A.setAutocompleteContainer,N=A.setSelectedAutocompleteOptionId,_=Kx(),w=(0,c.A)(_,1)[0],k=$x(),C=(0,c.A)(k,1)[0],R=C.top,P=C.left,I=Xx(),j=(0,c.A)(I,1)[0],L=Dx(oy),M=(0,c.A)(L,1)[0],D=(0,n.useCallback)((function(t){s.current=t,T(t)}),[s,T]),q=(0,n.useCallback)((function(t){a.current=t}),[a]),F=(0,n.useCallback)((function(t,r,n){E(),o(t,{keyboard:n,numberOfOptions:e.length,optionIndex:r,optionType:t.type,queryLength:t.matchedText.length,nodeType:j&&void 0!==t.valueType?t.valueType:"text"})}),[e,o,E,j]),B=(0,n.useCallback)((function(){p&&f(!1)}),[p,f]);(0,n.useEffect)((function(){return i.bindKey(Ad,(function(){if(!w)return!1;!p&&f(!0);var t=function(t,e){if(!e)return t[t.length-1].id;var r=t.findIndex((function(t){return t.id===e}));return-1===r?t[t.length-1].id:r>0?t[r-1].id:void 0}(e,S);return N(t),!0})),i.bindKey(Ed,(function(){if(!w)return!1;!p&&f(!0);var t=function(t,e){if(!e)return t[0].id;var r=t.findIndex((function(t){return t.id===e}));return-1===r?t[0].id:r<t.length-1?t[r+1].id:void 0}(e,S);return N(t),!0})),i.bindMultipleKeys([kd,Rd],(function(){if(!w)return!1;var t=e.findIndex((function(t){return t.id===S}));return!(!S||-1===t)&&(e[t].isDeprecated||F(e[t],t,!0),!0)})),i.bindKey(Cd,(function(){return!!w&&(E(),!0)})),i.bindMultipleKeys([_d,Td],(function(){var t;return!!w&&(!p&&f(!0),N(null===(t=e[0])||void 0===t?void 0:t.id),!0)})),i.bindMultipleKeys([wd,Nd],(function(){var t;return!!w&&(!p&&f(!0),N(null===(t=e[e.length-1])||void 0===t?void 0:t.id),!0)})),function(){i.unbindKey(Ad),i.unbindKey(Ed),i.unbindKey(kd),i.unbindKey(Rd),i.unbindKey(Cd),i.unbindKey(_d),i.unbindKey(wd),i.unbindKey(Td),i.unbindKey(Nd)}}),[i,w,E,p,f,e,S,N,F]),(0,n.useEffect)((function(){w&&e.some((function(t){return t.id===S}))||N(void 0)}),[w,e,S,N]),(0,n.useLayoutEffect)((function(){requestAnimationFrame((function(){s.current&&(s.current.style.top="".concat(R,"px"),s.current.style.left="".concat(P,"px"))}))}),[R,P]),(0,n.useLayoutEffect)((function(){var t;p&&(null===(t=l.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[p,S,l]),(0,n.useLayoutEffect)((function(){var t;null===(t=l.current)||void 0===t||t.scrollIntoView({block:"nearest"})}),[e,l]),(0,n.useLayoutEffect)((function(){w&&!S&&a.current&&(a.current.scrollTop=0)}),[w,S]);var U=(0,n.useMemo)((function(){return w&&e.length?y.formatMessage(ly.optionsFound):""}),[w,y,e]);return n.createElement(n.Fragment,null,n.createElement(uv,{"data-testid":"jql-editor-autocomplete",tabIndex:-1,ref:D,isOpen:w,onBlur:x,onFocus:m},n.createElement(hv,{ref:q,onMouseMove:B},n.createElement(pv,{role:"listbox",id:M},e.map((function(t,r){var i=t.id===S;return n.createElement(iv,(0,Md.A)({key:t.value,isSelected:i},i&&{ref:l},{option:t,onClick:function(){return F(t,r,!1)},onMouseMove:function(){var t,n;(null===(t=e[r])||void 0===t?void 0:t.id)!==S&&N(null===(n=e[r])||void 0===n?void 0:n.id)}}))})))),r&&n.createElement(fv,{"data-testid":"jql-editor-autocomplete-loading",hasOptions:!!e.length},n.createElement(Kd,{size:"small"}))),n.createElement(ny,{role:"status","aria-live":"polite"},U))};function yv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yv(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const vv=function(t){var e=t.keymap,r=t.onClick,i=Hx(),o=(0,c.A)(i,1)[0],a=Gx(),l=(0,c.A)(a,1)[0],u=Px(),h=(0,c.A)(u,2)[1].createAndFireAnalyticsEvent,p=(0,n.useCallback)((function(t,e){r(t),h({action:Cs.SELECTED,actionSubject:Rs.AUTOCOMPLETE_OPTION,eventType:s.B.TRACK,attributes:gv({},e)})}),[h,r]);return n.createElement(dv,{options:o,loading:l,keymap:e,onClick:p})};function mv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var xv=function(t){(0,Z.A)(r,t);var e=mv(r);function r(t,n,i,o){var s;return(0,R.A)(this,r),s=e.call(this,i,Sd,"main"),(0,h.A)((0,rt.A)(s),"getComponent",(function(){return vv})),(0,h.A)((0,rt.A)(s),"getInitialComponentProps",(function(){return{keymap:s.keymap,onClick:s.onReplaceSuggestion}})),(0,h.A)((0,rt.A)(s),"onReplaceSuggestion",(function(t){var e=(0,c.A)(t.replacePosition,2),r=e[0],n=e[1],i=s.view.state.tr;i.setMeta(Id,!0),s.enableRichInlineNodes&&"value"===t.type&&"user"===t.valueType&&i.setMeta("hydrate",!0);var o=Gm(i.doc,r),a=Gm(i.doc,n);i.setSelection(Fs.U3.create(i.doc,a,o)),i.replaceSelection(s.getSliceForSuggestion(t)),s.view.focus(),s.view.dispatch(i)})),(0,h.A)((0,rt.A)(s),"getSliceForSuggestion",(function(t){var e=t.value,r=t.name,n=t.nameOnRichInlineNode,i=t.valueType,o=t.context,a=[];(function(t){var e=t.type,r=t.context,n=t.isListFunction;if("value"===e||"function"===e||"keyword"===e){var i=null==r?void 0:r.operator;if(i&&k(i)&&(null==r||!r.isList)&&!n)return!0}return!1})(t)&&a.push(s.view.state.schema.text("("));var l=s.view.state.schema.text(e);if(s.enableRichInlineNodes)if("user"===i){var c={type:"user",id:e,name:null!=n?n:r,fieldName:null==o?void 0:o.field};a.push(s.view.state.schema.nodes.user.create(c,l))}else a.push(l);else a.push(l);return new vc(uc.from(a),0,0)})),s.view=t,s.keymap=n,s.enableRichInlineNodes=o,s}return(0,C.A)(r,[{key:"isSameState",value:function(t,e){return e.doc.eq(t.doc)&&e.selection.eq(t.selection)}}]),r}(Ld),bv=function(t,e){return function(r,n,i){var o=t.getKeyBinding(e);return!!o&&o(r,n,i)}};const Ov=function(t,e){var r,n=new bd;return new Fs.k_({key:Id,view:function(r){var i=new xv(r,n,t,e);return i.init(),i},props:{handleKeyDown:oc((r={},(0,h.A)(r,Ad,bv(n,Ad)),(0,h.A)(r,Ed,bv(n,Ed)),(0,h.A)(r,Td,bv(n,Td)),(0,h.A)(r,Nd,bv(n,Nd)),(0,h.A)(r,_d,bv(n,_d)),(0,h.A)(r,wd,bv(n,wd)),(0,h.A)(r,Cd,bv(n,Cd)),(0,h.A)(r,kd,bv(n,kd)),(0,h.A)(r,Rd,bv(n,Rd)),r))}})};var Sv="rich_inline",Av="selected",Ev="error",Tv=r(21321),Nv=r(19632),_v=r(32538),wv=r(63781),kv=r(1513),Cv=r(33543),Rv=r(31825),Pv=r(38226),Iv=r(38057),jv=r(90940),Lv={xsmall:2*(0,jv.oZ)(),small:3*(0,jv.oZ)(),medium:4*(0,jv.oZ)(),large:5*(0,jv.oZ)(),xlarge:12*(0,jv.oZ)(),xxlarge:16*(0,jv.oZ)()},Mv={xsmall:2,small:2,medium:3,large:3,xlarge:6,xxlarge:12},Dv={small:12,medium:14,large:15,xlarge:18},qv={small:0,medium:0,large:1,xlarge:7};function Fv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fv(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Uv=(0,Dd.AH)({display:"block",width:"100%",height:"100%",backgroundColor:"var(--ds-icon-subtle, ".concat(kv.yq,")")}),zv=(0,Dd.AH)({display:"block",width:"100%",height:"100%",backgroundColor:"var(--ds-background-accent-gray-subtler, #DCDFE4)"}),Vv=Object.entries(Lv).reduce((function(t,e){var r=(0,c.A)(e,2),n=r[0],i=r[1];return Bv(Bv({},t),{},(0,h.A)({},n,(0,Dd.AH)({"& svg":{width:"".concat(i,"px"),height:"".concat(i,"px")}})))}),{}),Jv=(0,Dd.AH)({display:"flex",width:"100%",height:"100%",flex:"1 1 100%"});const Hv=function(t){var e=t.alt,r=void 0===e?"":e,i=t.src,o=t.appearance,s=t.size,a=t.testId,l=(0,n.useState)(!1),u=(0,c.A)(l,2),h=u[0],p=u[1],f="circle"===o?"50%":"".concat(Mv[s],"px"),d=!r||void 0;return(0,n.useEffect)((function(){p(!1)}),[i]),!i||h?(0,Dd.Y)("span",{css:[(0,wv.fg)("platform-component-visual-refresh")?zv:Uv,Vv[s]]},"circle"===o?(0,wv.fg)("platform-component-visual-refresh")?(0,Dd.Y)(Cv.default,{label:r,color:"var(--ds-icon-subtle, #626F86)",testId:a&&"".concat(a,"--person"),spacing:"spacious"}):(0,Dd.Y)(Pv.A,{label:r,primaryColor:"var(--ds-icon-inverse, ".concat(kv.N0,")"),secondaryColor:"var(--ds-icon-subtle, ".concat(kv.yq,")"),testId:a&&"".concat(a,"--person"),"aria-hidden":d}):(0,wv.fg)("platform-component-visual-refresh")?(0,Dd.Y)(Rv.default,{label:r,color:"var(--ds-icon-subtle, #626F86)",testId:a&&"".concat(a,"--ship"),spacing:"spacious"}):(0,Dd.Y)(Iv.A,{label:r,primaryColor:"var(--ds-icon-inverse, ".concat(kv.N0,")"),secondaryColor:"var(--ds-icon-subtle, ".concat(kv.yq,")"),testId:a&&"".concat(a,"--ship"),"aria-hidden":d})):(0,Dd.Y)("img",{src:i,alt:r,"data-testid":a&&"".concat(a,"--image"),css:Jv,style:{borderRadius:f},onError:function(){return p(!0)},"aria-hidden":d,"data-vc":a?"".concat(a,"--image"):"avatar-image"})};var Wv=(0,n.createContext)(void 0),Gv=(0,Dd.AH)({display:"flex",boxSizing:"border-box",width:"100%",height:"100%",alignItems:"center",alignContent:"center",borderRadius:"var(--ds-border-radius-circle, 50%)",overflow:"hidden"});const Yv=function(t){var e=t.bgColor,r=void 0===e?"var(--ds-surface-overlay, ".concat(kv.N0,")"):e,n=t.children;return(0,Dd.Y)("span",{css:Gv,role:"presentation",style:{border:"".concat(2,"px solid ").concat(r),backgroundColor:r}},n)};var Kv=n.createElement(n.Fragment,null,n.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(kv.w,")"),cx:"4",cy:"4",r:"4"}),n.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(kv.N0,")"),d:"M3.3,1.9l2.8,2.8c0.2,0.2,0.2,0.5,0,0.7L5.4,6.1c-0.2,0.2-0.5,0.2-0.7,0L1.9,3.3c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7C2.8,1.7,3.1,1.7,3.3,1.9z"})),$v=n.createElement(n.Fragment,null,n.createElement("path",{fill:"var(--ds-icon-discovery, ".concat(kv.KC,")"),d:"M4,8 C1.790861,8 0,6.209139 0,4 C0,1.790861 1.790861,0 4,0 C6.209139,0 8,1.790861 8,4 C8,6.209139 6.209139,8 4,8 Z M4,6.66666667 C5.47275933,6.66666667 6.66666667,5.47275933 6.66666667,4 C6.66666667,2.52724067 5.47275933,1.33333333 4,1.33333333 C2.52724067,1.33333333 1.33333333,2.52724067 1.33333333,4 C1.33333333,5.47275933 2.52724067,6.66666667 4,6.66666667 Z M4,5.33333333 C3.26362033,5.33333333 2.66666667,4.73637967 2.66666667,4 C2.66666667,3.26362033 3.26362033,2.66666667 4,2.66666667 C4.73637967,2.66666667 5.33333333,3.26362033 5.33333333,4 C5.33333333,4.73637967 4.73637967,5.33333333 4,5.33333333 Z"})),Qv=n.createElement(n.Fragment,null,n.createElement("path",{fill:"var(--ds-text-subtlest, ".concat(kv.lu,")"),d:"M4,8 C6.209139,8 8,6.209139 8,4 C8,1.790861 6.209139,0 4,0 C1.790861,0 0,1.790861 0,4 C0,6.209139 1.790861,8 4,8 Z M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"}),n.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(kv.br,")"),d:"M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"})),Zv=n.createElement("circle",{fill:"var(--ds-icon-success, ".concat(kv.PY,")"),cx:"4",cy:"4",r:"4"});var Xv=function(t){var e=t.borderColor,r=t.children,i=t.presence;return n.createElement(Yv,{bgColor:e},i?n.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(t){switch(t){case"busy":return Kv;case"focus":return $v;case"offline":return Qv;case"online":return Zv}}(i)):r)};var tm=function(t){var e=t.size,r=t.appearance,i=t.children,o=t.borderColor,s=t.presence,a=t.testId,l="square"===r?-4:qv[e];return n.createElement("span",{"aria-hidden":"true","data-testid":a&&"".concat(a,"--presence"),style:{pointerEvents:"none",position:"absolute",bottom:"".concat(l,"px"),height:"".concat(Dv[e],"px"),right:"".concat(l,"px"),width:"".concat(Dv[e],"px")}},n.createElement(Xv,{borderColor:o,presence:i?void 0:s},i))},em=n.createElement(n.Fragment,null,n.createElement("circle",{fill:"var(--ds-icon-success, ".concat(kv.c,")"),cx:"4",cy:"4",r:"4"}),n.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(kv.N0,")"),d:"M2.47140452,3.52859548 C2.21105499,3.26824595 1.78894501,3.26824595 1.52859548,3.52859548 C1.26824595,3.78894501 1.26824595,4.21105499 1.52859548,4.47140452 L2.86192881,5.80473785 C3.12227834,6.06508738 3.54438833,6.06508738 3.80473785,5.80473785 L6.47140452,3.13807119 C6.73175405,2.87772166 6.73175405,2.45561167 6.47140452,2.19526215 C6.21105499,1.93491262 5.78894501,1.93491262 5.52859548,2.19526215 L3.33333333,4.39052429 L2.47140452,3.52859548 Z"})),rm=n.createElement(n.Fragment,null,n.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(kv.pl,")"),cx:"4",cy:"4",r:"4"}),n.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(kv.N0,")"),d:"M4.890661,4.0088336 L5.81806461,3.07802178 C6.06167933,2.83351177 6.06048933,2.43826992 5.81540668,2.19522442 C5.57032402,1.95217891 5.17415651,1.95336612 4.93054179,2.19787613 L4.00765946,3.12415007 L3.06906871,2.18377143 C2.82523777,1.93947602 2.42906937,1.93863765 2.18420182,2.18189887 C1.93933427,2.42516008 1.93849394,2.82040282 2.18232488,3.06469822 L3.12544091,4.00961077 L2.20275024,4.93569234 C1.95913552,5.18020236 1.96032551,5.5754442 2.20540817,5.81848971 C2.45049083,6.06153521 2.84665833,6.060348 3.09027306,5.81583799 L4.00844245,4.89429431 L4.9092123,5.79678001 C5.15304324,6.04107541 5.54921164,6.04191379 5.79407919,5.79865257 C6.03894674,5.55539135 6.03978708,5.16014862 5.79595614,4.91585321 L4.890661,4.0088336 Z"})),nm=n.createElement(n.Fragment,null,n.createElement("circle",{fill:"var(--ds-text-subtlest, ".concat(kv.br,")"),cx:"4",cy:"4",r:"4"}),n.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(kv.UP,")"),d:"M4.13074827,1.21766493 L4.10368158,1.21766493 C3.36340745,1.21766493 2.76388015,1.80793503 2.76388015,2.5367787 L2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,2.54344089 C3.44054754,2.17901906 3.74031119,1.88388401 4.11044825,1.88388401 L4.1239816,1.88388401 C4.49411866,1.88388401 4.79388232,2.17901906 4.79388232,2.54344089 L4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,2.5367787 C5.47054971,1.80793503 4.8710224,1.21766493 4.13074827,1.21766493 M2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,3.88254123 L2.76388015,3.88254123 L2.76388015,3.21632216 Z M4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,3.88254123 L4.79388232,3.88254123 L4.79388232,3.21632216 Z M4.79401765,3.88254123 L3.44068287,3.88254123 L2.76401548,3.88254123 C2.39049508,3.88254123 2.08734809,4.18100738 2.08734809,4.54876031 L2.08734809,5.54808892 C2.08734809,6.10000287 2.53735205,6.54741753 3.09094491,6.54741753 L5.14375561,6.54741753 C5.69802683,6.54741753 6.14735243,6.10385072 6.14735243,5.54808892 L6.14735243,4.54876031 C6.14735243,4.18100738 5.84420544,3.88254123 5.47068504,3.88254123 L4.79401765,3.88254123 Z"}));var im=function(t){var e=t.borderColor,r=t.children,i=t.status;return n.createElement(Yv,{bgColor:e},i?n.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(t){switch(t){case"approved":return em;case"declined":return rm;case"locked":return nm}}(i)):r)};var om,sm=function(t){var e=t.size,r=t.status,i=t.appearance,o=t.borderColor,s=t.children,a=t.testId,l="square"===i?0:qv[e];return n.createElement("span",{"aria-hidden":"true","data-testid":a&&"".concat(a,"--status"),style:{position:"absolute",height:"".concat(Dv[e],"px"),right:"".concat(l,"px"),top:"".concat(l,"px"),width:"".concat(Dv[e],"px")}},n.createElement(im,{borderColor:o,status:s?void 0:r},s))};function am(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?am(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var cm="@atlaskit/avatar",um="21.15.4",hm=function(t,e){var r=e.size,n=e.radius,i=e.appearance,o=e.borderColor,s=void 0===o?(0,wv.fg)("platform-component-visual-refresh")?"var(--ds-surface, #FFFFFF)":"var(--ds-surface-overlay, ".concat(kv.N0,")"):o,a=e.stackIndex,l=e.isInteractive,c=e.isDisabled;return t(om||(om=(0,Xd.A)(["\n\t\theight: ","px;\n\t\twidth: ","px;\n\t\talign-items: stretch;\n\t\tbackground-color: ",";\n\t\tborder-radius: ",";\n\t\tbox-sizing: content-box;\n\t\tcursor: inherit;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\toutline: none;\n\t\toverflow: hidden;\n\t\tposition: static;\n\t\ttransform: translateZ(0);\n\t\ttransition:\n\t\t\ttransform 200ms,\n\t\t\topacity 200ms;\n\t\tbox-shadow: 0 0 0 ","px ",";\n\t\tborder: none;\n\t\tmargin: ",";\n\t\tpadding: ",";\n\n\t\t&::-moz-focus-inner {\n\t\t\tborder: 0;\n\t\t\tmargin: ",";\n\t\t\tpadding: ",";\n\t\t}\n\n\t\t&::after {\n\t\t\tbackground-color: transparent;\n\t\t\tinset: 0px;\n\n\t\t\t/* Added border-radius style to fix hover issue in safari */\n\t\t\tborder-radius: ",";\n\t\t\tcontent: ' ';\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t\tposition: absolute;\n\t\t\ttransition: opacity 200ms;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t:focus {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t","\n\n\t\t","\n\n    ","\n\t"])),r,r,s,"circle"===i?"50%":"".concat(n,"px"),2,s,"var(--ds-space-025, 2px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","circle"===i?"50%":"".concat(n,"px"),a&&"position: relative;",l&&"\n      cursor: pointer;\n\n      :hover {\n        &::after {\n          background-color: ".concat("var(--ds-interaction-hovered, ".concat(kv.JY,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        &::after {\n          background-color: ","var(--ds-interaction-pressed, ".concat(kv.JY,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        transform: scale(",.9,");\n      }\n\n      @media screen and (forced-colors: active) {\n        &:focus-visible {\n          outline: 1px solid\n        }\n      }\n    "),c&&"\n        cursor: not-allowed;\n\n        &::after {\n          opacity: ".concat("var(--ds-opacity-disabled, 0.7)",";\n          pointer-events: none;\n          background-color: ","var(--ds-surface, ".concat(kv.N0,")"),";\n        }\n      "))},pm=(0,n.forwardRef)((function(t,e){var r,i=t.analyticsContext,o=t.appearance,s=void 0===o?"circle":o,a=t.label,l=t.borderColor,c=t.children,u=t.href,h=t.isDisabled,p=t.name,f=t.onClick,d=t.presence,y=t.size,g=t.src,v=t.stackIndex,m=t.status,x=t.target,b=t.testId,O=t.as,S=void 0===O?"div":O,A=(0,Tv.X)().createAnalyticsEvent,E=(0,n.useContext)(Wv),T=null!==(r=null!=y?y:null==E?void 0:E.size)&&void 0!==r?r:"medium",N=(0,n.isValidElement)(d)?d:null,_=(0,n.isValidElement)(m)?m:null,w="xxlarge"!==T&&"xsmall"!==T,k=(0,n.useRef)(i),C=(0,Nv.Bi)();(0,n.useEffect)((function(){k.current=i}),[i]);var R=(0,n.useCallback)((function(t){if(!h&&"function"==typeof f){var e=A({action:"clicked",actionSubject:"avatar",attributes:{componentName:"avatar",packageName:cm,packageVersion:um}}),r=lm({componentName:"avatar",packageName:cm,packageVersion:um},k.current);e.context.push(r);var n=e.clone();n&&n.fire("atlaskit"),f(t,e)}}),[A,h,f]),P=w&&d&&!m,I=w&&m,j=[p,I&&!_&&"(".concat(m,")"),P&&!N&&"(".concat(d,")")].filter(Boolean).join(" "),L=f||u||h,M=Boolean(!L&&j);return(0,Dd.Y)(S,{"data-testid":b,role:M?"img":void 0,"aria-labelledby":M?C:void 0,style:{display:"inline-block",position:"relative",outline:0,zIndex:v}},(0,Dd.Y)(Dd.Z2,null,(function(t){var r=t.css,i=lm(lm(lm(lm({className:hm(r,{size:Lv[T],radius:Mv[T],appearance:s,borderColor:l,stackIndex:v,isInteractive:Boolean(u||f)&&!h,isDisabled:h})},h?{disabled:!0}:lm(lm({},u&&function(t,e){return{href:t,rel:"_blank"===e?"noopener noreferrer":null,target:e}}(u,x)),f&&!u?function(t){return{type:"button",onClick:t}}(R):{onClick:f})),b&&function(t,e){return e?{testId:"".concat(t,"--inner")}:{"data-testid":"".concat(t,"--inner")}}(b,c)),(L||c)&&{"aria-label":a||j}),{},{children:(0,Dd.Y)(Hv,{alt:!M&&g?p:void 0,appearance:s,size:T,src:g,testId:b}),ref:e});if(c)return c(i);var o=function(t,e,r){return e&&!t?"a":r||t?"button":"span"}(h,u,f);return"a"===o||"button"===o?(0,Dd.Y)(_v.A,null,(0,n.createElement)(o,i)):(0,n.createElement)(o,i)})),P&&(0,Dd.Y)(tm,{appearance:s,size:T,presence:"string"==typeof d?d:void 0,testId:b},N),I&&(0,Dd.Y)(sm,{appearance:s,size:T,borderColor:l,status:"string"==typeof m?m:void 0,testId:b},_),M?(0,Dd.Y)("span",{"data-testid":b&&"".concat(b,"--label"),id:C,hidden:!0},j):void 0)}));pm.displayName="Avatar";const fm=pm;var dm,ym,gm,vm,mm,xm,bm,Om=ty.A.span(dm||(dm=(0,Xd.A)(["\n  display: inline-flex;\n  align-items: center;\n  height: ",";\n  padding: 1px;\n  border-radius: 10px;\n  cursor: pointer;\n  user-select: none;\n\n  ","\n"])),"var(--ds-space-200, 16px)",(function(t){var e=t.selected,r=t.error;return e?r?(0,Dd.AH)(ym||(ym=(0,Xd.A)(["\n          color: ",";\n          background-color: ",";\n          text-decoration: wavy underline;\n          text-decoration-thickness: 1px;\n          text-decoration-skip-ink: none;\n          text-decoration-color: ",";\n        "])),"var(--ds-text-inverse, ".concat(Fd.N0,")"),"var(--ds-background-danger-bold, ".concat(Fd.pl,")"),"var(--ds-text-inverse, ".concat(Fd.N0,")")):(0,Dd.AH)(gm||(gm=(0,Xd.A)(["\n          color: ",";\n          background-color: ",";\n          box-shadow: 0 0 0 1px ",";\n        "])),"var(--ds-text, ".concat(Fd.N0,")"),"var(--ds-background-selected, ".concat(Fd.UP,")"),"var(--ds-border-selected, transparent)"):r?(0,Dd.AH)(vm||(vm=(0,Xd.A)(["\n          color: ",";\n          background-color: ",";\n          text-decoration: wavy underline;\n          text-decoration-thickness: 1px;\n          text-decoration-skip-ink: none;\n          text-decoration-color: ",";\n\n          &:hover {\n            background-color: ",";\n          }\n        "])),"var(--ds-text-subtle, ".concat(Fd.UP,")"),"var(--ds-background-neutral, ".concat(Fd.br,")"),"var(--ds-text-danger, ".concat(Fd.pl,")"),"var(--ds-background-neutral-hovered, ".concat(Fd._u,")")):(0,Dd.AH)(mm||(mm=(0,Xd.A)(["\n          color: ",";\n          background-color: ",";\n\n          &:hover {\n            background-color: ",";\n          }\n        "])),"var(--ds-text-subtle, ".concat(Fd.UP,")"),"var(--ds-background-neutral, ".concat(Fd.br,")"),"var(--ds-background-neutral-hovered, ".concat(Fd._u,")"))})),Sm=ty.A.span(xm||(xm=(0,Xd.A)(["\n  margin-left: ",";\n  margin-right: ",";\n"])),"var(--ds-space-075, 6px)","var(--ds-space-100, 8px)"),Am=ty.A.span(bm||(bm=(0,Xd.A)(["\n  > div {\n    top: 3px;\n\n    > span {\n      margin: 0;\n    }\n  }\n"]))),Em={component:function(t){var e=t.id,r=t.name,i=t.fieldName,o=t.selected,s=t.error,a=Qx({id:e,fieldName:i}),l=(0,c.A)(a,1)[0];return n.createElement(Om,{selected:o,error:s},n.createElement(Am,null,n.createElement(fm,{src:null==l?void 0:l.avatarUrl,borderColor:"transparent",size:"xsmall"})),n.createElement(Sm,null,r))},attrs:{id:{},name:{},fieldName:{}}},Tm={user:Em};function Nm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nm(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var wm=function(){function t(e,r,i){var o=this;(0,R.A)(this,t),(0,h.A)(this,"componentSubject",new jd.Subject),(0,h.A)(this,"init",(function(t){var e=o.component,r=function(){var r=(0,n.useState)(_m(_m({},o.getProps(o.node)),{},{selected:o.isSelected(t),error:o.hasError(t)})),i=(0,c.A)(r,2),s=i[0],a=i[1],l=qx(),u=(0,c.A)(l,1)[0];return(0,n.useEffect)((function(){var t=o.componentSubject.subscribe((function(t){a(t)}));return function(){return t.unsubscribe()}}),[]),(0,n.useLayoutEffect)((function(){s.error?o.dom.dataset.tokenType="error":delete o.dom.dataset.tokenType}),[s]),n.createElement(e,(0,Md.A)({},s,{selected:s.selected&&u}))};return queueMicrotask((function(){o.portalActions.onCreatePortal(o.portalKey,n.createElement(r,null),o.dom)})),o})),(0,h.A)(this,"destroy",(function(){o.portalActions.onDestroyPortal(o.portalKey)})),(0,h.A)(this,"update",(function(t,e){return t===o.node&&(o.componentSubject.next(_m(_m({},o.getProps(t)),{},{selected:o.isSelected(e),error:o.hasError(e)})),!0)})),(0,h.A)(this,"getProps",(function(t){return _m({},t.attrs)})),(0,h.A)(this,"isSelected",(function(t){return t.some((function(t){return t.spec.type===Av}))})),(0,h.A)(this,"hasError",(function(t){return t.some((function(t){return t.spec.type===Ev}))})),this.component=e,this.portalActions=r,this.node=i,this.portalKey=(0,ws.v4)(),this.dom=document.createElement("span"),this.dom.setAttribute("data-testid","jql-editor-node-view")}return(0,C.A)(t,null,[{key:"for",value:function(e,r,n,i){return new t(e,r,n).init(i)}}]),t}(),km=function(t,e,r,n){var i=[];return t.doc.nodesBetween(r,n,(function(t,r){t.type.spec.group===Sv&&i.push(Zo.node(r,r+t.nodeSize,{},{type:e}))})),i},Cm=new Fs.hs("rich-inline-nodes-plugin");const Rm=function(t){return new Fs.k_({key:Cm,props:{decorations:function(t){var e=[],r=t.selection,n=r.from,i=r.to;e.push.apply(e,(0,u.A)(km(t,Av,n,i)));var o=cd(t),s=(0,c.A)(o.errors,1)[0];if(s instanceof qs){var a=Gm(t.doc,s.start),l=Gm(t.doc,s.stop);e.push.apply(e,(0,u.A)(km(t,Ev,a,l)))}return rs.create(t.doc,e)},nodeViews:Us()(Tm,(function(e){return function(r,n,i,o){return wm.for(e.component,t,r,o)}}))}})};var Pm=r(15598),Im=function(){function t(e){var r,n=this;(0,R.A)(this,t),(0,h.A)(this,"showTooltip",(function(t,e,r){var i,o,s,a=(e.left+r.left)/2,l=null===(i=n.tooltip.offsetParent)||void 0===i?void 0:i.getBoundingClientRect();n.tooltip.style.left="".concat(a-(null!==(o=null==l?void 0:l.left)&&void 0!==o?o:0),"px"),n.tooltip.style.top="".concat(e.top-(null!==(s=null==l?void 0:l.top)&&void 0!==s?s:0),"px"),n.tooltip.textContent=t.message,n.tooltip.classList.remove(Pm.lM),n.tooltip.classList.add(Pm.Ld)})),(0,h.A)(this,"hideTooltip",(function(){n.tooltip.classList.remove(Pm.Ld),n.tooltip.classList.add(Pm.lM)})),this.tooltip=document.createElement("div"),this.tooltip.setAttribute("data-testid","jql-validation-tooltip"),this.tooltip.classList.add(Pm.wH),null===(r=document.getElementById(e))||void 0===r||r.appendChild(this.tooltip)}return(0,C.A)(t,[{key:"update",value:function(t,e){var r=t.state,n=Pm.qM.getState(r),i=Pm.qM.getState(e),o=cd(r),s=(0,c.A)(o.errors,1)[0];if(n!==i)if(n){if(s instanceof qs){var a=Gm(r.doc,s.start),l=Gm(r.doc,s.stop),u=t.coordsAtPos(a),h=t.coordsAtPos(l);this.showTooltip(s,u,h)}}else this.hideTooltip()}},{key:"destroy",value:function(){this.tooltip.remove()}}]),t}();const jm=function(t){var e=new Fs.k_({key:Pm.qM,view:function(){return new Im(t)},state:{init:function(){return!1},apply:function(t,r){return void 0!==t.getMeta(e)?t.getMeta(e):r}},props:{handleDOMEvents:{mouseover:function(t,r){var n=t.state,i=t.dispatch,o=e.getState(n);return r.target instanceof Element&&r.target.closest('[data-token-type="error"]')?o||i(n.tr.setMeta(e,!0)):o&&i(n.tr.setMeta(e,!1)),!1},mouseleave:function(t){var r=t.state,n=t.dispatch;return e.getState(r)&&n(r.tr.setMeta(e,!1)),!1}}}});return e};var Lm=r(79674),Mm=r.n(Lm),Dm=r(29767);function qm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Fm=new au({nodes:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qm(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({doc:{content:"paragraph+"},paragraph:{content:"(text|".concat(Sv,")*"),toDOM:function(){return["p",{spellcheck:"false"},0]},parseDOM:[{tag:"p"}]},text:{}},Us()(Tm,(function(t,e){return function(t,e){return{group:Sv,content:"text*",inline:!0,atom:!0,attrs:e,toDOM:function(e){var r=Mm()(e.attrs,(function(t,e){return"data-".concat(e)}));return[t,r,0]},parseDOM:[{tag:t,getAttrs:function(t){return t instanceof Element?Us()(e,(function(e,r){return t.getAttribute("data-".concat(r))})):null}}]}}(e,t.attrs)}))),marks:{token:{toDOM:function(t){var e,r,n=t.attrs;return e=n.tokenType,(r=document.createElement("span")).className="mark-token-".concat(e),r.setAttribute("data-token-type",e),r.setAttribute("spellcheck","false"),r},attrs:{tokenType:{}}},cursor:{toDOM:function(){return document.createElement("span")}}}}),Bm=cu.fromSchema(Fm),Um=function(t){return Bf(t.content,0,t.content.size)},zm=function(t,e){var r=document.createElement("div");return(0,Dm.L)(t).forEach((function(t){r.appendChild(document.createElement("p")).textContent=t})),Bm.parseSlice(r,{context:e,preserveWhitespace:!0})},Vm=Fs.$t.create({schema:Fm}),Jm=function(){return!0};function Hm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Wm=function t(e,r,n){var i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hm(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r),o=e.type===Fm.nodes.doc;if(!e.isLeaf&&!o){if(i.doc+=1,e.isBlock&&(i.enteredInitialBlock&&(i.text+=1),i.enteredInitialBlock=!0),i.text===n)return i;if(e.isAtom&&n===i.text+e.content.size)return i.doc+=e.content.size+1,i.text+=e.content.size,i}if(e.isText){if(n>=i.text&&n<=i.text+e.nodeSize){var s=n-i.text;return i.doc+=s,i.text+=s,i}i.doc+=e.nodeSize,i.text+=e.nodeSize}for(var a=0;a<e.childCount;a++)if((i=t(e.child(a),i,n)).text===n)return i;return e.isLeaf||o||(i.doc+=1),i};const Gm=function(t,e){return Wm(t,{doc:0,text:0,enteredInitialBlock:!1},e).doc};var Ym=r(28303),Km="jql-editor-autocomplete",$m=r(90720),Qm=["=","!=","~","!~","<=",">=",">","<","is",d,p,f,"was",v,y,g,m],Zm=r(10467),Xm=r(54756),tx=r.n(Xm);function ex(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}function rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rx(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ix=function(t,e,r){if("user"===e.type){var n=Fm.text(r);return Fm.nodes.user.create(nx(nx({},e),{},{fieldName:t}),n)}throw new Error("Unsupported hydrated value type ".concat(e.type))},ox=function(t,e){var r;return(null===(r=t.resolve(e).nodeAfter)||void 0===r?void 0:r.type.spec.group)===Sv},sx=function(t,e,r){return t.query?t.query.accept(new ax(e,r)):[]},ax=function(t){(0,Z.A)(r,t);var e=ex(r);function r(t,n){var i;return(0,R.A)(this,r),i=e.call(this),(0,h.A)((0,rt.A)(i),"visitQuery",(function(t){return void 0===t.where?[]:t.where.accept((0,rt.A)(i))})),(0,h.A)((0,rt.A)(i),"visitCompoundClause",(function(t){return t.clauses.reduce((function(t,e){return[].concat((0,u.A)(t),(0,u.A)(e.accept((0,rt.A)(i))))}),[])})),(0,h.A)((0,rt.A)(i),"visitTerminalClause",(function(t){return t.field.value!==i.field||void 0===t.operand?[]:t.operand.accept((0,rt.A)(i))})),(0,h.A)((0,rt.A)(i),"visitNotClause",(function(t){return t.clause.accept((0,rt.A)(i))})),(0,h.A)((0,rt.A)(i),"visitValueOperand",(function(t){return t.value!==i.value?[]:[t]})),(0,h.A)((0,rt.A)(i),"visitListOperand",(function(t){return t.values.reduce((function(t,e){return[].concat((0,u.A)(t),(0,u.A)(e.accept((0,rt.A)(i))))}),[])})),i.field=t,i.value=n,i}return(0,C.A)(r,[{key:"aggregateResult",value:function(t,e){return[].concat((0,u.A)(t),(0,u.A)(e))}},{key:"defaultResult",value:function(){return[]}}]),r}(hd);function lx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}var cx=function(t){(0,Z.A)(r,t);var e=lx(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"visitQuery",(function(e){return e.where?e.where.accept((0,rt.A)(t)):""})),(0,h.A)((0,rt.A)(t),"visitCompoundClause",(function(e){return e.clauses.map((function(e){return e.accept((0,rt.A)(t))})).filter((function(t){return!!t})).join(" and ")})),(0,h.A)((0,rt.A)(t),"visitTerminalClause",(function(e){var r=e.field,n=e.operator,i=e.operand;if(!n||!i)return"";var o=i.accept((0,rt.A)(t));return o?"".concat(r.text," ").concat(n.value," ").concat(o):""})),(0,h.A)((0,rt.A)(t),"visitNotClause",(function(e){return e.clause.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitValueOperand",(function(t){return t.text})),(0,h.A)((0,rt.A)(t),"visitListOperand",(function(e){return"(".concat(e.values.map((function(e){return e.accept((0,rt.A)(t))})).filter((function(t){return!!t})).join(", "),")")})),t}return(0,C.A)(r,[{key:"defaultResult",value:function(){return""}}]),r}(hd);function ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ux(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var px=function(){return function(){var t=(0,Zm.A)(tx().mark((function t(e,r){var n,i,o,s,a,l,u,p,f,d,y,g,v,m;return tx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.setState,i=e.getState,o=e.dispatch,s=r.onHydrate,a=i(),l=a.query,u=a.hydratedValues,p=a.enableRichInlineNodes,f=a.editorState,p&&s&&l){t.next=5;break}return t.abrupt("return");case 5:if(d=l,(y=cd(f)).query&&y.errors.length&&(g=new cx,d=y.query.accept(g)),d){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,t.next=13,s(d);case 13:v=t.sent,m=Object.entries(v).reduce((function(t,e){var r=(0,c.A)(e,2),n=r[0],i=r[1],o=new Map(u[n]);return i.forEach((function(t){o.set(t.id,t)})),hx(hx({},t),{},(0,h.A)({},n,o))}),{}),n({hydratedValues:m}),o(fx()),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(10);case 21:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e,r){return t.apply(this,arguments)}}()},fx=function(){return function(t){var e=t.getState,r=t.dispatch,n=e(),i=function(t,e){var r=cd(t),n=t.tr;return n.setMeta("addToHistory",!1),Object.entries(e).forEach((function(t){var e=(0,c.A)(t,2),i=e[0];e[1].forEach((function(t){"user"===t.type&&sx(r,i,t.id).forEach((function(e){if(e.position){var r=(0,c.A)(e.position,2),o=r[0],s=r[1],a=Gm(n.doc,o);if(!ox(n.doc,a)){var l=Gm(n.doc,s),u=ix(i,t,e.text);n.replaceWith(a,l,u)}}}))}))})),n}(n.editorState,n.hydratedValues);r(Cx.onApplyEditorTransaction(i))}},dx=r(80293),yx=r.n(dx);function gx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,tt.A)(t);if(e){var i=(0,tt.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,X.A)(this,r)}}function vx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vx(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var xx=function(t){return yx()(t,"9a90299c-aa58-494b-b6a1-e93206e3fdd6")},bx=function(t){var e=t.values;if(""!==t.matchedText){var r=new RegExp("^".concat(Nu()(t.matchedText),"[^$]"),"i");e=t.values.filter((function(t){return r.test(t)}))}return e.map((function(e){var r;return{id:xx(e),name:e,value:e,replacePosition:t.replacePosition,matchedText:t.matchedText,context:null!==(r=t.context)&&void 0!==r?r:null,type:"keyword"}}))},Ox=function(t){var e=t.rules,r=t.tokens;if(r.values.length)return r.replacePosition[0];for(var n=0,i=["value","function","list","operator","field"];n<i.length;n++){var o=i[n];if(Object.prototype.hasOwnProperty.call(e,o))return e[o].replacePosition[0]}return r.replacePosition[0]},Sx=function(t,e,r,n,i){var o,s,a,l,c;if(n)try{var u=Ff(e.state.doc,0,e.state.doc.content.size),h=JSON.stringify(e.state.toJSON());n(t,mx(mx({editorStateJson:JSON.stringify(r.toJSON()),editorViewStateText:u,editorViewStateJson:h,editorViewHtml:e.dom.innerHTML},null===(c=document.getSelection())||"None"===c.type?{}:{anchorOffset:c.anchorOffset,anchorNodeText:null===(o=c.anchorNode)||void 0===o?void 0:o.textContent,anchorNodeName:null===(s=c.anchorNode)||void 0===s?void 0:s.nodeName,focusOffset:c.focusOffset,focusNodeText:null===(a=c.focusNode)||void 0===a?void 0:a.textContent,focusNodeName:null===(l=c.focusNode)||void 0===l?void 0:l.nodeName}),i))}catch(t){}},Ax=function(t){(0,Z.A)(r,t);var e=gx(r);function r(){var t;(0,R.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,h.A)((0,rt.A)(t),"fields",new Set),(0,h.A)((0,rt.A)(t),"visitQuery",(function(e){void 0!==e.where&&e.where.accept((0,rt.A)(t)),void 0!==e.orderBy&&e.orderBy.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitOrderBy",(function(e){e.fields.map((function(e){return e.accept((0,rt.A)(t))}))})),(0,h.A)((0,rt.A)(t),"visitOrderByField",(function(e){e.field.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitCompoundClause",(function(e){e.clauses.map((function(e){return e.accept((0,rt.A)(t))}))})),(0,h.A)((0,rt.A)(t),"visitTerminalClause",(function(e){e.field.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitNotClause",(function(e){e.clause.accept((0,rt.A)(t))})),(0,h.A)((0,rt.A)(t),"visitField",(function(e){t.fields.add(e.value.toLowerCase())})),t}return(0,C.A)(r,[{key:"defaultResult",value:function(){}}]),r}(hd);function Ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ex(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ex(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Nx=(0,Os.E)({locale:"en"}),_x={tokens:[],fields:[],operators:[],values:[],functions:[]},wx={controlledQuery:"",query:"",externalMessages:[],isSearching:void 0,editorState:Vm,editorView:void 0,intlRef:{current:Nx},autocompleteProvider:Pd,idPrefix:"",editorViewHasFocus:!1,editorViewBlurTimeout:null,lineNumbersVisible:!1,jqlError:null,autocomplete:{shouldStayClosedOnNextUpdate:!0,shouldStayClosed:!0,selectedOptionId:void 0,loading:!1,options:_x,subscription:null,analyticsSubscription:null,container:null,offsetParentRect:void 0,replacePositionStart:0},enableRichInlineNodes:!1,hydratedValues:{},resizeObserver:void 0,editorViewContainer:void 0,editorViewContainerRect:void 0,editorViewContainerScroll:0,onDebugUnsafeMessage:void 0},kx=function(t){return t.doc.childCount>1},Cx={onEditorViewBlur:function(){return function(t){var e=t.setState,r=t.dispatch,n=window.setTimeout((function(){e({editorViewHasFocus:!1}),r(Cx.setSelectedAutocompleteOptionId(void 0))}));e({editorViewBlurTimeout:n})}},onEditorViewFocus:function(){return function(t){var e,r,n=t.setState,i=(0,t.getState)(),o=i.autocomplete,s=i.editorViewBlurTimeout,a=i.editorViewHasFocus;(s&&clearTimeout(s),a)||n({autocomplete:Tx(Tx({},o),{},{offsetParentRect:null===(e=o.container)||void 0===e||null===(r=e.offsetParent)||void 0===r?void 0:r.getBoundingClientRect()}),editorViewHasFocus:!0})}},openAutocompleteOnNextUpdate:function(){return function(t){(0,t.setState)({autocomplete:Tx(Tx({},(0,t.getState)().autocomplete),{},{shouldStayClosedOnNextUpdate:!1})})}},closeAutocomplete:function(){return function(t){(0,t.setState)({autocomplete:Tx(Tx({},(0,t.getState)().autocomplete),{},{shouldStayClosed:!0,shouldStayClosedOnNextUpdate:!0})})}},setSelectedAutocompleteOptionId:function(t){return function(e){(0,e.setState)({autocomplete:Tx(Tx({},(0,e.getState)().autocomplete),{},{selectedOptionId:t})})}},getAutocompleteSuggestions:function(t){return function(e){var r=e.getState,n=e.dispatch;if(!r().autocomplete.shouldStayClosedOnNextUpdate){var i=t.selection,o=i.from,s=i.to,a=Ff(t.doc,0,t.doc.content.size),l=Ff(t.doc,0,o),c=Ff(t.doc,0,s),u=l.length,h=c.length,p=Ue.fromText(a).getJQLSuggestionsForCaretPosition([u,h]),f=p,d=f.rules,y=f.tokens;d.list&&d.list.context&&!d.list.context.isList&&(y.values.includes("EMPTY")||(y.values.push("EMPTY"),y.context=d.list.context),d.value||(d.value=d.list),d.function||(d.function=d.list)),n(Cx.getAutocompleteOptions(p))}}},getAutocompleteOptions:function(t){return function(e){var r=e.setState,n=e.getState,i=e.dispatch,o=n(),s=o.autocomplete,a=o.editorView,l=s.shouldStayClosedOnNextUpdate;r({autocomplete:Tx(Tx(Tx({},s),{},{options:Tx(Tx({},_x),{},{tokens:bx(t.tokens)})},a&&{replacePositionStart:Ox(t)}),{},{shouldStayClosed:l})}),i(Cx.cancelSubscription()),i(Cx.callAutocompleteProviders(t))}},appendOptionsForObservable:function(t,e,r,n){return function(i){var o=i.getState,s=i.setState,a=r.context,l=r.matchedText,c=r.replacePosition;return e.pipe((0,_s.tap)((function(e){var r=e.map((function(t){return Tx(Tx({},t),{},{context:a,matchedText:l,replacePosition:c,type:n,id:xx(t.value)})})),i=o().autocomplete,u=i.options;s({autocomplete:Tx(Tx({},i),{},{options:Tx(Tx({},u),{},(0,h.A)({},t,u[t].concat(r)))})})})))}},cancelSubscription:function(){return function(t){var e=t.setState,r=(0,t.getState)().autocomplete,n=r.subscription,i=r.analyticsSubscription;n&&n.unsubscribe(),i&&i.unsubscribe(),e({autocomplete:Tx(Tx({},r),{},{subscription:null,analyticsSubscription:null,loading:!1})})}},setLoading:function(t){return function(e){(0,e.setState)({autocomplete:Tx(Tx({},(0,e.getState)().autocomplete),{},{loading:t})})}},setAutocompleteOptions:function(t){return function(e){(0,e.setState)({autocomplete:Tx(Tx({},(0,e.getState)().autocomplete),{},{options:t})})}},setAutocompleteContainer:function(t){return function(e){var r;(0,e.setState)({autocomplete:Tx(Tx({},(0,e.getState)().autocomplete),{},{container:t,offsetParentRect:null==t||null===(r=t.offsetParent)||void 0===r?void 0:r.getBoundingClientRect()})})}},callAutocompleteProviders:function(t){var e=t.rules,r=t.tokens;return function(t){var n=t.getState,i=t.setState,o=t.dispatch,a=n().autocompleteProvider,l=a.onFields,c=a.onOperators,u=a.onValues,h=a.onFunctions,p=[],f=[];if(e.value||e.function||r.values.includes("EMPTY")){if(e.value){var d,y=u(e.value.matchedText,null===(d=e.value.context)||void 0===d?void 0:d.field);p.push("values"),f.push(o(Cx.appendOptionsForObservable("values",y,e.value,"value")))}if(e.function){var g,v,m=h(e.function.matchedText,null===(g=e.function.context)||void 0===g?void 0:g.field,!(null===(v=e.function.context)||void 0===v||!v.operator)&&k(e.function.context.operator));p.push("functions"),f.push(o(Cx.appendOptionsForObservable("functions",m,e.function,"function")))}}else if(e.operator){var x=e.operator,b=x.context,O=function(t){return t.pipe((0,$m.map)((function(t){return Qm.reduce((function(e,r){var n=t.find((function(t){return r.toLowerCase()===t.value.toLowerCase()}));return void 0!==n&&e.push(n),e}),[])})))}(c(x.matchedText,null==b?void 0:b.field));p.push("operators"),f.push(o(Cx.appendOptionsForObservable("operators",O,e.operator,"operator")))}else if(e.field){var S=e.field,A=S.context,E=l(S.matchedText,null==A?void 0:A.clause);p.push("fields"),f.push(o(Cx.appendOptionsForObservable("fields",E,e.field,"field")))}if(0!==f.length){var T=o((function(t,e){var r=e.createAndFireAnalyticsEvent;performance.clearMeasures(Km),performance.clearMarks("".concat(Km,"::start")),performance.mark("".concat(Km,"::start"));var n=null,i=new Promise((function(t){n=window.setTimeout((function(){t()}),2e3)}));return{analyticsSubscription:new Ym.Subscription((function(){null!==n&&window.clearTimeout(n)})),onStopAutocompleteEvent:function(t,e,n){performance.measure(Km,"".concat(Km,"::start"));var o=performance.getEntriesByName(Km).pop(),a=null==o?void 0:o.duration;return i.then((function(){var i={optionTypes:e.sort(),hasOptions:n};void 0!==a&&(i.duration=a),r({action:t?Cs.RETRIEVED:Cs.RETRIEVE_FAILED,actionSubject:Rs.AUTOCOMPLETE_OPTION,eventType:s.B.OPERATIONAL,attributes:i})}))}}})),N=T.analyticsSubscription,_=T.onStopAutocompleteEvent;o(Cx.setLoading(!0));var w=!1,C=Ns.h.apply(void 0,f).subscribe({next:function(){w=!0},error:function(){_(!1,p,w),o(Cx.setLoading(!1))},complete:function(){_(!0,p,w),o(Cx.setLoading(!1))}});i({autocomplete:Tx(Tx({},n().autocomplete),{},{subscription:C,analyticsSubscription:N})})}}},updateValidationState:function(){return function(t){var e=t.getState,r=t.setState,n=e().editorState,i=cd(n);r({jqlError:i.errors.length>0?i.errors[0]:null})}},initialiseEditorState:function(){return function(t,e){var r=t.dispatch,n=e.query;r(Cx.configurePlugins(void 0)),r(Cx.resetEditorState(n,!1))}},configurePlugins:function(t){return function(e,r){var n=e.getState,i=e.setState,o=e.dispatch,s=r.intlRef,a=r.onSearch,l=n(),c=l.editorState,h=l.enableRichInlineNodes;c=function(t,e,r,n,i,o){return t.reconfigure({plugins:[Hl(),ud(r),yd()].concat((0,u.A)(void 0!==i?[Ov(i,o)].concat((0,u.A)(o?[Rm(i)]:[])):[]),[jm(n),ic({"Mod-z":Gl,"Mod-Shift-z":Yl,"Mod-y":Yl,"Shift-Enter":wl.Enter})],(0,u.A)(e?[(s={"Mod-Enter":e,Enter:e},a=oc(s),l=Us()(s,(function(){return Jm})),c=oc(l),new Fs.k_({props:{handleKeyDown:function(t,e){return e.repeat?c(t,e):a(t,e)}}}))]:[]),[ic(wl)])});var s,a,l,c}(c,a?function(t,e,r){return o(Cx.onSearchCommand(t,e,r,!0))}:void 0,s,Mx(n(),iy),t,h),i({editorState:c})}},onApplyEditorTransaction:function(t){return function(e,r){var n=e.getState,i=e.setState,o=e.dispatch,s=r.onUpdate,a=n(),l=a.query,c=a.editorState,u=a.editorView,h=a.enableRichInlineNodes,p=c.selection,f=Ff(t.doc,0,t.doc.content.size),d=c.apply(t);u&&u.updateState(d),i({query:f,editorState:d,lineNumbersVisible:kx(d)}),h&&(t.getMeta("hydrate")||t.getMeta("paste"))&&o(px()),l===f||t.getMeta(Id)||o(Cx.openAutocompleteOnNextUpdate()),l===f&&d.selection.eq(p)||o(Cx.getAutocompleteSuggestions(d)),l!==f&&s&&s(f,cd(d))}},resetEditorState:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(r){var n=r.getState,i=r.dispatch,o=n(),s=o.editorState,a=o.enableRichInlineNodes,l=zm(t,s.doc.resolve(0)),c=s.tr.setMeta("addToHistory",e).replace(0,s.doc.content.size,l);i(Cx.onApplyEditorTransaction(c)),i(Cx.updateValidationState()),a&&i(px())}},initialiseEditorView:function(t,e,r){return function(n,i){var o=n.getState,s=n.setState,a=n.dispatch,l=i.onEditorMounted;a(Cx.configurePlugins(r));var c=o(),u=c.editorState,h=c.resizeObserver,p=new ds(t,{state:u,dispatchTransaction:function(t){return a(Cx.onApplyEditorTransaction(t))},clipboardTextSerializer:Um,clipboardTextParser:zm,attributes:e});null==h||h.disconnect(),null==h||h.observe(t),s({editorView:p}),l&&l()}},updateEditorView:function(t){return function(e){var r=(0,e.getState)(),n=r.editorView,i=r.onDebugUnsafeMessage,o=r.editorState;if(n)try{n.update(Tx(Tx({},n.props),{},{attributes:t}))}catch(e){var s="Error occurred trying to update attributes on the editor view with the message: ".concat(e instanceof Error?e.message:String(e)),a=Object.keys(t).reduce((function(e,r){var i,o=null===(i=n.props.attributes)||void 0===i?void 0:i[r],s=t[r];return s!==o&&(e["prev_".concat(r)]=o,e["next_".concat(r)]=s),e}),{});Sx(s,n,o,i,Tx({stack:e instanceof Error?e.stack:""},a))}}},setEditorViewContainer:function(t){return function(e){(0,e.setState)({editorViewContainer:t,editorViewContainerRect:null==t?void 0:t.getBoundingClientRect()})}},setEditorViewContainerScroll:function(t){return function(e){(0,e.setState)({editorViewContainerScroll:t})}},onSearch:function(){return function(t){var e=t.getState,r=t.dispatch,n=e(),i=n.editorState,o=n.editorView;r(Cx.onSearchCommand(i,null==o?void 0:o.dispatch,o,!1))}},onSearchCommand:function(t,e,r,n){return function(e,i){var o=e.getState,a=e.dispatch,l=i.onSearch,c=i.createAndFireAnalyticsEvent;if(!l)return!0;var u=cd(t);return l(o().query,u),c({action:Cs.CLICKED,actionSubject:Rs.BUTTON,actionSubjectId:Ps.EDITOR_SEARCH,eventType:s.B.UI,attributes:Tx(Tx({},Q(u)),{},{keyboardShortcut:n})}),a(Cx.updateValidationState()),function(t,e,r){var n=cd(t),i=n.errors.length>0?n.errors[0]:null;if(!(i instanceof qs&&r))return!1;var o=t.tr,s=Gm(o.doc,i.start),a=Gm(o.doc,i.stop),l=Fs.U3.create(o.doc,s,a);o.setSelection(l),o.scrollIntoView(),r.focus(),r.dispatch(o)}(t,0,r),!0}},externalErrorMessageViewed:function(){return function(t,e){var r=t.getState,n=e.createAndFireAnalyticsEvent,i=e.externalMessages,o=r(),a=o.editorView,l=o.onDebugUnsafeMessage,c=o.jqlError,u=o.editorState,h=i.filter((function(t){return"error"===t.type}));if(h.length>0){var p=null!==c,f={hasClientError:p,semanticErrorCount:0,syntaxErrorCount:0,syntaxErrorTypes:[]},d=h.reduce((function(t,e){var r=e.errorType;return"string"==typeof r?(t.syntaxErrorCount++,t.syntaxErrorTypes.push(r)):t.semanticErrorCount++,t}),f);if(d.syntaxErrorTypes.sort(),n({action:Cs.VIEWED,actionSubject:Rs.ERROR_MESSAGE,actionSubjectId:Ps.JQL_RESULT,eventType:s.B.UI,attributes:d}),a&&!p&&d.syntaxErrorCount>0){Sx("External JQL syntax error is shown without a client error.",a,u,l,{syntaxErrorTypes:d.syntaxErrorTypes.join(",")})}}}},createAndFireAnalyticsEvent:function(t){return function(e,r){(0,r.createAndFireAnalyticsEvent)(t)}}},Rx=(0,Ss.y)({name:"jql-editor",initialState:wx,actions:Cx}),Px=(0,As.ab)(Rx,{selector:null}),Ix=((0,As.ab)(Rx,{selector:function(t){return t.editorState}}),(0,As.ab)(Rx,{selector:function(t){return t.editorView}})),jx=(0,As.ab)(Rx,{selector:function(t){return t.isSearching}}),Lx=(0,As.ab)(Rx,{selector:function(t){return t.intlRef.current}}),Mx=((0,As.ab)(Rx,{selector:function(t){return t.autocompleteProvider}}),function(t,e){return"".concat(t.idPrefix,"_").concat(e)}),Dx=(0,As.ab)(Rx,{selector:Mx}),qx=((0,As.ab)(Rx,{selector:function(t){return t.idPrefix}}),(0,As.ab)(Rx,{selector:function(t){return t.editorViewHasFocus}})),Fx=(0,As.ab)(Rx,{selector:function(t){return t.lineNumbersVisible}}),Bx=(0,As.ab)(Rx,{selector:function(t){return t.autocomplete}}),Ux=(0,As.ab)(Rx,{selector:function(t){return t.jqlError}}),zx=(0,As.ab)(Rx,{selector:function(t){return cd(t.editorState).errors.length>0}}),Vx=(0,As.ab)(Rx,{selector:function(t){var e=He()(t.externalMessages,"type");return{errors:e.error||[],warnings:e.warning||[],infos:e.info||[]}}}),Jx=(0,Es.Mz)((function(t){return t.autocomplete.options.tokens}),(function(t){return t.autocomplete.options.functions}),(function(t){return t.autocomplete.options.values}),(function(t){return t.autocomplete.options.operators}),(function(t){return t.autocomplete.options.fields}),(function(t,e,r,n,i){return[].concat((0,u.A)(t),(0,u.A)(e),(0,u.A)(r),(0,u.A)(n),(0,u.A)(i))})),Hx=(0,As.ab)(Rx,{selector:Jx}),Wx=function(t){return t.autocomplete.loading},Gx=(0,As.ab)(Rx,{selector:Wx}),Yx=(0,Es.Mz)((function(t){return t.editorViewHasFocus}),Jx,Wx,(function(t){return t.autocomplete.shouldStayClosed}),(function(t,e,r,n){return!n&&t&&(e.length>0||r)})),Kx=(0,As.ab)(Rx,{selector:Yx}),$x=(0,As.ab)(Rx,{selector:function(t){var e,r,n,i,o=t.autocomplete,s=t.editorView,a=t.editorViewContainerRect,l=t.onDebugUnsafeMessage,c=t.editorState,u=o.replacePositionStart,h=o.offsetParentRect;if(!s)return{top:0,left:0};try{var p=function(t,e){var r=t.state,n=r.doc,i=r.selection,o=Gm(n,e),s=t.coordsAtPos(o).left;return{top:t.coordsAtPos(i.to).bottom,left:s}}(s,u);n=p.top,i=p.left}catch(t){var f,d,y="Error occurred trying to get autocomplete position with the message: ".concat(t instanceof Error?t.message:String(t));Sx(y,s,c,l,{stack:t instanceof Error?t.stack:""}),n=null!==(f=null==a?void 0:a.bottom)&&void 0!==f?f:0,i=null!==(d=null==a?void 0:a.left)&&void 0!==d?d:0}var g=n+(0,ks.oZ)(),v=void 0!==a?Ve()(g,a.top,a.bottom):g,m=i-(null!==(e=null==h?void 0:h.left)&&void 0!==e?e:0),x=v-(null!==(r=null==h?void 0:h.top)&&void 0!==r?r:0);return{left:m-5/4*(0,ks.oZ)(),top:x+(0,ks.oZ)()}}}),Qx=((0,As.ab)(Rx,{selector:function(t,e){var r,n=e.id,i=e.fieldName;return null===(r=t.hydratedValues[i])||void 0===r?void 0:r.get(n)}}),(0,As.ab)(Rx,{selector:function(t,e){var r,n=e.id,i=e.fieldName,o=null===(r=t.hydratedValues[i])||void 0===r?void 0:r.get(n);return o&&"user"===o.type?o:void 0}})),Zx=(0,As.ab)(Rx,{selector:function(t){var e=function(t){if(!t.query)return new Set;var e=new Ax;return t.query.accept(e),e.fields}(cd(t.editorState)),r=[];return Object.entries(t.hydratedValues).forEach((function(n){var i,o=(0,c.A)(n,1)[0];null===(i=t.hydratedValues[o])||void 0===i||i.forEach((function(t){"deprecated-field"===t.type&&e.has(t.id.toLowerCase())&&r.push(t)}))})),r}}),Xx=(0,As.ab)(Rx,{selector:function(t){return t.enableRichInlineNodes}}),tb=(0,As.ab)(Rx,{selector:function(t){return t.onSyntaxHelp}}),eb=(0,Ts.g)(Rx,{onInit:function(){return function(t,e){var r=t.getState,n=t.setState,i=t.dispatch,o=e.intlRef,s=e.query,a=e.isSearching,l=e.autocompleteProvider,c=e.externalMessages,u=e.enableRichInlineNodes,h=e.onDebugUnsafeMessage,p=e.onSyntaxHelp;n({controlledQuery:s,query:s,externalMessages:c,isSearching:a,intlRef:o,autocompleteProvider:l,enableRichInlineNodes:u,idPrefix:(0,ws.v4)(),resizeObserver:void 0!==window.ResizeObserver?new window.ResizeObserver((function(){var t;n({editorViewContainerRect:null===(t=r().editorViewContainer)||void 0===t?void 0:t.getBoundingClientRect()})})):void 0,onDebugUnsafeMessage:h,onSyntaxHelp:p}),i(Cx.initialiseEditorState())}},onUpdate:function(){return function(t,e){var r=t.getState,n=t.setState,i=t.dispatch,o=e.query,s=e.isSearching,a=e.autocompleteProvider,l=e.externalMessages,c=e.enableRichInlineNodes,u=e.onDebugUnsafeMessage,h=e.onSyntaxHelp,p=r(),f=p.controlledQuery,d=p.query;f!==o&&(n({controlledQuery:o}),o!==d&&i(Cx.resetEditorState(o))),n({externalMessages:l,isSearching:s,autocompleteProvider:a,enableRichInlineNodes:c,onDebugUnsafeMessage:u,onSyntaxHelp:h})}}}),rb=r(40961),nb=(0,n.createContext)({onCreatePortal:py(),onDestroyPortal:py(),onRegisterPluginContainer:py()});function ib(t){var e=function(t,e){if("object"!==(0,gd.A)(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==(0,gd.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,gd.A)(e)?e:String(e)}function ob(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ob(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ab,lb={components:{},containers:{}},cb=function(t,e){switch(e.type){case"createPortal":var r=e.payload,n=r.key,i=r.portalComponent,o=r.container;return sb(sb({},t),{},{components:sb(sb({},t.components),{},(0,h.A)({},n,{portalComponent:i,container:o}))});case"destroyPortal":var s=t.components,a=e.payload,l=(s[a],(0,Re.A)(s,[a].map(ib)));return sb(sb({},t),{},{components:l});case"registerPluginContainer":var c=e.payload,u=c.element,p=c.containerKey;return u?sb(sb({},t),{},{containers:sb(sb({},t.containers),{},(0,h.A)({},p,u))}):t;default:return t}},ub=function(t){var e=t.children,r=(0,n.useReducer)(cb,lb),i=(0,c.A)(r,2),o=i[0],s=i[1],a=(0,n.useMemo)((function(){return{onCreatePortal:function(t,e,r){return s({type:"createPortal",payload:{key:t,portalComponent:e,container:r}})},onDestroyPortal:function(t){return s({type:"destroyPortal",payload:t})},onRegisterPluginContainer:function(t,e){return s({type:"registerPluginContainer",payload:{containerKey:t,element:e}})}}}),[s]);return n.createElement(nb.Provider,{value:a},e,Object.entries(o.components).map((function(t){var e=(0,c.A)(t,2),r=e[0],n=e[1],i=n.container instanceof Element?n.container:o.containers[n.container];return void 0!==i?(0,rb.createPortal)(n.portalComponent,i,r):null})))},hb=r(7350),pb=r.n(hb),fb=function(){var t=Ux(),e=(0,c.A)(t,1)[0],r=Vx(),i=(0,c.A)(r,1)[0].errors,o=zx(),s=(0,c.A)(o,1)[0],a=(0,n.useState)(!1),l=(0,c.A)(a,2),u=l[0],h=l[1],p=null===e&&i.length>0;return(0,n.useEffect)((function(){h(null!==e)}),[e]),(0,n.useEffect)((function(){s||h(!1)}),[s]),u||p},db=ty.A.div(ab||(ab=(0,Xd.A)(["\n  display: flex;\n"]))),yb=(0,n.forwardRef)((function(t,e){return n.createElement(db,(0,Md.A)({ref:e},t))})),gb=r(77493),vb={buttonLabel:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.button-label",defaultMessage:"Editor",description:"Label that tells the user the expand toggle is controlling the JQL editor."},expandTooltip:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.expand-tooltip",defaultMessage:"Expand editor",description:"Tooltip to show for the expand icon which increases the height of the editor"},collapseTooltip:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.collapse-tooltip",defaultMessage:"Collapse editor",description:"Tooltip to show for the collapse icon which shrinks the height of the editor"}},mb=function(){var t,e=(0,l.T7)(),r=e.expanded,i=e.toggleExpanded,o=Px(),a=(0,c.A)(o,2)[1].createAndFireAnalyticsEvent,u=Dx(sy),h=(0,c.A)(u,1)[0],p=Lx(),f=(0,c.A)(p,1)[0];t=r?f.formatMessage(vb.collapseTooltip):f.formatMessage(vb.expandTooltip);var d=(0,n.useCallback)((function(){a({action:Cs.CLICKED,actionSubject:Rs.BUTTON,actionSubjectId:Ps.EDITOR_EXPAND,eventType:s.B.UI,attributes:{expanded:!r}}),i()}),[r,a,i]);return n.createElement(Cg,{position:"bottom",content:n.createElement(ry,null,t),tag:yb},n.createElement(gb.Q,{expanded:r,editorId:h,label:f.formatMessage(vb.buttonLabel),onClick:d}))},xb=r(52246),bb={searchLabel:{id:"jql-editor.ui.jql-editor-controls-content.search.label",defaultMessage:"Search",description:"Label to show for the search icon which the user can press to perform a search."}},Ob=function(){var t=Lx(),e=(0,c.A)(t,1)[0],r=Px(),i=(0,c.A)(r,2)[1].onSearch,o=e.formatMessage(bb.searchLabel),s=jx(),a=(0,c.A)(s,1)[0];return n.createElement(Cg,{position:"bottom",content:n.createElement(ry,null,o),tag:yb},n.createElement(xb.E,{label:o,onSearch:i,isSearching:a}))},Sb=r(19099),Ab={syntaxHelpDescription:{id:"jql-editor.ui.jql-editor-footer-content.jql-editor-help.syntax-help.description",defaultMessage:"Open JQL syntax help in a new tab.",description:"Description read when the syntax help link is focused."},syntaxHelpTooltip:{id:"jql-editor.ui.jql-editor-footer-content.jql-editor-help.syntax-help.tooltip",defaultMessage:"Syntax help",description:"Tooltip to show when the syntax help link is focused."}},Eb=function(){var t=Lx(),e=(0,c.A)(t,1)[0],r=e.formatMessage(Ab.syntaxHelpTooltip),i=Dx("syntax-help-description"),o=(0,c.A)(i,1)[0],a=tb(),l=(0,c.A)(a,2),u=l[0],h=l[1].createAndFireAnalyticsEvent,p=(0,n.useCallback)((function(t){h({action:Cs.CLICKED,actionSubject:Rs.BUTTON,actionSubjectId:Ps.EDITOR_HELP,eventType:s.B.UI}),u&&u(t)&&t.preventDefault()}),[h,u]);return n.createElement(Cg,{position:"bottom",content:n.createElement(ry,null,r),tag:yb},n.createElement(Sb.M,{describedby:o,label:r,onClick:p}),n.createElement(ny,{id:o},e.formatMessage(Ab.syntaxHelpDescription)))},Tb=function(){var t=(0,l.T7)().isSearch;return n.createElement(n.Fragment,null,n.createElement(mb,null),n.createElement(Eb,null),t&&n.createElement(Ob,null))},Nb=function(){var t=Vx();return(0,c.A)(t,1)[0].infos.length>0},_b=function(){var t=Zx(),e=(0,c.A)(t,1)[0],r=Vx(),n=(0,c.A)(r,1)[0].warnings;return e.length>0||n.length>0},wb=r(63242),kb=r(36261);function Cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cb(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Pb,Ib,jb,Lb,Mb,Db=function(t,e){return{fontSize:"".concat(t/14,"em"),fontStyle:"inherit",lineHeight:e/t}},qb={size:12,lineHeight:16},Fb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rb(Rb({},Db(qb.size,qb.lineHeight)),{},{color:"var(--ds-text-subtlest, ".concat((0,Fd.EU)(t),")"),fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:"".concat(2*(0,ks.oZ)(),"px")})},Bb=(0,n.createContext)(void 0),Ub=(0,ks.mw)(),zb=(0,Dd.AH)(Fb({theme:{mode:"light"}})),Vb=(0,Dd.AH)(Fb({theme:{mode:"dark"}})),Jb=(0,Dd.AH)({display:"flex",marginTop:"var(--ds-space-050, 4px)",justifyContent:"baseline",fontFamily:"".concat(Ub),fontWeight:"normal"}),Hb={default:(0,Dd.AH)({color:"var(--ds-text-subtlest, ".concat(Fd.lu,")")}),error:(0,Dd.AH)({color:"var(--ds-text-danger, #AE2A19)"}),valid:(0,Dd.AH)({color:"var(--ds-text-success, #216E4E)"})},Wb=(0,Dd.AH)({display:"flex"}),Gb=function(t){var e=t.children;return(0,Dd.Y)("span",{css:Wb},e)},Yb={error:(0,Dd.Y)(kb.A,{size:"small",label:"error"}),valid:(0,Dd.Y)(wb.A,{size:"small",label:"success"})},Kb=function(t){var e=t.children,r=t.appearance,n=void 0===r?"default":r,i=t.fieldId,o=t.testId,s=(0,Bd.m)().mode,a=Yb[n],l="string"==typeof e?e:(0,Dd.Y)("span",null,e);return(0,Dd.Y)("div",{css:["light"===s?zb:Vb,Jb,Hb[n]],"data-testid":o,id:i,"aria-live":"polite"},a&&(0,Dd.Y)(Gb,null,a),l)},$b=function(t){var e=t.children,r=t.testId;return(0,Dd.Y)(Bb.Consumer,null,(function(t){return(0,Dd.Y)(Kb,{fieldId:t?"".concat(t,"-helper"):void 0,testId:r},e)}))},Qb=function(t){var e=t.children,r=t.testId;return(0,Dd.Y)(Bb.Consumer,null,(function(t){return(0,Dd.Y)(Kb,{appearance:"error",fieldId:t?"".concat(t,"-error"):void 0,testId:r},e)}))},Zb={searchCommand:{id:"jql-editor.ui.jql-editor-help.search-command",defaultMessage:"<b>Enter</b> to search",description:"Message to inform users to press the 'Enter' key on the keyboard to search a query."},newLineCommand:{id:"jql-editor.ui.jql-editor-help.new-line-command",defaultMessage:"<b>Shift+Enter</b> to add a new line",description:"In search mode, message to inform users to press the 'Shift' and 'Enter' keys on the keyboard to add a new line into the query."},fieldNewLineCommand:{id:"jql-editor.ui.jql-editor-help.field-new-line-command",defaultMessage:"<b>Enter</b> to add a new line",description:"In field mode, message to inform users to press the 'Enter' key on the keyboard to add a new line into the query."}},Xb=ty.A.div(Pb||(Pb=(0,Xd.A)(["\n  display: flex;\n  margin-left: auto;\n  margin-right: 0;\n  flex-shrink: 0;\n  padding: 0 ",";\n\n  > * + * {\n    margin-left: ",";\n  }\n\n  ","\n"])),"var(--ds-space-100, 8px)","var(--ds-space-200, 16px)",(function(t){return t.isVisible?(0,Dd.AH)(Ib||(Ib=(0,Xd.A)(["\n          visibility: visible;\n          opacity: 1;\n          transition: opacity 250ms cubic-bezier(0.15, 1, 0.3, 1);\n        "]))):(0,Dd.AH)(jb||(jb=(0,Xd.A)(["\n          ",";\n          opacity: 0;\n        "])),ey)})),tO=function(){var t=Lx(),e=(0,c.A)(t,1)[0].formatMessage,r=qx(),i=(0,c.A)(r,1)[0],o=(0,l.T7)().isSearch,s=Dx(ay),a=(0,c.A)(s,1)[0],u=n.createElement("span",null,e(Zb.searchCommand,{b:function(t){return n.createElement("b",null,t)}})),h=n.createElement("span",null,e(o?Zb.newLineCommand:Zb.fieldNewLineCommand,{b:function(t){return n.createElement("b",null,t)}}));return n.createElement(Xb,{id:a,isVisible:i},o&&n.createElement($b,null,u),n.createElement($b,null,h))},eO=ty.A.div(Lb||(Lb=(0,Xd.A)(["\n  padding-left: ",";\n"])),(function(t){return t.isSearch?"var(--ds-space-100, 8px)":"var(--ds-space-0, 0px)"})),rO=ty.A.ul(Mb||(Mb=(0,Xd.A)(["\n  margin: 0;\n  padding-left: ",";\n"])),"var(--ds-space-300, 24px)"),nO=function(t){var e=t.children,r=(0,l.T7)().isSearch;return n.createElement(eO,{isSearch:r},e)},iO=function(t){var e=t.messages;return 0===e.length?null:1===e.length?n.createElement("span",null,e[0].message):n.createElement(rO,null,e.slice(0,10).map((function(t,e){return n.createElement("li",{key:e},t.message)})))},oO={jqlErrorPosition:{id:"jql-editor.ui.jql-validation-message.jql-error-position",defaultMessage:"(line {lineNumber}, character {charPosition})",description:"Show the line and character position that an error occurs in the JQL string, e.g. (line 1, character 23)"}},sO=function(){var t,e,r,i,o,s,a,l,u,h=Dx(sy),p=(0,c.A)(h,1)[0],f=(t=Lx(),e=(0,c.A)(t,1)[0].formatMessage,r=Ux(),i=(0,c.A)(r,1)[0],o=Vx(),s=(0,c.A)(o,1)[0].errors,a=Px(),l=(0,c.A)(a,2)[1].externalErrorMessageViewed,u=fb(),(0,n.useEffect)((function(){l()}),[l,s]),u?i instanceof qs?"".concat(i.message," ").concat(e(oO.jqlErrorPosition,{lineNumber:i.line,charPosition:i.charPositionInLine+1})):s.length>0?n.createElement(iO,{messages:s}):null!==i?e(td.unknownError):null:null);return null!=f?n.createElement(nO,null,n.createElement(Qb,{testId:"jql-editor-validation"},n.createElement("span",{role:"alert","aria-describedby":p},f))):null},aO=r(71399),lO={deprecatedParentReplacementMessage:{id:"jql-editor.ui.jql-warning-message.deprecated-epic-link-or-parent-link-field",defaultMessage:"{deprecatedField} will soon be replaced with {parentReplacement}. <link>Update to {parentReplacement}</link> to prepare for these changes.",description:"Warning message for Epic Link and Parent Link deprecation, with link to docs"},deprecatedBothParentReplacementMessage:{id:"jql-editor.ui.jql-warning-message.deprecated-both-epic-link-parent-link-field",defaultMessage:"{receivedFirst} and {receivedSecond} will soon be replaced with {parentReplacement}. <link>Update to {parentReplacement}</link> to prepare for these changes.",description:"Warning message for both Epic Link and Parent Link deprecation, with link to docs"},defaultWarning:{id:"jql-editor.ui.jql-warning-message.default",defaultMessage:"{deprecatedField} has been deprecated and may stop working in the future.",description:"Default warning message to show on NIN"}},cO="https://support.atlassian.com/jira-software-cloud/docs/upcoming-changes-epic-link-replaced-with-parent/",uO=function(){var t,e,r,i,o,s,a,l,h,p,f,d=(e=Zx(),r=(0,c.A)(e,1)[0],i=Vx(),o=(0,c.A)(i,1)[0].warnings,s=_b(),a=Lx(),l=(0,c.A)(a,1)[0].formatMessage,h=function(t){var e=t.filter((function(t){return"com.pyxis.greenhopper.jira:gh-epic-link-searcher"===t.deprecatedSearcherKey}));return e.length>0?e[0].id:null}(r),p=function(t){var e=t.filter((function(t){return"com.atlassian.jpo:jpo-custom-field-parent-searcher"===t.deprecatedSearcherKey}));return e.length>0?e[0].id:null}(r),f=(0,n.useCallback)((function(t){var e=[{type:"warning",message:t}].concat((0,u.A)(o));return n.createElement(iO,{messages:e})}),[o]),s?!r.length&&o.length?n.createElement(iO,{messages:o}):null==h&&null==p?f(l(lO.defaultWarning,{deprecatedField:null===(t=r[0])||void 0===t?void 0:t.id})):h&&p?f(l(lO.deprecatedBothParentReplacementMessage,{link:function(t){return n.createElement("a",{href:cO,target:"_blank",rel:"noopener noreferrer",onClick:function(t){return t.stopPropagation()}},t)},receivedFirst:h,receivedSecond:p,parentReplacement:"Parent"})):h||p?f(l(lO.deprecatedParentReplacementMessage,{link:function(t){return n.createElement("a",{href:cO,target:"_blank",rel:"noopener noreferrer",onClick:function(t){return t.stopPropagation()}},t)},deprecatedField:h||p,parentReplacement:"Parent"})):void 0:null);return null!=d?n.createElement(nO,null,n.createElement($b,{testId:"jql-editor-warning-message"},n.createElement(aO.A,{label:"",primaryColor:"var(--ds-icon-warning, ".concat(Fd.mg,")"),size:"small"}),d)):null},hO=r(4391),pO=function(){var t,e,r=(t=Vx(),e=(0,c.A)(t,1)[0].infos,Nb()?n.createElement(iO,{messages:e}):null);return null!=r?n.createElement(nO,null,n.createElement($b,{testId:"jql-editor-info-message"},n.createElement(hO.A,{label:"",primaryColor:"var(--ds-icon-information, ".concat(Fd.S_,")"),size:"small"}),r)):null},fO=function(){var t=fb(),e=_b(),r=Nb();return t?n.createElement(sO,null):e?n.createElement(uO,null):r?n.createElement(pO,null):n.createElement(tO,null)},dO=r(78124),yO={inputLabel:{id:"jql-editor.ui.input-label",defaultMessage:"JQL query",description:"Label for the input where users can type a JQL query. This text is not visible and is only read by screen readers."}};function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gO(Object(r),!0).forEach((function(e){(0,h.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const mO=function(t){var e=t.inputRef,r=Ix(),i=(0,c.A)(r,2),o=i[0],s=i[1],a=s.initialiseEditorView,u=s.updateEditorView,h=(0,n.useRef)(null),p=Dx(iy),f=(0,c.A)(p,1)[0],d=Dx(oy),y=(0,c.A)(d,1)[0],g=Dx(sy),v=(0,c.A)(g,1)[0],m=Dx(ay),x=(0,c.A)(m,1)[0],b=Lx(),O=(0,c.A)(b,1)[0],S=(0,n.useContext)(nb),A=Px(),E=(0,c.A)(A,2)[1],T=E.setEditorViewContainer,N=E.setEditorViewContainerScroll,_=qx(),w=(0,c.A)(_,2),k=w[0],C=w[1],R=C.onEditorViewBlur,P=C.onEditorViewFocus,I=Fx(),j=(0,c.A)(I,1)[0],L=Bx(),M=(0,c.A)(L,1)[0].selectedOptionId,D=Kx(),q=(0,c.A)(D,1)[0],F=fb(),B=(0,l.T7)().expanded,U=(0,n.useRef)(B),z=(0,n.useCallback)((function(){!B&&h.current&&(h.current.style.height="")}),[B,h]),V=(0,n.useCallback)((function(t){return S.onRegisterPluginContainer("main",t)}),[S]),J=(0,n.useCallback)((function(t){t&&T(t)}),[T]),H=(0,n.useMemo)((function(){return pb()((function(t){N(t)}),1e3/60)}),[N]),W=(0,n.useCallback)((function(t){var e=t.currentTarget.scrollTop;H(e)}),[H]),G=(0,n.useCallback)((function(){return vO(vO({id:v,"data-testid":"jql-editor-input","data-gramm":"false",role:"combobox","aria-expanded":"".concat(q),"aria-autocomplete":"list","aria-label":O.formatMessage(yO.inputLabel),"aria-controls":y,"aria-owns":y,"aria-describedby":x},M&&{"aria-activedescendant":M}),F&&{"aria-invalid":"true"})}),[v,q,O,y,x,M,F]);(0,n.useEffect)((function(){u(G())}),[G,u]);var Y=(0,n.useCallback)((function(t){t&&!o&&(a(t,G(),S),h.current=t)}),[o,a,G,S]);return(0,n.useEffect)((function(){h.current&&B!==U.current&&(B?(h.current.style.height=h.current.clientHeight+"px",requestAnimationFrame((function(){h.current&&(h.current.style.height="",h.current.setAttribute("data-expanded","true"))}))):o&&requestAnimationFrame((function(){h.current&&o&&(h.current.style.height=o.dom.clientHeight+"px",h.current.removeAttribute("data-expanded"))}))),U.current=B}),[B,U,h,o]),(0,n.useImperativeHandle)(e,(function(){return{focus:function(){o&&o.focus()}}})),(0,n.useEffect)((function(){return function(){o&&o.destroy()}}),[o]),n.createElement(dO.A,{EditorControlsContent:n.createElement(Tb,null),EditorFooterContent:n.createElement(fO,null),editorViewHasFocus:k,lineNumbersVisible:j,editorViewIsInvalid:F,mainId:f,onEditorMainRef:V,onEditorViewContainerRef:J,onEditorViewContainerScroll:W,onEditorViewRef:Y,onEditorViewBlur:R,onEditorViewFocus:P,onEditorViewTransitionEnd:z})};const xO=(0,i.Ay)((function(t){var e=t.analyticsSource,r=t.query,i=t.messages,c=void 0===i?[]:i,u=t.inputRef,h=t.isSearching,p=t.onEditorMounted,f=t.onDebugUnsafeMessage,d=t.onHydrate,y=t.onUpdate,g=t.onSearch,v=t.autocompleteProvider,m=t.intl,x=t.enableRichInlineNodes,b=void 0!==x&&x,O=t.isCompact,S=t.onSyntaxHelp,A=(0,l.eV)({isSearch:!!g,isCompact:O}),E=function(t){return(0,o.j)(t,a.UU,a.rE,s.r)}(e),T=E.createAndFireAnalyticsEvent,N=(0,n.useRef)(m);return(0,n.useEffect)((function(){N.current=m}),[m]),n.createElement(eb,{query:r,externalMessages:c,isSearching:h,intlRef:N,onEditorMounted:p,onDebugUnsafeMessage:f,onHydrate:d,onUpdate:y,onSearch:g,createAndFireAnalyticsEvent:T,autocompleteProvider:v,enableRichInlineNodes:b,onSyntaxHelp:S},n.createElement(l.c3.Provider,{value:A},n.createElement(ub,null,n.createElement(mO,{inputRef:u}))))}))},21267:(t,e,r)=>{"use strict";e.A=void 0;var n,i=(n=r(96540))&&n.__esModule?n:{default:n},o=r(41559);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 19a7 7 0 110-14 7 7 0 010 14zm0-1.5a5.5 5.5 0 100-11 5.5 5.5 0 000 11zm0-6a1 1 0 011 1v2a1 1 0 01-2 0v-2a1 1 0 011-1zm0-3a1 1 0 110 2 1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},t));s.displayName="EditorPanelIcon";var a=s;e.A=a},63242:(t,e,r)=>{"use strict";e.A=void 0;var n,i=(n=r(96540))&&n.__esModule?n:{default:n},o=r(41559);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 10-1.338 1.487l2.5 2.25a1 1 0 001.555-.279l2.75-5.25a1 1 0 00-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},t));s.displayName="EditorSuccessIcon";var a=s;e.A=a},36261:(t,e,r)=>{"use strict";e.A=void 0;var n,i=(n=r(96540))&&n.__esModule?n:{default:n},o=r(41559);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},t));s.displayName="ErrorIcon";var a=s;e.A=a},4391:(t,e,r)=>{"use strict";e.A=void 0;var n,i=(n=r(96540))&&n.__esModule?n:{default:n},o=r(41559);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12z" fill="currentColor"/><rect fill="inherit" x="11" y="10" width="2" height="7" rx="1"/><circle fill="inherit" cx="12" cy="8" r="1"/></g></svg>'},t));s.displayName="InfoIcon";var a=s;e.A=a},71399:(t,e,r)=>{"use strict";e.A=void 0;var n,i=(n=r(96540))&&n.__esModule?n:{default:n},o=r(41559);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 01-1-1V9a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},t));s.displayName="WarningIcon";var a=s;e.A=a},29741:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(86101),e),i(r(18199),e),i(r(88153),e),i(r(56920),e),i(r(46928),e),i(r(22747),e),i(r(96159),e),i(r(59091),e),i(r(87615),e),i(r(8943),e),i(r(79183),e),i(r(55468),e),i(r(69910),e),i(r(53680),e),i(r(55092),e),i(r(35758),e),i(r(36210),e),i(r(59652),e),i(r(45051),e),i(r(32033),e)},86101:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayType=void 0;const n=r(32033),i=r(18199);class o extends i.BaseSymbol{constructor(t,e,r,n=0){super(t),this.referenceKind=e,this.elementType=r,this.size=n}get baseTypes(){return[]}get kind(){return n.TypeKind.Array}get reference(){return this.referenceKind}}e.ArrayType=o},18199:function(t,e,r){"use strict";var n,i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSymbol=void 0;const a=r(32033);e.BaseSymbol=class{constructor(t=""){this.modifiers=new Set,this.visibility=a.MemberVisibility.Unknown,n.set(this,void 0),this.name=t}get parent(){return o(this,n,"f")}get firstSibling(){var t;if(o(this,n,"f"))return null===(t=o(this,n,"f"))||void 0===t?void 0:t.firstChild}get previousSibling(){if(o(this,n,"f"))return o(this,n,"f")?o(this,n,"f").previousSiblingOf(this):this}get nextSibling(){var t;return null===(t=o(this,n,"f"))||void 0===t?void 0:t.nextSiblingOf(this)}get lastSibling(){var t;return null===(t=o(this,n,"f"))||void 0===t?void 0:t.lastChild}get next(){var t;return null===(t=o(this,n,"f"))||void 0===t?void 0:t.nextOf(this)}get root(){let t=o(this,n,"f");for(;t;){if(!t.parent||this.isSymbolTable(t.parent))return t;t=t.parent}return t}get symbolTable(){if(this.isSymbolTable(this))return this;let t=o(this,n,"f");for(;t;){if(this.isSymbolTable(t))return t;t=t.parent}}get symbolPath(){const t=[];let e=this;for(;e&&(t.push(e),e.parent);)e=e.parent;return t}setParent(t){s(this,n,t,"f")}removeFromParent(){var t;null===(t=o(this,n,"f"))||void 0===t||t.removeSymbol(this),s(this,n,void 0,"f")}resolve(t,e=!1){var r;return i(this,void 0,void 0,(function*(){return null===(r=o(this,n,"f"))||void 0===r?void 0:r.resolve(t,e)}))}resolveSync(t,e=!1){var r;return null===(r=o(this,n,"f"))||void 0===r?void 0:r.resolveSync(t,e)}getParentOfType(t){let e=o(this,n,"f");for(;e;){if(e instanceof t)return e;e=e.parent}}qualifiedName(t=".",e=!1,r=!1){if(!r&&0===this.name.length)return"";let i=0===this.name.length?"<anonymous>":this.name,s=o(this,n,"f");for(;s&&((r||s.name.length>0)&&(i=(0===s.name.length?"<anonymous>":s.name)+t+i),e&&s.parent);)s=s.parent;return i}isSymbolTable(t){return void 0!==t.info}},n=new WeakMap},88153:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockSymbol=void 0;const n=r(69910);class i extends n.ScopedSymbol{}e.BlockSymbol=i},56920:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassSymbol=void 0;const n=r(32033),i=r(46928),o=r(87615),s=r(69910);class a extends s.ScopedSymbol{constructor(t,e,r){super(t),this.isStruct=!1,this.reference=n.ReferenceKind.Irrelevant,this.extends=e,this.implements=r}get baseTypes(){return this.extends}get kind(){return n.TypeKind.Class}getMethods(t=!1){return this.getSymbolsOfType(o.MethodSymbol)}getFields(t=!1){return this.getSymbolsOfType(i.FieldSymbol)}}e.ClassSymbol=a},36210:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeCompletionCore=e.CandidatesCollection=void 0;const n=r(12221),i=r(93027),o=r(83357);class s{constructor(){this.tokens=new Map,this.rules=new Map}}e.CandidatesCollection=s;class a{constructor(){this.path=[],this.following=[]}}class l{constructor(t){this.showResult=!1,this.showDebugOutput=!1,this.debugOutputWithTransitions=!1,this.showRuleStack=!1,this.translateRulesTopDown=!1,this.tokenStartIndex=0,this.statesProcessed=0,this.shortcutMap=new Map,this.candidates=new s,this.parser=t,this.atn=t.atn,this.vocabulary=t.vocabulary,this.ruleNames=t.ruleNames,this.ignoredTokens=new Set,this.preferredRules=new Set}collectCandidates(t,e){this.shortcutMap.clear(),this.candidates.rules.clear(),this.candidates.tokens.clear(),this.statesProcessed=0,this.precedenceStack=[],this.tokenStartIndex=e?e.start.tokenIndex:0;const r=this.parser.inputStream;this.tokens=[];let i=this.tokenStartIndex;for(;;){const e=r.get(i++);if(e.channel===n.Token.DEFAULT_CHANNEL&&(this.tokens.push(e),e.tokenIndex>=t||e.type===n.Token.EOF))break;if(e.type===n.Token.EOF)break}const o=e?e.ruleIndex:0;if(this.processRule(this.atn.ruleToStartState[o],0,[],0,0),this.showResult){console.log(`States processed: ${this.statesProcessed}`),console.log("\n\nCollected rules:\n");for(const t of this.candidates.rules){let e="";for(const r of t[1].ruleList)e+=this.ruleNames[r]+" ";console.log(this.ruleNames[t[0]]+", path: ",e)}const t=new Set;for(const e of this.candidates.tokens){let r=this.vocabulary.getDisplayName(e[0]);for(const t of e[1])r+=" "+this.vocabulary.getDisplayName(t);t.add(r)}console.log("\n\nCollected tokens:\n");for(const e of t)console.log(e);console.log("\n\n")}return this.candidates}checkPredicate(t){return t.predicate.eval(this.parser,n.ParserRuleContext.emptyContext())}translateStackToRuleIndex(t){if(0===this.preferredRules.size)return!1;if(this.translateRulesTopDown){for(let e=t.length-1;e>=0;e--)if(this.translateToRuleIndex(e,t))return!0}else for(let e=0;e<t.length;e++)if(this.translateToRuleIndex(e,t))return!0;return!1}translateToRuleIndex(t,e){const{ruleIndex:r,startTokenIndex:n}=e[t];if(this.preferredRules.has(r)){const i=e.slice(0,t).map((({ruleIndex:t})=>t));let o=!0;for(const t of this.candidates.rules)if(t[0]===r&&t[1].ruleList.length===i.length&&i.every(((e,r)=>e===t[1].ruleList[r]))){o=!1;break}return o&&(this.candidates.rules.set(r,{startTokenIndex:n,ruleList:i}),this.showDebugOutput&&console.log("=====> collected: ",this.ruleNames[r])),!0}return!1}getFollowingTokens(t){const e=[],r=[t.target];for(;r.length>0;){const t=r.pop();t&&t.getTransitions().forEach((t=>{if(5===t.serializationType)if(t.isEpsilon)r.push(t.target);else{const n=t.label.toArray();1!==n.length||this.ignoredTokens.has(n[0])||(e.push(n[0]),r.push(t.target))}}))}return e}determineFollowSets(t,e){const r=[],n=this.collectFollowSets(t,e,r,[],[]),i=new o.IntervalSet;for(const t of r)i.addAll(t.intervals);return{sets:r,isExhaustive:n,combined:i}}collectFollowSets(t,e,r,s,l){if(s.find((e=>e===t)))return!0;if(s.push(t),t===e||t.stateType===i.ATNStateType.RULE_STOP)return s.pop(),!1;let c=!0;for(const i of t.getTransitions())if(3===i.serializationType){const t=i;if(-1!==l.indexOf(t.target.ruleIndex))continue;l.push(t.target.ruleIndex);const n=this.collectFollowSets(i.target,e,r,s,l);if(l.pop(),!n){const n=this.collectFollowSets(t.followState,e,r,s,l);c&&(c=n)}}else if(4===i.serializationType){if(this.checkPredicate(i)){const t=this.collectFollowSets(i.target,e,r,s,l);c&&(c=t)}}else if(i.isEpsilon){const t=this.collectFollowSets(i.target,e,r,s,l);c&&(c=t)}else if(9===i.serializationType){const t=new a;t.intervals=o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType),t.path=l.slice(),r.push(t)}else{let t=i.label;if(t&&t.size>0){8===i.serializationType&&(t=t.complement(o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)));const e=new a;e.intervals=t,e.path=l.slice(),e.following=this.getFollowingTokens(i),r.push(e)}}return s.pop(),c}processRule(t,e,r,s,a){let c=this.shortcutMap.get(t.ruleIndex);if(c){if(c.has(e))return this.showDebugOutput&&console.log("=====> shortcut"),c.get(e)}else c=new Map,this.shortcutMap.set(t.ruleIndex,c);const u=new Set;let h=l.followSetsByATN.get(this.parser.constructor.name);h||(h=new Map,l.followSetsByATN.set(this.parser.constructor.name,h));let p=h.get(t.stateNumber);if(!p){const e=this.atn.ruleToStopState[t.ruleIndex];p=this.determineFollowSets(t,e),h.set(t.stateNumber,p)}const f=this.tokens[e].tokenIndex;if(r.push({startTokenIndex:f,ruleIndex:t.ruleIndex}),e>=this.tokens.length-1){if(this.preferredRules.has(t.ruleIndex))this.translateStackToRuleIndex(r);else for(const t of p.sets){const e=r.slice(),n=t.path.map((t=>({startTokenIndex:f,ruleIndex:t})));if(e.push(...n),!this.translateStackToRuleIndex(e))for(const e of t.intervals.toArray())this.ignoredTokens.has(e)||(this.showDebugOutput&&console.log("=====> collected: ",this.vocabulary.getDisplayName(e)),this.candidates.tokens.has(e)?this.candidates.tokens.get(e)!==t.following&&this.candidates.tokens.set(e,[]):this.candidates.tokens.set(e,t.following))}return p.isExhaustive||u.add(e),r.pop(),u}{const t=this.tokens[e].type;if(p.isExhaustive&&!p.combined.contains(t))return r.pop(),u}t.isPrecedenceRule&&this.precedenceStack.push(s);const d=[];let y;for(d.push({state:t,tokenListIndex:e});d.length>0;){y=d.pop(),++this.statesProcessed;const t=this.tokens[y.tokenListIndex].type,e=y.tokenListIndex>=this.tokens.length-1;if(this.showDebugOutput&&(this.printDescription(a,y.state,this.generateBaseDescription(y.state),y.tokenListIndex),this.showRuleStack&&this.printRuleState(r)),y.state.stateType===i.ATNStateType.RULE_STOP){u.add(y.tokenListIndex);continue}const s=y.state.getTransitions();for(const i of s)switch(i.serializationType){case 3:{const t=i,e=this.processRule(i.target,y.tokenListIndex,r,t.precedence,a+1);for(const t of e)d.push({state:i.followState,tokenListIndex:t});break}case 4:this.checkPredicate(i)&&d.push({state:i.target,tokenListIndex:y.tokenListIndex});break;case 10:i.precedence>=this.precedenceStack[this.precedenceStack.length-1]&&d.push({state:i.target,tokenListIndex:y.tokenListIndex});break;case 9:if(e){if(!this.translateStackToRuleIndex(r))for(const t of o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType).toArray())this.ignoredTokens.has(t)||this.candidates.tokens.set(t,[])}else d.push({state:i.target,tokenListIndex:y.tokenListIndex+1});break;default:{if(i.isEpsilon){d.push({state:i.target,tokenListIndex:y.tokenListIndex});continue}let s=i.label;if(s&&s.size>0)if(8===i.serializationType&&(s=s.complement(o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),e){if(!this.translateStackToRuleIndex(r)){const t=s.toArray(),e=1===t.length;for(const r of t)this.ignoredTokens.has(r)||(this.showDebugOutput&&console.log("=====> collected: ",this.vocabulary.getDisplayName(r)),e?this.candidates.tokens.set(r,this.getFollowingTokens(i)):this.candidates.tokens.set(r,[]))}}else s.contains(t)&&(this.showDebugOutput&&console.log("=====> consumed: ",this.vocabulary.getDisplayName(t)),d.push({state:i.target,tokenListIndex:y.tokenListIndex+1}))}}}return r.pop(),t.isPrecedenceRule&&this.precedenceStack.pop(),c.set(e,u),u}generateBaseDescription(t){return`[${t.stateNumber===i.ATNState.INVALID_STATE_NUMBER?"Invalid":t.stateNumber} ${l.atnStateTypeMap[t.stateType]}] in ${this.ruleNames[t.ruleIndex]}`}printDescription(t,e,r,n){const i="  ".repeat(t);let o=i,s="";if(this.debugOutputWithTransitions)for(const t of e.getTransitions()){let e="";const r=t.label?t.label.toArray():[];if(r.length>2)e=this.vocabulary.getDisplayName(r[0])+" .. "+this.vocabulary.getDisplayName(r[r.length-1]);else for(const t of r)e.length>0&&(e+=", "),e+=this.vocabulary.getDisplayName(t);0===e.length&&(e="ε"),s+=`\n${i}\t(${e}) [${t.target.stateNumber} ${l.atnStateTypeMap[t.target.stateType]}] in ${this.ruleNames[t.target.ruleIndex]}`}n>=this.tokens.length-1?o+=`<<${this.tokenStartIndex+n}>> `:o+=`<${this.tokenStartIndex+n}> `,console.log(o+"Current state: "+r+s)}printRuleState(t){if(0!==t.length)for(const e of t)console.log(this.ruleNames[e.ruleIndex]);else console.log("<empty stack>")}}l.followSetsByATN=new Map,l.atnStateTypeMap=["invalid","basic","rule start","block start","plus block start","star block start","token start","rule stop","block end","star loop back","star loop entry","plus loop back","loop end"],e.CodeCompletionCore=l},45051:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DuplicateSymbolError=void 0;class r extends Error{}e.DuplicateSymbolError=r},46928:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldSymbol=void 0;const n=r(35758);class i extends n.VariableSymbol{}e.FieldSymbol=i},22747:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FundamentalType=void 0;const n=r(32033);class i{constructor(t,e=n.TypeKind.Unknown,r=n.ReferenceKind.Irrelevant){this.name=t,this.typeKind=e,this.referenceKind=r}get baseTypes(){return[]}get kind(){return this.typeKind}get reference(){return this.referenceKind}}i.integerType=new i("int",n.TypeKind.Integer,n.ReferenceKind.Instance),i.floatType=new i("float",n.TypeKind.Float,n.ReferenceKind.Instance),i.stringType=new i("string",n.TypeKind.String,n.ReferenceKind.Instance),i.boolType=new i("bool",n.TypeKind.Boolean,n.ReferenceKind.Instance),e.FundamentalType=i},96159:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InterfaceSymbol=void 0;const n=r(32033),i=r(46928),o=r(87615),s=r(69910);class a extends s.ScopedSymbol{constructor(t,e){super(t),this.reference=n.ReferenceKind.Irrelevant,this.extends=e}get baseTypes(){return this.extends}get kind(){return n.TypeKind.Interface}getMethods(t=!1){return this.getSymbolsOfType(o.MethodSymbol)}getFields(t=!1){return this.getSymbolsOfType(i.FieldSymbol)}}e.InterfaceSymbol=a},59091:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiteralSymbol=void 0;const n=r(55092);class i extends n.TypedSymbol{constructor(t,e,r){super(t,r),this.value=e}}e.LiteralSymbol=i},87615:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MethodSymbol=e.MethodFlags=void 0;const n=r(55468);var i;!function(t){t[t.None=0]="None",t[t.Virtual=1]="Virtual",t[t.Const=2]="Const",t[t.Overwritten=4]="Overwritten",t[t.SetterOrGetter=8]="SetterOrGetter",t[t.Explicit=16]="Explicit"}(i=e.MethodFlags||(e.MethodFlags={}));class o extends n.RoutineSymbol{constructor(){super(...arguments),this.methodFlags=i.None}}e.MethodSymbol=o},8943:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamespaceSymbol=void 0;const n=r(69910);class i extends n.ScopedSymbol{constructor(t,e=!1,r=[]){super(t),this.inline=e,this.attributes=r}}e.NamespaceSymbol=i},79183:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterSymbol=void 0;const n=r(35758);class i extends n.VariableSymbol{}e.ParameterSymbol=i},55468:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoutineSymbol=void 0;const n=r(79183),i=r(69910),o=r(35758);class s extends i.ScopedSymbol{constructor(t,e){super(t),this.returnType=e}getVariables(t=!0){return this.getSymbolsOfType(o.VariableSymbol)}getParameters(t=!0){return this.getSymbolsOfType(n.ParameterSymbol)}}e.RoutineSymbol=s},69910:function(t,e,r){"use strict";var n,i,o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},a=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedSymbol=void 0;const l=r(18199),c=r(45051);class u extends l.BaseSymbol{constructor(t=""){super(t),n.set(this,[]),i.set(this,new Map)}get directScopes(){return this.getSymbolsOfType(u)}get children(){return s(this,n,"f")}get firstChild(){if(s(this,n,"f").length>0)return s(this,n,"f")[0]}get lastChild(){if(s(this,n,"f").length>0)return s(this,n,"f")[s(this,n,"f").length-1]}clear(){a(this,n,[],"f"),s(this,i,"f").clear()}addSymbol(t){var e,r;t.removeFromParent();const o=this.symbolTable,a=s(this,i,"f").get(t.name);if(o&&o.options.allowDuplicateSymbols)s(this,i,"f").set(t.name,void 0===a?1:a+1);else{if(void 0!==a)throw new c.DuplicateSymbolError("Attempt to add duplicate symbol '"+(null!==(e=t.name)&&void 0!==e?e:"<anonymous>")+"'");s(this,i,"f").set(t.name,1);if(s(this,n,"f").indexOf(t)>-1)throw new c.DuplicateSymbolError("Attempt to add duplicate symbol '"+(null!==(r=t.name)&&void 0!==r?r:"<anonymous>")+"'")}s(this,n,"f").push(t),t.setParent(this)}removeSymbol(t){const e=s(this,n,"f").indexOf(t);if(e>-1){s(this,n,"f").splice(e,1),t.setParent(void 0);const r=s(this,i,"f").get(t.name);void 0!==r&&(1===r?s(this,i,"f").delete(t.name):s(this,i,"f").set(t.name,r-1))}}getNestedSymbolsOfType(t){return o(this,void 0,void 0,(function*(){const e=[],r=[];s(this,n,"f").forEach((n=>{n instanceof t&&e.push(n),n instanceof u&&r.push(n.getNestedSymbolsOfType(t))}));return(yield Promise.all(r)).forEach((t=>{e.push(...t)})),e}))}getNestedSymbolsOfTypeSync(t){const e=[];return s(this,n,"f").forEach((r=>{r instanceof t&&e.push(r),r instanceof u&&e.push(...r.getNestedSymbolsOfTypeSync(t))})),e}getAllNestedSymbols(t){return o(this,void 0,void 0,(function*(){const e=[],r=[];s(this,n,"f").forEach((n=>{t&&n.name!==t||e.push(n),n instanceof u&&r.push(n.getAllNestedSymbols(t))}));return(yield Promise.all(r)).forEach((t=>{e.push(...t)})),e}))}getAllNestedSymbolsSync(t){const e=[];return s(this,n,"f").forEach((r=>{t&&r.name!==t||e.push(r),r instanceof u&&e.push(...r.getAllNestedSymbolsSync(t))})),e}getSymbolsOfType(t){return new Promise((e=>{const r=[];s(this,n,"f").forEach((e=>{e instanceof t&&r.push(e)})),e(r)}))}getAllSymbols(t,e=!1){return o(this,void 0,void 0,(function*(){const r=[];for(const e of s(this,n,"f"))if(e instanceof t&&r.push(e),this.isNamespace(e)){const n=yield e.getAllSymbols(t,!0);r.push(...n)}if(!e&&this.parent){const e=yield this.getAllSymbols(t,!0);r.push(...e)}return r}))}getAllSymbolsSync(t,e=!1){const r=[];for(const e of s(this,n,"f"))if(e instanceof t&&r.push(e),this.isNamespace(e)){const n=e.getAllSymbolsSync(t,!0);r.push(...n)}if(!e&&this.parent){const e=this.getAllSymbolsSync(t,!0);r.push(...e)}return r}resolve(t,e=!1){return o(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{for(const e of s(this,n,"f"))if(e.name===t)return void r(e);e||!this.parent?r(void 0):r(this.parent.resolve(t,!1))}))}))}resolveSync(t,e=!1){for(const e of s(this,n,"f"))if(e.name===t)return e;if(!e&&this.parent)return this.parent.resolveSync(t,!1)}symbolFromPath(t,e="."){const r=t.split(e);let n=0;r[0]!==this.name&&0!==r[0].length||++n;let i=this;for(;n<r.length;){if(!(i instanceof u))return;const t=i.children.find((t=>t.name===r[n]));if(!t)return;i=t,++n}return i}indexOfChild(t){return s(this,n,"f").findIndex(((e,r)=>e===t))}nextSiblingOf(t){const e=this.indexOfChild(t);if(!(-1===e||e>=s(this,n,"f").length-1))return s(this,n,"f")[e+1]}previousSiblingOf(t){const e=this.indexOfChild(t);if(!(e<1))return s(this,n,"f")[e-1]}nextOf(t){if(!t.parent)return;if(t.parent!==this)return t.parent.nextOf(t);if(t instanceof u&&t.children.length>0)return t.children[0];const e=this.nextSiblingOf(t);return e||this.parent.nextOf(this)}isNamespace(t){return void 0!==t.inline&&void 0!==t.attributes}}e.ScopedSymbol=u,n=new WeakMap,i=new WeakMap},59652:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SymbolTable=void 0;const i=r(18199),o=r(69910),s=r(8943);class a extends o.ScopedSymbol{constructor(t,e){super(t),this.options=e,this.dependencies=new Set}get info(){return{dependencyCount:this.dependencies.size,symbolCount:this.children.length}}clear(){super.clear(),this.dependencies.clear()}addDependencies(...t){t.forEach(((t,e)=>{this.dependencies.add(t)}))}removeDependency(t){this.dependencies.has(t)&&this.dependencies.delete(t)}addNewSymbolOfType(t,e,...r){const n=new t(...r);return e&&e!==this?e.addSymbol(n):this.addSymbol(n),n}addNewNamespaceFromPath(t,e,r="."){return n(this,void 0,void 0,(function*(){const n=e.split(r);let i=0,o=void 0===t?this:t;for(;i<n.length-1;){let t=yield o.resolve(n[i],!0);void 0===t&&(t=this.addNewSymbolOfType(s.NamespaceSymbol,o,n[i])),o=t,++i}return this.addNewSymbolOfType(s.NamespaceSymbol,o,n[n.length-1])}))}addNewNamespaceFromPathSync(t,e,r="."){const n=e.split(r);let i=0,o=void 0===t?this:t;for(;i<n.length-1;){let t=o.resolveSync(n[i],!0);void 0===t&&(t=this.addNewSymbolOfType(s.NamespaceSymbol,o,n[i])),o=t,++i}return this.addNewSymbolOfType(s.NamespaceSymbol,o,n[n.length-1])}getAllSymbols(t,e=!1){const r=Object.create(null,{getAllSymbols:{get:()=>super.getAllSymbols}});return n(this,void 0,void 0,(function*(){const n=yield r.getAllSymbols.call(this,t,e);if(!e){(yield Promise.all([...this.dependencies].map((r=>r.getAllSymbols(t,e))))).forEach((t=>{n.push(...t)}))}return n}))}getAllSymbolsSync(t,e=!1){const r=super.getAllSymbolsSync(t,e);return e||this.dependencies.forEach((n=>{r.push(...n.getAllSymbolsSync(t,e))})),r}symbolWithContext(t){return n(this,void 0,void 0,(function*(){const e=r=>{if(r.context===t)return r;if(r instanceof o.ScopedSymbol)for(const t of r.children){const r=e(t);if(r)return r}};let r=yield this.getAllSymbols(i.BaseSymbol);for(const t of r){const r=e(t);if(r)return r}for(const t of this.dependencies){r=yield t.getAllSymbols(i.BaseSymbol);for(const t of r){const r=e(t);if(r)return r}}}))}symbolWithContextSync(t){const e=r=>{if(r.context===t)return r;if(r instanceof o.ScopedSymbol)for(const t of r.children){const r=e(t);if(r)return r}};let r=this.getAllSymbolsSync(i.BaseSymbol);for(const t of r){const r=e(t);if(r)return r}for(const t of this.dependencies){r=t.getAllSymbolsSync(i.BaseSymbol);for(const t of r){const r=e(t);if(r)return r}}}resolve(t,e=!1){const r=Object.create(null,{resolve:{get:()=>super.resolve}});return n(this,void 0,void 0,(function*(){let n=yield r.resolve.call(this,t,e);if(!n&&!e)for(const e of this.dependencies)if(n=yield e.resolve(t,!1),n)return n;return n}))}resolveSync(t,e=!1){let r=super.resolveSync(t,e);if(!r&&!e)for(const e of this.dependencies)if(r=e.resolveSync(t,!1),r)return r;return r}}e.SymbolTable=a},53680:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeAlias=void 0;const n=r(32033),i=r(18199);class o extends i.BaseSymbol{constructor(t,e){super(t),this.targetType=e}get baseTypes(){return[this.targetType]}get kind(){return n.TypeKind.Alias}get reference(){return n.ReferenceKind.Irrelevant}}e.TypeAlias=o},55092:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypedSymbol=void 0;const n=r(18199);class i extends n.BaseSymbol{constructor(t,e){super(t),this.type=e}}e.TypedSymbol=i},35758:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableSymbol=void 0;const n=r(55092);class i extends n.TypedSymbol{constructor(t,e,r){super(t,r),this.value=e}}e.VariableSymbol=i},32033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceKind=e.TypeKind=e.Modifier=e.MemberVisibility=void 0,function(t){t[t.Unknown=0]="Unknown",t[t.Open=1]="Open",t[t.Public=2]="Public",t[t.Protected=3]="Protected",t[t.Private=4]="Private",t[t.FilePrivate=5]="FilePrivate",t[t.Library=6]="Library"}(e.MemberVisibility||(e.MemberVisibility={})),function(t){t[t.Static=0]="Static",t[t.Final=1]="Final",t[t.Sealed=2]="Sealed",t[t.Abstract=3]="Abstract",t[t.Deprecated=4]="Deprecated",t[t.Virtual=5]="Virtual",t[t.Const=6]="Const",t[t.Overwritten=7]="Overwritten"}(e.Modifier||(e.Modifier={})),function(t){t[t.Unknown=0]="Unknown",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Char=5]="Char",t[t.Boolean=6]="Boolean",t[t.Class=7]="Class",t[t.Interface=8]="Interface",t[t.Array=9]="Array",t[t.Map=10]="Map",t[t.Enum=11]="Enum",t[t.Alias=12]="Alias"}(e.TypeKind||(e.TypeKind={})),function(t){t[t.Irrelevant=0]="Irrelevant",t[t.Pointer=1]="Pointer",t[t.Reference=2]="Reference",t[t.Instance=3]="Instance"}(e.ReferenceKind||(e.ReferenceKind={}))},52666:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},95635:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},67404:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ANTLRInputStream=void 0;const i=r(94148),o=r(72399),s=r(71492);class a{constructor(t){this.p=0,this.data=t,this.n=t.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw i(this.LA(1)===s.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(t){return 0===t?0:t<0&&(t++,this.p+t-1<0)||this.p+t-1>=this.n?s.IntStream.EOF:this.data.charCodeAt(this.p+t-1)}LT(t){return this.LA(t)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(t){}seek(t){if(t<=this.p)this.p=t;else for(t=Math.min(t,this.n);this.p<t;)this.consume()}getText(t){let e=t.a,r=t.b;r>=this.n&&(r=this.n-1);let n=r-e+1;return e>=this.n?"":this.data.substr(e,n)}get sourceName(){return this.name?this.name:s.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}n([o.Override],a.prototype,"consume",null),n([o.Override],a.prototype,"LA",null),n([o.Override],a.prototype,"index",null),n([o.Override],a.prototype,"size",null),n([o.Override],a.prototype,"mark",null),n([o.Override],a.prototype,"release",null),n([o.Override],a.prototype,"seek",null),n([o.Override],a.prototype,"getText",null),n([o.Override],a.prototype,"sourceName",null),n([o.Override],a.prototype,"toString",null),e.ANTLRInputStream=a},27442:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BailErrorStrategy=void 0;const i=r(43361),o=r(22468),s=r(72399),a=r(16897);class l extends i.DefaultErrorStrategy{recover(t,e){for(let r=t.context;r;r=r.parent)r.exception=e;throw new a.ParseCancellationException(e)}recoverInline(t){let e=new o.InputMismatchException(t);for(let r=t.context;r;r=r.parent)r.exception=e;throw new a.ParseCancellationException(e)}sync(t){}}n([s.Override],l.prototype,"recover",null),n([s.Override],l.prototype,"recoverInline",null),n([s.Override],l.prototype,"sync",null),e.BailErrorStrategy=l},46737:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedTokenStream=void 0;const o=r(94148),s=r(48291),a=r(7477),l=r(22807),c=r(72399),u=r(47760);let h=class{constructor(t){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,null==t)throw new Error("tokenSource cannot be null");this._tokenSource=t}get tokenSource(){return this._tokenSource}set tokenSource(t){this._tokenSource=t,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(t){}seek(t){this.lazyInit(),this.p=this.adjustSeekIndex(t)}get size(){return this.tokens.length}consume(){let t;if(t=this.p>=0&&(this.fetchedEOF?this.p<this.tokens.length-1:this.p<this.tokens.length),!t&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(t){o(t>=0);let e=t-this.tokens.length+1;if(e>0){return this.fetch(e)>=e}return!0}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){let t=this.tokenSource.nextToken();if(this.isWritableToken(t)&&(t.tokenIndex=this.tokens.length),this.tokens.push(t),t.type===u.Token.EOF)return this.fetchedEOF=!0,e+1}return t}get(t){if(t<0||t>=this.tokens.length)throw new RangeError("token index "+t+" out of range 0.."+(this.tokens.length-1));return this.tokens[t]}getRange(t,e){if(t<0||e<0)return[];this.lazyInit();let r=new Array;e>=this.tokens.length&&(e=this.tokens.length-1);for(let n=t;n<=e;n++){let t=this.tokens[n];if(t.type===u.Token.EOF)break;r.push(t)}return r}LA(t){let e=this.LT(t);return e?e.type:u.Token.INVALID_TYPE}tryLB(t){if(!(this.p-t<0))return this.tokens[this.p-t]}LT(t){let e=this.tryLT(t);if(void 0===e)throw new RangeError("requested lookback index out of range");return e}tryLT(t){if(this.lazyInit(),0===t)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.p&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(t,e,r){if(this.lazyInit(),void 0===t)return o(void 0===e&&void 0===r),this.tokens;if(void 0===e&&(e=this.tokens.length-1),t<0||e>=this.tokens.length||e<0||t>=this.tokens.length)throw new RangeError("start "+t+" or stop "+e+" not in 0.."+(this.tokens.length-1));if(t>e)return[];if(void 0===r)return this.tokens.slice(t,e+1);"number"==typeof r&&(r=(new Set).add(r));let n=r,i=this.tokens.slice(t,e+1);return i=i.filter((t=>n.has(t.type))),i}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;let r=this.tokens[t];for(;r.channel!==e;){if(r.type===u.Token.EOF)return t;t++,this.sync(t),r=this.tokens[t]}return t}previousTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;for(;t>=0;){let r=this.tokens[t];if(r.type===u.Token.EOF||r.channel===e)return t;t--}return t}getHiddenTokensToRight(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));let r,n=this.nextTokenOnChannel(t+1,l.Lexer.DEFAULT_TOKEN_CHANNEL),i=t+1;return r=-1===n?this.size-1:n,this.filterForChannel(i,r,e)}getHiddenTokensToLeft(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));if(0===t)return[];let r=this.previousTokenOnChannel(t-1,l.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===t-1)return[];let n=r+1,i=t-1;return this.filterForChannel(n,i,e)}filterForChannel(t,e,r){let n=new Array;for(let i=t;i<=e;i++){let t=this.tokens[i];-1===r?t.channel!==l.Lexer.DEFAULT_TOKEN_CHANNEL&&n.push(t):t.channel===r&&n.push(t)}return n}get sourceName(){return this.tokenSource.sourceName}getText(t){void 0===t?t=a.Interval.of(0,this.size-1):t instanceof a.Interval||(t=t.sourceInterval);let e=t.a,r=t.b;if(e<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let n="";for(let t=e;t<=r;t++){let e=this.tokens[t];if(e.type===u.Token.EOF)break;n+=e.text}return n.toString()}getTextFromRange(t,e){return this.isToken(t)&&this.isToken(e)?this.getText(a.Interval.of(t.tokenIndex,e.tokenIndex)):""}fill(){this.lazyInit();for(;;){if(this.fetch(1e3)<1e3)return}}isWritableToken(t){return t instanceof s.CommonToken}isToken(t){return t instanceof s.CommonToken}};n([c.NotNull],h.prototype,"_tokenSource",void 0),n([c.Override],h.prototype,"tokenSource",null),n([c.Override],h.prototype,"index",null),n([c.Override],h.prototype,"mark",null),n([c.Override],h.prototype,"release",null),n([c.Override],h.prototype,"seek",null),n([c.Override],h.prototype,"size",null),n([c.Override],h.prototype,"consume",null),n([c.Override],h.prototype,"get",null),n([c.Override],h.prototype,"LA",null),n([c.NotNull,c.Override],h.prototype,"LT",null),n([c.Override],h.prototype,"sourceName",null),n([c.NotNull,c.Override],h.prototype,"getText",null),n([c.NotNull,c.Override],h.prototype,"getTextFromRange",null),h=n([i(0,c.NotNull)],h),e.BufferedTokenStream=h},12781:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},36776:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const n=r(75866),i=r(90328),o=r(71492);!function(t){t.fromString=function(t,e){void 0!==e&&0!==e.length||(e=o.IntStream.UNKNOWN_SOURCE_NAME);let r=n.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);return r.append(s),i.CodePointCharStream.fromBuffer(r.build(),e)}}(e.CharStreams||(e.CharStreams={}))},75866:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const n=r(94148),i=r(24605);class o{constructor(t,e){this.buffer=t,this._position=0,this._size=e}static withArray(t){return new o(t,t.length)}get position(){return this._position}set position(t){if(t<0||t>this._size)throw new RangeError;this._position=t}get remaining(){return this._size-this.position}get(t){return this.buffer[t]}array(){return this.buffer.slice(0,this._size)}static builder(t){return new o.Builder(t)}}e.CodePointBuffer=o,function(t){let e;!function(t){t[t.BYTE=0]="BYTE",t[t.CHAR=1]="CHAR",t[t.INT=2]="INT"}(e||(e={}));class r{constructor(t){this.type=0,this.buffer=new Uint8Array(t),this.prevHighSurrogate=-1,this.position=0}build(){return new t(this.buffer,this.position)}static roundUpToNextPowerOfTwo(t){let e=32-Math.clz32(t-1);return Math.pow(2,e)}ensureRemaining(t){switch(this.type){case 0:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Uint8Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}break;case 1:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Uint16Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}break;case 2:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Int32Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}}}append(t){this.ensureRemaining(t.length),this.appendArray(t)}appendArray(t){switch(this.type){case 0:this.appendArrayByte(t);break;case 1:this.appendArrayChar(t);break;case 2:this.appendArrayInt(t)}}appendArrayByte(t){n(-1===this.prevHighSurrogate);let e=t,r=0,o=t.length,s=this.buffer,a=this.position;for(;r<o;){let n=e[r];if(!(n<=255))return t=t.subarray(r,o),this.position=a,i.isHighSurrogate(n)?(this.byteToIntBuffer(t.length),void this.appendArrayInt(t)):(this.byteToCharBuffer(t.length),void this.appendArrayChar(t));s[a]=n,r++,a++}this.position=a}appendArrayChar(t){n(-1===this.prevHighSurrogate);let e=t,r=0,o=t.length,s=this.buffer,a=this.position;for(;r<o;){let n=e[r];if(i.isHighSurrogate(n))return t=t.subarray(r,o),this.position=a,this.charToIntBuffer(t.length),void this.appendArrayInt(t);s[a]=n,r++,a++}this.position=a}appendArrayInt(t){let e=t,r=0,n=t.length,o=this.buffer,s=this.position;for(;r<n;){let t=e[r];r++,-1!==this.prevHighSurrogate?i.isLowSurrogate(t)?(o[s]=String.fromCharCode(this.prevHighSurrogate,t).codePointAt(0),s++,this.prevHighSurrogate=-1):(o[s]=this.prevHighSurrogate,s++,i.isHighSurrogate(t)?this.prevHighSurrogate=t:(o[s]=t,s++,this.prevHighSurrogate=-1)):i.isHighSurrogate(t)?this.prevHighSurrogate=t:(o[s]=t,s++)}-1!==this.prevHighSurrogate&&(o[s]=this.prevHighSurrogate,s++),this.position=s}byteToCharBuffer(t){let e=new Uint16Array(Math.max(this.position+t,this.buffer.length>>1));e.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=e}byteToIntBuffer(t){let e=new Int32Array(Math.max(this.position+t,this.buffer.length>>2));e.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=e}charToIntBuffer(t){let e=new Int32Array(Math.max(this.position+t,this.buffer.length>>1));e.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=e}}t.Builder=r}(o=e.CodePointBuffer||(e.CodePointBuffer={}))},90328:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointCharStream=void 0;const i=r(94148),o=r(71492),s=r(7477),a=r(72399);class l{constructor(t,e,r,n){i(0===e),this._array=t,this._size=r,this._name=n,this._position=0}get internalStorage(){return this._array}static fromBuffer(t,e){return void 0!==e&&0!==e.length||(e=o.IntStream.UNKNOWN_SOURCE_NAME),new l(t.array(),t.position,t.remaining,e)}consume(){if(this._size-this._position==0)throw i(this.LA(1)===o.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(t){}seek(t){this._position=t}get sourceName(){return this._name}toString(){return this.getText(s.Interval.of(0,this.size-1))}LA(t){let e;switch(Math.sign(t)){case-1:return e=this.index+t,e<0?o.IntStream.EOF:this._array[e];case 0:return 0;case 1:return e=this.index+t-1,e>=this.size?o.IntStream.EOF:this._array[e]}throw new RangeError("Not reached")}getText(t){const e=Math.min(t.a,this.size),r=Math.min(t.b-t.a+1,this.size-e);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(e,e+r))):String.fromCharCode(...Array.from(this._array.subarray(e,e+r)))}}n([a.Override],l.prototype,"consume",null),n([a.Override],l.prototype,"index",null),n([a.Override],l.prototype,"size",null),n([a.Override],l.prototype,"mark",null),n([a.Override],l.prototype,"release",null),n([a.Override],l.prototype,"seek",null),n([a.Override],l.prototype,"sourceName",null),n([a.Override],l.prototype,"toString",null),n([a.Override],l.prototype,"LA",null),n([a.Override],l.prototype,"getText",null),e.CodePointCharStream=l},48291:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonToken=void 0;const o=r(7477),s=r(72399),a=r(47760);let l=class t{constructor(e,r,n=t.EMPTY_SOURCE,i=a.Token.DEFAULT_CHANNEL,o=0,s=0){this._line=0,this._charPositionInLine=-1,this._channel=a.Token.DEFAULT_CHANNEL,this.index=-1,this._text=r,this._type=e,this.source=n,this._channel=i,this.start=o,this.stop=s,null!=n.source&&(this._line=n.source.line,this._charPositionInLine=n.source.charPositionInLine)}static fromToken(e){let r=new t(e.type,void 0,t.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return r._line=e.line,r.index=e.tokenIndex,r._charPositionInLine=e.charPositionInLine,e instanceof t?(r._text=e._text,r.source=e.source):(r._text=e.text,r.source={source:e.tokenSource,stream:e.inputStream}),r}get type(){return this._type}set type(t){this._type=t}get line(){return this._line}set line(t){this._line=t}get text(){if(null!=this._text)return this._text;let t=this.inputStream;if(null==t)return;let e=t.size;return this.start<e&&this.stop<e?t.getText(o.Interval.of(this.start,this.stop)):"<EOF>"}set text(t){this._text=t}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(t){this._charPositionInLine=t}get channel(){return this._channel}set channel(t){this._channel=t}get startIndex(){return this.start}set startIndex(t){this.start=t}get stopIndex(){return this.stop}set stopIndex(t){this.stop=t}get tokenIndex(){return this.index}set tokenIndex(t){this.index=t}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(t){let e="";this._channel>0&&(e=",channel="+this._channel);let r=this.text;null!=r?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let n=String(this._type);return t&&(n=t.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+n+">"+e+","+this._line+":"+this.charPositionInLine+"]"}};l.EMPTY_SOURCE={source:void 0,stream:void 0},n([s.NotNull],l.prototype,"source",void 0),n([s.Override],l.prototype,"type",null),n([s.Override],l.prototype,"line",null),n([s.Override],l.prototype,"text",null),n([s.Override],l.prototype,"charPositionInLine",null),n([s.Override],l.prototype,"channel",null),n([s.Override],l.prototype,"startIndex",null),n([s.Override],l.prototype,"stopIndex",null),n([s.Override],l.prototype,"tokenIndex",null),n([s.Override],l.prototype,"tokenSource",null),n([s.Override],l.prototype,"inputStream",null),n([s.Override],l.prototype,"toString",null),n([i(0,s.NotNull)],l,"fromToken",null),l=n([i(2,s.NotNull)],l),e.CommonToken=l},25629:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const i=r(48291),o=r(7477),s=r(72399);class a{constructor(t=!1){this.copyText=t}create(t,e,r,n,s,a,l,c){let u=new i.CommonToken(e,r,t,n,s,a);return u.line=l,u.charPositionInLine=c,null==r&&this.copyText&&null!=t.stream&&(u.text=t.stream.getText(o.Interval.of(s,a))),u}createSimple(t,e){return new i.CommonToken(t,e)}}n([s.Override],a.prototype,"create",null),n([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(t){t.DEFAULT=new t}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))},95411:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenStream=void 0;const o=r(46737),s=r(72399),a=r(47760);let l=class extends o.BufferedTokenStream{constructor(t,e=a.Token.DEFAULT_CHANNEL){super(t),this.channel=e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}tryLB(t){if(this.p-t<0)return;let e=this.p,r=1;for(;r<=t&&e>0;)e=this.previousTokenOnChannel(e-1,this.channel),r++;return e<0?void 0:this.tokens[e]}tryLT(t){if(this.lazyInit(),0===t)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p,r=1;for(;r<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),r++;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e of this.tokens)if(e.channel===this.channel&&t++,e.type===a.Token.EOF)break;return t}};n([s.Override],l.prototype,"adjustSeekIndex",null),n([s.Override],l.prototype,"tryLB",null),n([s.Override],l.prototype,"tryLT",null),l=n([i(0,s.NotNull)],l),e.CommonTokenStream=l},13196:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleErrorListener=void 0;class r{syntaxError(t,e,r,n,i,o){console.error(`line ${r}:${n} ${i}`)}}e.ConsoleErrorListener=r,r.INSTANCE=new r},72399:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.SuppressWarnings=e.Override=e.Nullable=e.NotNull=void 0,e.NotNull=function(t,e,r){},e.Nullable=function(t,e,r){},e.Override=function(t,e,r){},e.SuppressWarnings=function(t){return(t,e,r)=>{}}},43361:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultErrorStrategy=void 0;const o=r(42813),s=r(77037),a=r(82262),l=r(22468),c=r(83357),u=r(40755),h=r(78859),p=r(47760),f=r(72399);class d{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=o.ATNState.INVALID_STATE_NUMBER}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof u.NoViableAltException?this.reportNoViableAlternative(t,e):e instanceof l.InputMismatchException?this.reportInputMismatch(t,e):e instanceof a.FailedPredicateException?this.reportFailedPredicate(t,e):(console.error(`unknown recognition error type: ${e}`),this.notifyErrorListeners(t,e.toString(),e)))}notifyErrorListeners(t,e,r){let n=r.getOffendingToken(t);void 0===n&&(n=null),t.notifyErrorListeners(e,n,r)}recover(t,e){this.lastErrorIndex===t.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(t.state)&&t.consume(),this.lastErrorIndex=t.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new c.IntervalSet),this.lastErrorStates.add(t.state);let r=this.getErrorRecoverySet(t);this.consumeUntil(t,r)}sync(t){let e=t.interpreter.atn.states[t.state];if(this.inErrorRecoveryMode(t))return;let r=t.inputStream.LA(1),n=t.atn.nextTokens(e);if(n.contains(r))return this.nextTokensContext=void 0,void(this.nextTokensState=o.ATNState.INVALID_STATE_NUMBER);if(n.contains(p.Token.EPSILON))void 0===this.nextTokensContext&&(this.nextTokensContext=t.context,this.nextTokensState=t.state);else switch(e.stateType){case s.ATNStateType.BLOCK_START:case s.ATNStateType.STAR_BLOCK_START:case s.ATNStateType.PLUS_BLOCK_START:case s.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(t))return;throw new l.InputMismatchException(t);case s.ATNStateType.PLUS_LOOP_BACK:case s.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(t);let e=t.getExpectedTokens().or(this.getErrorRecoverySet(t));this.consumeUntil(t,e)}}reportNoViableAlternative(t,e){let r,n=t.inputStream;r=n?e.startToken.type===p.Token.EOF?"<EOF>":n.getTextFromRange(e.startToken,e.getOffendingToken()):"<unknown input>";let i="no viable alternative at input "+this.escapeWSAndQuote(r);this.notifyErrorListeners(t,i,e)}reportInputMismatch(t,e){let r=e.expectedTokens,n=r?r.toStringVocabulary(t.vocabulary):"",i="mismatched input "+this.getTokenErrorDisplay(e.getOffendingToken(t))+" expecting "+n;this.notifyErrorListeners(t,i,e)}reportFailedPredicate(t,e){let r="rule "+t.ruleNames[t.context.ruleIndex]+" "+e.message;this.notifyErrorListeners(t,r,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.currentToken,r="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toStringVocabulary(t.vocabulary);t.notifyErrorListeners(r,e,void 0)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.currentToken,r="missing "+this.getExpectedTokens(t).toStringVocabulary(t.vocabulary)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(r,e,void 0)}recoverInline(t){let e=this.singleTokenDeletion(t);if(e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw void 0===this.nextTokensContext?new l.InputMismatchException(t):new l.InputMismatchException(t,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(t){let e=t.inputStream.LA(1),r=t.interpreter.atn.states[t.state].transition(0).target,n=t.interpreter.atn;return!!n.nextTokens(r,h.PredictionContext.fromRuleContext(n,t.context)).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){let e=t.inputStream.LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();let e=t.currentToken;return this.reportMatch(t),e}}getMissingSymbol(t){let e,r=t.currentToken,n=this.getExpectedTokens(t),i=p.Token.INVALID_TYPE;n.isNil||(i=n.minElement),e=i===p.Token.EOF?"<missing EOF>":"<missing "+t.vocabulary.getDisplayName(i)+">";let o=r,s=t.inputStream.tryLT(-1);return o.type===p.Token.EOF&&null!=s&&(o=s),this.constructToken(t.inputStream.tokenSource,i,e,o)}constructToken(t,e,r,n){let i=t.tokenFactory,o=n.tokenSource,s=o?o.inputStream:void 0;return i.create({source:t,stream:s},e,r,p.Token.DEFAULT_CHANNEL,-1,-1,n.line,n.charPositionInLine)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(!t)return"<no token>";let e=this.getSymbolText(t);return e||(e=this.getSymbolType(t)===p.Token.EOF?"<EOF>":`<${this.getSymbolType(t)}>`),this.escapeWSAndQuote(e)}getSymbolText(t){return t.text}getSymbolType(t){return t.type}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace("\n","\\n")).replace("\r","\\r")).replace("\t","\\t"))+"'"}getErrorRecoverySet(t){let e=t.interpreter.atn,r=t.context,n=new c.IntervalSet;for(;r&&r.invokingState>=0;){let t=e.states[r.invokingState].transition(0),i=e.nextTokens(t.followState);n.addAll(i),r=r._parent}return n.remove(p.Token.EPSILON),n}consumeUntil(t,e){let r=t.inputStream.LA(1);for(;r!==p.Token.EOF&&!e.contains(r);)t.consume(),r=t.inputStream.LA(1)}}n([f.Override],d.prototype,"reset",null),n([i(0,f.NotNull)],d.prototype,"beginErrorCondition",null),n([f.Override],d.prototype,"inErrorRecoveryMode",null),n([i(0,f.NotNull)],d.prototype,"endErrorCondition",null),n([f.Override],d.prototype,"reportMatch",null),n([f.Override],d.prototype,"reportError",null),n([i(0,f.NotNull)],d.prototype,"notifyErrorListeners",null),n([f.Override],d.prototype,"recover",null),n([f.Override],d.prototype,"sync",null),n([i(0,f.NotNull),i(1,f.NotNull)],d.prototype,"reportNoViableAlternative",null),n([i(0,f.NotNull),i(1,f.NotNull)],d.prototype,"reportInputMismatch",null),n([i(0,f.NotNull),i(1,f.NotNull)],d.prototype,"reportFailedPredicate",null),n([i(0,f.NotNull)],d.prototype,"reportUnwantedToken",null),n([i(0,f.NotNull)],d.prototype,"reportMissingToken",null),n([f.Override],d.prototype,"recoverInline",null),n([i(0,f.NotNull)],d.prototype,"singleTokenInsertion",null),n([i(0,f.NotNull)],d.prototype,"singleTokenDeletion",null),n([f.NotNull,i(0,f.NotNull)],d.prototype,"getMissingSymbol",null),n([f.NotNull,i(0,f.NotNull)],d.prototype,"getExpectedTokens",null),n([i(0,f.NotNull)],d.prototype,"getSymbolText",null),n([i(0,f.NotNull)],d.prototype,"getSymbolType",null),n([f.NotNull,i(0,f.NotNull)],d.prototype,"escapeWSAndQuote",null),n([f.NotNull,i(0,f.NotNull)],d.prototype,"getErrorRecoverySet",null),n([i(0,f.NotNull),i(1,f.NotNull)],d.prototype,"consumeUntil",null),e.DefaultErrorStrategy=d},77997:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))},57866:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticErrorListener=void 0;const o=r(46889),s=r(72399),a=r(7477);class l{constructor(t=!0){this.exactOnly=t,this.exactOnly=t}syntaxError(t,e,r,n,i,o){}reportAmbiguity(t,e,r,n,i,o,s){if(this.exactOnly&&!i)return;let l=`reportAmbiguity d=${this.getDecisionDescription(t,e)}: ambigAlts=${this.getConflictingAlts(o,s)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,r,n,i,o){let s=`reportAttemptingFullContext d=${this.getDecisionDescription(t,e)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(s)}reportContextSensitivity(t,e,r,n,i,o){let s=`reportContextSensitivity d=${this.getDecisionDescription(t,e)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(s)}getDecisionDescription(t,e){let r=e.decision,n=e.atnStartState.ruleIndex,i=t.ruleNames;if(n<0||n>=i.length)return r.toString();let o=i[n];return o?`${r} (${o})`:r.toString()}getConflictingAlts(t,e){if(null!=t)return t;let r=new o.BitSet;for(let t of e)r.set(t.alt);return r}}n([s.Override],l.prototype,"syntaxError",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(6,s.NotNull)],l.prototype,"reportAmbiguity",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(5,s.NotNull)],l.prototype,"reportAttemptingFullContext",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(5,s.NotNull)],l.prototype,"reportContextSensitivity",null),n([i(0,s.NotNull),i(1,s.NotNull)],l.prototype,"getDecisionDescription",null),n([s.NotNull,i(1,s.NotNull)],l.prototype,"getConflictingAlts",null),e.DiagnosticErrorListener=l},82262:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.FailedPredicateException=void 0;const o=r(79449),s=r(72399),a=r(6369);let l=class t extends o.RecognitionException{constructor(e,r,n){super(e,e.inputStream,e.context,t.formatMessage(r,n));let i=e.interpreter.atn.states[e.state].transition(0);i instanceof a.PredicateTransition?(this._ruleIndex=i.ruleIndex,this._predicateIndex=i.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=r,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(t,e){return e||`failed predicate: {${t}}?`}};n([s.NotNull],l,"formatMessage",null),l=n([i(0,s.NotNull)],l),e.FailedPredicateException=l},22468:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.InputMismatchException=void 0;const o=r(79449),s=r(72399);let a=class extends o.RecognitionException{constructor(t,e,r){void 0===r&&(r=t.context),super(t,t.inputStream,r),void 0!==e&&this.setOffendingState(e),this.setOffendingToken(t,t.currentToken)}};a=n([i(0,s.NotNull)],a),e.InputMismatchException=a},71492:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))},3714:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.InterpreterRuleContext=void 0;const i=r(72399),o=r(41097);class s extends o.ParserRuleContext{constructor(t,e,r){void 0!==r?super(e,r):super(),this._ruleIndex=t}get ruleIndex(){return this._ruleIndex}}n([i.Override],s.prototype,"ruleIndex",null),e.InterpreterRuleContext=s},22807:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=void 0;const i=r(25629),o=r(41862),s=r(7477),a=r(71492),l=r(21088),c=r(86181),u=r(72399),h=r(18831),p=r(47760);class f extends h.Recognizer{constructor(t){super(),this._factory=i.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new o.IntegerStack,this._mode=f.DEFAULT_MODE,this._input=t,this._tokenFactorySourcePair={source:this,stream:t}}static get DEFAULT_TOKEN_CHANNEL(){return p.Token.DEFAULT_CHANNEL}static get HIDDEN(){return p.Token.HIDDEN_CHANNEL}reset(t){(void 0===t||t)&&this._input.seek(0),this._token=void 0,this._type=p.Token.INVALID_TYPE,this._channel=p.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=f.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(null==this._input)throw new Error("nextToken requires a non-null input stream.");let t=this._input.mark();try{t:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=p.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{let t;this._type=p.Token.INVALID_TYPE;try{t=this.interpreter.match(this._input,this._mode)}catch(e){if(!(e instanceof c.LexerNoViableAltException))throw e;this.notifyListeners(e),this.recover(e),t=f.SKIP}if(this._input.LA(1)===a.IntStream.EOF&&(this._hitEOF=!0),this._type===p.Token.INVALID_TYPE&&(this._type=t),this._type===f.SKIP)continue t}while(this._type===f.MORE);return null==this._token?this.emit():this._token}}finally{this._input.release(t)}}skip(){this._type=f.SKIP}more(){this._type=f.MORE}mode(t){this._mode=t}pushMode(t){l.LexerATNSimulator.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return l.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(t){this._factory=t}get inputStream(){return this._input}set inputStream(t){this.reset(!1),this._input=t,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(t){return t||(t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=t,t}emitEOF(){let t=this.charPositionInLine,e=this.line,r=this._factory.create(this._tokenFactorySourcePair,p.Token.EOF,void 0,p.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emit(r),r}get line(){return this.interpreter.line}set line(t){this.interpreter.line=t}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(t){this.interpreter.charPositionInLine=t}get charIndex(){return this._input.index}get text(){return null!=this._text?this._text:this.interpreter.getText(this._input)}set text(t){this._text=t}get token(){return this._token}set token(t){this._token=t}set type(t){this._type=t}get type(){return this._type}set channel(t){this._channel=t}get channel(){return this._channel}getAllTokens(){let t=[],e=this.nextToken();for(;e.type!==p.Token.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){let e=this._input.getText(s.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(e)+"'",n=this.getErrorListenerDispatch();n.syntaxError&&n.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,t)}getErrorDisplay(t){if("number"==typeof t){switch(t){case p.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(t)}return t.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(t){return"'"+this.getErrorDisplay(t)+"'"}recover(t){t instanceof c.LexerNoViableAltException?this._input.LA(1)!==a.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}}f.DEFAULT_MODE=0,f.MORE=-2,f.SKIP=-3,f.MIN_CHAR_VALUE=0,f.MAX_CHAR_VALUE=1114111,n([u.Override],f.prototype,"nextToken",null),n([u.Override],f.prototype,"tokenFactory",null),n([u.Override],f.prototype,"inputStream",null),n([u.Override],f.prototype,"sourceName",null),n([u.Override],f.prototype,"line",null),n([u.Override],f.prototype,"charPositionInLine",null),e.Lexer=f},96145:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerInterpreter=void 0;const o=r(22807),s=r(21088),a=r(72399),l=r(72399);let c=class extends o.Lexer{constructor(t,e,r,n,i,o,a){if(super(a),0!==o.grammarType)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=t,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=n.slice(0),this._modeNames=i.slice(0),this._vocabulary=e,this._interp=new s.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};n([a.NotNull],c.prototype,"_vocabulary",void 0),n([l.Override],c.prototype,"atn",null),n([l.Override],c.prototype,"grammarFileName",null),n([l.Override],c.prototype,"ruleNames",null),n([l.Override],c.prototype,"channelNames",null),n([l.Override],c.prototype,"modeNames",null),n([l.Override],c.prototype,"vocabulary",null),c=n([i(1,a.NotNull)],c),e.LexerInterpreter=c},86181:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerNoViableAltException=void 0;const o=r(79449),s=r(72399),a=r(7477),l=r(40659);let c=class extends o.RecognitionException{constructor(t,e,r,n){super(t,e),this._startIndex=r,this._deadEndConfigs=n}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let t="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(t=this.inputStream.getText(a.Interval.of(this._startIndex,this._startIndex)),t=l.escapeWhitespace(t,!1)),`LexerNoViableAltException('${t}')`}};n([s.Override],c.prototype,"inputStream",null),n([s.Override],c.prototype,"toString",null),c=n([i(1,s.NotNull)],c),e.LexerNoViableAltException=c},309:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ListTokenSource=void 0;const o=r(25629),s=r(72399),a=r(47760);let l=class{constructor(t,e){if(this.i=0,this._factory=o.CommonTokenFactory.DEFAULT,null==t)throw new Error("tokens cannot be null");this.tokens=t,this._sourceName=e}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(null!=this.eofToken)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.text;if(null!=e){let t=e.lastIndexOf("\n");if(t>=0)return e.length-t-1}return t.charPositionInLine+t.stopIndex-t.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(null==this.eofToken){let t=-1;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1].stopIndex;-1!==e&&(t=e+1)}let e=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},a.Token.EOF,"EOF",a.Token.DEFAULT_CHANNEL,t,e,this.line,this.charPositionInLine)}return this.eofToken}let t=this.tokens[this.i];return this.i===this.tokens.length-1&&t.type===a.Token.EOF&&(this.eofToken=t),this.i++,t}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(null!=this.eofToken)return this.eofToken.line;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.line,r=t.text;if(null!=r)for(let t=0;t<r.length;t++)"\n"===r.charAt(t)&&e++;return e}return 1}get inputStream(){return this.i<this.tokens.length?this.tokens[this.i].inputStream:null!=this.eofToken?this.eofToken.inputStream:this.tokens.length>0?this.tokens[this.tokens.length-1].inputStream:void 0}get sourceName(){if(this._sourceName)return this._sourceName;let t=this.inputStream;return null!=t?t.sourceName:"List"}set tokenFactory(t){this._factory=t}get tokenFactory(){return this._factory}};n([s.Override],l.prototype,"charPositionInLine",null),n([s.Override],l.prototype,"nextToken",null),n([s.Override],l.prototype,"line",null),n([s.Override],l.prototype,"inputStream",null),n([s.Override],l.prototype,"sourceName",null),n([s.Override,s.NotNull,i(0,s.NotNull)],l.prototype,"tokenFactory",null),l=n([i(0,s.NotNull)],l),e.ListTokenSource=l},40755:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.NoViableAltException=void 0;const i=r(35922),o=r(79449),s=r(72399);class a extends o.RecognitionException{constructor(t,e,r,n,o,s){t instanceof i.Parser&&(void 0===e&&(e=t.inputStream),void 0===r&&(r=t.currentToken),void 0===n&&(n=t.currentToken),void 0===s&&(s=t.context)),super(t,e,s),this._deadEndConfigs=o,this._startToken=r,this.setOffendingToken(t,n)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}}n([s.NotNull],a.prototype,"_startToken",void 0),e.NoViableAltException=a},35922:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;const s=r(40659),a=r(28955),l=r(60493),c=r(43361),u=r(61964),h=r(41862),p=r(22807),f=r(72399),d=r(38344),y=r(13161),g=r(86142),v=r(18831),m=r(30360),x=r(47760);class b{constructor(t,e){this.ruleNames=t,this.tokenStream=e}enterEveryRule(t){console.log("enter   "+this.ruleNames[t.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(t){console.log("exit    "+this.ruleNames[t.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(t){}visitTerminal(t){let e=t.parent.ruleContext,r=t.symbol;console.log("consume "+r+" rule "+this.ruleNames[e.ruleIndex])}}n([f.Override],b.prototype,"enterEveryRule",null),n([f.Override],b.prototype,"exitEveryRule",null),n([f.Override],b.prototype,"visitErrorNode",null),n([f.Override],b.prototype,"visitTerminal",null);class O extends v.Recognizer{constructor(t){super(),this._errHandler=new c.DefaultErrorStrategy,this._precedenceStack=new h.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=t}reset(t){(void 0===t||t)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let e=this.interpreter;null!=e&&e.reset()}match(t){let e=this.currentToken;return e.type===t?(t===x.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}matchWildcard(){let t=this.currentToken;return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}set buildParseTree(t){this._buildParseTrees=t}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(t){if(null==t)throw new TypeError("listener cannot be null");this._parseListeners.push(t)}removeParseListener(t){let e=this._parseListeners.findIndex((e=>e===t));-1!==e&&this._parseListeners.splice(e,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let t of this._parseListeners)t.enterEveryRule&&t.enterEveryRule(this._ctx),this._ctx.enterRule(t)}triggerExitRuleEvent(){for(let t=this._parseListeners.length-1;t>=0;t--){let e=this._parseListeners[t];this._ctx.exitRule(e),e.exitEveryRule&&e.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let t=this.serializedATN;if(null==t)throw new Error("The current parser does not support an ATN with bypass alternatives.");let e=O.bypassAltsAtnCache.get(t);if(null==e){let r=new a.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,e=new l.ATNDeserializer(r).deserialize(s.toCharArray(t)),O.bypassAltsAtnCache.set(t,e)}return e}compileParseTreePattern(t,e,n){return o(this,void 0,void 0,(function*(){if(!n){if(this.inputStream){let t=this.inputStream.tokenSource;t instanceof p.Lexer&&(n=t)}if(!n)throw new Error("Parser can't discover a lexer to use")}let i=n;return new((yield Promise.resolve().then((()=>r(44864)))).ParseTreePatternMatcher)(i,this).compile(t,e)}))}get errorHandler(){return this._errHandler}set errorHandler(t){this._errHandler=t}get inputStream(){return this._input}set inputStream(t){this.reset(!1),this._input=t}get currentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,r){void 0===e?e=this.currentToken:null===e&&(e=void 0),this._syntaxErrors++;let n=-1,i=-1;null!=e&&(n=e.line,i=e.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,e,n,i,t,r)}consume(){let t=this.currentToken;t.type!==O.EOF&&this.inputStream.consume();let e=0!==this._parseListeners.length;if(this._buildParseTrees||e)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,t));if(e)for(let t of this._parseListeners)t.visitErrorNode&&t.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,t);if(this._ctx.addChild(r),e)for(let t of this._parseListeners)t.visitTerminal&&t.visitTerminal(r)}return t}createTerminalNode(t,e){return new m.TerminalNode(e)}createErrorNode(t,e){return new u.ErrorNode(e)}addContextToParseTree(){let t=this._ctx._parent;null!=t&&t.addChild(this._ctx)}enterRule(t,e,r){this.state=e,this._ctx=t,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(t,e,r){if(this.state=e,this._buildParseTrees){let e=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),e._parent=t,t.addChild(e)}this._ctx=t,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(t,e){if(t.altNumber=e,this._buildParseTrees&&this._ctx!==t){let e=this._ctx._parent;null!=e&&(e.removeLastChild(),e.addChild(t))}this._ctx=t}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(t,e,r,n){this.state=e,this._precedenceStack.push(n),this._ctx=t,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,r){let n=this._ctx;n._parent=t,n.invokingState=e,n._stop=this._input.tryLT(-1),this._ctx=t,this._ctx._start=n._start,this._buildParseTrees&&this._ctx.addChild(n),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let e=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=t;e._parent=t,this._buildParseTrees&&null!=t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;e&&e.ruleIndex!==t;)e=e._parent;return e}get context(){return this._ctx}set context(t){this._ctx=t}precpred(t,e){return e>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new g.ProxyParserErrorListener(this.getErrorListeners())}inContext(t){return!1}isExpectedToken(t){let e=this.interpreter.atn,r=this._ctx,n=e.states[this.state],i=e.nextTokens(n);if(i.contains(t))return!0;if(!i.contains(x.Token.EPSILON))return!1;for(;null!=r&&r.invokingState>=0&&i.contains(x.Token.EPSILON);){let n=e.states[r.invokingState].transition(0);if(i=e.nextTokens(n.followState),i.contains(t))return!0;r=r._parent}return!(!i.contains(x.Token.EPSILON)||t!==x.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let t=this.interpreter.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){let e=this.getRuleIndexMap().get(t);return null!=e?e:-1}get ruleContext(){return this._ctx}getRuleInvocationStack(t=this._ctx){let e=t,r=this.ruleNames,n=[];for(;null!=e;){let t=e.ruleIndex;t<0?n.push("n/a"):n.push(r[t]),e=e._parent}return n}getDFAStrings(){let t=[];for(let e of this._interp.atn.decisionToDFA)t.push(e.toString(this.vocabulary,this.ruleNames));return t}dumpDFA(){let t=!1;for(let e of this._interp.atn.decisionToDFA)e.isEmpty||(t&&console.log(),console.log("Decision "+e.decision+":"),process.stdout.write(e.toString(this.vocabulary,this.ruleNames)),t=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then((()=>r(51284))).then((t=>{let e=this.interpreter;if(e instanceof t.ProfilingATNSimulator)return new d.ParseInfo(e)}))}setProfile(t){return o(this,void 0,void 0,(function*(){let e=yield Promise.resolve().then((()=>r(51284))),n=this.interpreter;t?n instanceof e.ProfilingATNSimulator||(this.interpreter=new e.ProfilingATNSimulator(this)):n instanceof e.ProfilingATNSimulator&&(this.interpreter=new y.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(n.getPredictionMode())}))}set isTrace(t){t?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new b(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return null!=this._tracer}}O.bypassAltsAtnCache=new Map,n([f.NotNull],O.prototype,"_errHandler",void 0),n([f.NotNull],O.prototype,"match",null),n([f.NotNull],O.prototype,"matchWildcard",null),n([f.NotNull],O.prototype,"getParseListeners",null),n([i(0,f.NotNull)],O.prototype,"addParseListener",null),n([f.NotNull],O.prototype,"getATNWithBypassAlts",null),n([f.NotNull,i(0,f.NotNull)],O.prototype,"errorHandler",null),n([f.Override],O.prototype,"inputStream",null),n([f.NotNull],O.prototype,"currentToken",null),n([i(0,f.NotNull)],O.prototype,"enterRule",null),n([f.Override,i(0,f.Nullable)],O.prototype,"precpred",null),n([f.Override],O.prototype,"getErrorListenerDispatch",null),n([f.NotNull],O.prototype,"getExpectedTokens",null),n([f.NotNull],O.prototype,"getExpectedTokensWithinCurrentRule",null),n([f.Override],O.prototype,"parseInfo",null),e.Parser=O},60754:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},49274:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserInterpreter=void 0;const o=r(42813),s=r(77037),a=r(46889),l=r(82262),c=r(22468),u=r(3714),h=r(46251),p=r(72399),f=r(72399),d=r(35922),y=r(13161),g=r(79449),v=r(4016),m=r(47760);let x=class t extends d.Parser{constructor(e,r,n,i,o){if(super(e instanceof t?e.inputStream:o),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof t){let t=e;this._grammarFileName=t._grammarFileName,this._atn=t._atn,this.pushRecursionContextStates=t.pushRecursionContextStates,this._ruleNames=t._ruleNames,this._vocabulary=t._vocabulary,this.interpreter=new y.ParserATNSimulator(this._atn,this)}else{this._grammarFileName=e,this._atn=i,this._ruleNames=n.slice(0),this._vocabulary=r,this.pushRecursionContextStates=new a.BitSet(i.states.length);for(let t of i.states)t instanceof v.StarLoopEntryState&&t.precedenceRuleDecision&&this.pushRecursionContextStates.set(t.stateNumber);this.interpreter=new y.ParserATNSimulator(i,this)}}reset(t){void 0===t?super.reset():super.reset(t),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(t){let e=this._atn.ruleToStartState[t];for(this._rootContext=this.createInterpreterRuleContext(void 0,o.ATNState.INVALID_STATE_NUMBER,t),e.isPrecedenceRule?this.enterRecursionRule(this._rootContext,e.stateNumber,t,0):this.enterRule(this._rootContext,e.stateNumber,t);;){let t=this.atnState;if(t.stateType===s.ATNStateType.RULE_STOP){if(this._ctx.isEmpty){if(e.isPrecedenceRule){let t=this._ctx,e=this._parentContextStack.pop();return this.unrollRecursionContexts(e[0]),t}return this.exitRule(),this._rootContext}this.visitRuleStopState(t)}else try{this.visitState(t)}catch(e){if(!(e instanceof g.RecognitionException))throw e;this.state=this._atn.ruleToStopState[t.ruleIndex].stateNumber,this.context.exception=e,this.errorHandler.reportError(this,e),this.recover(e)}}}enterRecursionRule(t,e,r,n){this._parentContextStack.push([this._ctx,t.invokingState]),super.enterRecursionRule(t,e,r,n)}get atnState(){return this._atn.states[this.state]}visitState(t){let e=1;t.numberOfTransitions>1&&(e=this.visitDecisionState(t));let r=t.transition(e-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(t.stateNumber)&&!(r.target instanceof h.LoopEndState)){let e=this._parentContextStack[this._parentContextStack.length-1],r=this.createInterpreterRuleContext(e[0],e[1],this._ctx.ruleIndex);this.pushNewRecursionContext(r,this._atn.ruleToStartState[t.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),m.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let e=r.target,n=e.ruleIndex,i=this.createInterpreterRuleContext(this._ctx,t.stateNumber,n);e.isPrecedenceRule?this.enterRecursionRule(i,e.stateNumber,n,r.precedence):this.enterRule(i,r.target.stateNumber,n);break;case 4:let o=r;if(!this.sempred(this._ctx,o.ruleIndex,o.predIndex))throw new l.FailedPredicateException(this);break;case 6:let s=r;this.action(this._ctx,s.ruleIndex,s.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let t=r.precedence;throw new l.FailedPredicateException(this,`precpred(_ctx, ${t})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(t){let e;this.errorHandler.sync(this);let r=t.decision;return r!==this.overrideDecision||this._input.index!==this.overrideDecisionInputIndex||this.overrideDecisionReached?e=this.interpreter.adaptivePredict(this._input,r,this._ctx):(e=this.overrideDecisionAlt,this.overrideDecisionReached=!0),e}createInterpreterRuleContext(t,e,r){return new u.InterpreterRuleContext(r,t,e)}visitRuleStopState(t){if(this._atn.ruleToStartState[t.ruleIndex].isPrecedenceRule){let t=this._parentContextStack.pop();this.unrollRecursionContexts(t[0]),this.state=t[1]}else this.exitRule();let e=this._atn.states[this.state].transition(0);this.state=e.followState.stateNumber}addDecisionOverride(t,e,r){this.overrideDecision=t,this.overrideDecisionInputIndex=e,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(t){let e=this._input.index;if(this.errorHandler.recover(this,t),this._input.index===e){let e=t.getOffendingToken();if(!e)throw new Error("Expected exception to have an offending token");let r=e.tokenSource,n={source:r,stream:void 0!==r?r.inputStream:void 0};if(t instanceof c.InputMismatchException){let r=t.expectedTokens;if(void 0===r)throw new Error("Expected the exception to provide expected tokens");let i=m.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let o=this.tokenFactory.create(n,i,e.text,m.Token.DEFAULT_CHANNEL,-1,-1,e.line,e.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,o))}else{e.tokenSource;let t=this.tokenFactory.create(n,m.Token.INVALID_TYPE,e.text,m.Token.DEFAULT_CHANNEL,-1,-1,e.line,e.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};n([p.NotNull],x.prototype,"_vocabulary",void 0),n([f.Override],x.prototype,"reset",null),n([f.Override],x.prototype,"atn",null),n([f.Override],x.prototype,"vocabulary",null),n([f.Override],x.prototype,"ruleNames",null),n([f.Override],x.prototype,"grammarFileName",null),n([f.Override],x.prototype,"enterRecursionRule",null),x=n([i(1,p.NotNull)],x),e.ParserInterpreter=x},41097:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserRuleContext=void 0;const i=r(61964),o=r(7477),s=r(72399),a=r(89984),l=r(30360);class c extends a.RuleContext{constructor(t,e){null==e?super():super(t,e)}static emptyContext(){return c.EMPTY}copyFrom(t){if(this._parent=t._parent,this.invokingState=t.invokingState,this._start=t._start,this._stop=t._stop,t.children){this.children=[];for(let e of t.children)e instanceof i.ErrorNode&&this.addChild(e)}}enterRule(t){}exitRule(t){}addAnyChild(t){return this.children?this.children.push(t):this.children=[t],t}addChild(t){return t instanceof l.TerminalNode?(t.setParent(this),void this.addAnyChild(t)):t instanceof a.RuleContext?void this.addAnyChild(t):(t=new l.TerminalNode(t),this.addAnyChild(t),t.setParent(this),t)}addErrorNode(t){if(t instanceof i.ErrorNode){const e=t;return e.setParent(this),this.addAnyChild(e)}{const e=t;let r=new i.ErrorNode(e);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let t=super.parent;if(void 0===t||t instanceof c)return t;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(t,e){if(!this.children||t<0||t>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(null==e)return this.children[t];let r=this.tryGetChild(t,e);if(void 0===r)throw new Error("The specified node does not exist");return r}tryGetChild(t,e){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let n of this.children)if(n instanceof e&&(r++,r===t))return n}getToken(t,e){let r=this.tryGetToken(t,e);if(void 0===r)throw new Error("The specified token does not exist");return r}tryGetToken(t,e){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let n of this.children)if(n instanceof l.TerminalNode){if(n.symbol.type===t&&(r++,r===e))return n}}getTokens(t){let e=[];if(!this.children)return e;for(let r of this.children)if(r instanceof l.TerminalNode){r.symbol.type===t&&e.push(r)}return e}get ruleContext(){return this}getRuleContext(t,e){return this.getChild(t,e)}tryGetRuleContext(t,e){return this.tryGetChild(t,e)}getRuleContexts(t){let e=[];if(!this.children)return e;for(let r of this.children)r instanceof t&&e.push(r);return e}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?o.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):o.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):o.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(t){return"ParserRuleContext"+t.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}}c.EMPTY=new c,n([s.Override],c.prototype,"parent",null),n([s.Override],c.prototype,"childCount",null),n([s.Override],c.prototype,"sourceInterval",null),e.ParserRuleContext=c},57115:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyErrorListener=void 0;const o=r(72399);class s{constructor(t){if(this.delegates=t,!t)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(t,e,r,n,i,o){this.delegates.forEach((s=>{s.syntaxError&&s.syntaxError(t,e,r,n,i,o)}))}}n([o.Override,i(0,o.NotNull),i(4,o.NotNull)],s.prototype,"syntaxError",null),e.ProxyErrorListener=s},86142:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyParserErrorListener=void 0;const i=r(57115),o=r(72399);class s extends i.ProxyErrorListener{constructor(t){super(t)}reportAmbiguity(t,e,r,n,i,o,s){this.getDelegates().forEach((a=>{a.reportAmbiguity&&a.reportAmbiguity(t,e,r,n,i,o,s)}))}reportAttemptingFullContext(t,e,r,n,i,o){this.getDelegates().forEach((s=>{s.reportAttemptingFullContext&&s.reportAttemptingFullContext(t,e,r,n,i,o)}))}reportContextSensitivity(t,e,r,n,i,o){this.getDelegates().forEach((s=>{s.reportContextSensitivity&&s.reportContextSensitivity(t,e,r,n,i,o)}))}}n([o.Override],s.prototype,"reportAmbiguity",null),n([o.Override],s.prototype,"reportAttemptingFullContext",null),n([o.Override],s.prototype,"reportContextSensitivity",null),e.ProxyParserErrorListener=s},79449:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionException=void 0;class r extends Error{constructor(t,e,r,n){super(n),this._offendingState=-1,this._recognizer=t,this.input=e,this.ctx=r,t&&(this._offendingState=t.state)}get offendingState(){return this._offendingState}setOffendingState(t){this._offendingState=t}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(t){if(!t||t===this._recognizer)return this.offendingToken}setOffendingToken(t,e){t===this._recognizer&&(this.offendingToken=e)}get recognizer(){return this._recognizer}}e.RecognitionException=r},18831:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Recognizer=void 0;const o=r(13196),s=r(57115),a=r(72399),l=r(47760),c=r(40659);class u{constructor(){this._listeners=[o.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let t=this.vocabulary,e=u.tokenTypeMapCache.get(t);if(null==e){let r=new Map;for(let e=0;e<=this.atn.maxTokenType;e++){let n=t.getLiteralName(e);null!=n&&r.set(n,e);let i=t.getSymbolicName(e);null!=i&&r.set(i,e)}r.set("EOF",l.Token.EOF),e=r,u.tokenTypeMapCache.set(t,e)}return e}getRuleIndexMap(){let t=this.ruleNames;if(null==t)throw new Error("The current recognizer does not provide a list of rule names.");let e=u.ruleIndexMapCache.get(t);return null==e&&(e=c.toMap(t),u.ruleIndexMapCache.set(t,e)),e}getTokenType(t){let e=this.getTokenTypeMap().get(t);return null!=e?e:l.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(t){this._interp=t}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(t){let e=t.getOffendingToken();return e?"line "+e.line+":"+e.charPositionInLine:""}addErrorListener(t){if(!t)throw new TypeError("listener must not be null");this._listeners.push(t)}removeErrorListener(t){let e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new s.ProxyErrorListener(this.getErrorListeners())}sempred(t,e,r){return!0}precpred(t,e){return!0}action(t,e,r){}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,n([a.SuppressWarnings("serial"),a.NotNull],u.prototype,"_listeners",void 0),n([a.NotNull],u.prototype,"getTokenTypeMap",null),n([a.NotNull],u.prototype,"getRuleIndexMap",null),n([a.NotNull],u.prototype,"serializedATN",null),n([a.NotNull],u.prototype,"atn",null),n([a.NotNull,i(0,a.NotNull)],u.prototype,"interpreter",null),n([a.NotNull,i(0,a.NotNull)],u.prototype,"getErrorHeader",null),n([i(0,a.NotNull)],u.prototype,"addErrorListener",null),n([i(0,a.NotNull)],u.prototype,"removeErrorListener",null),n([a.NotNull],u.prototype,"getErrorListeners",null),e.Recognizer=u},89984:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleContext=void 0;const i=r(74274),o=r(18831),s=r(85378),a=r(7477),l=r(72399),c=r(7239),u=r(41097);class h extends s.RuleNode{constructor(t,e){super(),this._parent=t,this.invokingState=null!=e?e:-1}static getChildContext(t,e){return new h(t,e)}depth(){let t=0,e=this;for(;e;)e=e._parent,t++;return t}get isEmpty(){return-1===this.invokingState}get sourceInterval(){return a.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(t){this._parent=t}get payload(){return this}get text(){if(0===this.childCount)return"";let t="";for(let e=0;e<this.childCount;e++)t+=this.getChild(e).text;return t.toString()}get ruleIndex(){return-1}get altNumber(){return i.ATN.INVALID_ALT_NUMBER}set altNumber(t){}getChild(t){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t){return c.Trees.toStringTree(this,t)}toString(t,e){const r=t instanceof o.Recognizer?t.ruleNames:t;e=e||u.ParserRuleContext.emptyContext();let n="",i=this;for(n+="[";i&&i!==e;){if(r){let t=i.ruleIndex;n+=t>=0&&t<r.length?r[t]:t.toString()}else i.isEmpty||(n+=i.invokingState);!i._parent||!r&&i._parent.isEmpty||(n+=" "),i=i._parent}return n+="]",n.toString()}}n([l.Override],h.prototype,"sourceInterval",null),n([l.Override],h.prototype,"ruleContext",null),n([l.Override],h.prototype,"parent",null),n([l.Override],h.prototype,"setParent",null),n([l.Override],h.prototype,"payload",null),n([l.Override],h.prototype,"text",null),n([l.Override],h.prototype,"getChild",null),n([l.Override],h.prototype,"childCount",null),n([l.Override],h.prototype,"accept",null),n([l.Override],h.prototype,"toStringTree",null),e.RuleContext=h},35481:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleContextWithAltNum=void 0;const i=r(74274),o=r(72399),s=r(41097);class a extends s.ParserRuleContext{constructor(t,e){void 0!==e?super(t,e):super(),this._altNumber=i.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(t){this._altNumber=t}}n([o.Override],a.prototype,"altNumber",null),e.RuleContextWithAltNum=a},33530:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleDependency=void 0,e.RuleDependency=function(t){return(t,e,r)=>{}}},74275:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleVersion=void 0,e.RuleVersion=function(t){return(t,e,r)=>{}}},47760:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const n=r(71492);!function(t){t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=n.IntStream.EOF,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1,t.MIN_USER_CHANNEL_VALUE=2}(e.Token||(e.Token={}))},81668:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},58369:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},53696:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},92806:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RewriteOperation=e.TokenStreamRewriter=void 0;const i=r(7477),o=r(72399),s=r(47760);class a{constructor(t){this.tokens=t,this.programs=new Map,this.programs.set(a.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(t,e=a.DEFAULT_PROGRAM_NAME){let r=this.programs.get(e);null!=r&&this.programs.set(e,r.slice(a.MIN_TOKEN_INDEX,t))}deleteProgram(t=a.DEFAULT_PROGRAM_NAME){this.rollback(a.MIN_TOKEN_INDEX,t)}insertAfter(t,e,r=a.DEFAULT_PROGRAM_NAME){let n;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),o=new u(this.tokens,n,i.length,e);i.push(o)}insertBefore(t,e,r=a.DEFAULT_PROGRAM_NAME){let n;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),o=new c(this.tokens,n,i.length,e);i.push(o)}replaceSingle(t,e){this.replace(t,t,e)}replace(t,e,r,n=a.DEFAULT_PROGRAM_NAME){if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(n),o=new h(this.tokens,t,e,i.length,r);i.push(o)}delete(t,e,r=a.DEFAULT_PROGRAM_NAME){void 0===e&&(e=t),this.replace(t,e,"",r)}getLastRewriteTokenIndex(t=a.DEFAULT_PROGRAM_NAME){let e=this.lastRewriteTokenIndexes.get(t);return null==e?-1:e}setLastRewriteTokenIndex(t,e){this.lastRewriteTokenIndexes.set(t,e)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){let e=[];return this.programs.set(t,e),e}getText(t,e=a.DEFAULT_PROGRAM_NAME){let r;r=t instanceof i.Interval?t:i.Interval.of(0,this.tokens.size-1),"string"==typeof t&&(e=t);let n=this.programs.get(e),o=r.a,l=r.b;if(l>this.tokens.size-1&&(l=this.tokens.size-1),o<0&&(o=0),null==n||0===n.length)return this.tokens.getText(r);let c=[],u=this.reduceToSingleOperationPerIndex(n),h=o;for(;h<=l&&h<this.tokens.size;){let t=u.get(h);u.delete(h);let e=this.tokens.get(h);null==t?(e.type!==s.Token.EOF&&c.push(String(e.text)),h++):h=t.execute(c)}if(l===this.tokens.size-1)for(let t of u.values())t.index>=this.tokens.size-1&&c.push(t.text.toString());return c.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let r=t[e];if(null==r)continue;if(!(r instanceof h))continue;let n=r,i=this.getKindOfOps(t,c,e);for(let e of i)e.index===n.index?(t[e.instructionIndex]=void 0,n.text=e.text.toString()+(null!=n.text?n.text.toString():"")):e.index>n.index&&e.index<=n.lastIndex&&(t[e.instructionIndex]=void 0);let o=this.getKindOfOps(t,h,e);for(let e of o){if(e.index>=n.index&&e.lastIndex<=n.lastIndex){t[e.instructionIndex]=void 0;continue}let r=e.lastIndex<n.index||e.index>n.lastIndex;if(null!=e.text||null!=n.text||r){if(!r)throw new Error(`replace op boundaries of ${n} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,n.index=Math.min(e.index,n.index),n.lastIndex=Math.max(e.lastIndex,n.lastIndex)}}for(let e=0;e<t.length;e++){let r=t[e];if(null==r)continue;if(!(r instanceof c))continue;let n=r,i=this.getKindOfOps(t,c,e);for(let e of i)e.index===n.index&&(e instanceof u?(n.text=this.catOpText(e.text,n.text),t[e.instructionIndex]=void 0):e instanceof c&&(n.text=this.catOpText(n.text,e.text),t[e.instructionIndex]=void 0));let o=this.getKindOfOps(t,h,e);for(let r of o)if(n.index!==r.index){if(n.index>=r.index&&n.index<=r.lastIndex)throw new Error(`insert op ${n} within boundaries of previous ${r}`)}else r.text=this.catOpText(n.text,r.text),t[e]=void 0}let e=new Map;for(let r of t)if(null!=r){if(null!=e.get(r.index))throw new Error("should only be one op per index");e.set(r.index,r)}return e}catOpText(t,e){let r="",n="";return null!=t&&(r=t.toString()),null!=e&&(n=e.toString()),r+n}getKindOfOps(t,e,r){let n=[];for(let i=0;i<r&&i<t.length;i++){let r=t[i];null!=r&&(r instanceof e&&n.push(r))}return n}}e.TokenStreamRewriter=a,a.DEFAULT_PROGRAM_NAME="default",a.PROGRAM_INIT_SIZE=100,a.MIN_TOKEN_INDEX=0;class l{constructor(t,e,r,n){this.tokens=t,this.instructionIndex=r,this.index=e,this.text=void 0===n?"":n}execute(t){return this.index}toString(){let t=this.constructor.name,e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}n([o.Override],l.prototype,"toString",null),e.RewriteOperation=l;class c extends l{constructor(t,e,r,n){super(t,e,r,n)}execute(t){return t.push(this.text.toString()),this.tokens.get(this.index).type!==s.Token.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}n([o.Override],c.prototype,"execute",null);class u extends c{constructor(t,e,r,n){super(t,e+1,r,n)}}class h extends l{constructor(t,e,r,n,i){super(t,e,n,i),this.lastIndex=r}execute(t){return null!=this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}n([o.Override],h.prototype,"execute",null),n([o.Override],h.prototype,"toString",null)},68897:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},67435:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.VocabularyImpl=void 0;const i=r(72399),o=r(47760);class s{constructor(t,e,r){this.literalNames=t,this.symbolicNames=e,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(t){if(t>=0&&t<this.literalNames.length)return this.literalNames[t]}getSymbolicName(t){return t>=0&&t<this.symbolicNames.length?this.symbolicNames[t]:t===o.Token.EOF?"EOF":void 0}getDisplayName(t){if(t>=0&&t<this.displayNames.length){let e=this.displayNames[t];if(e)return e}let e=this.getLiteralName(t);if(e)return e;let r=this.getSymbolicName(t);return r||String(t)}}s.EMPTY_VOCABULARY=new s([],[],[]),n([i.NotNull],s.prototype,"literalNames",void 0),n([i.NotNull],s.prototype,"symbolicNames",void 0),n([i.NotNull],s.prototype,"displayNames",void 0),n([i.Override],s.prototype,"maxTokenType",null),n([i.Override],s.prototype,"getLiteralName",null),n([i.Override],s.prototype,"getSymbolicName",null),n([i.Override,i.NotNull],s.prototype,"getDisplayName",null),n([i.NotNull],s,"EMPTY_VOCABULARY",void 0),e.VocabularyImpl=s},45116:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},74274:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const o=r(73907),s=r(73074),a=r(83357),l=r(9803),c=r(39462),u=r(72399),h=r(70436),p=r(78859),f=r(47760),d=r(94148);let y=class{constructor(t,e){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new o.Array2DHashMap(h.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=t,this.maxTokenType=e}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let t=0;t<this.decisionToDFA.length;t++)this.decisionToDFA[t]=new s.DFA(this.decisionToState[t],t);this.modeToDFA=new Array(this.modeToStartState.length);for(let t=0;t<this.modeToDFA.length;t++)this.modeToDFA[t]=new s.DFA(this.modeToStartState[t]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(t){return p.PredictionContext.getCachedContext(t,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return d(null!=this.decisionToDFA&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(t,e){if(e){return new c.LL1Analyzer(this).LOOK(t,e)}return t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokens(t,p.PredictionContext.EMPTY_LOCAL),t.nextTokenWithinRule.setReadonly(!0)),t.nextTokenWithinRule}addState(t){t.atn=this,t.stateNumber=this.states.length,this.states.push(t)}removeState(t){let e=new l.InvalidState;e.atn=this,e.stateNumber=t.stateNumber,this.states[t.stateNumber]=e}defineMode(t,e){this.modeNameToStartState.set(t,e),this.modeToStartState.push(e),this.modeToDFA.push(new s.DFA(e)),this.defineDecisionState(e)}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(t,t.decision)),t.decision}getDecisionState(t){if(this.decisionToState.length>0)return this.decisionToState[t]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw new RangeError("Invalid state number.");let r=e,n=this.states[t],i=this.nextTokens(n);if(!i.contains(f.Token.EPSILON))return i;let o=new a.IntervalSet;for(o.addAll(i),o.remove(f.Token.EPSILON);null!=r&&r.invokingState>=0&&i.contains(f.Token.EPSILON);){let t=this.states[r.invokingState].transition(0);i=this.nextTokens(t.followState),o.addAll(i),o.remove(f.Token.EPSILON),r=r._parent}return i.contains(f.Token.EPSILON)&&o.add(f.Token.EOF),o}};n([u.NotNull],y.prototype,"states",void 0),n([u.NotNull],y.prototype,"decisionToState",void 0),n([u.NotNull],y.prototype,"modeNameToStartState",void 0),n([u.NotNull],y.prototype,"modeToStartState",void 0),n([u.NotNull],y.prototype,"decisionToDFA",void 0),n([u.NotNull],y.prototype,"modeToDFA",void 0),n([u.NotNull],y.prototype,"nextTokens",null),n([i(0,u.NotNull)],y.prototype,"removeState",null),n([i(0,u.NotNull),i(1,u.NotNull)],y.prototype,"defineMode",null),n([i(0,u.NotNull)],y.prototype,"defineDecisionState",null),n([u.NotNull],y.prototype,"getExpectedTokens",null),y=n([i(0,u.NotNull)],y),e.ATN=y,function(t){t.INVALID_ALT_NUMBER=0}(y=e.ATN||(e.ATN={})),e.ATN=y},78880:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNConfig=void 0;const o=r(73907),s=r(38016),a=r(75636),l=r(72399),c=r(70436),u=r(78859),h=r(32356),p=r(94148),f=2147483648;let d=class t{constructor(t,e,r){"number"==typeof e?(p((16777215&e)===e),this._state=t,this.altAndOuterContextDepth=e,this._context=r):(this._state=t,this.altAndOuterContextDepth=e.altAndOuterContextDepth,this._context=r)}static create(e,r,n,i=h.SemanticContext.NONE,o){return i!==h.SemanticContext.NONE?null!=o?new v(o,i,e,r,n,!1):new y(i,e,r,n):null!=o?new g(o,e,r,n,!1):new t(e,r,n)}get state(){return this._state}get alt(){return 16777215&this.altAndOuterContextDepth}get context(){return this._context}set context(t){this._context=t}get reachesIntoOuterContext(){return 0!==this.outerContextDepth}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(t){p(t>=0),t=Math.min(t,127),this.altAndOuterContextDepth=t<<24|(-2130706433&this.altAndOuterContextDepth)>>>0}get lexerActionExecutor(){}get semanticContext(){return h.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(t,e,r){return null==r?this.transformImpl(t,this._context,this.semanticContext,e,this.lexerActionExecutor):r instanceof u.PredictionContext?this.transformImpl(t,r,this.semanticContext,e,this.lexerActionExecutor):r instanceof h.SemanticContext?this.transformImpl(t,this._context,r,e,this.lexerActionExecutor):this.transformImpl(t,this._context,this.semanticContext,e,r)}transformImpl(e,r,n,i,o){let s=i&&t.checkNonGreedyDecision(this,e);return n!==h.SemanticContext.NONE?null!=o||s?new v(o,n,e,this,r,s):new y(n,e,this,r):null!=o||s?new g(o,e,this,r,s):new t(e,this,r)}static checkNonGreedyDecision(t,e){return t.hasPassedThroughNonGreedyDecision||e instanceof s.DecisionState&&e.nonGreedy}appendContext(t,e){if("number"==typeof t){let r=this.context.appendSingleContext(t,e);return this.transform(this.state,!1,r)}{let r=this.context.appendContext(t,e);return this.transform(this.state,!1,r)}}contains(t){if(this.state.stateNumber!==t.state.stateNumber||this.alt!==t.alt||!this.semanticContext.equals(t.semanticContext))return!1;let e=[],r=[];for(e.push(this.context),r.push(t.context);;){let t=e.pop(),n=r.pop();if(!t||!n)break;if(t===n)return!0;if(t.size<n.size)return!1;if(n.isEmpty)return t.hasEmpty;for(let i=0;i<n.size;i++){let o=t.findReturnState(n.getReturnState(i));if(o<0)return!1;e.push(t.getParent(o)),r.push(n.getParent(i))}}return!1}get isPrecedenceFilterSuppressed(){return!!(this.altAndOuterContextDepth&f)}set isPrecedenceFilterSuppressed(t){t?this.altAndOuterContextDepth|=f:this.altAndOuterContextDepth&=2147483647}equals(e){return this===e||e instanceof t&&(this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&c.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor))}hashCode(){let t=a.MurmurHash.initialize(7);return t=a.MurmurHash.update(t,this.state.stateNumber),t=a.MurmurHash.update(t,this.alt),t=a.MurmurHash.update(t,this.reachesIntoOuterContext?1:0),t=a.MurmurHash.update(t,this.context),t=a.MurmurHash.update(t,this.semanticContext),t=a.MurmurHash.update(t,this.hasPassedThroughNonGreedyDecision?1:0),t=a.MurmurHash.update(t,this.lexerActionExecutor),t=a.MurmurHash.finish(t,7),t}toDotString(){let t="";t+="digraph G {\n",t+="rankdir=LR;\n";let e=new o.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function n(t){let n=e.size,i=e.putIfAbsent(t,n);return null!=i?i:(r.push(t),n)}for(r.push(this.context),e.put(this.context,0);;){let e=r.pop();if(!e)break;for(let r=0;r<e.size;r++)t+="  s"+n(e),t+="->",t+="s"+n(e.getParent(r)),t+='[label="'+e.getReturnState(r)+'"];\n'}return t+="}\n",t.toString()}toString(t,e,r){null==r&&(r=null!=e),null==e&&(e=!0);let n,i="";n=r?this.context.toStrings(t,this.state.stateNumber):["?"];let o=!0;for(let t of n)o?o=!1:i+=", ",i+="(",i+=this.state,e&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=t),this.semanticContext!==h.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};n([l.NotNull],d.prototype,"_state",void 0),n([l.NotNull],d.prototype,"_context",void 0),n([l.NotNull],d.prototype,"state",null),n([l.NotNull,i(0,l.NotNull)],d.prototype,"context",null),n([l.NotNull],d.prototype,"semanticContext",null),n([l.Override],d.prototype,"clone",null),n([i(0,l.NotNull),i(2,l.NotNull)],d.prototype,"transformImpl",null),n([l.Override],d.prototype,"equals",null),n([l.Override],d.prototype,"hashCode",null),n([i(0,l.NotNull),i(3,l.NotNull)],d,"create",null),d=n([i(0,l.NotNull),i(2,l.NotNull)],d),e.ATNConfig=d;let y=class extends d{constructor(t,e,r,n){super(e,r,n),this._semanticContext=t}get semanticContext(){return this._semanticContext}};n([l.NotNull],y.prototype,"_semanticContext",void 0),n([l.Override],y.prototype,"semanticContext",null),y=n([i(1,l.NotNull),i(2,l.NotNull)],y);let g=class extends d{constructor(t,e,r,n,i){if("number"==typeof r)super(e,r,n);else if(super(e,r,n),r.semanticContext!==h.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=i}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};n([l.Override],g.prototype,"lexerActionExecutor",null),n([l.Override],g.prototype,"hasPassedThroughNonGreedyDecision",null),g=n([i(1,l.NotNull),i(2,l.NotNull)],g);let v=class extends y{constructor(t,e,r,n,i,o){super(e,r,n,i),this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};n([l.Override],v.prototype,"lexerActionExecutor",null),n([l.Override],v.prototype,"hasPassedThroughNonGreedyDecision",null),v=n([i(1,l.NotNull),i(2,l.NotNull)],v)},43258:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNConfigSet=void 0;const i=r(73907),o=r(1533),s=r(8151),a=r(74274),l=r(78880),c=r(46889),u=r(72399),h=r(70436),p=r(78859),f=r(56409),d=r(32356),y=r(94148),g=r(40659);class v{hashCode(t){return t.state^t.alt}equals(t,e){return t.state===e.state&&t.alt===e.alt}}function m(t){return t?new i.Array2DHashMap(t):new i.Array2DHashMap(v.INSTANCE)}v.INSTANCE=new v;class x{constructor(t,e){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,t?(e?(this.mergedConfigs=void 0,this.unmerged=void 0):t.isReadOnly?(this.mergedConfigs=m(),this.unmerged=[]):(this.mergedConfigs=m(t.mergedConfigs),this.unmerged=t.unmerged.slice(0)),this.configs=t.configs.slice(0),this._dipsIntoOuterContext=t._dipsIntoOuterContext,this._hasSemanticContext=t._hasSemanticContext,this.outermostConfigSet=t.outermostConfigSet,!e&&t.isReadOnly||(this._uniqueAlt=t._uniqueAlt,this._conflictInfo=t._conflictInfo)):(this.mergedConfigs=m(),this.unmerged=[],this.configs=[],this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts.clone();let t=new c.BitSet;for(let e of this)t.set(e.alt);return t}get isReadOnly(){return null==this.mergedConfigs}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(t){if(this.outermostConfigSet&&!t)throw new Error("IllegalStateException");y(!t||!this._dipsIntoOuterContext),this.outermostConfigSet=t}getStates(){let t=new o.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);for(let e of this.configs)t.add(e.state);return t}optimizeConfigs(t){if(0!==this.configs.length)for(let e of this.configs)e.context=t.atn.getCachedContext(e.context)}clone(t){let e=new x(this,t);return!t&&this.isReadOnly&&e.addAll(this.configs),e}get size(){return this.configs.length}get isEmpty(){return 0===this.configs.length}contains(t){if(!(t instanceof l.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let e=t,r=this.getKey(e),n=this.mergedConfigs.get(r);if(null!=n&&this.canMerge(e,r,n))return n.contains(e);for(let e of this.unmerged)if(e.contains(t))return!0}else for(let e of this.configs)if(e.contains(t))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(t,e){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");let r;y(!this.outermostConfigSet||!t.reachesIntoOuterContext),null==e&&(e=f.PredictionContextCache.UNCACHED);let n=this.getKey(t),i=this.mergedConfigs.get(n);if(r=null==i,null!=i&&this.canMerge(t,n,i)){i.outerContextDepth=Math.max(i.outerContextDepth,t.outerContextDepth),t.isPrecedenceFilterSuppressed&&(i.isPrecedenceFilterSuppressed=!0);let r=p.PredictionContext.join(i.context,t.context,e);return this.updatePropertiesForMergedConfig(t),i.context===r?!1:(i.context=r,!0)}for(let i=0;i<this.unmerged.length;i++){let o=this.unmerged[i];if(this.canMerge(t,n,o)){o.outerContextDepth=Math.max(o.outerContextDepth,t.outerContextDepth),t.isPrecedenceFilterSuppressed&&(o.isPrecedenceFilterSuppressed=!0);let s=p.PredictionContext.join(o.context,t.context,e);return this.updatePropertiesForMergedConfig(t),o.context===s?!1:(o.context=s,r&&(this.mergedConfigs.put(n,o),this.unmerged.splice(i,1)),!0)}}return this.configs.push(t),r?this.mergedConfigs.put(n,t):this.unmerged.push(t),this.updatePropertiesForAddedConfig(t),!0}updatePropertiesForMergedConfig(t){this._dipsIntoOuterContext=this._dipsIntoOuterContext||t.reachesIntoOuterContext,y(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(t){1===this.configs.length?this._uniqueAlt=t.alt:this._uniqueAlt!==t.alt&&(this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!d.SemanticContext.NONE.equals(t.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||t.reachesIntoOuterContext,y(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(t,e,r){return t.state.stateNumber===r.state.stateNumber&&(e.alt===r.alt&&t.semanticContext.equals(r.semanticContext))}getKey(t){return{state:t.state.stateNumber,alt:t.alt}}containsAll(t){for(let e of t){if(!(e instanceof l.ATNConfig))return!1;if(!this.contains(e))return!1}return!0}addAll(t,e){this.ensureWritable();let r=!1;for(let n of t)this.add(n,e)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(t){return this===t||t instanceof x&&(this.outermostConfigSet===t.outermostConfigSet&&g.equals(this._conflictInfo,t._conflictInfo)&&s.ArrayEqualityComparator.INSTANCE.equals(this.configs,t.configs))}hashCode(){if(this.isReadOnly&&-1!==this.cachedHashCode)return this.cachedHashCode;let t=1;return t=5*t^(this.outermostConfigSet?1:0),t=5*t^s.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=t),t}toString(t){null==t&&(t=!1);let e="",r=this.configs.slice(0);r.sort(((t,e)=>t.alt!==e.alt?t.alt-e.alt:t.state.stateNumber!==e.state.stateNumber?t.state.stateNumber-e.state.stateNumber:t.semanticContext.toString().localeCompare(e.semanticContext.toString()))),e+="[";for(let n=0;n<r.length;n++)n>0&&(e+=", "),e+=r[n].toString(void 0,!0,t);return e+="]",this._hasSemanticContext&&(e+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==a.ATN.INVALID_ALT_NUMBER&&(e+=",uniqueAlt="+this._uniqueAlt),null!=this._conflictInfo&&(e+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(e+="*")),this._dipsIntoOuterContext&&(e+=",dipsIntoOuterContext"),e.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(t){this.ensureWritable(),this._hasSemanticContext=t}get conflictInfo(){return this._conflictInfo}set conflictInfo(t){this.ensureWritable(),this._conflictInfo=t}get conflictingAlts(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts}get isExactConflict(){return null!=this._conflictInfo&&this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(t){return this.configs[t]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}}n([u.NotNull],x.prototype,"getRepresentedAlternatives",null),n([u.Override],x.prototype,"size",null),n([u.Override],x.prototype,"isEmpty",null),n([u.Override],x.prototype,"contains",null),n([u.Override],x.prototype,Symbol.iterator,null),n([u.Override],x.prototype,"toArray",null),n([u.Override],x.prototype,"containsAll",null),n([u.Override],x.prototype,"clear",null),n([u.Override],x.prototype,"equals",null),n([u.Override],x.prototype,"hashCode",null),e.ATNConfigSet=x},28955:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNDeserializationOptions=void 0;const i=r(72399);class o{constructor(t){this.readOnly=!1,t?(this.verifyATN=t.verifyATN,this.generateRuleBypassTransitions=t.generateRuleBypassTransitions,this.optimize=t.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return null==o._defaultOptions&&(o._defaultOptions=new o,o._defaultOptions.makeReadOnly()),o._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(t){this.throwIfReadOnly(),this.verifyATN=t}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(t){this.throwIfReadOnly(),this.generateRuleBypassTransitions=t}get isOptimize(){return this.optimize}set isOptimize(t){this.throwIfReadOnly(),this.optimize=t}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}n([i.NotNull],o,"defaultOptions",null),e.ATNDeserializationOptions=o},60493:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNDeserializer=void 0;const o=r(29202),s=r(1533),a=r(74274),l=r(28955),c=r(77037),u=r(5369),h=r(38749),p=r(78744),f=r(46889),d=r(50760),y=r(93099),g=r(38016),v=r(73074),m=r(29250),x=r(83357),b=r(9803),O=r(23972),S=r(37920),A=r(49616),E=r(56474),T=r(94283),N=r(84520),_=r(38240),w=r(16479),k=r(46251),C=r(72399),R=r(33575),P=r(13161),I=r(64891),j=r(66305),L=r(66061),M=r(6369),D=r(93053),q=r(79240),F=r(8840),B=r(23334),U=r(21384),z=r(38195),V=r(5481),J=r(4016),H=r(47760),W=r(68644),G=r(88567),Y=r(24650);var K;!function(t){t[t.UNICODE_BMP=0]="UNICODE_BMP",t[t.UNICODE_SMP=1]="UNICODE_SMP"}(K||(K={}));class ${constructor(t){void 0===t&&(t=l.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=t}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(t,e){let r=$.SUPPORTED_UUIDS.findIndex((e=>e.equals(t)));return!(r<0)&&$.SUPPORTED_UUIDS.findIndex((t=>t.equals(e)))>=r}static getUnicodeDeserializer(t){return 0===t?{readUnicode:(t,e)=>$.toInt(t[e]),size:1}:{readUnicode:(t,e)=>$.toInt32(t,e),size:2}}deserialize(t){t=t.slice(0);for(let e=1;e<t.length;e++)t[e]=t[e]-2&65535;let e=0,r=$.toInt(t[e++]);if(r!==$.SERIALIZED_VERSION){let t=`Could not deserialize ATN with version ${r} (expected ${$.SERIALIZED_VERSION}).`;throw new Error(t)}let n=$.toUUID(t,e);if(e+=8,$.SUPPORTED_UUIDS.findIndex((t=>t.equals(n)))<0){let t=`Could not deserialize ATN with UUID ${n} (expected ${$.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(t)}let i=$.isFeatureSupported($.ADDED_LEXER_ACTIONS,n),l=$.toInt(t[e++]),f=$.toInt(t[e++]),g=new a.ATN(l,f),x=[],O=[],A=$.toInt(t[e++]);for(let r=0;r<A;r++){let r=$.toInt(t[e++]);if(r===c.ATNStateType.INVALID_TYPE){g.addState(new b.InvalidState);continue}let n=$.toInt(t[e++]);65535===n&&(n=-1);let i=this.stateFactory(r,n);if(r===c.ATNStateType.LOOP_END){let r=$.toInt(t[e++]);x.push([i,r])}else if(i instanceof y.BlockStartState){let r=$.toInt(t[e++]);O.push([i,r])}g.addState(i)}for(let t of x)t[0].loopBackState=g.states[t[1]];for(let t of O)t[0].endState=g.states[t[1]];let E=$.toInt(t[e++]);for(let r=0;r<E;r++){let r=$.toInt(t[e++]);g.states[r].nonGreedy=!0}let T=$.toInt(t[e++]);for(let r=0;r<T;r++){let r=$.toInt(t[e++]);g.states[r].sll=!0}let N=$.toInt(t[e++]);for(let r=0;r<N;r++){let r=$.toInt(t[e++]);g.states[r].isPrecedenceRule=!0}let _=$.toInt(t[e++]);0===g.grammarType&&(g.ruleToTokenType=new Int32Array(_)),g.ruleToStartState=new Array(_);for(let r=0;r<_;r++){let i=$.toInt(t[e++]),o=g.states[i];if(o.leftFactored=0!==$.toInt(t[e++]),g.ruleToStartState[r]=o,0===g.grammarType){let i=$.toInt(t[e++]);if(65535===i&&(i=H.Token.EOF),g.ruleToTokenType[r]=i,!$.isFeatureSupported($.ADDED_LEXER_ACTIONS,n)){let r=$.toInt(t[e++]);65535===r&&(r=-1)}}}g.ruleToStopState=new Array(_);for(let t of g.states)t instanceof F.RuleStopState&&(g.ruleToStopState[t.ruleIndex]=t,g.ruleToStartState[t.ruleIndex].stopState=t);let w=$.toInt(t[e++]);for(let r=0;r<w;r++){let r=$.toInt(t[e++]);g.modeToStartState.push(g.states[r])}g.modeToDFA=new Array(w);for(let t=0;t<w;t++)g.modeToDFA[t]=new v.DFA(g.modeToStartState[t]);let C=[];e=this.deserializeSets(t,e,C,$.getUnicodeDeserializer(0)),$.isFeatureSupported($.ADDED_UNICODE_SMP,n)&&(e=this.deserializeSets(t,e,C,$.getUnicodeDeserializer(1)));let R=$.toInt(t[e++]);for(let r=0;r<R;r++){let r=$.toInt(t[e]),n=$.toInt(t[e+1]),i=$.toInt(t[e+2]),o=$.toInt(t[e+3]),s=$.toInt(t[e+4]),a=$.toInt(t[e+5]),l=this.edgeFactory(g,i,r,n,o,s,a,C);g.states[r].addTransition(l),e+=6}let P=new s.Array2DHashSet({hashCode:t=>t.stopState^t.returnState^t.outermostPrecedenceReturn,equals:(t,e)=>t.stopState===e.stopState&&t.returnState===e.returnState&&t.outermostPrecedenceReturn===e.outermostPrecedenceReturn}),L=[];for(let t of g.states){let e=t.ruleIndex>=0&&g.ruleToStartState[t.ruleIndex].leftFactored;for(let r=0;r<t.numberOfTransitions;r++){let n=t.transition(r);if(!(n instanceof B.RuleTransition))continue;let i=n;if(!g.ruleToStartState[i.target.ruleIndex].leftFactored&&e)continue;let o=-1;g.ruleToStartState[i.target.ruleIndex].isPrecedenceRule&&0===i.precedence&&(o=i.target.ruleIndex);let s={stopState:i.target.ruleIndex,returnState:i.followState.stateNumber,outermostPrecedenceReturn:o};P.add(s)&&L.push(s)}}for(let t of L){let e=new m.EpsilonTransition(g.states[t.returnState],t.outermostPrecedenceReturn);g.ruleToStopState[t.stopState].addTransition(e)}for(let t of g.states){if(t instanceof y.BlockStartState){if(void 0===t.endState)throw new Error("IllegalStateException");if(void 0!==t.endState.startState)throw new Error("IllegalStateException");t.endState.startState=t}if(t instanceof j.PlusLoopbackState){let e=t;for(let t=0;t<e.numberOfTransitions;t++){let r=e.transition(t).target;r instanceof I.PlusBlockStartState&&(r.loopBackState=e)}}else if(t instanceof V.StarLoopbackState){let e=t;for(let t=0;t<e.numberOfTransitions;t++){let r=e.transition(t).target;r instanceof J.StarLoopEntryState&&(r.loopBackState=e)}}}let M=$.toInt(t[e++]);for(let r=1;r<=M;r++){let n=$.toInt(t[e++]),i=g.states[n];g.decisionToState.push(i),i.decision=r-1}if(0===g.grammarType)if(i){g.lexerActions=new Array($.toInt(t[e++]));for(let r=0;r<g.lexerActions.length;r++){let n=$.toInt(t[e++]),i=$.toInt(t[e++]);65535===i&&(i=-1);let o=$.toInt(t[e++]);65535===o&&(o=-1);let s=this.lexerActionFactory(n,i,o);g.lexerActions[r]=s}}else{let t=[];for(let e of g.states)for(let r=0;r<e.numberOfTransitions;r++){let n=e.transition(r);if(!(n instanceof o.ActionTransition))continue;let i=n.ruleIndex,s=n.actionIndex,a=new S.LexerCustomAction(i,s);e.setTransition(r,new o.ActionTransition(n.target,i,t.length,!1)),t.push(a)}g.lexerActions=t}this.markPrecedenceDecisions(g),g.decisionToDFA=new Array(M);for(let t=0;t<M;t++)g.decisionToDFA[t]=new v.DFA(g.decisionToState[t],t);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(g),this.deserializationOptions.isGenerateRuleBypassTransitions&&1===g.grammarType){g.ruleToTokenType=new Int32Array(g.ruleToStartState.length);for(let t=0;t<g.ruleToStartState.length;t++)g.ruleToTokenType[t]=g.maxTokenType+t+1;for(let t=0;t<g.ruleToStartState.length;t++){let e=new h.BasicBlockStartState;e.ruleIndex=t,g.addState(e);let r,n,i=new d.BlockEndState;if(i.ruleIndex=t,g.addState(i),e.endState=i,g.defineDecisionState(e),i.startState=e,g.ruleToStartState[t].isPrecedenceRule){r=void 0;for(let e of g.states){if(e.ruleIndex!==t)continue;if(!(e instanceof J.StarLoopEntryState))continue;let n=e.transition(e.numberOfTransitions-1).target;if(n instanceof k.LoopEndState&&(n.epsilonOnlyTransitions&&n.transition(0).target instanceof F.RuleStopState)){r=e;break}}if(!r)throw new Error("Couldn't identify final state of the precedence rule prefix section.");n=r.loopBackState.transition(0)}else r=g.ruleToStopState[t];for(let t of g.states)for(let e=0;e<t.numberOfTransitions;e++){let o=t.transition(e);o!==n&&(o.target===r&&(o.target=i))}for(;g.ruleToStartState[t].numberOfTransitions>0;){let r=g.ruleToStartState[t].removeTransition(g.ruleToStartState[t].numberOfTransitions-1);e.addTransition(r)}g.ruleToStartState[t].addTransition(new m.EpsilonTransition(e)),i.addTransition(new m.EpsilonTransition(r));let o=new p.BasicState;g.addState(o),o.addTransition(new u.AtomTransition(i,g.ruleToTokenType[t])),e.addTransition(new m.EpsilonTransition(o))}this.deserializationOptions.isVerifyATN&&this.verifyATN(g)}if(this.deserializationOptions.isOptimize){for(;;){let t=0;t+=$.inlineSetRules(g),t+=$.combineChainedEpsilons(g);let e=0===g.grammarType;if(t+=$.optimizeSets(g,e),0===t)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(g)}return $.identifyTailCalls(g),g}deserializeSets(t,e,r,n){let i=$.toInt(t[e++]);for(let o=0;o<i;o++){let i=$.toInt(t[e]);e++;let o=new x.IntervalSet;r.push(o),0!==$.toInt(t[e++])&&o.add(-1);for(let r=0;r<i;r++){let r=n.readUnicode(t,e);e+=n.size;let i=n.readUnicode(t,e);e+=n.size,o.add(r,i)}}return e}markPrecedenceDecisions(t){let e=new Map;for(let r of t.states)if(r instanceof J.StarLoopEntryState&&t.ruleToStartState[r.ruleIndex].isPrecedenceRule){let n=r.transition(r.numberOfTransitions-1).target;n instanceof k.LoopEndState&&n.epsilonOnlyTransitions&&n.transition(0).target instanceof F.RuleStopState&&(e.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new f.BitSet(t.states.length))}for(let r of e)for(let e of t.ruleToStopState[r[0]].getTransitions()){if(1!==e.serializationType)continue;-1===e.outermostPrecedenceReturn&&r[1].precedenceLoopbackStates.set(e.target.stateNumber)}}verifyATN(t){for(let e of t.states)if(this.checkCondition(void 0!==e,"ATN states should not be undefined."),e.stateType!==c.ATNStateType.INVALID_TYPE){if(this.checkCondition(e.onlyHasEpsilonTransitions||e.numberOfTransitions<=1),e instanceof I.PlusBlockStartState&&this.checkCondition(void 0!==e.loopBackState),e instanceof J.StarLoopEntryState){let t=e;if(this.checkCondition(void 0!==t.loopBackState),this.checkCondition(2===t.numberOfTransitions),t.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(t.transition(1).target instanceof k.LoopEndState),this.checkCondition(!t.nonGreedy);else{if(!(t.transition(0).target instanceof k.LoopEndState))throw new Error("IllegalStateException");this.checkCondition(t.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(t.nonGreedy)}}if(e instanceof V.StarLoopbackState&&(this.checkCondition(1===e.numberOfTransitions),this.checkCondition(e.transition(0).target instanceof J.StarLoopEntryState)),e instanceof k.LoopEndState&&this.checkCondition(void 0!==e.loopBackState),e instanceof q.RuleStartState&&this.checkCondition(void 0!==e.stopState),e instanceof y.BlockStartState&&this.checkCondition(void 0!==e.endState),e instanceof d.BlockEndState&&this.checkCondition(void 0!==e.startState),e instanceof g.DecisionState){let t=e;this.checkCondition(t.numberOfTransitions<=1||t.decision>=0)}else this.checkCondition(e.numberOfTransitions<=1||e instanceof F.RuleStopState)}}checkCondition(t,e){if(!t)throw new Error("IllegalStateException: "+e)}static inlineSetRules(t){let e=0,r=new Array(t.ruleToStartState.length);for(let e=0;e<t.ruleToStartState.length;e++){let n=t.ruleToStartState[e];for(;n.onlyHasEpsilonTransitions&&1===n.numberOfOptimizedTransitions&&1===n.getOptimizedTransition(0).serializationType;)n=n.getOptimizedTransition(0).target;if(1!==n.numberOfOptimizedTransitions)continue;let i=n.getOptimizedTransition(0),o=i.target;if(!i.isEpsilon&&o.onlyHasEpsilonTransitions&&1===o.numberOfOptimizedTransitions&&o.getOptimizedTransition(0).target instanceof F.RuleStopState)switch(i.serializationType){case 5:case 2:case 7:r[e]=i;break;default:continue}}for(let n of t.states){if(n.ruleIndex<0)continue;let i;for(let o=0;o<n.numberOfOptimizedTransitions;o++){let s=n.getOptimizedTransition(o);if(!(s instanceof B.RuleTransition)){void 0!==i&&i.push(s);continue}let a=s,l=r[a.target.ruleIndex];if(void 0===l){void 0!==i&&i.push(s);continue}if(void 0===i){i=[];for(let t=0;t<o;t++)i.push(n.getOptimizedTransition(o))}e++;let c=a.followState,h=new p.BasicState;switch(h.setRuleIndex(c.ruleIndex),t.addState(h),i.push(new m.EpsilonTransition(h)),l.serializationType){case 5:h.addTransition(new u.AtomTransition(c,l._label));break;case 2:h.addTransition(new D.RangeTransition(c,l.from,l.to));break;case 7:h.addTransition(new U.SetTransition(c,l.label));break;default:throw new Error("UnsupportedOperationException")}}if(void 0!==i){if(n.isOptimized)for(;n.numberOfOptimizedTransitions>0;)n.removeOptimizedTransition(n.numberOfOptimizedTransitions-1);for(let t of i)n.addOptimizedTransition(t)}}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+e+" rule invocations by inlining sets."),e}static combineChainedEpsilons(t){let e=0;for(let r of t.states){if(!r.onlyHasEpsilonTransitions||r instanceof F.RuleStopState)continue;let t;t:for(let n=0;n<r.numberOfOptimizedTransitions;n++){let i=r.getOptimizedTransition(n),o=i.target;if(1===i.serializationType&&-1===i.outermostPrecedenceReturn&&o.stateType===c.ATNStateType.BASIC&&o.onlyHasEpsilonTransitions){for(let e=0;e<o.numberOfOptimizedTransitions;e++)if(1!==o.getOptimizedTransition(e).serializationType||-1!==o.getOptimizedTransition(e).outermostPrecedenceReturn){void 0!==t&&t.push(i);continue t}if(e++,void 0===t){t=[];for(let e=0;e<n;e++)t.push(r.getOptimizedTransition(e))}for(let e=0;e<o.numberOfOptimizedTransitions;e++){let r=o.getOptimizedTransition(e).target;t.push(new m.EpsilonTransition(r))}}else void 0!==t&&t.push(i)}if(void 0!==t){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let e of t)r.addOptimizedTransition(e)}}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+e+" transitions by combining chained epsilon transitions."),e}static optimizeSets(t,e){if(e)return 0;let r=0,n=t.decisionToState;for(let e of n){let n=new x.IntervalSet;for(let t=0;t<e.numberOfOptimizedTransitions;t++){let r=e.getOptimizedTransition(t);if(!(r instanceof m.EpsilonTransition))continue;if(1!==r.target.numberOfOptimizedTransitions)continue;let i=r.target.getOptimizedTransition(0);i.target instanceof d.BlockEndState&&(i instanceof R.NotSetTransition||(i instanceof u.AtomTransition||i instanceof D.RangeTransition||i instanceof U.SetTransition)&&n.add(t))}if(n.size<=1)continue;let i=[];for(let t=0;t<e.numberOfOptimizedTransitions;t++)n.contains(t)||i.push(e.getOptimizedTransition(t));let o,s=e.getOptimizedTransition(n.minElement).target.getOptimizedTransition(0).target,a=new x.IntervalSet;for(let t of n.intervals)for(let r=t.a;r<=t.b;r++){let t=e.getOptimizedTransition(r).target.getOptimizedTransition(0);if(t instanceof R.NotSetTransition)throw new Error("Not yet implemented.");a.addAll(t.label)}if(1===a.intervals.length)if(1===a.size)o=new u.AtomTransition(s,a.minElement);else{let t=a.intervals[0];o=new D.RangeTransition(s,t.a,t.b)}else o=new U.SetTransition(s,a);let l=new p.BasicState;if(l.setRuleIndex(e.ruleIndex),t.addState(l),l.addTransition(o),i.push(new m.EpsilonTransition(l)),r+=e.numberOfOptimizedTransitions-i.length,e.isOptimized)for(;e.numberOfOptimizedTransitions>0;)e.removeOptimizedTransition(e.numberOfOptimizedTransitions-1);for(let t of i)e.addOptimizedTransition(t)}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(t){for(let e of t.states){for(let r=0;r<e.numberOfTransitions;r++){let n=e.transition(r);n instanceof B.RuleTransition&&(n.tailCall=this.testTailCall(t,n,!1),n.optimizedTailCall=this.testTailCall(t,n,!0))}if(e.isOptimized)for(let r=0;r<e.numberOfOptimizedTransitions;r++){let n=e.getOptimizedTransition(r);n instanceof B.RuleTransition&&(n.tailCall=this.testTailCall(t,n,!1),n.optimizedTailCall=this.testTailCall(t,n,!0))}}}static testTailCall(t,e,r){if(!r&&e.tailCall)return!0;if(r&&e.optimizedTailCall)return!0;let n=new f.BitSet(t.states.length),i=[];for(i.push(e.followState);;){let t=i.pop();if(!t)break;if(n.get(t.stateNumber))continue;if(t instanceof F.RuleStopState)continue;if(!t.onlyHasEpsilonTransitions)return!1;let e=r?t.numberOfOptimizedTransitions:t.numberOfTransitions;for(let n=0;n<e;n++){let e=r?t.getOptimizedTransition(n):t.transition(n);if(1!==e.serializationType)return!1;i.push(e.target)}}return!0}static toInt(t){return t}static toInt32(t,e){return(t[e]|t[e+1]<<16)>>>0}static toUUID(t,e){let r=$.toInt32(t,e),n=$.toInt32(t,e+2),i=$.toInt32(t,e+4),o=$.toInt32(t,e+6);return new G.UUID(o,i,n,r)}edgeFactory(t,e,r,n,i,s,a,l){let c=t.states[n];switch(e){case 1:return new m.EpsilonTransition(c);case 2:return 0!==a?new D.RangeTransition(c,H.Token.EOF,s):new D.RangeTransition(c,i,s);case 3:return new B.RuleTransition(t.states[i],s,a,c);case 4:return new M.PredicateTransition(c,i,s,0!==a);case 10:return new L.PrecedencePredicateTransition(c,i);case 5:return 0!==a?new u.AtomTransition(c,H.Token.EOF):new u.AtomTransition(c,i);case 6:return new o.ActionTransition(c,i,s,0!==a);case 7:return new U.SetTransition(c,l[i]);case 8:return new R.NotSetTransition(c,l[i]);case 9:return new Y.WildcardTransition(c)}throw new Error("The specified transition type is not valid.")}stateFactory(t,e){let r;switch(t){case c.ATNStateType.INVALID_TYPE:return new b.InvalidState;case c.ATNStateType.BASIC:r=new p.BasicState;break;case c.ATNStateType.RULE_START:r=new q.RuleStartState;break;case c.ATNStateType.BLOCK_START:r=new h.BasicBlockStartState;break;case c.ATNStateType.PLUS_BLOCK_START:r=new I.PlusBlockStartState;break;case c.ATNStateType.STAR_BLOCK_START:r=new z.StarBlockStartState;break;case c.ATNStateType.TOKEN_START:r=new W.TokensStartState;break;case c.ATNStateType.RULE_STOP:r=new F.RuleStopState;break;case c.ATNStateType.BLOCK_END:r=new d.BlockEndState;break;case c.ATNStateType.STAR_LOOP_BACK:r=new V.StarLoopbackState;break;case c.ATNStateType.STAR_LOOP_ENTRY:r=new J.StarLoopEntryState;break;case c.ATNStateType.PLUS_LOOP_BACK:r=new j.PlusLoopbackState;break;case c.ATNStateType.LOOP_END:r=new k.LoopEndState;break;default:throw new Error(`The specified state type ${t} is not valid.`)}return r.ruleIndex=e,r}lexerActionFactory(t,e,r){switch(t){case 0:return new O.LexerChannelAction(e);case 1:return new S.LexerCustomAction(e,r);case 2:return new A.LexerModeAction(e);case 3:return E.LexerMoreAction.INSTANCE;case 4:return T.LexerPopModeAction.INSTANCE;case 5:return new N.LexerPushModeAction(e);case 6:return _.LexerSkipAction.INSTANCE;case 7:return new w.LexerTypeAction(e);default:throw new Error(`The specified lexer action type ${t} is not valid.`)}}}$.BASE_SERIALIZED_UUID=G.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),$.ADDED_LEXER_ACTIONS=G.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),$.ADDED_UNICODE_SMP=G.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),$.SUPPORTED_UUIDS=[$.BASE_SERIALIZED_UUID,$.ADDED_LEXER_ACTIONS,$.ADDED_UNICODE_SMP],$.SERIALIZED_UUID=$.ADDED_UNICODE_SMP,n([C.NotNull],$.prototype,"deserializationOptions",void 0),n([i(0,C.NotNull)],$.prototype,"deserialize",null),n([i(0,C.NotNull)],$.prototype,"markPrecedenceDecisions",null),n([C.NotNull,i(0,C.NotNull)],$.prototype,"edgeFactory",null),e.ATNDeserializer=$},56298:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const o=r(43258),s=r(69709),a=r(72399),l=r(78859);let c=class t{constructor(t){this.atn=t}static get ERROR(){return t._ERROR||(t._ERROR=new s.DFAState(new o.ATNConfigSet),t._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),t._ERROR}clearDFA(){this.atn.clearDFA()}};n([a.NotNull],c.prototype,"atn",void 0),n([a.NotNull],c,"ERROR",null),c=n([i(0,a.NotNull)],c),e.ATNSimulator=c,c=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=c},42813:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const i=r(72399);class o{constructor(){this.stateNumber=o.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(t){return t instanceof o&&this.stateNumber===t.stateNumber}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(t,e){if(0===this.transitions.length)this.epsilonOnlyTransitions=t.isEpsilon;else if(this.epsilonOnlyTransitions!==t.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(void 0!==e?e:this.transitions.length,0,t)}transition(t){return this.transitions[t]}setTransition(t,e){this.transitions[t]=e}removeTransition(t){return this.transitions.splice(t,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(t){this.ruleIndex=t}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(t){return this.optimizedTransitions[t]}addOptimizedTransition(t){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(t)}setOptimizedTransition(t,e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[t]=e}removeOptimizedTransition(t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(t,1)}}n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"equals",null),n([i.Override],o.prototype,"toString",null),e.ATNState=o,function(t){t.INVALID_STATE_NUMBER=-1}(o=e.ATNState||(e.ATNState={}))},77037:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))},38730:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNType=void 0,function(t){t[t.LEXER=0]="LEXER",t[t.PARSER=1]="PARSER"}(e.ATNType||(e.ATNType={}))},58939:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPredicateTransition=void 0;const n=r(11072);class i extends n.Transition{constructor(t){super(t)}}e.AbstractPredicateTransition=i},29202:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e,r=-1,n=!1){super(t),this.ruleIndex=e,this.actionIndex=r,this.isCtxDependent=n}get serializationType(){return 6}get isEpsilon(){return!0}matches(t,e,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.ActionTransition=a},77886:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.AmbiguityInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o){super(t,e,n,i,o,e.useContext),this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};n([s.NotNull],a.prototype,"ambigAlts",void 0),n([s.NotNull],a.prototype,"ambiguousAlternatives",null),a=n([i(1,s.NotNull),i(2,s.NotNull),i(3,s.NotNull)],a),e.AmbiguityInfo=a},5369:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.AtomTransition=void 0;const o=r(83357),s=r(72399),a=r(11072);let l=class extends a.Transition{constructor(t,e){super(t),this._label=e}get serializationType(){return 5}get label(){return o.IntervalSet.of(this._label)}matches(t,e,r){return this._label===t}toString(){return String(this.label)}};n([s.Override],l.prototype,"serializationType",null),n([s.Override,s.NotNull],l.prototype,"label",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.AtomTransition=l},38749:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.BasicBlockStartState=a},78744:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.BASIC}}n([s.Override],a.prototype,"stateType",null),e.BasicState=a},50760:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockEndState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.BLOCK_END}}n([s.Override],a.prototype,"stateType",null),e.BlockEndState=a},93099:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.BlockStartState=void 0;const n=r(38016);class i extends n.DecisionState{}e.BlockStartState=i},55620:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.createWithCodePointRange=e.createWithCodePoint=void 0;const n=r(24605),i=r(5369),o=r(83357),s=r(93053),a=r(21384);e.createWithCodePoint=function(t,e){return n.isSupplementaryCodePoint(e)?new a.SetTransition(t,o.IntervalSet.of(e)):new i.AtomTransition(t,e)},e.createWithCodePointRange=function(t,e,r){return n.isSupplementaryCodePoint(e)||n.isSupplementaryCodePoint(r)?new a.SetTransition(t,o.IntervalSet.of(e,r)):new s.RangeTransition(t,e,r)}},61405:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ConflictInfo=void 0;const i=r(72399),o=r(40659);class s{constructor(t,e){this._conflictedAlts=t,this.exact=e}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(t){return t===this||t instanceof s&&(this.isExact===t.isExact&&o.equals(this.conflictedAlts,t.conflictedAlts))}hashCode(){return this.conflictedAlts.hashCode()}}n([i.Override],s.prototype,"equals",null),n([i.Override],s.prototype,"hashCode",null),e.ConflictInfo=s},52433:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextSensitivityInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i){super(t,e,r,n,i,!0)}};a=n([i(1,s.NotNull),i(2,s.NotNull)],a),e.ContextSensitivityInfo=a},71173:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionEventInfo=void 0;const o=r(72399);let s=class{constructor(t,e,r,n,i,o){this.decision=t,this.fullCtx=o,this.stopIndex=i,this.input=r,this.startIndex=n,this.state=e}};n([o.NotNull],s.prototype,"input",void 0),s=n([i(2,o.NotNull)],s),e.DecisionEventInfo=s},50585:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionInfo=void 0;const i=r(72399);class o{constructor(t){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=t}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}}n([i.Override],o.prototype,"toString",null),e.DecisionInfo=o},38016:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionState=void 0;const n=r(42813);class i extends n.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}e.DecisionState=i},29250:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.EpsilonTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e=-1){super(t),this._outermostPrecedenceReturn=e}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(t,e,r){return!1}toString(){return"epsilon"}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),n([o.Override,o.NotNull],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.EpsilonTransition=a},44241:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i){super(t,e,r,n,i,e.useContext)}};a=n([i(1,s.NotNull),i(2,s.NotNull)],a),e.ErrorInfo=a},9803:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidState=void 0;const i=r(77037),o=r(78744),s=r(72399);class a extends o.BasicState{get stateType(){return i.ATNStateType.INVALID_TYPE}}n([s.Override],a.prototype,"stateType",null),e.InvalidState=a},39462:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LL1Analyzer=void 0;const o=r(58939),s=r(1533),a=r(78880),l=r(46889),c=r(83357),u=r(72399),h=r(33575),p=r(70436),f=r(78859),d=r(8840),y=r(23334),g=r(47760),v=r(24650);let m=class t{constructor(t){this.atn=t}getDecisionLookahead(e){if(null==e)return;let r=new Array(e.numberOfTransitions);for(let n=0;n<e.numberOfTransitions;n++){let i=new c.IntervalSet;r[n]=i;let o=new s.Array2DHashSet(p.ObjectEqualityComparator.INSTANCE),a=!1;this._LOOK(e.transition(n).target,void 0,f.PredictionContext.EMPTY_LOCAL,i,o,new l.BitSet,a,!1),(0===i.size||i.contains(t.HIT_PRED))&&(i=void 0,r[n]=i)}return r}LOOK(t,e,r){if(void 0===r){if(null==t.atn)throw new Error("Illegal state");r=t.atn.ruleToStopState[t.ruleIndex]}else null===r&&(r=void 0);let n=new c.IntervalSet;return this._LOOK(t,r,e,n,new s.Array2DHashSet,new l.BitSet,!0,!0),n}_LOOK(e,r,n,i,s,l,u,p){let m=a.ATNConfig.create(e,0,n);if(!s.add(m))return;if(e===r){if(f.PredictionContext.isEmptyLocal(n))return void i.add(g.Token.EPSILON);if(n.isEmpty)return void(p&&i.add(g.Token.EOF))}if(e instanceof d.RuleStopState){if(n.isEmpty&&!f.PredictionContext.isEmptyLocal(n))return void(p&&i.add(g.Token.EOF));let t=l.get(e.ruleIndex);try{l.clear(e.ruleIndex);for(let t=0;t<n.size;t++){if(n.getReturnState(t)===f.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let e=this.atn.states[n.getReturnState(t)];this._LOOK(e,r,n.getParent(t),i,s,l,u,p)}}finally{t&&l.set(e.ruleIndex)}}let x=e.numberOfTransitions;for(let a=0;a<x;a++){let f=e.transition(a);if(f instanceof y.RuleTransition){if(l.get(f.ruleIndex))continue;let t=n.getChild(f.followState.stateNumber);try{l.set(f.ruleIndex),this._LOOK(f.target,r,t,i,s,l,u,p)}finally{l.clear(f.ruleIndex)}}else if(f instanceof o.AbstractPredicateTransition)u?this._LOOK(f.target,r,n,i,s,l,u,p):i.add(t.HIT_PRED);else if(f.isEpsilon)this._LOOK(f.target,r,n,i,s,l,u,p);else if(f instanceof v.WildcardTransition)i.addAll(c.IntervalSet.of(g.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let t=f.label;null!=t&&(f instanceof h.NotSetTransition&&(t=t.complement(c.IntervalSet.of(g.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(t))}}}};m.HIT_PRED=g.Token.INVALID_TYPE,n([u.NotNull],m.prototype,"atn",void 0),n([u.NotNull,i(0,u.NotNull),i(1,u.NotNull)],m.prototype,"LOOK",null),n([i(0,u.NotNull),i(2,u.NotNull),i(3,u.NotNull),i(4,u.NotNull),i(5,u.NotNull)],m.prototype,"_LOOK",null),m=n([i(0,u.NotNull)],m),e.LL1Analyzer=m},21088:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const o=r(52962),s=r(74274),a=r(78880),l=r(43258),c=r(56298),u=r(69709),h=r(7477),p=r(71492),f=r(22807),d=r(22662),y=r(86181),g=r(72399),v=r(75895),m=r(78859),x=r(8840),b=r(47760),O=r(94148);let S=class t extends c.ATNSimulator{constructor(e,r){super(e),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=f.Lexer.DEFAULT_MODE,this.prevAccept=new t.SimState,this.recog=r}copyState(t){this._charPositionInLine=t.charPositionInLine,this._line=t._line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;let r=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();let r=this.atn.modeToDFA[e].s0;return null==r?this.matchATN(t):this.execATN(t,r)}finally{t.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=f.Lexer.DEFAULT_MODE}matchATN(e){let r=this.atn.modeToStartState[this.mode];t.debug&&console.log(`matchATN mode ${this.mode} start: ${r}`);let n=this.mode,i=this.computeStartState(e,r),o=i.hasSemanticContext;o&&(i.hasSemanticContext=!1);let s=this.addDFAState(i);if(!o){let t=this.atn.modeToDFA[this.mode];t.s0?s=t.s0:t.s0=s}let a=this.execATN(e,s);return t.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[n].toLexerString()}`),a}execATN(e,r){t.debug&&console.log(`start state closure=${r.configs}`),r.isAcceptState&&this.captureSimState(this.prevAccept,e,r);let n=e.LA(1),i=r;for(;;){t.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let r=this.getExistingTargetState(i,n);if(null==r&&(r=this.computeTargetState(e,i,n)),r===c.ATNSimulator.ERROR)break;if(n!==p.IntStream.EOF&&this.consume(e),r.isAcceptState&&(this.captureSimState(this.prevAccept,e,r),n===p.IntStream.EOF))break;n=e.LA(1),i=r}return this.failOrAccept(this.prevAccept,e,i.configs,n)}getExistingTargetState(e,r){let n=e.getTarget(r);return t.debug&&null!=n&&console.log("reuse state "+e.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,r){let n=new v.OrderedATNConfigSet;return this.getReachableConfigSet(t,e.configs,n,r),n.isEmpty?(n.hasSemanticContext||this.addDFAEdge(e,r,c.ATNSimulator.ERROR),c.ATNSimulator.ERROR):this.addDFAEdge(e,r,n)}failOrAccept(t,e,r,n){if(null!=t.dfaState){let r=t.dfaState.lexerActionExecutor;return this.accept(e,r,this.startIndex,t.index,t.line,t.charPos),t.dfaState.prediction}if(n===p.IntStream.EOF&&e.index===this.startIndex)return b.Token.EOF;throw new y.LexerNoViableAltException(this.recog,e,this.startIndex,r)}getReachableConfigSet(e,r,n,i){let o=s.ATN.INVALID_ALT_NUMBER;for(let s of r){let r=s.alt===o;if(r&&s.hasPassedThroughNonGreedyDecision)continue;t.debug&&console.log(`testing ${this.getTokenName(i)} at ${s.toString(this.recog,!0)}`);let a=s.state.numberOfOptimizedTransitions;for(let t=0;t<a;t++){let a=s.state.getOptimizedTransition(t),l=this.getReachableTarget(a,i);if(null!=l){let t,a=s.lexerActionExecutor;null!=a?(a=a.fixOffsetBeforeMatch(e.index-this.startIndex),t=s.transform(l,!0,a)):(O(null==s.lexerActionExecutor),t=s.transform(l,!0));let c=i===p.IntStream.EOF;if(this.closure(e,t,n,r,!0,c)){o=s.alt;break}}}}}accept(e,r,n,i,o,s){t.debug&&console.log(`ACTION ${r}`),e.seek(i),this._line=o,this._charPositionInLine=s,null!=r&&null!=this.recog&&r.execute(this.recog,e,n)}getReachableTarget(t,e){if(t.matches(e,f.Lexer.MIN_CHAR_VALUE,f.Lexer.MAX_CHAR_VALUE))return t.target}computeStartState(t,e){let r=m.PredictionContext.EMPTY_FULL,n=new v.OrderedATNConfigSet;for(let i=0;i<e.numberOfTransitions;i++){let o=e.transition(i).target,s=a.ATNConfig.create(o,i+1,r);this.closure(t,s,n,!1,!1,!1)}return n}closure(e,r,n,i,o,s){if(t.debug&&console.log("closure("+r.toString(this.recog,!0)+")"),r.state instanceof x.RuleStopState){t.debug&&(null!=this.recog?console.log(`closure at ${this.recog.ruleNames[r.state.ruleIndex]} rule stop ${r}`):console.log(`closure at rule stop ${r}`));let a=r.context;if(a.isEmpty)return n.add(r),!0;a.hasEmpty&&(n.add(r.transform(r.state,!0,m.PredictionContext.EMPTY_FULL)),i=!0);for(let t=0;t<a.size;t++){let l=a.getReturnState(t);if(l===m.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let c=a.getParent(t),u=this.atn.states[l],h=r.transform(u,!1,c);i=this.closure(e,h,n,i,o,s)}return i}r.state.onlyHasEpsilonTransitions||i&&r.hasPassedThroughNonGreedyDecision||n.add(r);let a=r.state;for(let t=0;t<a.numberOfOptimizedTransitions;t++){let l=a.getOptimizedTransition(t),c=this.getEpsilonTarget(e,r,l,n,o,s);null!=c&&(i=this.closure(e,c,n,i,o,s))}return i}getEpsilonTarget(e,r,n,i,o,s){let a;switch(n.serializationType){case 3:let l=n;if(this.optimize_tail_calls&&l.optimizedTailCall&&!r.context.hasEmpty)a=r.transform(n.target,!0);else{let t=r.context.getChild(l.followState.stateNumber);a=r.transform(n.target,!0,t)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let c=n;t.debug&&console.log("EVAL rule "+c.ruleIndex+":"+c.predIndex),i.hasSemanticContext=!0,a=this.evaluatePredicate(e,c.ruleIndex,c.predIndex,o)?r.transform(n.target,!0):void 0;break;case 6:if(r.context.hasEmpty){let t=d.LexerActionExecutor.append(r.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=r.transform(n.target,!0,t);break}a=r.transform(n.target,!0);break;case 1:a=r.transform(n.target,!0);break;case 5:case 2:case 7:if(s&&n.matches(p.IntStream.EOF,f.Lexer.MIN_CHAR_VALUE,f.Lexer.MAX_CHAR_VALUE)){a=r.transform(n.target,!1);break}a=void 0;break;default:a=void 0}return a}evaluatePredicate(t,e,r,n){if(null==this.recog)return!0;if(!n)return this.recog.sempred(void 0,e,r);let i=this._charPositionInLine,o=this._line,s=t.index,a=t.mark();try{return this.consume(t),this.recog.sempred(void 0,e,r)}finally{this._charPositionInLine=i,this._line=o,t.seek(s),t.release(a)}}captureSimState(t,e,r){t.index=e.index,t.line=this._line,t.charPos=this._charPositionInLine,t.dfaState=r}addDFAEdge(e,r,n){if(n instanceof l.ATNConfigSet){let t=n.hasSemanticContext;t&&(n.hasSemanticContext=!1);let i=this.addDFAState(n);return t||this.addDFAEdge(e,r,i),i}t.debug&&console.log("EDGE "+e+" -> "+n+" upon "+String.fromCharCode(r)),null!=e&&e.setTarget(r,n)}addDFAState(t){O(!t.hasSemanticContext);let e=new u.DFAState(t),r=this.atn.modeToDFA[this.mode].states.get(e);if(null!=r)return r;t.optimizeConfigs(this);let n,i=new u.DFAState(t.clone(!0));for(let e of t)if(e.state instanceof x.RuleStopState){n=e;break}if(null!=n){let t=this.atn.ruleToTokenType[n.state.ruleIndex],e=n.lexerActionExecutor;i.acceptStateInfo=new o.AcceptStateInfo(t,e)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(t){return this.atn.modeToDFA[t]}getText(t){return t.getText(h.Interval.of(this.startIndex,t.index-1))}get line(){return this._line}set line(t){this._line=t}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(t){this._charPositionInLine=t}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}};n([g.NotNull],S.prototype,"prevAccept",void 0),n([i(0,g.NotNull)],S.prototype,"copyState",null),n([i(0,g.NotNull)],S.prototype,"match",null),n([g.Override],S.prototype,"reset",null),n([i(0,g.NotNull)],S.prototype,"matchATN",null),n([i(0,g.NotNull),i(1,g.NotNull)],S.prototype,"execATN",null),n([i(0,g.NotNull)],S.prototype,"getExistingTargetState",null),n([g.NotNull,i(0,g.NotNull),i(1,g.NotNull)],S.prototype,"computeTargetState",null),n([i(0,g.NotNull),i(1,g.NotNull),i(2,g.NotNull)],S.prototype,"getReachableConfigSet",null),n([i(0,g.NotNull)],S.prototype,"accept",null),n([g.NotNull,i(0,g.NotNull),i(1,g.NotNull)],S.prototype,"computeStartState",null),n([i(0,g.NotNull),i(1,g.NotNull),i(2,g.NotNull)],S.prototype,"closure",null),n([i(0,g.NotNull),i(1,g.NotNull),i(2,g.NotNull),i(3,g.NotNull)],S.prototype,"getEpsilonTarget",null),n([i(0,g.NotNull)],S.prototype,"evaluatePredicate",null),n([i(0,g.NotNull),i(1,g.NotNull),i(2,g.NotNull)],S.prototype,"captureSimState",null),n([g.NotNull,i(0,g.NotNull)],S.prototype,"addDFAState",null),n([g.NotNull],S.prototype,"getDFA",null),n([g.NotNull,i(0,g.NotNull)],S.prototype,"getText",null),n([i(0,g.NotNull)],S.prototype,"consume",null),n([g.NotNull],S.prototype,"getTokenName",null),S=n([i(0,g.NotNull)],S),e.LexerATNSimulator=S,function(t){t.debug=!1,t.dfa_debug=!1;t.SimState=class{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}}(S=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=S},52367:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},22662:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerActionExecutor=void 0;const o=r(8151),s=r(59057),a=r(75636),l=r(72399);let c=class t{constructor(t){this._lexerActions=t;let e=a.MurmurHash.initialize();for(let r of t)e=a.MurmurHash.update(e,r);this.cachedHashCode=a.MurmurHash.finish(e,t.length)}static append(e,r){if(!e)return new t([r]);let n=e._lexerActions.slice(0);return n.push(r),new t(n)}fixOffsetBeforeMatch(e){let r;for(let t=0;t<this._lexerActions.length;t++)!this._lexerActions[t].isPositionDependent||this._lexerActions[t]instanceof s.LexerIndexedCustomAction||(r||(r=this._lexerActions.slice(0)),r[t]=new s.LexerIndexedCustomAction(e,this._lexerActions[t]));return r?new t(r):this}get lexerActions(){return this._lexerActions}execute(t,e,r){let n=!1,i=e.index;try{for(let o of this._lexerActions){if(o instanceof s.LexerIndexedCustomAction){let t=o.offset;e.seek(r+t),o=o.action,n=r+t!==i}else o.isPositionDependent&&(e.seek(i),n=!1);o.execute(t)}}finally{n&&e.seek(i)}}hashCode(){return this.cachedHashCode}equals(e){return e===this||e instanceof t&&(this.cachedHashCode===e.cachedHashCode&&o.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions))}};n([l.NotNull],c.prototype,"_lexerActions",void 0),n([l.NotNull],c.prototype,"lexerActions",null),n([i(0,l.NotNull)],c.prototype,"execute",null),n([l.Override],c.prototype,"hashCode",null),n([l.Override],c.prototype,"equals",null),n([l.NotNull,i(1,l.NotNull)],c,"append",null),c=n([i(0,l.NotNull)],c),e.LexerActionExecutor=c},89383:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.LexerActionType=void 0,function(t){t[t.CHANNEL=0]="CHANNEL",t[t.CUSTOM=1]="CUSTOM",t[t.MODE=2]="MODE",t[t.MORE=3]="MORE",t[t.POP_MODE=4]="POP_MODE",t[t.PUSH_MODE=5]="PUSH_MODE",t[t.SKIP=6]="SKIP",t[t.TYPE=7]="TYPE"}(e.LexerActionType||(e.LexerActionType={}))},23972:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerChannelAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._channel=t}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(t){t.channel=this._channel}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._channel),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._channel===t._channel}toString(){return`channel(${this._channel})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerChannelAction=a},37920:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerCustomAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t,e){this._ruleIndex=t,this._actionIndex=e}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(t){t.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._ruleIndex),t=o.MurmurHash.update(t,this._actionIndex),o.MurmurHash.finish(t,3)}equals(t){return t===this||t instanceof a&&(this._ruleIndex===t._ruleIndex&&this._actionIndex===t._actionIndex)}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),e.LexerCustomAction=a},59057:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerIndexedCustomAction=void 0;const o=r(75636),s=r(72399);let a=class t{constructor(t,e){this._offset=t,this._action=e}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(t){this._action.execute(t)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this._offset),t=o.MurmurHash.update(t,this._action),o.MurmurHash.finish(t,2)}equals(e){return e===this||e instanceof t&&(this._offset===e._offset&&this._action.equals(e._action))}};n([s.NotNull],a.prototype,"action",null),n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),a=n([i(1,s.NotNull)],a),e.LexerIndexedCustomAction=a},49616:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(t){t.mode(this._mode)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._mode),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._mode===t._mode}toString(){return`mode(${this._mode})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerModeAction=a},56474:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(t){t.more()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"more"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(t){t.INSTANCE=new t}(a=e.LexerMoreAction||(e.LexerMoreAction={}))},94283:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(t){t.popMode()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"popMode"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(t){t.INSTANCE=new t}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))},84520:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPushModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(t){t.pushMode(this._mode)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._mode),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._mode===t._mode}toString(){return`pushMode(${this._mode})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerPushModeAction=a},38240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(t){t.skip()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"skip"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(t){t.INSTANCE=new t}(a=e.LexerSkipAction||(e.LexerSkipAction={}))},16479:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerTypeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._type=t}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(t){t.type=this._type}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._type),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._type===t._type}toString(){return`type(${this._type})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerTypeAction=a},37059:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LookaheadEventInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o,s){super(t,e,n,i,o,s),this.predictedAlt=r}};a=n([i(3,s.NotNull)],a),e.LookaheadEventInfo=a},46251:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.LoopEndState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.LOOP_END}}n([s.Override],a.prototype,"stateType",null),e.LoopEndState=a},33575:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotSetTransition=void 0;const o=r(72399),s=r(21384);let a=class extends s.SetTransition{constructor(t,e){super(t,e)}get serializationType(){return 8}matches(t,e,r){return t>=e&&t<=r&&!super.matches(t,e,r)}toString(){return"~"+super.toString()}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"matches",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull),i(1,o.Nullable)],a),e.NotSetTransition=a},75895:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.OrderedATNConfigSet=void 0;const i=r(43258),o=r(72399);class s extends i.ATNConfigSet{constructor(t,e){null!=t&&null!=e?super(t,e):super()}clone(t){let e=new s(this,t);return!t&&this.isReadOnly&&e.addAll(this),e}getKey(t){return{state:0,alt:t.hashCode()}}canMerge(t,e,r){return t.equals(r)}}n([o.Override],s.prototype,"clone",null),n([o.Override],s.prototype,"getKey",null),n([o.Override],s.prototype,"canMerge",null),e.OrderedATNConfigSet=s},38344:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseInfo=void 0;const o=r(72399);let s=class{constructor(t){this.atnSimulator=t}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let t=this.atnSimulator.getDecisionInfo(),e=[];for(let r=0;r<t.length;r++){t[r].LL_Fallback>0&&e.push(r)}return e}getTotalTimeInPrediction(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.timeInPrediction;return e}getTotalSLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_TotalLook;return e}getTotalLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.LL_TotalLook;return e}getTotalSLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_ATNTransitions;return e}getTotalLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.LL_ATNTransitions;return e}getTotalATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_ATNTransitions,e+=r.LL_ATNTransitions;return e}getDFASize(t){if(t){return this.atnSimulator.atn.decisionToDFA[t].states.size}{let t=0,e=this.atnSimulator.atn.decisionToDFA;for(let r=0;r<e.length;r++)t+=this.getDFASize(r);return t}}};n([o.NotNull],s.prototype,"getDecisionInfo",null),n([o.NotNull],s.prototype,"getLLDecisions",null),s=n([i(0,o.NotNull)],s),e.ParseInfo=s},13161:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserATNSimulator=void 0;const o=r(52962),s=r(29202),a=r(1533),l=r(95754),c=r(74274),u=r(78880),h=r(43258),p=r(56298),f=r(77037),d=r(5369),y=r(46889),g=r(61405),v=r(38016),m=r(69709),x=r(18240),b=r(7477),O=r(71492),S=r(72399),A=r(33575),E=r(40755),T=r(70436),N=r(41097),_=r(78859),w=r(56409),k=r(30333),C=r(8840),R=r(23334),P=r(32356),I=r(21384),j=r(84364),L=r(47760),M=r(67435),D=r(94148),q=-2147483648;let F=class t extends p.ATNSimulator{constructor(t,e){super(t),this.predictionMode=k.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=e}getPredictionMode(){return this.predictionMode}setPredictionMode(t){this.predictionMode=t}reset(){}adaptivePredict(e,r,n,i){void 0===i&&(i=!1);let o,s=this.atn.decisionToDFA[r];if(D(null!=s),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let t=e.LA(1);if(t>=0&&t<=65535){let e=(r<<16>>>0)+t,n=this.atn.LL1Table.get(e);if(null!=n)return n}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==k.PredictionMode.SLL&&null!=n&&!this.atn.decisionToState[r].sll,null==n&&(n=N.ParserRuleContext.emptyContext()),s.isEmpty||(o=this.getStartState(s,e,n,i)),null==o&&(null==n&&(n=N.ParserRuleContext.emptyContext()),t.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+n.toString(this._parser)),o=this.computeStartState(s,n,i));let a=e.mark(),l=e.index;try{let r=this.execDFA(s,e,l,o);return t.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),r}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(t,e,r,n){if(!n){if(t.isPrecedenceDfa){let e=t.getPrecedenceStartState(this._parser.precedence,!1);if(null==e)return;return new j.SimulatorState(r,e,!1,r)}if(null==t.s0)return;return new j.SimulatorState(r,t.s0,!1,r)}if(!this.enable_global_context_dfa)return;let i,o=r;for(D(null!=r),i=t.isPrecedenceDfa?t.getPrecedenceStartState(this._parser.precedence,!0):t.s0full;null!=o&&null!=i&&i.isContextSensitive;)o=this.skipTailCalls(o),i=i.getContextTarget(this.getReturnState(o)),o.isEmpty?D(null==i||!i.isContextSensitive):o=o.parent;return null!=i?new j.SimulatorState(r,i,n,o):void 0}execDFA(e,r,n,i){let o=i.outerContext;t.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(r)+", outerContext="+o.toString(this._parser)),t.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let s=i.s0,a=r.LA(1),l=i.remainingOuterContext;for(;;){if(t.dfa_debug&&console.log("DFA state "+s.stateNumber+" LA(1)=="+this.getLookaheadName(r)),i.useContext)for(;s.isContextSymbol(a);){let t;if(null!=l&&(l=this.skipTailCalls(l),t=s.getContextTarget(this.getReturnState(l))),null==t){let t=new j.SimulatorState(i.outerContext,s,i.useContext,l);return this.execATN(e,r,n,t)}D(null!=l),l=l.parent,s=t}if(this.isAcceptState(s,i.useContext)){null!=s.predicates?t.dfa_debug&&console.log("accept "+s):t.dfa_debug&&console.log("accept; predict "+s.prediction+" in state "+s.stateNumber);break}D(!this.isAcceptState(s,i.useContext));let c=this.getExistingTargetState(s,a);if(null==c){let c;if(t.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a)),t.dfa_debug){let t=b.Interval.of(n,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(t)+" at DFA state "+s.stateNumber)}let u=new j.SimulatorState(o,s,i.useContext,l);return c=this.execATN(e,r,n,u),t.dfa_debug&&console.log("back from DFA update, alt="+c+", dfa=\n"+e.toString(this._parser.vocabulary,this._parser.ruleNames)),t.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+c),c}if(c===p.ATNSimulator.ERROR){let t=new j.SimulatorState(o,s,i.useContext,l);return this.handleNoViableAlt(r,n,t)}s=c,this.isAcceptState(s,i.useContext)||a===O.IntStream.EOF||(r.consume(),a=r.LA(1))}if(!i.useContext&&null!=s.configs.conflictInfo&&e.atnStartState instanceof v.DecisionState&&!(!this.userWantsCtxSensitive||!s.configs.dipsIntoOuterContext&&s.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&r.index===n)){let t;D(!i.useContext);let a=s.predicates;if(null!=a){let e=r.index;if(e!==n&&r.seek(n),t=this.evalSemanticContext(a,o,!0),1===t.cardinality())return t.nextSetBit(0);e!==n&&r.seek(e)}if(this.reportAmbiguities){let a=new j.SimulatorState(o,s,i.useContext,l);this.reportAttemptingFullContext(e,t,a,n,r.index)}return r.seek(n),this.adaptivePredict(r,e.decision,o,!0)}let c=s.predicates;if(null!=c){let t=r.index;n!==t&&r.seek(n);let i=this.evalSemanticContext(c,o,this.reportAmbiguities&&this.predictionMode===k.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(i.cardinality()){case 0:throw this.noViableAlt(r,o,s.configs,n);case 1:return i.nextSetBit(0);default:return n!==t&&r.seek(t),this.reportAmbiguity(e,s,n,t,s.configs.isExactConflict,i,s.configs),i.nextSetBit(0)}}return t.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+s.prediction),s.prediction}isAcceptState(t,e){return!!t.isAcceptState&&(null==t.configs.conflictingAlts||(!e||this.predictionMode!==k.PredictionMode.LL_EXACT_AMBIG_DETECTION||t.configs.isExactConflict))}execATN(e,r,n,i){t.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(r));let o=i.outerContext,s=i.useContext,a=r.LA(1),l=i,u=new w.PredictionContextCache;for(;;){let i=this.computeReachSet(e,l,a,u);if(null==i)return this.setDFAEdge(l.s0,r.LA(1),p.ATNSimulator.ERROR),this.handleNoViableAlt(r,n,l);let h=i.s0;if(D(h.isAcceptState||h.prediction===c.ATN.INVALID_ALT_NUMBER),D(h.isAcceptState||null==h.configs.conflictInfo),this.isAcceptState(h,s)){let l=h.configs.conflictingAlts,u=null==l?h.prediction:c.ATN.INVALID_ALT_NUMBER;if(u!==c.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&r.index===n&&!e.isPrecedenceDfa&&i.outerContext===i.remainingOuterContext&&e.decision>=0&&!h.configs.hasSemanticContext&&a>=0&&a<=65535){let t=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(t,u)}s&&this.always_try_local_context&&this.reportContextSensitivity(e,u,i,n,r.index)}u=h.prediction;let p=null!=l&&this.userWantsCtxSensitive;if(p&&(p=!s&&(h.configs.dipsIntoOuterContext||!h.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||r.index!==n)),h.configs.hasSemanticContext){let t=h.predicates;if(null!=t){let e=r.index;switch(e!==n&&r.seek(n),l=this.evalSemanticContext(t,o,p||this.reportAmbiguities),l.cardinality()){case 0:throw this.noViableAlt(r,o,h.configs,n);case 1:return l.nextSetBit(0)}e!==n&&r.seek(e)}}if(p){D(!s),D(this.isAcceptState(h,!1)),t.debug&&console.log("RETRY with outerContext="+o);let a=this.computeStartState(e,o,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,l,i,n,r.index),r.seek(n),this.execATN(e,r,n,a)}return null!=l&&(this.reportAmbiguities&&l.cardinality()>1&&this.reportAmbiguity(e,h,n,r.index,h.configs.isExactConflict,l,h.configs),u=l.nextSetBit(0)),u}l=i,a!==O.IntStream.EOF&&(r.consume(),a=r.LA(1))}}handleNoViableAlt(t,e,r){if(null!=r.s0){let n=new y.BitSet,i=0;for(let t of r.s0.configs)(t.reachesIntoOuterContext||t.state instanceof C.RuleStopState)&&(n.set(t.alt),i=Math.max(i,t.alt));switch(n.cardinality()){case 0:break;case 1:return n.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return n.nextSetBit(0);let o=new h.ATNConfigSet;for(let t of r.s0.configs)(t.reachesIntoOuterContext||t.state instanceof C.RuleStopState)&&o.add(t);let s=this.getPredsForAmbigAlts(n,o,i);if(null!=s){let i=this.getPredicatePredictions(n,s);if(null!=i){let n=t.index;try{t.seek(e);let n=this.evalSemanticContext(i,r.outerContext,!1);if(!n.isEmpty)return n.nextSetBit(0)}finally{t.seek(n)}}}return n.nextSetBit(0)}}throw this.noViableAlt(t,r.outerContext,r.s0.configs,e)}computeReachSet(t,e,r,n){let i=e.useContext,o=e.remainingOuterContext,s=e.s0;if(i)for(;s.isContextSymbol(r);){let t;if(null!=o&&(o=this.skipTailCalls(o),t=s.getContextTarget(this.getReturnState(o))),null==t)break;D(null!=o),o=o.parent,s=t}if(D(!this.isAcceptState(s,i)),this.isAcceptState(s,i))return new j.SimulatorState(e.outerContext,s,i,o);let a=s,l=this.getExistingTargetState(a,r);if(null==l){let e=this.computeTargetState(t,a,o,r,i,n);l=e[0],o=e[1]}return l!==p.ATNSimulator.ERROR?(D(!i||!l.configs.dipsIntoOuterContext),new j.SimulatorState(e.outerContext,l,i,o)):void 0}getExistingTargetState(t,e){return t.getTarget(e)}computeTargetState(e,r,n,i,o,s){let a,l,u=r.configs.toArray(),f=new h.ATNConfigSet;do{let e=!o||null!=n;e||(f.isOutermostConfigSet=!0);let r,p=new h.ATNConfigSet;for(let e of u){if(t.debug&&console.log("testing "+this.getTokenName(i)+" at "+e.toString()),e.state instanceof C.RuleStopState){D(e.context.isEmpty),(o&&!e.reachesIntoOuterContext||i===O.IntStream.EOF)&&(null==r&&(r=[]),r.push(e));continue}let n=e.state.numberOfOptimizedTransitions;for(let t=0;t<n;t++){let r=e.state.getOptimizedTransition(t),n=this.getReachableTarget(e,r,i);null!=n&&p.add(e.transform(n,!1),s)}}if(this.optimize_unique_closure&&null==r&&i!==L.Token.EOF&&p.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER){p.isOutermostConfigSet=f.isOutermostConfigSet,f=p;break}let d=!1,y=i===L.Token.EOF;if(this.closure(p,f,d,e,s,y),l=f.dipsIntoOuterContext,i===O.IntStream.EOF&&(f=this.removeAllConfigsNotInRuleStopState(f,s)),!(null==r||o&&k.PredictionMode.hasConfigInRuleStopState(f))){D(r.length>0);for(let t of r)f.add(t,s)}if(o&&l){f.clear(),n=this.skipTailCalls(n);let t=this.getReturnState(n);if(null==a&&(a=new x.IntegerList),n=n.isEmpty?void 0:n.parent,a.add(t),t!==_.PredictionContext.EMPTY_FULL_STATE_KEY)for(let e=0;e<u.length;e++)u[e]=u[e].appendContext(t,s)}}while(o&&l);return f.isEmpty?(this.setDFAEdge(r,i,p.ATNSimulator.ERROR),[p.ATNSimulator.ERROR,n]):[this.addDFAEdge(e,r,i,a,f,s),n]}removeAllConfigsNotInRuleStopState(t,e){if(k.PredictionMode.allConfigsInRuleStopStates(t))return t;let r=new h.ATNConfigSet;for(let n of t)n.state instanceof C.RuleStopState&&r.add(n,e);return r}computeStartState(t,e,r){let n=t.isPrecedenceDfa?t.getPrecedenceStartState(this._parser.precedence,r):r?t.s0full:t.s0;if(null!=n){if(!r)return new j.SimulatorState(e,n,r,e);n.setContextSensitive(this.atn)}t.decision;let i=t.atnStartState,o=0,s=e,a=r?_.PredictionContext.EMPTY_FULL:_.PredictionContext.EMPTY_LOCAL,l=new w.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;null!=s;)s.isEmpty?(o=_.PredictionContext.EMPTY_FULL_STATE_KEY,s=void 0):(o=this.getReturnState(s),a=a.appendSingleContext(o,l),s=s.parent);for(;null!=n&&n.isContextSensitive&&null!=s;){let t;if(s=this.skipTailCalls(s),s.isEmpty?(t=n.getContextTarget(_.PredictionContext.EMPTY_FULL_STATE_KEY),o=_.PredictionContext.EMPTY_FULL_STATE_KEY,s=void 0):(o=this.getReturnState(s),t=n.getContextTarget(o),a=a.appendSingleContext(o,l),s=s.parent),null==t)break;n=t}}if(null!=n&&!n.isContextSensitive)return new j.SimulatorState(e,n,r,s);let c=new h.ATNConfigSet;for(;;){let p=new h.ATNConfigSet,f=i.numberOfTransitions;for(let t=0;t<f;t++){let e=i.transition(t).target;p.add(u.ATNConfig.create(e,t+1,a))}let d=null!=s;d||(c.isOutermostConfigSet=!0);let y=!0;this.closure(p,c,y,d,l,!1);let g,v=c.dipsIntoOuterContext;if(r&&!this.enable_global_context_dfa){n=this.addDFAState(t,c,l);break}if(null==n?t.isPrecedenceDfa?(c=this.applyPrecedenceFilter(c,e,l),g=this.addDFAState(t,c,l),t.setPrecedenceStartState(this._parser.precedence,r,g)):(g=this.addDFAState(t,c,l),r?t.s0full?g=t.s0full:t.s0full=g:t.s0?g=t.s0:t.s0=g):(t.isPrecedenceDfa&&(c=this.applyPrecedenceFilter(c,e,l)),g=this.addDFAState(t,c,l),n.setContextTarget(o,g)),n=g,!r||!v)break;g.setContextSensitive(this.atn),c.clear(),s=this.skipTailCalls(s);let m=this.getReturnState(s);s=s.isEmpty?void 0:s.parent,m!==_.PredictionContext.EMPTY_FULL_STATE_KEY&&(a=a.appendSingleContext(m,l)),o=m}return new j.SimulatorState(e,n,r,s)}applyPrecedenceFilter(t,e,r){let n=new Map,i=new h.ATNConfigSet;for(let o of t){if(1!==o.alt)continue;let t=o.semanticContext.evalPrecedence(this._parser,e);null!=t&&(n.set(o.state.stateNumber,o.context),t!==o.semanticContext?i.add(o.transform(o.state,!1,t),r):i.add(o,r))}for(let e of t)if(1!==e.alt){if(!e.isPrecedenceFilterSuppressed){let t=n.get(e.state.stateNumber);if(null!=t&&t.equals(e.context))continue}i.add(e,r)}return i}getReachableTarget(t,e,r){if(e.matches(r,0,this.atn.maxTokenType))return e.target}predicateDFAState(e,r,n){let i=this.getConflictingAltsFromConfigSet(r);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");t.debug&&console.log("predicateDFAState "+e);let o,s=this.getPredsForAmbigAlts(i,r,n);return null!=s&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,r,n){let i=new Array(n+1),o=i.length;for(let t of r)e.get(t.alt)&&(i[t.alt]=P.SemanticContext.or(i[t.alt],t.semanticContext));let s=0;for(let t=0;t<o;t++)null==i[t]?i[t]=P.SemanticContext.NONE:i[t]!==P.SemanticContext.NONE&&s++;let a=i;return 0===s&&(a=void 0),t.debug&&console.log("getPredsForAmbigAlts result "+(a?l.Arrays.toString(a):"undefined")),a}getPredicatePredictions(t,e){let r=[],n=!1;for(let i=1;i<e.length;i++){let o=e[i];D(null!=o),null!=t&&t.get(i)&&o===P.SemanticContext.NONE?r.push(new m.DFAState.PredPrediction(o,i)):o!==P.SemanticContext.NONE&&(n=!0,r.push(new m.DFAState.PredPrediction(o,i)))}if(n)return r}evalSemanticContext(e,r,n){let i=new y.BitSet;for(let o of e){if(o.pred===P.SemanticContext.NONE){if(i.set(o.alt),!n)break;continue}let e=this.evalSemanticContextImpl(o.pred,r,o.alt);if((t.debug||t.dfa_debug)&&console.log("eval pred "+o+"="+e),e&&((t.debug||t.dfa_debug)&&console.log("PREDICT "+o.alt),i.set(o.alt),!n))break}return i}evalSemanticContextImpl(t,e,r){return t.eval(this._parser,e)}closure(t,e,r,n,i,o){null==i&&(i=w.PredictionContextCache.UNCACHED);let s=t,l=new a.Array2DHashSet(T.ObjectEqualityComparator.INSTANCE);for(;s.size>0;){let t=new h.ATNConfigSet;for(let a of s)this.closureImpl(a,e,t,l,r,n,i,0,o);s=t}}closureImpl(e,r,n,i,o,a,l,c,h){if(t.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof C.RuleStopState)if(e.context.isEmpty){if(!a)return void r.add(e,l);t.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===_.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,_.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&_.PredictionContext.isEmptyLocal(e.context)&&r.add(e,l)}else{let t=e.context.hasEmpty,s=e.context.size-(t?1:0);for(let t=0;t<s;t++){let s=e.context.getParent(t),p=this.atn.states[e.context.getReturnState(t)],f=u.ATNConfig.create(p,e.alt,s,e.semanticContext);f.outerContextDepth=e.outerContextDepth,f.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,D(c>q),this.closureImpl(f,r,n,i,o,a,l,c-1,h)}if(!t||!a)return;e=e.transform(e.state,!1,_.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(r.add(e,l),t.debug&&console.log("added config "+r));for(let u=0;u<p.numberOfOptimizedTransitions;u++){if(0===u&&p.stateType===f.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let t=p,r=!0;for(let n=0;n<e.context.size;n++)if(!t.precedenceLoopbackStates.get(e.context.getReturnState(n))){r=!1;break}if(r)continue}let d=p.getOptimizedTransition(u),y=!(d instanceof s.ActionTransition)&&o,g=this.getEpsilonTarget(e,d,y,0===c,l,h);if(null!=g){if(d instanceof R.RuleTransition&&null!=n&&!o){n.add(g,l);continue}let s=c;if(e.state instanceof C.RuleStopState){if(null!=this.dfa&&this.dfa.isPrecedenceDfa){d.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(g.isPrecedenceFilterSuppressed=!0)}if(g.outerContextDepth=g.outerContextDepth+1,!i.add(g))continue;D(s>q),s--,t.debug&&console.log("dips into outer ctx: "+g)}else if(d instanceof R.RuleTransition)!this.optimize_tail_calls||!d.optimizedTailCall||this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)?s>=0&&s++:(D(g.context===e.context),0===s&&(s--,!this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)&&(g.outerContextDepth=g.outerContextDepth+1)));else if(!d.isEpsilon&&!i.add(g))continue;this.closureImpl(g,r,n,i,y,a,l,s,h)}}}getRuleName(t){return null!=this._parser&&t>=0?this._parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,r,n,i,o){switch(e.serializationType){case 3:return this.ruleTransition(t,e,i);case 10:return this.precedenceTransition(t,e,r,n);case 4:return this.predTransition(t,e,r,n);case 6:return this.actionTransition(t,e);case 1:return t.transform(e.target,!1);case 5:case 2:case 7:return o&&e.matches(L.Token.EOF,0,1)?t.transform(e.target,!1):void 0;default:return}}actionTransition(e,r){return t.debug&&console.log("ACTION edge "+r.ruleIndex+":"+r.actionIndex),e.transform(r.target,!1)}precedenceTransition(e,r,n,i){let o;if(t.debug&&(console.log("PRED (collectPredicates="+n+") "+r.precedence+">=_p, ctx dependent=true"),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),n&&i){let t=P.SemanticContext.and(e.semanticContext,r.predicate);o=e.transform(r.target,!1,t)}else o=e.transform(r.target,!1);return t.debug&&console.log("config from pred transition="+o),o}predTransition(e,r,n,i){let o;if(t.debug&&(console.log("PRED (collectPredicates="+n+") "+r.ruleIndex+":"+r.predIndex+", ctx dependent="+r.isCtxDependent),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),n&&(!r.isCtxDependent||r.isCtxDependent&&i)){let t=P.SemanticContext.and(e.semanticContext,r.predicate);o=e.transform(r.target,!1,t)}else o=e.transform(r.target,!1);return t.debug&&console.log("config from pred transition="+o),o}ruleTransition(e,r,n){t.debug&&console.log("CALL rule "+this.getRuleName(r.target.ruleIndex)+", ctx="+e.context);let i,o=r.followState;return i=!this.optimize_tail_calls||!r.optimizedTailCall||this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)?null!=n?n.getChild(e.context,o.stateNumber):e.context.getChild(o.stateNumber):e.context,e.transform(r.target,!1,i)}isConflicted(e,r){if(e.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let n=e.toArray();n.sort(t.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,o=new y.BitSet,s=n[0].alt;o.set(s);let a,l=n[0].state.nonStopStateNumber;for(let t of n){let e=t.state.nonStopStateNumber;if(e!==l){if(t.alt!==s)return;l=e}}if(i){l=n[0].state.nonStopStateNumber,a=new y.BitSet;let t=s;for(let e of n){if(e.state.nonStopStateNumber!==l)break;let r=e.alt;a.set(r),t=r}l=n[0].state.nonStopStateNumber;let e=s;for(let r of n){let n=r.state.nonStopStateNumber,o=r.alt;if(n!==l){if(e!==t){i=!1;break}l=n,e=s}else if(o!==e){if(o!==a.nextSetBit(e+1)){i=!1;break}e=o}}}l=n[0].state.nonStopStateNumber;let u=0,h=0,p=n[0].context;for(let t=1;t<n.length;t++){let e=n[t];if(e.alt!==s)break;if(e.state.nonStopStateNumber!==l)break;h=t,p=r.join(p,n[t].context)}for(let t=h+1;t<n.length;t++){let e=n[t],a=e.state;if(o.set(e.alt),a.nonStopStateNumber!==l){l=a.nonStopStateNumber,u=t,h=t,p=e.context;for(let t=u+1;t<n.length;t++){let e=n[t];if(e.alt!==s)break;if(e.state.nonStopStateNumber!==l)break;h=t,p=r.join(p,e.context)}t=h;continue}let c=e.context,f=e.alt,d=t;for(let t=d+1;t<n.length;t++){let e=n[t];if(e.alt!==f)break;if(e.state.nonStopStateNumber!==l)break;d=t,c=r.join(c,e.context)}t=d;let y=r.join(p,c);if(!p.equals(y))return;i=i&&p.equals(c)}return new g.ConflictInfo(o,i)}getConflictingAltsFromConfigSet(t){let e=t.conflictingAlts;return null==e&&t.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER&&(e=new y.BitSet,e.set(t.uniqueAlt)),e}getTokenName(t){if(t===L.Token.EOF)return"EOF";let e=(null!=this._parser?this._parser.vocabulary:M.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(t);return e===String(t)?e:e+"<"+t+">"}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");let e=t.deadEndConfigs;if(e)for(let t of e){let e="no edges";if(t.state.numberOfOptimizedTransitions>0){let r=t.state.getOptimizedTransition(0);if(r instanceof d.AtomTransition)e="Atom "+this.getTokenName(r._label);else if(r instanceof I.SetTransition){e=(r instanceof A.NotSetTransition?"~":"")+"Set "+r.set.toString()}}console.log(t.toString(this._parser,!0)+":"+e)}}noViableAlt(t,e,r,n){return new E.NoViableAltException(this._parser,t,t.get(n),t.LT(1),r,e)}getUniqueAlt(t){let e=c.ATN.INVALID_ALT_NUMBER;for(let r of t)if(e===c.ATN.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return c.ATN.INVALID_ALT_NUMBER;return e}configWithAltAtStopState(t,e){for(let r of t)if(r.alt===e&&r.state instanceof C.RuleStopState)return!0;return!1}addDFAEdge(e,r,n,i,o,s){D(null==i||i.isEmpty||e.isContextSensitive);let a=r,l=this.addDFAState(e,o,s);if(null!=i)for(let t of i.toArray()){if(t===_.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(n);let r=a.getContextTarget(t);null==r?(r=this.addDFAContextState(e,a.configs,t,s),D(t!==_.PredictionContext.EMPTY_FULL_STATE_KEY||r.configs.isOutermostConfigSet),a.setContextTarget(t,r),a=r):a=r}return t.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(n)),this.setDFAEdge(a,n,l),t.debug&&console.log("DFA=\n"+e.toString(null!=this._parser?this._parser.vocabulary:M.VocabularyImpl.EMPTY_VOCABULARY,null!=this._parser?this._parser.ruleNames:void 0)),l}setDFAEdge(t,e,r){null!=t&&t.setTarget(e,r)}addDFAContextState(t,e,r,n){if(r!==_.PredictionContext.EMPTY_FULL_STATE_KEY){let i=new h.ATNConfigSet;for(let t of e)i.add(t.appendContext(r,n));return this.addDFAState(t,i,n)}return D(!e.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),(e=e.clone(!0)).isOutermostConfigSet=!0,this.addDFAState(t,e,n)}addDFAState(e,r,n){let i=this.enable_global_context_dfa||!r.isOutermostConfigSet;if(i){r.isReadOnly||r.optimizeConfigs(this);let t=this.createDFAState(e,r),n=e.states.get(t);if(null!=n)return n}r.isReadOnly||null==r.conflictInfo&&(r.conflictInfo=this.isConflicted(r,n));let s=this.createDFAState(e,r.clone(!0)),a=this.atn.getDecisionState(e.decision),l=this.getUniqueAlt(r);if(l!==c.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new o.AcceptStateInfo(l);else if(null!=r.conflictingAlts){let t=r.conflictingAlts;t&&(s.acceptStateInfo=new o.AcceptStateInfo(t.nextSetBit(0)))}if(s.isAcceptState&&r.hasSemanticContext&&this.predicateDFAState(s,r,a.numberOfTransitions),!i)return s;let u=e.addState(s);return t.debug&&u===s&&console.log("adding new DFA state: "+s),u}createDFAState(t,e){return new m.DFAState(e)}reportAttemptingFullContext(e,r,n,i,o){if(t.debug||t.retry_debug){let t=b.Interval.of(i,o);console.log("reportAttemptingFullContext decision="+e.decision+":"+n.s0.configs+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportAttemptingFullContext&&t.reportAttemptingFullContext(this._parser,e,i,o,r,n)}}reportContextSensitivity(e,r,n,i,o){if(t.debug||t.retry_debug){let t=b.Interval.of(i,o);console.log("reportContextSensitivity decision="+e.decision+":"+n.s0.configs+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportContextSensitivity&&t.reportContextSensitivity(this._parser,e,i,o,r,n)}}reportAmbiguity(e,r,n,i,o,s,a){if(t.debug||t.retry_debug){let t=b.Interval.of(n,i);console.log("reportAmbiguity "+s+":"+a+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportAmbiguity&&t.reportAmbiguity(this._parser,e,n,i,o,s,a)}}getReturnState(t){if(t.isEmpty)return _.PredictionContext.EMPTY_FULL_STATE_KEY;return this.atn.states[t.invokingState].transition(0).followState.stateNumber}skipTailCalls(t){if(!this.optimize_tail_calls)return t;for(;!t.isEmpty;){let e=this.atn.states[t.invokingState];if(D(1===e.numberOfTransitions&&3===e.transition(0).serializationType),!e.transition(0).tailCall)break;t=t.parent}return t}get parser(){return this._parser}};F.debug=!1,F.dfa_debug=!1,F.retry_debug=!1,F.STATE_ALT_SORT_COMPARATOR=(t,e)=>{let r=t.state.nonStopStateNumber-e.state.nonStopStateNumber;return 0!==r?r:(r=t.alt-e.alt,0!==r?r:0)},n([S.NotNull],F.prototype,"predictionMode",void 0),n([S.NotNull],F.prototype,"getPredictionMode",null),n([i(0,S.NotNull)],F.prototype,"setPredictionMode",null),n([S.Override],F.prototype,"reset",null),n([i(0,S.NotNull)],F.prototype,"adaptivePredict",null),n([i(0,S.NotNull),i(1,S.NotNull),i(2,S.NotNull)],F.prototype,"getStartState",null),n([i(0,S.NotNull),i(1,S.NotNull),i(3,S.NotNull)],F.prototype,"execDFA",null),n([i(0,S.NotNull),i(1,S.NotNull),i(3,S.NotNull)],F.prototype,"execATN",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"handleNoViableAlt",null),n([i(0,S.NotNull)],F.prototype,"getExistingTargetState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"computeTargetState",null),n([S.NotNull,i(0,S.NotNull)],F.prototype,"removeAllConfigsNotInRuleStopState",null),n([S.NotNull],F.prototype,"computeStartState",null),n([S.NotNull,i(0,S.NotNull)],F.prototype,"applyPrecedenceFilter",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getReachableTarget",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getPredsForAmbigAlts",null),n([i(0,S.NotNull)],F.prototype,"evalSemanticContext",null),n([i(0,S.NotNull)],F.prototype,"evalSemanticContextImpl",null),n([i(1,S.NotNull),i(4,S.Nullable)],F.prototype,"closure",null),n([i(0,S.NotNull),i(1,S.NotNull),i(2,S.Nullable),i(3,S.NotNull),i(6,S.NotNull)],F.prototype,"closureImpl",null),n([S.NotNull],F.prototype,"getRuleName",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getEpsilonTarget",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"actionTransition",null),n([S.Nullable,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"precedenceTransition",null),n([S.Nullable,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"predTransition",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(2,S.Nullable)],F.prototype,"ruleTransition",null),n([i(0,S.NotNull)],F.prototype,"isConflicted",null),n([S.NotNull],F.prototype,"getTokenName",null),n([i(0,S.NotNull)],F.prototype,"dumpDeadEndConfigs",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(2,S.NotNull)],F.prototype,"noViableAlt",null),n([i(0,S.NotNull)],F.prototype,"getUniqueAlt",null),n([i(0,S.NotNull)],F.prototype,"configWithAltAtStopState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(4,S.NotNull)],F.prototype,"addDFAEdge",null),n([i(0,S.Nullable),i(2,S.Nullable)],F.prototype,"setDFAEdge",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"addDFAContextState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"addDFAState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"createDFAState",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"reportAttemptingFullContext",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"reportContextSensitivity",null),n([i(0,S.NotNull),i(5,S.NotNull),i(6,S.NotNull)],F.prototype,"reportAmbiguity",null),F=n([i(0,S.NotNull)],F),e.ParserATNSimulator=F},64891:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PlusBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.PLUS_BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.PlusBlockStartState=a},66305:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PlusLoopbackState=void 0;const i=r(77037),o=r(38016),s=r(72399);class a extends o.DecisionState{get stateType(){return i.ATNStateType.PLUS_LOOP_BACK}}n([s.Override],a.prototype,"stateType",null),e.PlusLoopbackState=a},66061:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrecedencePredicateTransition=void 0;const o=r(58939),s=r(72399),a=r(32356);let l=class extends o.AbstractPredicateTransition{constructor(t,e){super(t),this.precedence=e}get serializationType(){return 10}get isEpsilon(){return!0}matches(t,e,r){return!1}get predicate(){return new a.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};n([s.Override],l.prototype,"serializationType",null),n([s.Override],l.prototype,"isEpsilon",null),n([s.Override],l.prototype,"matches",null),n([s.Override],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.PrecedencePredicateTransition=l},97004:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredicateEvalInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o,s,a){super(e,t,r,n,i,t.useContext),this.semctx=o,this.evalResult=s,this.predictedAlt=a}};a=n([i(0,s.NotNull),i(2,s.NotNull),i(5,s.NotNull)],a),e.PredicateEvalInfo=a},6369:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredicateTransition=void 0;const o=r(58939),s=r(72399),a=r(32356);let l=class extends o.AbstractPredicateTransition{constructor(t,e,r,n){super(t),this.ruleIndex=e,this.predIndex=r,this.isCtxDependent=n}get serializationType(){return 4}get isEpsilon(){return!0}matches(t,e,r){return!1}get predicate(){return new a.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};n([s.Override],l.prototype,"serializationType",null),n([s.Override],l.prototype,"isEpsilon",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.PredicateTransition=l},78859:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const o=r(73907),s=r(1533),a=r(95754),l=r(75636),c=r(72399),u=r(56409),h=r(94148);class p{constructor(t){this.cachedHashCode=t}static calculateEmptyHashCode(){let t=l.MurmurHash.initialize(1);return t=l.MurmurHash.finish(t,0),t}static calculateSingleHashCode(t,e){let r=l.MurmurHash.initialize(1);return r=l.MurmurHash.update(r,t),r=l.MurmurHash.update(r,e),r=l.MurmurHash.finish(r,2),r}static calculateHashCode(t,e){let r=l.MurmurHash.initialize(1);for(let e of t)r=l.MurmurHash.update(r,e);for(let t of e)r=l.MurmurHash.update(r,t);return r=l.MurmurHash.finish(r,2*t.length),r}static fromRuleContext(t,e,r=!0){if(e.isEmpty)return r?p.EMPTY_FULL:p.EMPTY_LOCAL;let n;n=e._parent?p.fromRuleContext(t,e._parent,r):r?p.EMPTY_FULL:p.EMPTY_LOCAL;let i=t.states[e.invokingState].transition(0);return n.getChild(i.followState.stateNumber)}static addEmptyContext(t){return t.addEmptyContext()}static removeEmptyContext(t){return t.removeEmptyContext()}static join(t,e,r=u.PredictionContextCache.UNCACHED){if(t===e)return t;if(t.isEmpty)return p.isEmptyLocal(t)?t:p.addEmptyContext(e);if(e.isEmpty)return p.isEmptyLocal(e)?e:p.addEmptyContext(t);let n=t.size,i=e.size;if(1===n&&1===i&&t.getReturnState(0)===e.getReturnState(0)){let n=r.join(t.getParent(0),e.getParent(0));return n===t.getParent(0)?t:n===e.getParent(0)?e:n.getChild(t.getReturnState(0))}let o=0,s=new Array(n+i),a=new Array(s.length),l=0,c=0,f=!0,g=!0;for(;l<n&&c<i;)t.getReturnState(l)===e.getReturnState(c)?(s[o]=r.join(t.getParent(l),e.getParent(c)),a[o]=t.getReturnState(l),f=f&&s[o]===t.getParent(l),g=g&&s[o]===e.getParent(c),l++,c++):t.getReturnState(l)<e.getReturnState(c)?(s[o]=t.getParent(l),a[o]=t.getReturnState(l),g=!1,l++):(h(e.getReturnState(c)<t.getReturnState(l)),s[o]=e.getParent(c),a[o]=e.getReturnState(c),f=!1,c++),o++;for(;l<n;)s[o]=t.getParent(l),a[o]=t.getReturnState(l),l++,g=!1,o++;for(;c<i;)s[o]=e.getParent(c),a[o]=e.getReturnState(c),c++,f=!1,o++;return f?t:g?e:(o<s.length&&(s=s.slice(0,o),a=a.slice(0,o)),0===s.length?p.EMPTY_FULL:1===s.length?new y(s[0],a[0]):new d(s,a))}static isEmptyLocal(t){return t===p.EMPTY_LOCAL}static getCachedContext(t,e,r){if(t.isEmpty)return t;let n=r.get(t);if(n)return n;if(n=e.get(t),n)return r.put(t,n),n;let i,o=!1,s=new Array(t.size);for(let n=0;n<s.length;n++){let i=p.getCachedContext(t.getParent(n),e,r);if(o||i!==t.getParent(n)){if(!o){s=new Array(t.size);for(let e=0;e<t.size;e++)s[e]=t.getParent(e);o=!0}s[n]=i}}if(!o)return n=e.putIfAbsent(t,t),r.put(t,null!=n?n:t),t;if(1===s.length)i=new y(s[0],t.getReturnState(0));else{let e=new Array(t.size);for(let r=0;r<t.size;r++)e[r]=t.getReturnState(r);i=new d(s,e,t.hashCode())}return n=e.putIfAbsent(i,i),r.put(i,n||i),r.put(t,n||i),i}appendSingleContext(t,e){return this.appendContext(p.EMPTY_FULL.getChild(t),e)}getChild(t){return new y(this,t)}hashCode(){return this.cachedHashCode}toStrings(t,e,r=p.EMPTY_FULL){let n=[];t:for(let i=0;;i++){let o=0,s=!0,a=this,l=e,c="";for(c+="[";!a.isEmpty&&a!==r;){let e=0;if(a.size>0){let t=1;for(;1<<t>>>0<a.size;)t++;if(e=i>>o&(1<<t>>>0)-1,s=s&&e>=a.size-1,e>=a.size)continue t;o+=t}if(t){c.length>1&&(c+=" ");let e=t.atn.states[l];c+=t.ruleNames[e.ruleIndex]}else a.getReturnState(e)!==p.EMPTY_FULL_STATE_KEY&&(a.isEmpty||(c.length>1&&(c+=" "),c+=a.getReturnState(e)));l=a.getReturnState(e),a=a.getParent(e)}if(c+="]",n.push(c),s)break}return n}}n([c.Override],p.prototype,"hashCode",null),n([i(0,c.NotNull),i(1,c.NotNull),i(2,c.NotNull)],p,"join",null),n([i(0,c.NotNull),i(1,c.NotNull),i(2,c.NotNull)],p,"getCachedContext",null),e.PredictionContext=p;class f extends p{constructor(t){super(p.calculateEmptyHashCode()),this.fullContext=t}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(t){throw new Error("index out of bounds")}getReturnState(t){throw new Error("index out of bounds")}findReturnState(t){return-1}get size(){return 0}appendSingleContext(t,e){return e.getChild(this,t)}appendContext(t,e){return t}get isEmpty(){return!0}get hasEmpty(){return!0}equals(t){return this===t}toStrings(t,e,r){return["[]"]}}n([c.Override],f.prototype,"addEmptyContext",null),n([c.Override],f.prototype,"removeEmptyContext",null),n([c.Override],f.prototype,"getParent",null),n([c.Override],f.prototype,"getReturnState",null),n([c.Override],f.prototype,"findReturnState",null),n([c.Override],f.prototype,"size",null),n([c.Override],f.prototype,"appendSingleContext",null),n([c.Override],f.prototype,"appendContext",null),n([c.Override],f.prototype,"isEmpty",null),n([c.Override],f.prototype,"hasEmpty",null),n([c.Override],f.prototype,"equals",null),n([c.Override],f.prototype,"toStrings",null);let d=class t extends p{constructor(t,e,r){super(r||p.calculateHashCode(t,e)),h(t.length===e.length),h(e.length>1||e[0]!==p.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=t,this.returnStates=e}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}findReturnState(t){return a.Arrays.binarySearch(this.returnStates,t)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===p.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),r=this.returnStates.slice(0);return e.push(p.EMPTY_FULL),r.push(p.EMPTY_FULL_STATE_KEY),new t(e,r)}removeEmptyContext(){if(!this.hasEmpty)return this;if(2===this.returnStates.length)return new y(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),r=this.returnStates.slice(0,this.returnStates.length-1);return new t(e,r)}}appendContext(e,r){return t.appendContextImpl(this,e,new p.IdentityHashMap)}static appendContextImpl(e,r,n){if(r.isEmpty){if(p.isEmptyLocal(r)){if(e.hasEmpty)return p.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(1!==r.size)throw new Error("Appending a tree suffix is not yet supported.");let i=n.get(e);if(!i){if(e.isEmpty)i=r;else{let o=e.size;e.hasEmpty&&o--;let s=new Array(o),a=new Array(o);for(let t=0;t<o;t++)a[t]=e.getReturnState(t);for(let i=0;i<o;i++)s[i]=t.appendContextImpl(e.getParent(i),r,n);1===s.length?i=new y(s[0],a[0]):(h(s.length>1),i=new t(s,a)),e.hasEmpty&&(i=p.join(i,r))}n.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof t))return!1;if(this.hashCode()!==e.hashCode())return!1;let r=e;return this.equalsImpl(r,new s.Array2DHashSet)}equalsImpl(t,e){let r=[],n=[];for(r.push(this),n.push(t);;){let t=r.pop(),i=n.pop();if(!t||!i)break;let o=new u.PredictionContextCache.IdentityCommutativePredictionContextOperands(t,i);if(!e.add(o))continue;let s=o.x.size;if(0!==s){if(s!==o.y.size)return!1;for(let t=0;t<s;t++){if(o.x.getReturnState(t)!==o.y.getReturnState(t))return!1;let e=o.x.getParent(t),i=o.y.getParent(t);if(e.hashCode()!==i.hashCode())return!1;e!==i&&(r.push(e),n.push(i))}}else if(!o.x.equals(o.y))return!1}return!0}};n([c.NotNull],d.prototype,"parents",void 0),n([c.NotNull],d.prototype,"returnStates",void 0),n([c.Override],d.prototype,"getParent",null),n([c.Override],d.prototype,"getReturnState",null),n([c.Override],d.prototype,"findReturnState",null),n([c.Override],d.prototype,"size",null),n([c.Override],d.prototype,"isEmpty",null),n([c.Override],d.prototype,"hasEmpty",null),n([c.Override],d.prototype,"addEmptyContext",null),n([c.Override],d.prototype,"removeEmptyContext",null),n([c.Override],d.prototype,"appendContext",null),n([c.Override],d.prototype,"equals",null),d=n([i(0,c.NotNull)],d);let y=class t extends p{constructor(t,e){super(p.calculateSingleHashCode(t,e)),this.parent=t,this.returnState=e}getParent(t){return this.parent}getReturnState(t){return this.returnState}findReturnState(t){return this.returnState===t?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(t,e){return e.getChild(this.parent.appendContext(t,e),this.returnState)}addEmptyContext(){let t=[this.parent,p.EMPTY_FULL],e=[this.returnState,p.EMPTY_FULL_STATE_KEY];return new d(t,e)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof t))return!1;let r=e;return this.hashCode()===r.hashCode()&&(this.returnState===r.returnState&&this.parent.equals(r.parent))}};n([c.NotNull],y.prototype,"parent",void 0),n([c.Override],y.prototype,"getParent",null),n([c.Override],y.prototype,"getReturnState",null),n([c.Override],y.prototype,"findReturnState",null),n([c.Override],y.prototype,"size",null),n([c.Override],y.prototype,"isEmpty",null),n([c.Override],y.prototype,"hasEmpty",null),n([c.Override],y.prototype,"appendContext",null),n([c.Override],y.prototype,"addEmptyContext",null),n([c.Override],y.prototype,"removeEmptyContext",null),n([c.Override],y.prototype,"equals",null),y=n([i(0,c.NotNull)],y),e.SingletonPredictionContext=y,function(t){t.EMPTY_LOCAL=new f(!1),t.EMPTY_FULL=new f(!0),t.EMPTY_LOCAL_STATE_KEY=-2147483648,t.EMPTY_FULL_STATE_KEY=2147483647;class e extends o.Array2DHashMap{constructor(){super(r.INSTANCE)}}t.IdentityHashMap=e;class r{IdentityEqualityComparator(){}hashCode(t){return t.hashCode()}equals(t,e){return t===e}}r.INSTANCE=new r,n([c.Override],r.prototype,"hashCode",null),n([c.Override],r.prototype,"equals",null),t.IdentityEqualityComparator=r}(p=e.PredictionContext||(e.PredictionContext={}))},56409:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const i=r(73907),o=r(72399),s=r(70436),a=r(78859),l=r(94148);class c{constructor(t=!0){this.contexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=t}getAsCached(t){if(!this.enableCache)return t;let e=this.contexts.get(t);return e||(e=t,this.contexts.put(t,t)),e}getChild(t,e){if(!this.enableCache)return t.getChild(e);let r=new c.PredictionContextAndInt(t,e),n=this.childContexts.get(r);return n||(n=t.getChild(e),n=this.getAsCached(n),this.childContexts.put(r,n)),n}join(t,e){if(!this.enableCache)return a.PredictionContext.join(t,e,this);let r=new c.IdentityCommutativePredictionContextOperands(t,e),n=this.joinContexts.get(r);return n||(n=a.PredictionContext.join(t,e,this),n=this.getAsCached(n),this.joinContexts.put(r,n),n)}}e.PredictionContextCache=c,c.UNCACHED=new c(!1),function(t){class e{constructor(t,e){this.obj=t,this.value=e}equals(t){if(!(t instanceof e))return!1;if(t===this)return!0;let r=t;return this.value===r.value&&(this.obj===r.obj||null!=this.obj&&this.obj.equals(r.obj))}hashCode(){let t=5;return t=7*t+(null!=this.obj?this.obj.hashCode():0),t=7*t+this.value,t}}n([o.Override],e.prototype,"equals",null),n([o.Override],e.prototype,"hashCode",null),t.PredictionContextAndInt=e;class r{constructor(t,e){l(null!=t),l(null!=e),this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}equals(t){if(!(t instanceof r))return!1;if(this===t)return!0;let e=t;return this._x===e._x&&this._y===e._y||this._x===e._y&&this._y===e._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}n([o.Override],r.prototype,"equals",null),n([o.Override],r.prototype,"hashCode",null),t.IdentityCommutativePredictionContextOperands=r}(c=e.PredictionContextCache||(e.PredictionContextCache={}))},30333:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const i=r(73907),o=r(75636),s=r(72399),a=r(8840);!function(t){t[t.SLL=0]="SLL",t[t.LL=1]="LL",t[t.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"}(e.PredictionMode||(e.PredictionMode={})),function(t){i.Array2DHashMap;class e{AltAndContextConfigEqualityComparator(){}hashCode(t){let e=o.MurmurHash.initialize(7);return e=o.MurmurHash.update(e,t.state.stateNumber),e=o.MurmurHash.update(e,t.context),e=o.MurmurHash.finish(e,2),e}equals(t,e){return t===e||null!=t&&null!=e&&(t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context))}}e.INSTANCE=new e,n([s.Override],e.prototype,"hashCode",null),n([s.Override],e.prototype,"equals",null),t.hasConfigInRuleStopState=function(t){for(let e of t)if(e.state instanceof a.RuleStopState)return!0;return!1},t.allConfigsInRuleStopStates=function(t){for(let e of t)if(!(e.state instanceof a.RuleStopState))return!1;return!0}}(e.PredictionMode||(e.PredictionMode={}))},51284:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfilingATNSimulator=void 0;const o=r(77886),s=r(74274),a=r(56298),l=r(52433),c=r(50585),u=r(44241),h=r(72399),p=r(37059),f=r(13161),d=r(97004),y=r(32356),g=r(84364);class v extends f.ParserATNSimulator{constructor(t){super(t.interpreter.atn,t),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new c.DecisionInfo(t))}adaptivePredict(t,e,r,n){if(void 0!==n)return super.adaptivePredict(t,e,r,n);try{this._input=t,this._startIndex=t.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=e,this.currentState=void 0,this.conflictingAltResolvedBySLL=s.ATN.INVALID_ALT_NUMBER;let n=process.hrtime(),i=super.adaptivePredict(t,e,r),o=process.hrtime(),a=1e9*(o[0]-n[0]);0===a?a=o[1]-n[1]:a+=1e9-n[1]+o[1],this.decisions[e].timeInPrediction+=a,this.decisions[e].invocations++;let l=this._sllStopIndex-this._startIndex+1;if(this.decisions[e].SLL_TotalLook+=l,this.decisions[e].SLL_MinLook=0===this.decisions[e].SLL_MinLook?l:Math.min(this.decisions[e].SLL_MinLook,l),l>this.decisions[e].SLL_MaxLook&&(this.decisions[e].SLL_MaxLook=l,this.decisions[e].SLL_MaxLookEvent=new p.LookaheadEventInfo(e,void 0,i,t,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let r=this._llStopIndex-this._startIndex+1;this.decisions[e].LL_TotalLook+=r,this.decisions[e].LL_MinLook=0===this.decisions[e].LL_MinLook?r:Math.min(this.decisions[e].LL_MinLook,r),r>this.decisions[e].LL_MaxLook&&(this.decisions[e].LL_MaxLook=r,this.decisions[e].LL_MaxLookEvent=new p.LookaheadEventInfo(e,void 0,i,t,this._startIndex,this._llStopIndex,!0))}return i}finally{this._input=void 0,this.currentDecision=-1}}getStartState(t,e,r,n){let i=super.getStartState(t,e,r,n);return this.currentState=i,i}computeStartState(t,e,r){let n=super.computeStartState(t,e,r);return this.currentState=n,n}computeReachSet(t,e,r,n){if(void 0===this._input)throw new Error("Invalid state");let i=super.computeReachSet(t,e,r,n);return null==i&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,e,this._input,this._startIndex,this._input.index)),this.currentState=i,i}getExistingTargetState(t,e){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(t,e);if(null!=r&&(this.currentState=new g.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===a.ATNSimulator.ERROR)){let e=new g.SimulatorState(this.currentState.outerContext,t,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,e,this._input,this._startIndex,this._input.index))}return r}computeTargetState(t,e,r,n,i,o){let s=super.computeTargetState(t,e,r,n,i,o);return i?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,s}evalSemanticContextImpl(t,e,r){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let n=super.evalSemanticContextImpl(t,e,r);if(!(t instanceof y.SemanticContext.PrecedencePredicate)){let e=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new d.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,e,t,n,r))}return n}reportContextSensitivity(t,e,r,n,i){if(void 0===this._input)throw new Error("Invalid state");e!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new l.ContextSensitivityInfo(this.currentDecision,r,this._input,n,i)),super.reportContextSensitivity(t,e,r,n,i)}reportAttemptingFullContext(t,e,r,n,i){this.conflictingAltResolvedBySLL=null!=e?e.nextSetBit(0):r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(t,e,r,n,i)}reportAmbiguity(t,e,r,n,i,a,c){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let u;u=null!=a?a.nextSetBit(0):c.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==s.ATN.INVALID_ALT_NUMBER&&u!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new l.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,n)),this.decisions[this.currentDecision].ambiguities.push(new o.AmbiguityInfo(this.currentDecision,this.currentState,a,this._input,r,n)),super.reportAmbiguity(t,e,r,n,i,a,c)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}}n([h.Override,i(0,h.NotNull)],v.prototype,"adaptivePredict",null),n([h.Override],v.prototype,"getStartState",null),n([h.Override],v.prototype,"computeStartState",null),n([h.Override],v.prototype,"computeReachSet",null),n([h.Override],v.prototype,"getExistingTargetState",null),n([h.Override],v.prototype,"computeTargetState",null),n([h.Override],v.prototype,"evalSemanticContextImpl",null),n([h.Override],v.prototype,"reportContextSensitivity",null),n([h.Override],v.prototype,"reportAttemptingFullContext",null),n([h.Override,i(0,h.NotNull),i(5,h.NotNull),i(6,h.NotNull)],v.prototype,"reportAmbiguity",null),e.ProfilingATNSimulator=v},93053:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RangeTransition=void 0;const o=r(83357),s=r(72399),a=r(11072);let l=class extends a.Transition{constructor(t,e,r){super(t),this.from=e,this.to=r}get serializationType(){return 2}get label(){return o.IntervalSet.of(this.from,this.to)}matches(t,e,r){return t>=this.from&&t<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};n([s.Override],l.prototype,"serializationType",null),n([s.Override,s.NotNull],l.prototype,"label",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.RangeTransition=l},79240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleStartState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return o.ATNStateType.RULE_START}}n([s.Override],a.prototype,"stateType",null),e.RuleStartState=a},8840:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleStopState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get nonStopStateNumber(){return-1}get stateType(){return o.ATNStateType.RULE_STOP}}n([s.Override],a.prototype,"nonStopStateNumber",null),n([s.Override],a.prototype,"stateType",null),e.RuleStopState=a},23334:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e,r,n){super(t),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=e,this.precedence=r,this.followState=n}get serializationType(){return 3}get isEpsilon(){return!0}matches(t,e,r){return!1}};n([o.NotNull],a.prototype,"followState",void 0),n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),a=n([i(0,o.NotNull),i(3,o.NotNull)],a),e.RuleTransition=a},32356:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const o=r(1533),s=r(8151),a=r(75636),l=r(72399),c=r(70436),u=r(40659);class h{static get NONE(){return void 0===h._NONE&&(h._NONE=new h.Predicate),h._NONE}evalPrecedence(t,e){return this}static and(t,e){if(!t||t===h.NONE)return e;if(e===h.NONE)return t;let r=new h.AND(t,e);return 1===r.opnds.length?r.opnds[0]:r}static or(t,e){if(!t)return e;if(t===h.NONE||e===h.NONE)return h.NONE;let r=new h.OR(t,e);return 1===r.opnds.length?r.opnds[0]:r}}e.SemanticContext=h,function(t){function e(e){let r=[];for(let n=0;n<e.length;n++){let i=e[n];i instanceof t.PrecedencePredicate&&(r.push(i),e.splice(n,1),n--)}return r}class r extends t{constructor(t=-1,e=-1,r=!1){super(),this.ruleIndex=t,this.predIndex=e,this.isCtxDependent=r}eval(t,e){let r=this.isCtxDependent?e:void 0;return t.sempred(r,this.ruleIndex,this.predIndex)}hashCode(){let t=a.MurmurHash.initialize();return t=a.MurmurHash.update(t,this.ruleIndex),t=a.MurmurHash.update(t,this.predIndex),t=a.MurmurHash.update(t,this.isCtxDependent?1:0),t=a.MurmurHash.finish(t,3),t}equals(t){return t instanceof r&&(this===t||this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent)}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}n([l.Override],r.prototype,"eval",null),n([l.Override],r.prototype,"hashCode",null),n([l.Override],r.prototype,"equals",null),n([l.Override],r.prototype,"toString",null),t.Predicate=r;class h extends t{constructor(t){super(),this.precedence=t}eval(t,e){return t.precpred(e,this.precedence)}evalPrecedence(e,r){return e.precpred(r,this.precedence)?t.NONE:void 0}compareTo(t){return this.precedence-t.precedence}hashCode(){let t=1;return t=31*t+this.precedence,t}equals(t){return t instanceof h&&(this===t||this.precedence===t.precedence)}toString(){return"{"+this.precedence+">=prec}?"}}n([l.Override],h.prototype,"eval",null),n([l.Override],h.prototype,"evalPrecedence",null),n([l.Override],h.prototype,"compareTo",null),n([l.Override],h.prototype,"hashCode",null),n([l.Override],h.prototype,"equals",null),n([l.Override],h.prototype,"toString",null),t.PrecedencePredicate=h;class p extends t{}t.Operator=p;let f=class r extends p{constructor(t,n){super();let i=new o.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);t instanceof r?i.addAll(t.opnds):i.add(t),n instanceof r?i.addAll(n.opnds):i.add(n),this.opnds=i.toArray();let s=function(t){let e;for(let r of t)void 0!==e?e.compareTo(r)>0&&(e=r):e=r;return e}(e(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(t){return this===t||t instanceof r&&s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,t.opnds)}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(t,e){for(let r of this.opnds)if(!r.eval(t,e))return!1;return!0}evalPrecedence(e,r){let n=!1,i=[];for(let o of this.opnds){let s=o.evalPrecedence(e,r);if(n=n||s!==o,null==s)return;s!==t.NONE&&i.push(s)}if(!n)return this;if(0===i.length)return t.NONE;let o=i[0];for(let e=1;e<i.length;e++)o=t.and(o,i[e]);return o}toString(){return u.join(this.opnds,"&&")}};n([l.Override],f.prototype,"operands",null),n([l.Override],f.prototype,"equals",null),n([l.Override],f.prototype,"hashCode",null),n([l.Override],f.prototype,"eval",null),n([l.Override],f.prototype,"evalPrecedence",null),n([l.Override],f.prototype,"toString",null),f=n([i(0,l.NotNull),i(1,l.NotNull)],f),t.AND=f;let d=class r extends p{constructor(t,n){super();let i=new o.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);t instanceof r?i.addAll(t.opnds):i.add(t),n instanceof r?i.addAll(n.opnds):i.add(n),this.opnds=i.toArray();let s=function(t){let e;for(let r of t)void 0!==e?e.compareTo(r)<0&&(e=r):e=r;return e}(e(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(t){return this===t||t instanceof r&&s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,t.opnds)}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(t,e){for(let r of this.opnds)if(r.eval(t,e))return!0;return!1}evalPrecedence(e,r){let n=!1,i=[];for(let o of this.opnds){let s=o.evalPrecedence(e,r);if(n=n||s!==o,s===t.NONE)return t.NONE;s&&i.push(s)}if(!n)return this;if(0===i.length)return;let o=i[0];for(let e=1;e<i.length;e++)o=t.or(o,i[e]);return o}toString(){return u.join(this.opnds,"||")}};n([l.Override],d.prototype,"operands",null),n([l.Override],d.prototype,"equals",null),n([l.Override],d.prototype,"hashCode",null),n([l.Override],d.prototype,"eval",null),n([l.Override],d.prototype,"evalPrecedence",null),n([l.Override],d.prototype,"toString",null),d=n([i(0,l.NotNull),i(1,l.NotNull)],d),t.OR=d}(h=e.SemanticContext||(e.SemanticContext={}))},21384:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SetTransition=void 0;const o=r(83357),s=r(72399),a=r(47760),l=r(11072);let c=class extends l.Transition{constructor(t,e){super(t),null==e&&(e=o.IntervalSet.of(a.Token.INVALID_TYPE)),this.set=e}get serializationType(){return 7}get label(){return this.set}matches(t,e,r){return this.set.contains(t)}toString(){return this.set.toString()}};n([s.NotNull],c.prototype,"set",void 0),n([s.Override],c.prototype,"serializationType",null),n([s.Override,s.NotNull],c.prototype,"label",null),n([s.Override],c.prototype,"matches",null),n([s.Override,s.NotNull],c.prototype,"toString",null),c=n([i(0,s.NotNull),i(1,s.Nullable)],c),e.SetTransition=c},84364:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SimulatorState=void 0;const o=r(72399),s=r(41097);let a=class{constructor(t,e,r,n){this.outerContext=null!=t?t:s.ParserRuleContext.emptyContext(),this.s0=e,this.useContext=r,this.remainingOuterContext=n}};a=n([i(1,o.NotNull)],a),e.SimulatorState=a},38195:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.STAR_BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.StarBlockStartState=a},4016:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarLoopEntryState=void 0;const i=r(77037),o=r(46889),s=r(38016),a=r(72399);class l extends s.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new o.BitSet}get stateType(){return i.ATNStateType.STAR_LOOP_ENTRY}}n([a.Override],l.prototype,"stateType",null),e.StarLoopEntryState=l},5481:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarLoopbackState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return o.ATNStateType.STAR_LOOP_BACK}}n([s.Override],a.prototype,"stateType",null),e.StarLoopbackState=a},68644:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStartState=void 0;const i=r(77037),o=r(38016),s=r(72399);class a extends o.DecisionState{get stateType(){return i.ATNStateType.TOKEN_START}}n([s.Override],a.prototype,"stateType",null),e.TokensStartState=a},11072:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transition=void 0;const o=r(72399);let s=class{constructor(t){if(null==t)throw new Error("target cannot be null.");this.target=t}get isEpsilon(){return!1}get label(){}};s.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],n([o.NotNull],s.prototype,"target",void 0),s=n([i(0,o.NotNull)],s),e.Transition=s},67672:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.TransitionType=void 0,function(t){t[t.EPSILON=1]="EPSILON",t[t.RANGE=2]="RANGE",t[t.RULE=3]="RULE",t[t.PREDICATE=4]="PREDICATE",t[t.ATOM=5]="ATOM",t[t.ACTION=6]="ACTION",t[t.SET=7]="SET",t[t.NOT_SET=8]="NOT_SET",t[t.WILDCARD=9]="WILDCARD",t[t.PRECEDENCE=10]="PRECEDENCE"}(e.TransitionType||(e.TransitionType={}))},24650:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.WildcardTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t){super(t)}get serializationType(){return 9}matches(t,e,r){return t>=e&&t<=r}toString(){return"."}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"matches",null),n([o.Override,o.NotNull],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.WildcardTransition=a},93027:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(58939),e),i(r(29202),e),i(r(77886),e),i(r(74274),e),i(r(78880),e),i(r(43258),e),i(r(28955),e),i(r(60493),e),i(r(56298),e),i(r(42813),e),i(r(77037),e),i(r(38730),e),i(r(5369),e),i(r(38749),e),i(r(78744),e),i(r(50760),e),i(r(93099),e),i(r(55620),e),i(r(61405),e),i(r(52433),e),i(r(71173),e),i(r(50585),e),i(r(38016),e),i(r(29250),e),i(r(44241),e),i(r(9803),e),i(r(52367),e),i(r(22662),e),i(r(89383),e),i(r(21088),e),i(r(23972),e),i(r(37920),e),i(r(59057),e),i(r(49616),e),i(r(56474),e),i(r(94283),e),i(r(84520),e),i(r(38240),e),i(r(16479),e),i(r(39462),e),i(r(37059),e),i(r(46251),e),i(r(33575),e),i(r(75895),e),i(r(38344),e),i(r(13161),e),i(r(64891),e),i(r(66305),e),i(r(66061),e),i(r(97004),e),i(r(6369),e),i(r(78859),e),i(r(56409),e),i(r(30333),e),i(r(51284),e),i(r(93053),e),i(r(79240),e),i(r(8840),e),i(r(23334),e),i(r(32356),e),i(r(21384),e),i(r(84364),e),i(r(38195),e),i(r(5481),e),i(r(4016),e),i(r(68644),e),i(r(11072),e),i(r(67672),e),i(r(24650),e)},52962:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.AcceptStateInfo=void 0;e.AcceptStateInfo=class{constructor(t,e){this._prediction=t,this._lexerActionExecutor=e}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}},73074:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFA=void 0;const o=r(1533),s=r(43258),a=r(68590),l=r(69709),c=r(80324),u=r(72399),h=r(70436),p=r(4016),f=r(67435);let d=class{constructor(t,e=0){if(this.states=new o.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!t.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=t,this.atn=t.atn,this.decision=e;let r=!1;t instanceof p.StarLoopEntryState&&t.precedenceRuleDecision&&(r=!0,this.s0=new l.DFAState(new s.ATNConfigSet),this.s0full=new l.DFAState(new s.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(t,e){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return e?this.s0full.getTarget(t):this.s0.getTarget(t)}setPrecedenceStartState(t,e,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");t<0||(e?this.s0full.setTarget(t,r):this.s0.setTarget(t,r))}get isEmpty(){return this.isPrecedenceDfa?0===this.s0.getEdgeMap().size&&0===this.s0full.getEdgeMap().size:null==this.s0&&null==this.s0full}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:null!=this.s0full}addState(t){return t.stateNumber=this.nextStateNumber++,this.states.getOrAdd(t)}toString(t,e){if(t||(t=f.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return r=e?new a.DFASerializer(this,t,e,this.atnStartState.atn):new a.DFASerializer(this,t),r.toString()}toLexerString(){if(!this.s0)return"";return new c.LexerDFASerializer(this).toString()}};n([u.NotNull],d.prototype,"states",void 0),n([u.NotNull],d.prototype,"atnStartState",void 0),n([u.NotNull],d.prototype,"atn",void 0),d=n([i(0,u.NotNull)],d),e.DFA=d},68590:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DFASerializer=void 0;const i=r(56298),o=r(72399),s=r(78859),a=r(18831),l=r(67435);class c{constructor(t,e,r,n){e instanceof a.Recognizer?(r=e.ruleNames,n=e.atn,e=e.vocabulary):e||(e=l.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=t,this.vocabulary=e,this.ruleNames=r,this.atn=n}toString(){if(!this.dfa.s0)return"";let t="";if(this.dfa.states){let e=new Array(...this.dfa.states.toArray());e.sort(((t,e)=>t.stateNumber-e.stateNumber));for(let r of e){let e=r.getEdgeMap(),n=[...e.keys()].sort(((t,e)=>t-e)),o=r.getContextEdgeMap(),s=[...o.keys()].sort(((t,e)=>t-e));for(let o of n){let n=e.get(o);if((null==n||n===i.ATNSimulator.ERROR)&&!r.isContextSymbol(o))continue;let s=!1;t+=this.getStateString(r)+"-"+this.getEdgeLabel(o)+"->",r.isContextSymbol(o)&&(t+="!",s=!0);let a=n;a&&a.stateNumber!==i.ATNSimulator.ERROR.stateNumber?t+=this.getStateString(a)+"\n":s&&(t+="ctx\n")}if(r.isContextSensitive)for(let e of s)t+=this.getStateString(r)+"-"+this.getContextLabel(e)+"->"+this.getStateString(o.get(e))+"\n"}}let e=t;return 0===e.length?"":e}getContextLabel(t){if(t===s.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(t===s.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&t>0&&t<=this.atn.states.length){let e=this.atn.states[t].ruleIndex;if(this.ruleNames&&e>=0&&e<this.ruleNames.length)return"ctx:"+String(t)+"("+this.ruleNames[e]+")"}return"ctx:"+String(t)}getEdgeLabel(t){return this.vocabulary.getDisplayName(t)}getStateString(t){if(t===i.ATNSimulator.ERROR)return"ERROR";let e=t.stateNumber,r="s"+e;if(t.isAcceptState&&(r=t.predicates?":s"+e+"=>"+t.predicates:":s"+e+"=>"+t.prediction),t.isContextSensitive){r+="*";for(let e of t.configs)if(e.reachesIntoOuterContext){r+="*";break}}return r}}n([o.NotNull],c.prototype,"dfa",void 0),n([o.NotNull],c.prototype,"vocabulary",void 0),n([o.Override],c.prototype,"toString",null),e.DFASerializer=c},69709:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const o=r(74274),s=r(46889),a=r(75636),l=r(72399),c=r(78859),u=r(94148);class h{constructor(t){this.stateNumber=-1,this.configs=t,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(t){return!!this.isContextSensitive&&this.contextSymbols.get(t)}setContextSymbol(t){u(this.isContextSensitive),this.contextSymbols.set(t)}setContextSensitive(t){u(!this.configs.isOutermostConfigSet),this.isContextSensitive||this.contextSymbols||(this.contextSymbols=new s.BitSet)}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(t){this._acceptStateInfo=t}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:o.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(t){return this.edges.get(t)}setTarget(t,e){this.edges.set(t,e)}getEdgeMap(){return this.edges}getContextTarget(t){return t===c.PredictionContext.EMPTY_FULL_STATE_KEY&&(t=-1),this.contextEdges.get(t)}setContextTarget(t,e){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");t===c.PredictionContext.EMPTY_FULL_STATE_KEY&&(t=-1),this.contextEdges.set(t,e)}getContextEdgeMap(){let t=new Map(this.contextEdges),e=t.get(-1);if(void 0!==e){if(1===t.size){let t=new Map;return t.set(c.PredictionContext.EMPTY_FULL_STATE_KEY,e),t}t.delete(-1),t.set(c.PredictionContext.EMPTY_FULL_STATE_KEY,e)}return t}hashCode(){let t=a.MurmurHash.initialize(7);return t=a.MurmurHash.update(t,this.configs.hashCode()),t=a.MurmurHash.finish(t,1),t}equals(t){if(this===t)return!0;if(!(t instanceof h))return!1;let e=t;return this.configs.equals(e.configs)}toString(){let t="";return t+=this.stateNumber+":"+this.configs,this.isAcceptState&&(t+="=>",this.predicates?t+=this.predicates:t+=this.prediction),t.toString()}}n([l.NotNull],h.prototype,"configs",void 0),n([l.NotNull],h.prototype,"edges",void 0),n([l.NotNull],h.prototype,"contextEdges",void 0),n([l.Override],h.prototype,"hashCode",null),n([l.Override],h.prototype,"equals",null),n([l.Override],h.prototype,"toString",null),e.DFAState=h,function(t){let e=class{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}};n([l.NotNull],e.prototype,"pred",void 0),n([l.Override],e.prototype,"toString",null),e=n([i(0,l.NotNull)],e),t.PredPrediction=e}(h=e.DFAState||(e.DFAState={}))},80324:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerDFASerializer=void 0;const o=r(68590),s=r(72399),a=r(67435);let l=class extends o.DFASerializer{constructor(t){super(t,a.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(t){return"'"+String.fromCodePoint(t)+"'"}};n([s.Override,s.NotNull],l.prototype,"getEdgeLabel",null),l=n([i(0,s.NotNull)],l),e.LexerDFASerializer=l},12221:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(52666),e),i(r(95635),e),i(r(67404),e),i(r(27442),e),i(r(46737),e),i(r(12781),e),i(r(36776),e),i(r(75866),e),i(r(90328),e),i(r(48291),e),i(r(25629),e),i(r(95411),e),i(r(13196),e),i(r(43361),e),i(r(77997),e),i(r(57866),e),i(r(82262),e),i(r(22468),e),i(r(3714),e),i(r(71492),e),i(r(22807),e),i(r(96145),e),i(r(86181),e),i(r(309),e),i(r(40755),e),i(r(35922),e),i(r(60754),e),i(r(49274),e),i(r(41097),e),i(r(57115),e),i(r(86142),e),i(r(79449),e),i(r(18831),e),i(r(89984),e),i(r(35481),e),i(r(33530),e),i(r(74275),e),i(r(47760),e),i(r(81668),e),i(r(58369),e),i(r(53696),e),i(r(92806),e),i(r(68897),e),i(r(67435),e),i(r(45116),e)},73907:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Array2DHashMap=void 0;const n=r(1533);class i{constructor(t){this.keyComparator=t}hashCode(t){return this.keyComparator.hashCode(t.key)}equals(t,e){return this.keyComparator.equals(t.key,e.key)}}class o{constructor(t){this.backingStore=t instanceof o?new n.Array2DHashSet(t.backingStore):new n.Array2DHashSet(new i(t))}clear(){this.backingStore.clear()}containsKey(t){return this.backingStore.contains({key:t})}get(t){let e=this.backingStore.get({key:t});if(e)return e.value}get isEmpty(){return this.backingStore.isEmpty}put(t,e){let r,n=this.backingStore.get({key:t,value:e});return n?(r=n.value,n.value=e):this.backingStore.add({key:t,value:e}),r}putIfAbsent(t,e){let r,n=this.backingStore.get({key:t,value:e});return n?r=n.value:this.backingStore.add({key:t,value:e}),r}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(t){return t instanceof o&&this.backingStore.equals(t.backingStore)}}e.Array2DHashMap=o},1533:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Array2DHashSet=void 0;const o=r(94148),s=r(65643),a=r(72399),l=r(75636),c=.75;class u{constructor(t,e=16){if(this.n=0,this.threshold=Math.floor(12),t instanceof u){this.comparator=t.comparator,this.buckets=t.buckets.slice(0);for(let t=0;t<this.buckets.length;t++){let e=this.buckets[t];e&&(this.buckets[t]=e.slice(0))}this.n=t.n,this.threshold=t.threshold}else this.comparator=t||s.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(e)}getOrAdd(t){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(t)}getOrAddImpl(t){let e=this.getBucket(t),r=this.buckets[e];if(!r)return r=[t],this.buckets[e]=r,this.n++,t;for(let e of r)if(this.comparator.equals(e,t))return e;return r.push(t),this.n++,t}get(t){if(null==t)return t;let e=this.getBucket(t),r=this.buckets[e];if(r)for(let e of r)if(this.comparator.equals(e,t))return e}getBucket(t){return this.comparator.hashCode(t)&this.buckets.length-1}hashCode(){let t=l.MurmurHash.initialize();for(let e of this.buckets)if(null!=e)for(let r of e){if(null==r)break;t=l.MurmurHash.update(t,this.comparator.hashCode(r))}return t=l.MurmurHash.finish(t,this.size),t}equals(t){if(t===this)return!0;if(!(t instanceof u))return!1;if(t.size!==this.size)return!1;return this.containsAll(t)}expand(){let t=this.buckets,e=2*this.buckets.length,r=this.createBuckets(e);this.buckets=r,this.threshold=Math.floor(e*c);let n=this.size;for(let e of t)if(e)for(let t of e){let e=this.getBucket(t),r=this.buckets[e];r||(r=[],this.buckets[e]=r),r.push(t)}o(this.n===n)}add(t){return this.getOrAdd(t)===t}get size(){return this.n}get isEmpty(){return 0===this.n}contains(t){return this.containsFast(this.asElementType(t))}containsFast(t){return null!=t&&null!=this.get(t)}*[Symbol.iterator](){yield*this.toArray()}toArray(){const t=new Array(this.size);let e=0;for(let r of this.buckets)if(null!=r)for(let n of r){if(null==n)break;t[e++]=n}return t}containsAll(t){if(t instanceof u){let e=t;for(let t of e.buckets)if(null!=t)for(let e of t){if(null==e)break;if(!this.containsFast(this.asElementType(e)))return!1}}else for(let e of t)if(!this.containsFast(this.asElementType(e)))return!1;return!0}addAll(t){let e=!1;for(let r of t){this.getOrAdd(r)!==r&&(e=!0)}return e}clear(){this.buckets=this.createBuckets(16),this.n=0,this.threshold=Math.floor(12)}toString(){if(0===this.size)return"{}";let t="{",e=!0;for(let r of this.buckets)if(null!=r)for(let n of r){if(null==n)break;e?e=!1:t+=", ",t+=n.toString()}return t+="}",t}toTableString(){let t="";for(let e of this.buckets){if(null==e){t+="null\n";continue}t+="[";let r=!0;for(let n of e)r?r=!1:t+=" ",t+=null==n?"_":n.toString();t+="]\n"}return t}asElementType(t){return t}createBuckets(t){return new Array(t)}}n([a.NotNull],u.prototype,"comparator",void 0),n([a.Override],u.prototype,"hashCode",null),n([a.Override],u.prototype,"equals",null),n([a.Override],u.prototype,"add",null),n([a.Override],u.prototype,"size",null),n([a.Override],u.prototype,"isEmpty",null),n([a.Override],u.prototype,"contains",null),n([i(0,a.Nullable)],u.prototype,"containsFast",null),n([a.Override],u.prototype,Symbol.iterator,null),n([a.Override],u.prototype,"toArray",null),n([a.Override],u.prototype,"containsAll",null),n([a.Override],u.prototype,"addAll",null),n([a.Override],u.prototype,"clear",null),n([a.Override],u.prototype,"toString",null),n([a.SuppressWarnings("unchecked")],u.prototype,"asElementType",null),n([a.SuppressWarnings("unchecked")],u.prototype,"createBuckets",null),e.Array2DHashSet=u},8151:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayEqualityComparator=void 0;const i=r(72399),o=r(75636),s=r(70436);class a{hashCode(t){return null==t?0:o.MurmurHash.hashCode(t,0)}equals(t,e){if(null==t)return null==e;if(null==e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!s.ObjectEqualityComparator.INSTANCE.equals(t[r],e[r]))return!1;return!0}}a.INSTANCE=new a,n([i.Override],a.prototype,"hashCode",null),n([i.Override],a.prototype,"equals",null),e.ArrayEqualityComparator=a},95754:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){t.binarySearch=function(t,e,r,n){return function(t,e,r,n){let i=e,o=r-1;for(;i<=o;){let e=i+o>>>1,r=t[e];if(r<n)i=e+1;else{if(!(r>n))return e;o=e-1}}return-(i+1)}(t,void 0!==r?r:0,void 0!==n?n:t.length,e)},t.toString=function(t){let e="[",r=!0;for(let n of t)r?r=!1:e+=", ",e+=null===n?"null":void 0===n?"undefined":n;return e+="]",e}}(e.Arrays||(e.Arrays={}))},46889:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.BitSet=void 0;const n=r(40537),i=r(75636),o=new Uint16Array(0);function s(t){return t>>>4}function a(t){return 16*t}function l(t){let e=1;for(let r=0;r<16;r++){if(t&e)return r;e=e<<1>>>0}throw new RangeError("No specified bit found")}function c(t){let e=32768;for(let r=15;r>=0;r--){if(t&e)return r;e>>>=1}throw new RangeError("No specified bit found")}function u(t,e){return(t&=15)===(e&=15)?1<<t>>>0:65535>>>15-e^65535>>>16-t}const h=new Uint8Array(65536);for(let t=0;t<16;t++){const e=1<<t>>>0;let r=0;for(;r<h.length;){r+=e;for(let t=0;t<e;t++)h[r]++,r++}}class p{constructor(t){if(t)if("number"==typeof t){if(t<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(s(t-1)+1)}else if(t instanceof p)this.data=t.data.slice(0);else{let e=-1;for(let r of t)e<r&&(e=r);this.data=new Uint16Array(s(e-1)+1);for(let e of t)this.set(e)}else this.data=o}and(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length);let i=-1;for(let t=0;t<n;t++){0!==(e[t]&=r[t])&&(i=t)}-1===i&&(this.data=o),i<e.length-1&&(this.data=e.slice(0,i+1))}andNot(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length);let i=-1;for(let t=0;t<n;t++){0!==(e[t]&=65535^r[t])&&(i=t)}-1===i&&(this.data=o),i<e.length-1&&(this.data=e.slice(0,i+1))}cardinality(){if(this.isEmpty)return 0;const t=this.data,e=t.length;let r=0;for(let n=0;n<e;n++)r+=h[t[n]];return r}clear(t,e){null==t?this.data.fill(0):null==e?this.set(t,!1):this.set(t,e,!1)}flip(t,e){if(null==e&&(e=t),t<0||e<t)throw new RangeError;let r=s(t);const n=s(e);if(r===n)this.data[r]^=u(t,e);else{for(this.data[r++]^=u(t,15);r<n;)this.data[r++]^=65535;this.data[r++]^=u(0,e)}}get(t,e){if(void 0===e)return!!(this.data[s(t)]&u(t,t));{let r=new p(e+1);for(let n=t;n<=e;n++)r.set(n,this.get(n));return r}}intersects(t){let e=Math.min(this.length(),t.length());if(0===e)return!1;let r=s(e-1);for(let e=0;e<=r;e++)if(this.data[e]&t.data[e])return!0;return!1}get isEmpty(){return 0===this.length()}length(){return this.data.length?this.previousSetBit(a(this.data.length)-1)+1:0}nextClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);if(n>r)return-1;let i=65535^u(t,15);if(65535==(e[n]|i)){for(n++,i=0;n<r&&65535===e[n];n++);if(n===r)return-1}return a(n)+l(65535^(e[n]|i))}nextSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);if(n>r)return-1;let i=u(t,15);if(!(e[n]&i)){for(n++,i=65535;n<r&&0===e[n];n++);if(n>=r)return-1}return a(n)+l(e[n]&i)}or(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length),i=Math.max(e.length,r.length),s=e.length===i?e:new Uint16Array(i);let a=-1;for(let t=0;t<n;t++){0!==(s[t]=e[t]|r[t])&&(a=t)}const l=e.length>r.length?e:r;for(let t=n;t<i;t++){0!==(s[t]=l[t])&&(a=t)}-1===a?this.data=o:s.length===a+1?this.data=s:this.data=s.slice(0,a)}previousClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);n>=r&&(n=r-1);let i=65535^u(0,t);if(65535==(e[n]|i)){for(i=0,n--;n>=0&&65535===e[n];n--);if(n<0)return-1}return a(n)+c(65535^(e[n]|i))}previousSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);n>=r&&(n=r-1);let i=u(0,t);if(!(e[n]&i)){for(n--,i=65535;n>=0&&0===e[n];n--);if(n<0)return-1}return a(n)+c(e[n]&i)}set(t,e,r){if(void 0===e?(e=t,r=!0):"boolean"==typeof e&&(r=e,e=t),void 0===r&&(r=!0),t<0||t>e)throw new RangeError;let n=s(t),i=s(e);if(r&&i>=this.data.length){let t=new Uint16Array(i+1);this.data.forEach(((e,r)=>t[r]=e)),this.data=t}else if(!r){if(n>=this.data.length)return;i>=this.data.length&&(i=this.data.length-1,e=16*this.data.length-1)}if(n===i)this._setBits(n,r,u(t,e));else{for(this._setBits(n++,r,u(t,15));n<i;)this.data[n++]=r?65535:0;this._setBits(n,r,u(0,e))}}_setBits(t,e,r){e?this.data[t]|=r:this.data[t]&=65535^r}get size(){return 8*this.data.byteLength}hashCode(){return i.MurmurHash.hashCode(this.data,22)}equals(t){if(t===this)return!0;if(!(t instanceof p))return!1;const e=this.length();if(e!==t.length())return!1;if(0===e)return!0;let r=s(e-1);for(let e=0;e<=r;e++)if(this.data[e]!==t.data[e])return!1;return!0}toString(){let t="{",e=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))e?e=!1:t+=", ",t+=r;return t+="}",t}xor(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length),i=Math.max(e.length,r.length),s=e.length===i?e:new Uint16Array(i);let a=-1;for(let t=0;t<n;t++){0!==(s[t]=e[t]^r[t])&&(a=t)}const l=e.length>r.length?e:r;for(let t=n;t<i;t++){0!==(s[t]=l[t])&&(a=t)}-1===a?this.data=o:s.length===a+1?this.data=s:this.data=s.slice(0,a+1)}clone(){return new p(this)}[Symbol.iterator](){return new f(this.data)}[n.inspect.custom](){return"BitSet "+this.toString()}}e.BitSet=p;class f{constructor(t){this.data=t,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const t=this.data[this.index]&this.mask;if(0!==t){const e=a(this.index)+l(t);return this.mask=u(e+1,15),{done:!1,value:e}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}},24605:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.isSupplementaryCodePoint=e.isLowSurrogate=e.isHighSurrogate=void 0,e.isHighSurrogate=function(t){return t>=55296&&t<=56319},e.isLowSurrogate=function(t){return t>=56320&&t<=57343},e.isSupplementaryCodePoint=function(t){return t>=65536}},65643:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultEqualityComparator=void 0;const i=r(72399),o=r(75636),s=r(70436);class a{hashCode(t){return null==t?0:"string"==typeof t||"number"==typeof t?o.MurmurHash.hashCode([t]):s.ObjectEqualityComparator.INSTANCE.hashCode(t)}equals(t,e){return null==t?null==e:"string"==typeof t||"number"==typeof t?t===e:s.ObjectEqualityComparator.INSTANCE.equals(t,e)}}a.INSTANCE=new a,n([i.Override],a.prototype,"hashCode",null),n([i.Override],a.prototype,"equals",null),e.DefaultEqualityComparator=a},18240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.IntegerList=void 0;const i=r(95754),o=r(72399),s=new Int32Array(0),a=2147483639;class l{constructor(t){if(t)if(t instanceof l)this._data=t._data.slice(0),this._size=t._size;else if("number"==typeof t)0===t?(this._data=s,this._size=0):(this._data=new Int32Array(t),this._size=0);else{this._data=s,this._size=0;for(let e of t)this.add(e)}else this._data=s,this._size=0}add(t){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=t,this._size++}addAll(t){if(Array.isArray(t))this.ensureCapacity(this._size+t.length),this._data.subarray(this._size,this._size+t.length).set(t),this._size+=t.length;else if(t instanceof l)this.ensureCapacity(this._size+t._size),this._data.subarray(this._size,this._size+t.size).set(t._data),this._size+=t._size;else{this.ensureCapacity(this._size+t.size);let e=0;for(let r of t)this._data[this._size+e]=r,e++;this._size+=t.size}}get(t){if(t<0||t>=this._size)throw RangeError();return this._data[t]}contains(t){for(let e=0;e<this._size;e++)if(this._data[e]===t)return!0;return!1}set(t,e){if(t<0||t>=this._size)throw RangeError();let r=this._data[t];return this._data[t]=e,r}removeAt(t){let e=this.get(t);return this._data.copyWithin(t,t+1,this._size),this._data[this._size-1]=0,this._size--,e}removeRange(t,e){if(t<0||e<0||t>this._size||e>this._size)throw RangeError();if(t>e)throw RangeError();this._data.copyWithin(e,t,this._size),this._data.fill(0,this._size-(e-t),this._size),this._size-=e-t}get isEmpty(){return 0===this._size}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return 0===this._size?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(t){if(t===this)return!0;if(!(t instanceof l))return!1;if(this._size!==t._size)return!1;for(let e=0;e<this._size;e++)if(this._data[e]!==t._data[e])return!1;return!0}hashCode(){let t=1;for(let e=0;e<this._size;e++)t=31*t+this._data[e];return t}toString(){return this._data.toString()}binarySearch(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this._size),e<0||r<0||e>this._size||r>this._size)throw new RangeError;if(e>r)throw new RangeError;return i.Arrays.binarySearch(this._data,t,e,r)}ensureCapacity(t){if(t<0||t>a)throw new RangeError;let e;for(e=0===this._data.length?4:this._data.length;e<t;)e*=2,(e<0||e>a)&&(e=a);let r=new Int32Array(e);r.set(this._data),this._data=r}toCharArray(){let t=new Uint16Array(this._size),e=0,r=!1;for(let n=0;n<this._size;n++){let i=this._data[n];if(i>=0&&i<65536){t[e]=i,e++;continue}if(!r){let e=new Uint16Array(this.charArraySize());e.set(t,0),t=e,r=!0}let o=String.fromCodePoint(i);t[e]=o.charCodeAt(0),t[e+1]=o.charCodeAt(1),e+=2}return t}charArraySize(){let t=0;for(let e=0;e<this._size;e++)t+=this._data[e]>=65536?2:1;return t}}n([o.NotNull],l.prototype,"_data",void 0),n([o.Override],l.prototype,"equals",null),n([o.Override],l.prototype,"hashCode",null),n([o.Override],l.prototype,"toString",null),e.IntegerList=l},41862:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntegerStack=void 0;const n=r(18240);class i extends n.IntegerList{constructor(t){super(t)}push(t){this.add(t)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}e.IntegerStack=i},7477:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const i=r(72399);class o{constructor(t,e){this.a=t,this.b=e}static get INVALID(){return o._INVALID}static of(t,e){return t!==e||t<0||t>1e3?new o(t,e):(null==o.cache[t]&&(o.cache[t]=new o(t,t)),o.cache[t])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(t){return t===this||t instanceof o&&(this.a===t.a&&this.b===t.b)}hashCode(){let t=23;return t=31*t+this.a,t=31*t+this.b,t}startsBeforeDisjoint(t){return this.a<t.a&&this.b<t.a}startsBeforeNonDisjoint(t){return this.a<=t.a&&this.b>=t.a}startsAfter(t){return this.a>t.a}startsAfterDisjoint(t){return this.a>t.b}startsAfterNonDisjoint(t){return this.a>t.a&&this.a<=t.b}disjoint(t){return this.startsBeforeDisjoint(t)||this.startsAfterDisjoint(t)}adjacent(t){return this.a===t.b+1||this.b===t.a-1}properlyContains(t){return t.a>=this.a&&t.b<=this.b}union(t){return o.of(Math.min(this.a,t.a),Math.max(this.b,t.b))}intersection(t){return o.of(Math.max(this.a,t.a),Math.min(this.b,t.b))}differenceNotProperlyContained(t){let e;return t.startsBeforeNonDisjoint(this)?e=o.of(Math.max(this.a,t.b+1),this.b):t.startsAfterNonDisjoint(this)&&(e=o.of(this.a,t.a-1)),e}toString(){return this.a+".."+this.b}}o._INVALID=new o(-1,-2),o.cache=new Array(1001),n([i.Override],o.prototype,"equals",null),n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"toString",null),e.Interval=o},83357:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalSet=void 0;const o=r(8151),s=r(18240),a=r(7477),l=r(22807),c=r(75636),u=r(72399),h=r(47760);class p{constructor(t){this.readonly=!1,this._intervals=null!=t?t.slice(0):[]}static get COMPLETE_CHAR_SET(){return void 0===p._COMPLETE_CHAR_SET&&(p._COMPLETE_CHAR_SET=p.of(l.Lexer.MIN_CHAR_VALUE,l.Lexer.MAX_CHAR_VALUE),p._COMPLETE_CHAR_SET.setReadonly(!0)),p._COMPLETE_CHAR_SET}static get EMPTY_SET(){return null==p._EMPTY_SET&&(p._EMPTY_SET=new p,p._EMPTY_SET.setReadonly(!0)),p._EMPTY_SET}static of(t,e=t){let r=new p;return r.add(t,e),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(t,e=t){this.addRange(a.Interval.of(t,e))}addRange(t){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(t.b<t.a)){for(let e=0;e<this._intervals.length;e++){let r=this._intervals[e];if(t.equals(r))return;if(t.adjacent(r)||!t.disjoint(r)){let n=t.union(r);for(this._intervals[e]=n;e<this._intervals.length-1;){e++;let t=this._intervals[e];if(!n.adjacent(t)&&n.disjoint(t))break;this._intervals.splice(e,1),e--,this._intervals[e]=n.union(t)}return}if(t.startsBeforeDisjoint(r))return void this._intervals.splice(e,0,t)}this._intervals.push(t)}}static or(t){let e=new p;for(let r of t)e.addAll(r);return e}addAll(t){if(null==t)return this;if(t instanceof p){let e=t,r=e._intervals.length;for(let t=0;t<r;t++){let r=e._intervals[t];this.add(r.a,r.b)}}else for(let e of t.toArray())this.add(e);return this}complementRange(t,e){return this.complement(p.of(t,e))}complement(t){if(t.isNil)return p.EMPTY_SET;let e;return t instanceof p?e=t:(e=new p,e.addAll(t)),e.subtract(this)}subtract(t){if(null==t||t.isNil)return new p(this._intervals);if(t instanceof p)return p.subtract(this,t);let e=new p;return e.addAll(t),p.subtract(this,e)}static subtract(t,e){if(t.isNil)return new p;let r=new p(t._intervals);if(e.isNil)return r;let n=0,i=0;for(;n<r._intervals.length&&i<e._intervals.length;){let t,o,s=r._intervals[n],l=e._intervals[i];if(l.b<s.a)i++;else if(l.a>s.b)n++;else if(l.a>s.a&&(t=new a.Interval(s.a,l.a-1)),l.b<s.b&&(o=new a.Interval(l.b+1,s.b)),t){if(o){r._intervals[n]=t,r._intervals.splice(n+1,0,o),n++,i++;continue}r._intervals[n]=t,n++}else o?(r._intervals[n]=o,i++):r._intervals.splice(n,1)}return r}or(t){let e=new p;return e.addAll(this),e.addAll(t),e}and(t){if(t.isNil)return new p;let e,r=this._intervals,n=t._intervals,i=r.length,o=n.length,s=0,a=0;for(;s<i&&a<o;){let t=r[s],i=n[a];t.startsBeforeDisjoint(i)?s++:i.startsBeforeDisjoint(t)?a++:t.properlyContains(i)?(e||(e=new p),e.addRange(t.intersection(i)),a++):i.properlyContains(t)?(e||(e=new p),e.addRange(t.intersection(i)),s++):t.disjoint(i)||(e||(e=new p),e.addRange(t.intersection(i)),t.startsAfterNonDisjoint(i)?a++:i.startsAfterNonDisjoint(t)&&s++)}return e||new p}contains(t){let e=0,r=this._intervals.length-1;for(;e<=r;){let n=e+r>>1,i=this._intervals[n],o=i.a;if(i.b<t)e=n+1;else{if(!(o>t))return!0;r=n-1}}return!1}get isNil(){return null==this._intervals||0===this._intervals.length}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let t=c.MurmurHash.initialize();for(let e of this._intervals)t=c.MurmurHash.update(t,e.a),t=c.MurmurHash.update(t,e.b);return t=c.MurmurHash.finish(t,2*this._intervals.length),t}equals(t){return null!=t&&t instanceof p&&o.ArrayEqualityComparator.INSTANCE.equals(this._intervals,t._intervals)}toString(t=!1){let e="";if(null==this._intervals||0===this._intervals.length)return"{}";this.size>1&&(e+="{");let r=!0;for(let n of this._intervals){r?r=!1:e+=", ";let i=n.a,o=n.b;i===o?i===h.Token.EOF?e+="<EOF>":e+=t?"'"+String.fromCodePoint(i)+"'":i:e+=t?"'"+String.fromCodePoint(i)+"'..'"+String.fromCodePoint(o)+"'":i+".."+o}return this.size>1&&(e+="}"),e}toStringVocabulary(t){if(null==this._intervals||0===this._intervals.length)return"{}";let e="";this.size>1&&(e+="{");let r=!0;for(let n of this._intervals){r?r=!1:e+=", ";let i=n.a,o=n.b;if(i===o)e+=this.elementName(t,i);else for(let r=i;r<=o;r++)r>i&&(e+=", "),e+=this.elementName(t,r)}return this.size>1&&(e+="}"),e}elementName(t,e){return e===h.Token.EOF?"<EOF>":e===h.Token.EPSILON?"<EPSILON>":t.getDisplayName(e)}get size(){let t=0,e=this._intervals.length;if(1===e){let t=this._intervals[0];return t.b-t.a+1}for(let r=0;r<e;r++){let e=this._intervals[r];t+=e.b-e.a+1}return t}toIntegerList(){let t=new s.IntegerList(this.size),e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;for(let e=n;e<=i;e++)t.add(e)}return t}toSet(){let t=new Set;for(let e of this._intervals){let r=e.a,n=e.b;for(let e=r;e<=n;e++)t.add(e)}return t}toArray(){let t=new Array,e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;for(let e=n;e<=i;e++)t.push(e)}return t}remove(t){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;if(t<n)break;if(t===n&&t===i){this._intervals.splice(r,1);break}if(t===n){this._intervals[r]=a.Interval.of(e.a+1,e.b);break}if(t===i){this._intervals[r]=a.Interval.of(e.a,e.b-1);break}if(t>n&&t<i){let n=e.b;this._intervals[r]=a.Interval.of(e.a,t-1),this.add(t+1,n)}}}get isReadonly(){return this.readonly}setReadonly(t){if(this.readonly&&!t)throw new Error("can't alter readonly IntervalSet");this.readonly=t}}n([u.Override],p.prototype,"addAll",null),n([u.Override],p.prototype,"complement",null),n([u.Override],p.prototype,"subtract",null),n([u.Override],p.prototype,"or",null),n([u.Override],p.prototype,"and",null),n([u.Override],p.prototype,"contains",null),n([u.Override],p.prototype,"isNil",null),n([u.Override],p.prototype,"hashCode",null),n([u.Override],p.prototype,"equals",null),n([i(0,u.NotNull)],p.prototype,"toStringVocabulary",null),n([u.NotNull,i(0,u.NotNull)],p.prototype,"elementName",null),n([u.Override],p.prototype,"size",null),n([u.Override],p.prototype,"remove",null),n([u.NotNull],p,"of",null),n([u.NotNull],p,"subtract",null),e.IntervalSet=p},10821:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MultiMap=void 0;class r extends Map{constructor(){super()}map(t,e){let r=super.get(t);r||(r=[],super.set(t,r)),r.push(e)}getPairs(){let t=[];return this.forEach(((e,r)=>{e.forEach((e=>{t.push([r,e])}))})),t}}e.MultiMap=r},75636:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function e(t=0){return t}function r(t,e){null==e?e=0:"string"==typeof e?e=function(t){let e=t.length;if(0===e)return 0;let r=0;for(let n=0;n<e;n++){r=(r<<5>>>0)-r+t.charCodeAt(n),r|=0}return r}(e):"object"==typeof e&&(e=e.hashCode());let r=e;return r=Math.imul(r,3432918353),r=r<<15|r>>>17,r=Math.imul(r,461845907),t=(t^=r)<<13|t>>>19,4294967295&(t=Math.imul(t,5)+3864292196)}function n(t,e){return t^=4*e,t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),t^=t>>>16}t.initialize=e,t.update=r,t.finish=n,t.hashCode=function(t,i=0){let o=e(i),s=0;for(let e of t)o=r(o,e),s++;return o=n(o,s),o}}(e.MurmurHash||(e.MurmurHash={}))},70436:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectEqualityComparator=void 0;const i=r(72399);class o{hashCode(t){return null==t?0:t.hashCode()}equals(t,e){return null==t?null==e:t.equals(e)}}o.INSTANCE=new o,n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"equals",null),e.ObjectEqualityComparator=o},16897:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ParseCancellationException=void 0;class r extends Error{constructor(t){super(t.message),this.cause=t,this.stack=t.stack}getCause(){return this.cause}}e.ParseCancellationException=r},88567:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.UUID=void 0;const n=r(75636);class i{constructor(t,e,r,n){this.data=new Uint32Array(4),this.data[0]=t,this.data[1]=e,this.data[2]=r,this.data[3]=n}static fromString(t){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(t))throw new Error("Incorrectly formatted UUID");let e=t.split("-"),r=parseInt(e[0],16),n=(parseInt(e[1],16)<<16>>>0)+parseInt(e[2],16),o=(parseInt(e[3],16)<<16>>>0)+parseInt(e[4].substr(0,4),16),s=parseInt(e[4].substr(-8),16);return new i(r,n,o,s)}hashCode(){return n.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(t){return t===this||t instanceof i&&(this.data[0]===t.data[0]&&this.data[1]===t.data[1]&&this.data[2]===t.data[2]&&this.data[3]===t.data[3])}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}e.UUID=i},40659:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.toCharArray=e.toMap=e.equals=e.join=e.escapeWhitespace=void 0,e.escapeWhitespace=function(t,e){return e?t.replace(/ /,"·"):t.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")},e.join=function(t,e){let r="",n=!0;for(let i of t)n?n=!1:r+=e,r+=i;return r},e.equals=function(t,e){return t===e||void 0!==t&&void 0!==e&&t.equals(e)},e.toMap=function(t){let e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e},e.toCharArray=function(t){if("string"==typeof t){let e=new Uint16Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}return t.toCharArray()}},61964:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorNode=void 0;const i=r(72399),o=r(30360);class s extends o.TerminalNode{constructor(t){super(t)}accept(t){return t.visitErrorNode(this)}}n([i.Override],s.prototype,"accept",null),e.ErrorNode=s},85378:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleNode=void 0;e.RuleNode=class{}},30360:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalNode=void 0;const i=r(7477),o=r(72399),s=r(47760);class a{constructor(t){this._symbol=t}getChild(t){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(t){this._parent=t}get payload(){return this._symbol}get sourceInterval(){let t=this._symbol.tokenIndex;return new i.Interval(t,t)}get childCount(){return 0}accept(t){return t.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(t){return this.toString()}toString(){return this._symbol.type===s.Token.EOF?"<EOF>":this._symbol.text||""}}n([o.Override],a.prototype,"getChild",null),n([o.Override],a.prototype,"parent",null),n([o.Override],a.prototype,"setParent",null),n([o.Override],a.prototype,"payload",null),n([o.Override],a.prototype,"sourceInterval",null),n([o.Override],a.prototype,"childCount",null),n([o.Override],a.prototype,"accept",null),n([o.Override],a.prototype,"text",null),n([o.Override],a.prototype,"toStringTree",null),n([o.Override],a.prototype,"toString",null),e.TerminalNode=a},7239:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Trees=void 0;const o=r(74274),s=r(48291),a=r(61964),l=r(72399),c=r(35922),u=r(41097),h=r(85378),p=r(30360),f=r(47760),d=r(40659);class y{static toStringTree(t,e){let r;r=e instanceof c.Parser?e.ruleNames:e;let n=d.escapeWhitespace(this.getNodeText(t,r),!1);if(0===t.childCount)return n;let i="";i+="(",n=d.escapeWhitespace(this.getNodeText(t,r),!1),i+=n,i+=" ";for(let e=0;e<t.childCount;e++)e>0&&(i+=" "),i+=this.toStringTree(t.getChild(e),r);return i+=")",i}static getNodeText(t,e){let r;if(e instanceof c.Parser)r=e.ruleNames;else{if(!e){let e=t.payload;return"string"==typeof e.text?e.text:t.payload.toString()}r=e}if(t instanceof h.RuleNode){let e=t.ruleContext,n=r[e.ruleIndex],i=e.altNumber;return i!==o.ATN.INVALID_ALT_NUMBER?n+":"+i:n}if(t instanceof a.ErrorNode)return t.toString();if(t instanceof p.TerminalNode){return t.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(t){let e=[];for(let r=0;r<t.childCount;r++)e.push(t.getChild(r));return e}static getAncestors(t){let e=[],r=t.parent;for(;r;)e.unshift(r),r=r.parent;return e}static isAncestorOf(t,e){if(!t||!e||!t.parent)return!1;let r=e.parent;for(;r;){if(t===r)return!0;r=r.parent}return!1}static findAllTokenNodes(t,e){return y.findAllNodes(t,e,!0)}static findAllRuleNodes(t,e){return y.findAllNodes(t,e,!1)}static findAllNodes(t,e,r){let n=[];return y._findAllNodes(t,e,r,n),n}static _findAllNodes(t,e,r,n){r&&t instanceof p.TerminalNode?t.symbol.type===e&&n.push(t):!r&&t instanceof u.ParserRuleContext&&t.ruleIndex===e&&n.push(t);for(let i=0;i<t.childCount;i++)y._findAllNodes(t.getChild(i),e,r,n)}static getDescendants(t){let e=[];return function t(r){e.push(r);const n=r.childCount;for(let e=0;e<n;e++)t(r.getChild(e))}(t),e}static getRootOfSubtreeEnclosingRegion(t,e,r){let n=t.childCount;for(let i=0;i<n;i++){let n=t.getChild(i),o=y.getRootOfSubtreeEnclosingRegion(n,e,r);if(o)return o}if(t instanceof u.ParserRuleContext){let n=t.stop;if(e>=t.start.tokenIndex&&(null==n||r<=n.tokenIndex))return t}}static stripChildrenOutOfRange(t,e,r,n){if(!t)return;let i=t.childCount;for(let o=0;o<i;o++){let i=t.getChild(o),a=i.sourceInterval;if(i instanceof u.ParserRuleContext&&(a.b<r||a.a>n)&&y.isAncestorOf(i,e)){let e=new s.CommonToken(f.Token.INVALID_TYPE,"...");t.children[o]=new p.TerminalNode(e)}}}static findNodeSuchThat(t,e){if(e(t))return t;let r=t.childCount;for(let n=0;n<r;n++){let r=y.findNodeSuchThat(t.getChild(n),e);if(void 0!==r)return r}}}n([i(0,l.NotNull)],y,"toStringTree",null),n([l.NotNull,i(0,l.NotNull)],y,"getAncestors",null),n([i(0,l.NotNull)],y,"getRootOfSubtreeEnclosingRegion",null),e.Trees=y},80934:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Chunk=void 0;e.Chunk=class{}},28571:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreeMatch=void 0;const o=r(72399);let s=class{constructor(t,e,r,n){if(!t)throw new Error("tree cannot be null");if(!e)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=t,this._pattern=e,this._labels=r,this._mismatchedNode=n}get(t){let e=this._labels.get(t);if(e&&0!==e.length)return e[e.length-1]}getAll(t){const e=this._labels.get(t);return e||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};n([o.NotNull,i(0,o.NotNull)],s.prototype,"getAll",null),n([o.NotNull],s.prototype,"labels",null),n([o.NotNull],s.prototype,"pattern",null),n([o.NotNull],s.prototype,"tree",null),n([o.Override],s.prototype,"toString",null),s=n([i(0,o.NotNull),i(1,o.NotNull),i(2,o.NotNull)],s),e.ParseTreeMatch=s},95920:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePattern=void 0;const o=r(72399),s=r(46605);let a=class{constructor(t,e,r,n){this._matcher=t,this._patternRuleIndex=r,this._pattern=e,this._patternTree=n}match(t){return this._matcher.match(t,this)}matches(t){return this._matcher.match(t,this).succeeded}findAll(t,e){let r=s.XPath.findAll(t,e,this._matcher.parser),n=[];for(let t of r){let e=this.match(t);e.succeeded&&n.push(e)}return n}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};n([o.NotNull],a.prototype,"_pattern",void 0),n([o.NotNull],a.prototype,"_patternTree",void 0),n([o.NotNull],a.prototype,"_matcher",void 0),n([o.NotNull,i(0,o.NotNull)],a.prototype,"match",null),n([i(0,o.NotNull)],a.prototype,"matches",null),n([o.NotNull,i(0,o.NotNull),i(1,o.NotNull)],a.prototype,"findAll",null),n([o.NotNull],a.prototype,"matcher",null),n([o.NotNull],a.prototype,"pattern",null),n([o.NotNull],a.prototype,"patternTree",null),a=n([i(0,o.NotNull),i(1,o.NotNull),i(3,o.NotNull)],a),e.ParseTreePattern=a},44864:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const o=r(27442),s=r(36776),a=r(95411),l=r(309),c=r(10821),u=r(72399),h=r(16897),p=r(49274),f=r(41097),d=r(28571),y=r(95920),g=r(79449),v=r(85378),m=r(94776),x=r(89086),b=r(30360),O=r(66947),S=r(47760),A=r(3303);class E{constructor(t,e){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=t,this._parser=e}setDelimiters(t,e,r){if(!t)throw new Error("start cannot be null or empty");if(!e)throw new Error("stop cannot be null or empty");this.start=t,this.stop=e,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(t,e,r=0){if("string"==typeof e){let n=this.compile(e,r);return this.matches(t,n)}{let r=new c.MultiMap;return!this.matchImpl(t,e.patternTree,r)}}match(t,e,r=0){if("string"==typeof e){let n=this.compile(e,r);return this.match(t,n)}{let r=new c.MultiMap,n=this.matchImpl(t,e.patternTree,r);return new d.ParseTreeMatch(t,e,r,n)}}compile(t,e){let r=this.tokenize(t),n=new l.ListTokenSource(r),i=new a.CommonTokenStream(n);const s=this._parser;let c,u=new p.ParserInterpreter(s.grammarFileName,s.vocabulary,s.ruleNames,s.getATNWithBypassAlts(),i);try{u.errorHandler=new o.BailErrorStrategy,c=u.parse(e)}catch(t){throw t instanceof h.ParseCancellationException?t.getCause():t instanceof g.RecognitionException?t:t instanceof Error?new E.CannotInvokeStartRule(t):t}if(i.LA(1)!==S.Token.EOF)throw new E.StartRuleDoesNotConsumeFullPattern;return new y.ParseTreePattern(this,t,e,c)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(t,e,r){if(!t)throw new TypeError("tree cannot be null");if(!e)throw new TypeError("patternTree cannot be null");if(t instanceof b.TerminalNode&&e instanceof b.TerminalNode){let n;if(t.symbol.type===e.symbol.type)if(e.symbol instanceof A.TokenTagToken){let n=e.symbol;r.map(n.tokenName,t);const i=n.label;i&&r.map(i,t)}else t.text===e.text||n||(n=t);else n||(n=t);return n}if(t instanceof f.ParserRuleContext&&e instanceof f.ParserRuleContext){let n,i=this.getRuleTagToken(e);if(i){if(t.ruleContext.ruleIndex===e.ruleContext.ruleIndex){r.map(i.ruleName,t);const e=i.label;e&&r.map(e,t)}else n||(n=t);return n}if(t.childCount!==e.childCount)return n||(n=t),n;let o=t.childCount;for(let n=0;n<o;n++){let i=this.matchImpl(t.getChild(n),e.getChild(n),r);if(i)return i}return n}return t}getRuleTagToken(t){if(t instanceof v.RuleNode&&1===t.childCount&&t.getChild(0)instanceof b.TerminalNode){let e=t.getChild(0);if(e.symbol instanceof m.RuleTagToken)return e.symbol}}tokenize(t){let e=this.split(t),r=[];for(let n of e)if(n instanceof x.TagChunk){let e=n;const i=e.tag.substr(0,1);if(i===i.toUpperCase()){let n=this._parser.getTokenType(e.tag);if(n===S.Token.INVALID_TYPE)throw new Error("Unknown token "+e.tag+" in pattern: "+t);let i=new A.TokenTagToken(e.tag,n,e.label);r.push(i)}else{if(i!==i.toLowerCase())throw new Error("invalid tag: "+e.tag+" in pattern: "+t);{let n=this._parser.getRuleIndex(e.tag);if(-1===n)throw new Error("Unknown rule "+e.tag+" in pattern: "+t);let i=this._parser.getATNWithBypassAlts().ruleToTokenType[n];r.push(new m.RuleTagToken(e.tag,i,e.label))}}}else{let t=n;this._lexer.inputStream=s.CharStreams.fromString(t.text);let e=this._lexer.nextToken();for(;e.type!==S.Token.EOF;)r.push(e),e=this._lexer.nextToken()}return r}split(t){let e=0,r=t.length,n=[],i=[],o=[];for(;e<r;)e===t.indexOf(this.escape+this.start,e)?e+=this.escape.length+this.start.length:e===t.indexOf(this.escape+this.stop,e)?e+=this.escape.length+this.stop.length:e===t.indexOf(this.start,e)?(i.push(e),e+=this.start.length):e===t.indexOf(this.stop,e)?(o.push(e),e+=this.stop.length):e++;if(i.length>o.length)throw new Error("unterminated tag in pattern: "+t);if(i.length<o.length)throw new Error("missing start tag in pattern: "+t);let s=i.length;for(let e=0;e<s;e++)if(i[e]>=o[e])throw new Error("tag delimiters out of order in pattern: "+t);if(0===s){let e=t.substring(0,r);n.push(new O.TextChunk(e))}if(s>0&&i[0]>0){let e=t.substring(0,i[0]);n.push(new O.TextChunk(e))}for(let e=0;e<s;e++){let r,a=t.substring(i[e]+this.start.length,o[e]),l=a,c=a.indexOf(":");if(c>=0&&(r=a.substring(0,c),l=a.substring(c+1,a.length)),n.push(new x.TagChunk(l,r)),e+1<s){let r=t.substring(o[e]+this.stop.length,i[e+1]);n.push(new O.TextChunk(r))}}if(s>0){let e=o[s-1]+this.stop.length;if(e<r){let i=t.substring(e,r);n.push(new O.TextChunk(i))}}for(let t=0;t<n.length;t++){let e=n[t];if(e instanceof O.TextChunk){let r=e.text.replace(this.escapeRE,"");r.length<e.text.length&&(n[t]=new O.TextChunk(r))}}return n}}n([u.NotNull,i(1,u.NotNull)],E.prototype,"match",null),n([u.NotNull],E.prototype,"lexer",null),n([u.NotNull],E.prototype,"parser",null),n([i(0,u.NotNull),i(1,u.NotNull),i(2,u.NotNull)],E.prototype,"matchImpl",null),e.ParseTreePatternMatcher=E,function(t){class e extends Error{constructor(t){super(`CannotInvokeStartRule: ${t}`),this.error=t}}t.CannotInvokeStartRule=e;class r extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}t.StartRuleDoesNotConsumeFullPattern=r}(E=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))},94776:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleTagToken=void 0;const o=r(72399),s=r(47760);let a=class{constructor(t,e,r){if(null==t||0===t.length)throw new Error("ruleName cannot be null or empty.");this._ruleName=t,this.bypassTokenType=e,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return s.Token.DEFAULT_CHANNEL}get text(){return null!=this._label?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};n([o.NotNull],a.prototype,"ruleName",null),n([o.Override],a.prototype,"channel",null),n([o.Override],a.prototype,"text",null),n([o.Override],a.prototype,"type",null),n([o.Override],a.prototype,"line",null),n([o.Override],a.prototype,"charPositionInLine",null),n([o.Override],a.prototype,"tokenIndex",null),n([o.Override],a.prototype,"startIndex",null),n([o.Override],a.prototype,"stopIndex",null),n([o.Override],a.prototype,"tokenSource",null),n([o.Override],a.prototype,"inputStream",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.RuleTagToken=a},89086:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TagChunk=void 0;const i=r(80934),o=r(72399);class s extends i.Chunk{constructor(t,e){if(super(),null==t||0===t.length)throw new Error("tag cannot be null or empty");this._tag=t,this._label=e}get tag(){return this._tag}get label(){return this._label}toString(){return null!=this._label?this._label+":"+this._tag:this._tag}}n([o.NotNull],s.prototype,"tag",null),n([o.Override],s.prototype,"toString",null),e.TagChunk=s},66947:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextChunk=void 0;const o=r(80934),s=r(72399);let a=class extends o.Chunk{constructor(t){if(super(),null==t)throw new Error("text cannot be null");this._text=t}get text(){return this._text}toString(){return"'"+this._text+"'"}};n([s.NotNull],a.prototype,"_text",void 0),n([s.NotNull],a.prototype,"text",null),n([s.Override],a.prototype,"toString",null),a=n([i(0,s.NotNull)],a),e.TextChunk=a},3303:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenTagToken=void 0;const o=r(48291),s=r(72399);let a=class extends o.CommonToken{constructor(t,e,r){super(e),this._tokenName=t,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return null!=this._label?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};n([s.NotNull],a.prototype,"_tokenName",void 0),n([s.NotNull],a.prototype,"tokenName",null),n([s.Override],a.prototype,"text",null),n([s.Override],a.prototype,"toString",null),a=n([i(0,s.NotNull)],a),e.TokenTagToken=a},46605:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.XPath=void 0;const n=r(36776),i=r(95411),o=r(86181),s=r(41097),a=r(47760),l=r(59939),c=r(42593),u=r(90996),h=r(46739),p=r(72193),f=r(56578),d=r(77712),y=r(72431);class g{constructor(t,e){this.parser=t,this.path=e,this.elements=this.split(e)}split(t){let e=new l.XPathLexer(n.CharStreams.fromString(t));e.recover=t=>{throw t},e.removeErrorListeners(),e.addErrorListener(new c.XPathLexerErrorListener);let r=new i.CommonTokenStream(e);try{r.fill()}catch(r){if(r instanceof o.LexerNoViableAltException){let n="Invalid tokens or characters at index "+e.charPositionInLine+" in path '"+t+"' -- "+r.message;throw new RangeError(n)}throw r}let s=r.getTokens(),u=[],h=s.length,p=0;t:for(;p<h;){let t,e=s[p];switch(e.type){case l.XPathLexer.ROOT:case l.XPathLexer.ANYWHERE:let r=e.type===l.XPathLexer.ANYWHERE;p++,t=s[p];let n=t.type===l.XPathLexer.BANG;n&&(p++,t=s[p]);let i=this.getXPathElement(t,r);i.invert=n,u.push(i),p++;break;case l.XPathLexer.TOKEN_REF:case l.XPathLexer.RULE_REF:case l.XPathLexer.WILDCARD:u.push(this.getXPathElement(e,!1)),p++;break;case a.Token.EOF:break t;default:throw new Error("Unknowth path element "+e)}}return u}getXPathElement(t,e){if(t.type===a.Token.EOF)throw new Error("Missing path element at end of path");let r=t.text;if(null==r)throw new Error("Expected wordToken to have text content.");let n=this.parser.getTokenType(r),i=this.parser.getRuleIndex(r);switch(t.type){case l.XPathLexer.WILDCARD:return e?new d.XPathWildcardAnywhereElement:new y.XPathWildcardElement;case l.XPathLexer.TOKEN_REF:case l.XPathLexer.STRING:if(n===a.Token.INVALID_TYPE)throw new Error(r+" at index "+t.startIndex+" isn't a valid token name");return e?new p.XPathTokenAnywhereElement(r,n):new f.XPathTokenElement(r,n);default:if(-1===i)throw new Error(r+" at index "+t.startIndex+" isn't a valid rule name");return e?new u.XPathRuleAnywhereElement(r,i):new h.XPathRuleElement(r,i)}}static findAll(t,e,r){return new g(r,e).evaluate(t)}evaluate(t){let e=new s.ParserRuleContext;e.addChild(t);let r=new Set([e]),n=0;for(;n<this.elements.length;){let t=new Set;for(let e of r)if(e.childCount>0){this.elements[n].evaluate(e).forEach(t.add,t)}n++,r=t}return r}}e.XPath=g,g.WILDCARD="*",g.NOT="!"},56869:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathElement=void 0;const i=r(72399);class o{constructor(t){this.nodeName=t,this.invert=!1}toString(){let t=this.invert?"!":"";return Object.constructor.name+"["+t+this.nodeName+"]"}}n([i.Override],o.prototype,"toString",null),e.XPathElement=o},59939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XPathLexer=void 0;const n=r(60493),i=r(22807),o=r(21088),s=r(67435),a=r(40659);class l extends i.Lexer{constructor(t){super(t),this._interp=new o.LexerATNSimulator(l._ATN,this)}get vocabulary(){return l.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return l.ruleNames}get serializedATN(){return l._serializedATN}get channelNames(){return l.channelNames}get modeNames(){return l.modeNames}action(t,e,r){if(4===e)this.ID_action(t,r)}ID_action(t,e){if(0===e){let t=this.text;t.charAt(0)===t.charAt(0).toUpperCase()?this.type=l.TOKEN_REF:this.type=l.RULE_REF}}static get _ATN(){return l.__ATN||(l.__ATN=(new n.ATNDeserializer).deserialize(a.toCharArray(l._serializedATN))),l.__ATN}}e.XPathLexer=l,l.TOKEN_REF=1,l.RULE_REF=2,l.ANYWHERE=3,l.ROOT=4,l.WILDCARD=5,l.BANG=6,l.ID=7,l.STRING=8,l.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],l.modeNames=["DEFAULT_MODE"],l.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],l._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],l._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],l.VOCABULARY=new s.VocabularyImpl(l._LITERAL_NAMES,l._SYMBOLIC_NAMES,[]),l._serializedATNSegments=2,l._serializedATNSegment0='줝쪺֍꾺体؇쉁\n2\b\t\t\t\t\t\t\b\t\b\t\t\t\n\f"\v\b\b\t\t\t,\n\t\f\t\t/\v\t\t\t-\n\t\b\v\t\r\nʶ\n2;C\\aac|¡¬¬¯¯··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰̂Ͷ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃҅҉ҌԱԳ՘՛՛գ։֓ֿׁׁ׃ׄ׆ׇ׉׉ג׬ײ״؂؇ؒ؜؞؞آ٫ٰەۗ۟ۡ۪۬۾܁܁ܑ݌ݏ޳߂߷߼߼ࠂ࠯ࡂ࡝ࢢࢶࢸࢿࣖ॥२ॱॳঅই঎঑঒কপবল঴঴স঻া৆৉৊্৐৙৙৞য়ৡ৥২৳ਃਅਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਾਾੀ੄੉੊੍੏੓੓ਜ਼ਫ਼੠੠੨੷ઃઅઇએઑઓકપબલ઴વષ઻ાેૉો્૏૒૒ૢ૥૨૱ૻૻଃଅଇ଎଑଒କପବଲ଴ଵଷ଻ା୆୉୊୍୏୘୙୞ୟୡ୥୨ୱ୳୳஄அஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻ீ௄ைொௌ௏௒௒௙௙௨௱ంఅఇఎఐఒఔపబ఻ిెైొౌ౏౗ౘౚ౜ౢ౥౨౱ಂಅಇಎಐಒಔಪಬವಷ಻ಾೆೈೊೌ೏೗೘ೠೠೢ೥೨ೱೳ೴ഃഅഇഎഐഒഔ഼ിെൈൊൌ൐ൖ൙ൡ൥൨൱ർඁ඄අඇ඘ගඳඵල඿඿ෂ෈෌෌ෑූෘෘේ෡෨෱෴෵ฃ฼โ๐๒๛຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯົຽ຿ໂໆ່່໊໏໒໛ໞ໡༂༂༚༛༢༫༷༷༹༹༻༻ཀཉཋ཮ཱི྆ྈྙྛ྾࿈࿈ဂ။ၒ႟ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜፟፡ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐ᜖ᜢ᜶ᝂ᝕ᝢᝮᝰᝲ᝴᝵គ៕៙៙៞៟២៫᠍᠐᠒᠛ᠢ᡹ᢂ᢬ᢲ᣷ᤂᤠᤢ᤭ᤲ᤽᥈᥯ᥲ᥶ᦂ᦭ᦲ᧋᧒᧛ᨂ᨝ᨢ᩠ᩢ᩾᪁᪋᪒᪛᪩᪩᪲ᪿᬂ᭍᭒᭛᭭᭵ᮂ᯵ᰂ᰹᱂᱋ᱏ᱿ᲂᲊ᳒᳔᳖᳸ᳺ᳻ᴂ᷷᷽἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾‍‑‬‰⁁⁂⁖⁖⁢⁦⁨ⁱ⁳⁳₁₁ₒ₞⃒⃞⃣⃣⃧⃲℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶁ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠⷢ⸁⸱⸱〇〉〣〱〳〷〺〾ぃ゘゛゜ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘭Ꙃ꙱ꙶꙿꚁ꛳ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹ꠩ꡂ꡵ꢂ꣇꣒꣛꣢꣹ꣽꣽꣿꣿ꤂꤯ꤲ꥕ꥢ꥾ꦂ꧂꧑꧛ꧢꨀꨂ꨸ꩂ꩏꩒꩛ꩢ꩸ꩼ꫄ꫝ꫟ꫢ꫱ꫴ꫸ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲ꯬꯮꯯꯲꯻갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽︂︑︢︱︵︶﹏﹑ﹲﹶﹸ﻾！！２；Ｃ＼ａａｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞￻�\r(*<>?AOR_üłŶǿǿʂʞʢ˒ˢˢ̂̡̲͌͒ͼ΂Ο΢υϊϑϓϗЂҟҢҫҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਅਇਈ਎ਕਗਙਛਵ਺਼ੁੁ੢੾ંઞૂૉો૨ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴ဂ၈ၨၱႁႼႿႿგცჲ჻ᄂᄶᄸᅁᅒᅵᅸᅸᆂᇆᇌᇎᇒᇜᇞᇞሂሓሕሹቀቀኂኈኊኊኌ኏ኑኟኡኪኲዬዲዻጂጅጇጎ጑ጒጕጪጬጲጴጵጷጻጾፆፉፊፍፏፒፒፙፙ፟፥፨፮፲፶ᐂᑌᑒᑛᒂᓇᓉᓉᓒᓛᖂᖷᖺᗂᗚᗟᘂᙂᙆᙆᙒᙛᚂᚹᛂᛋᜂ᜛ᜟᜭᜲ᜻ᢢᣫᤁᤁ᫂᫺ᰂᰊᰌ᰸᰺᱂᱒ᱛᱴᲑᲔᲩᲫᲸ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠橢橫櫒櫯櫲櫶欂欸歂歅歒歛步歹歿殑漂潆潒澀澑澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛벟베벢벥텧텫텯톄톇톍톬톯퉄퉆퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍퟐ\ud801\uda02\uda38\uda3d\uda6e\uda77\uda77\uda86\uda86\uda9d\udaa1\udaa3\udab1ꛘ꜂뜶띂렟렢캣﨟"ĂǱɀC\\c|¬¬··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰ͲͶ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃ҌԱԳ՘՛՛գ։ג׬ײ״آٌٰٱٳەۗۗۧۨ۰۱ۼ۾܁܁ܒܒܔܱݏާ޳޳ߌ߬߶߷߼߼ࠂࠗࠜࠜࠦࠦࠪࠪࡂ࡚ࢢࢶࢸࢿआऻिि॒॒ग़ॣॳংই঎঑঒কপবল঴঴স঻িি৐৐৞য়ৡৣ৲৳ਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਜ਼ਫ਼੠੠ੴ੶ઇએઑઓકપબલ઴વષ઻િિ૒૒ૢૣૻૻଇ଎଑଒କପବଲ଴ଵଷ଻ିି୞ୟୡୣ୳୳அஅஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻௒௒ఇఎఐఒఔపబ఻ిిౚ౜ౢౣಂಂಇಎಐಒಔಪಬವಷ಻ಿಿೠೠೢೣೳ೴ഇഎഐഒഔ഼ിി൐൐ൖ൘ൡൣർඁඇ඘ගඳඵල඿඿ෂ෈ฃาิีโ่຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯາິີ຿຿ໂໆ່່ໞ໡༂༂གཉཋ཮ྊྎဂာ၁၁ၒၗၜၟၣၣၧၨၰၲၷႃ႐႐ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐᜓᜢᜳᝂᝓᝢᝮᝰᝲគ឵៙៙៞៞ᠢ᡹ᢂᢆᢉᢪ᢬᢬ᢲ᣷ᤂᤠᥒ᥯ᥲ᥶ᦂ᦭ᦲ᧋ᨂᨘᨢᩖ᪩᪩ᬇᬵᭇ᭍ᮅᮢ᮰᮱ᮼᯧᰂᰥᱏ᱑ᱜ᱿ᲂᲊᳫᳮᳰᳳ᳷᳸ᴂ᷁Ḃ἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾⁳⁳₁₁ₒ₞℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳰⳴⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶂ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠ⸱⸱〇〉〣〫〳〷〺〾ぃ゘ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘡꘬꘭Ꙃ꙰ꚁꚟꚢ꛱ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹꠃꠅꠇꠉꠌꠎꠤꡂ꡵ꢄꢵꣴ꣹ꣽꣽꣿꣿꤌꤧꤲꥈꥢ꥾ꦆꦴ꧑꧑ꧢꧦꧨ꧱ꧼꨀꨂꨪꩂꩄꩆꩍꩢ꩸ꩼꩼꪀꪱꪳꪳꪷꪸꪻ꪿ꫂꫂ꫄꫄ꫝ꫟ꫢꫬꫴ꫶ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲꯤ갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַײַﬡשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽ﹲﹶﹸ﻾Ｃ＼ｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞\r(*<>?AOR_üłŶʂʞʢ˒̂̡̲͌͒ͷ΂Ο΢υϊϑϓϗЂҟҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਂ਒ਕਗਙਛਵ੢੾ંઞૂૉો૦ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴စ္ႅႱგცᄅᄨᅒᅴᅸᅸᆅᆴᇃᇆᇜᇜᇞᇞሂሓሕርኂኈኊኊኌ኏ኑኟኡኪኲዠጇጎ጑ጒጕጪጬጲጴጵጷጻጿጿፒፒ፟፣ᐂᐶᑉᑌᒂᒱᓆᓇᓉᓉᖂᖰᗚᗝᘂᘱᙆᙆᚂᚬᜂ᜛ᢢᣡᤁᤁ᫂᫺ᰂᰊᰌᰰ᱂᱂ᱴᲑ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠櫒櫯欂欱歂歅步歹歿殑漂潆潒潒澕澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈',l._serializedATNSegment1="핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍꛘ꜂뜶띂렟렢캣﨟1\t\v\t\v\r%')111,\b#\n \b\r\"  !!#\" #$\b$\f%&\t&'(\t()-)*,\v+*,/-.-+.0/-01)1 -",l._serializedATN=a.join([l._serializedATNSegment0,l._serializedATNSegment1],"")},42593:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathLexerErrorListener=void 0;const i=r(72399);class o{syntaxError(t,e,r,n,i,o){}}n([i.Override],o.prototype,"syntaxError",null),e.XPathLexerErrorListener=o},90996:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathRuleAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(56869);class a extends s.XPathElement{constructor(t,e){super(t),this.ruleIndex=e}evaluate(t){return o.Trees.findAllRuleNodes(t,this.ruleIndex)}}n([i.Override],a.prototype,"evaluate",null),e.XPathRuleAnywhereElement=a},46739:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathRuleElement=void 0;const i=r(41097),o=r(72399),s=r(7239),a=r(56869);class l extends a.XPathElement{constructor(t,e){super(t),this.ruleIndex=e}evaluate(t){let e=[];for(let r of s.Trees.getChildren(t))r instanceof i.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&e.push(r);return e}}n([o.Override],l.prototype,"evaluate",null),e.XPathRuleElement=l},72193:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathTokenAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(56869);class a extends s.XPathElement{constructor(t,e){super(t),this.tokenType=e}evaluate(t){return o.Trees.findAllTokenNodes(t,this.tokenType)}}n([i.Override],a.prototype,"evaluate",null),e.XPathTokenAnywhereElement=a},56578:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathTokenElement=void 0;const i=r(72399),o=r(30360),s=r(7239),a=r(56869);class l extends a.XPathElement{constructor(t,e){super(t),this.tokenType=e}evaluate(t){let e=[];for(let r of s.Trees.getChildren(t))r instanceof o.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&e.push(r);return e}}n([i.Override],l.prototype,"evaluate",null),e.XPathTokenElement=l},77712:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathWildcardAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(46605),a=r(56869);class l extends a.XPathElement{constructor(){super(s.XPath.WILDCARD)}evaluate(t){return this.invert?[]:o.Trees.getDescendants(t)}}n([i.Override],l.prototype,"evaluate",null),e.XPathWildcardAnywhereElement=l},72431:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathWildcardElement=void 0;const i=r(72399),o=r(7239),s=r(46605),a=r(56869);class l extends a.XPathElement{constructor(){super(s.XPath.WILDCARD)}evaluate(t){let e=[];if(this.invert)return e;for(let r of o.Trees.getChildren(t))e.push(r);return e}}n([i.Override],l.prototype,"evaluate",null),e.XPathWildcardElement=l},94148:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,s=void 0,s=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(s)?s:String(s)),i)}var o,s}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var s,a,l=r(69597).codes,c=l.ERR_AMBIGUOUS_ARGUMENT,u=l.ERR_INVALID_ARG_TYPE,h=l.ERR_INVALID_ARG_VALUE,p=l.ERR_INVALID_RETURN_VALUE,f=l.ERR_MISSING_ARGS,d=r(3918),y=r(40537).inspect,g=r(40537).types,v=g.isPromise,m=g.isRegExp,x=r(11514)(),b=r(9394)(),O=r(38075)("RegExp.prototype.test");new Map;function S(){var t=r(82299);s=t.isDeepEqual,a=t.isDeepStrictEqual}var A=!1,E=t.exports=w,T={};function N(t){if(t.message instanceof Error)throw t.message;throw new d(t)}function _(t,e,r,n){if(!r){var i=!1;if(0===e)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new d({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function w(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];_.apply(void 0,[w,e.length].concat(e))}E.fail=function t(e,r,n,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)n=e,e=void 0;else{if(!1===A)A=!0,(process.emitWarning?process.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===a&&(i="!=")}if(n instanceof Error)throw n;var l={actual:e,expected:r,operator:void 0===i?"fail":i,stackStartFn:o||t};void 0!==n&&(l.message=n);var c=new d(l);throw s&&(c.message=s,c.generatedMessage=!0),c},E.AssertionError=d,E.ok=w,E.equal=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");e!=r&&N({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},E.notEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");e==r&&N({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},E.deepEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===s&&S(),s(e,r)||N({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},E.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===s&&S(),s(e,r)&&N({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},E.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===s&&S(),a(e,r)||N({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},E.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===s&&S();a(e,r)&&N({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},E.strictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");b(e,r)||N({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},E.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new f("actual","expected");b(e,r)&&N({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var k=o((function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&m(e[t])&&O(e[t],n[t])?i[t]=n[t]:i[t]=e[t])}))}));function C(t,e,r,i){if("function"!=typeof e){if(m(e))return O(e,t);if(2===arguments.length)throw new u("expected",["Function","RegExp"],e);if("object"!==n(t)||null===t){var o=new d({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:i});throw o.operator=i.name,o}var l=Object.keys(e);if(e instanceof Error)l.push("name","message");else if(0===l.length)throw new h("error",e,"may not be an empty object");return void 0===s&&S(),l.forEach((function(n){"string"==typeof t[n]&&m(e[n])&&O(e[n],t[n])||function(t,e,r,n,i,o){if(!(r in t)||!a(t[r],e[r])){if(!n){var s=new k(t,i),l=new k(e,i,t),c=new d({actual:s,expected:l,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}N({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}(t,e,n,r,l,i)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function R(t){if("function"!=typeof t)throw new u("fn","Function",t);try{t()}catch(t){return t}return T}function P(t){return v(t)||null!==t&&"object"===n(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function I(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!P(e=t()))throw new p("instance of Promise","promiseFn",e)}else{if(!P(t))throw new u("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return T})).catch((function(t){return t}))}))}function j(t,e,r,i){if("string"==typeof r){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],r);if("object"===n(e)&&null!==e){if(e.message===r)throw new c("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new c("error/message",'The error "'.concat(e,'" is identical to the message.'));i=r,r=void 0}else if(null!=r&&"object"!==n(r)&&"function"!=typeof r)throw new u("error",["Object","Error","Function","RegExp"],r);if(e===T){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=i?": ".concat(i):".";var s="rejects"===t.name?"rejection":"exception";N({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(r&&!C(e,r,i,t))throw e}function L(t,e,r,n){if(e!==T){if("string"==typeof r&&(n=r,r=void 0),!r||C(e,r)){var i=n?": ".concat(n):".",o="doesNotReject"===t.name?"rejection":"exception";N({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function M(t,e,r,i,o){if(!m(e))throw new u("regexp","RegExp",e);var s="match"===o;if("string"!=typeof t||O(e,t)!==s){if(r instanceof Error)throw r;var a=!r;r=r||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(n(t)," (").concat(y(t),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(y(e),". Input:\n\n").concat(y(t),"\n"));var l=new d({actual:t,expected:e,message:r,operator:o,stackStartFn:i});throw l.generatedMessage=a,l}}function D(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];_.apply(void 0,[D,e.length].concat(e))}E.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];j.apply(void 0,[t,R(e)].concat(n))},E.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return j.apply(void 0,[t,e].concat(n))}))},E.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];L.apply(void 0,[t,R(e)].concat(n))},E.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return L.apply(void 0,[t,e].concat(n))}))},E.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===n(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=y(e);var i=new d({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),l=0;l<s.length;l++){var c=a.indexOf(s[l]);if(-1!==c){a=a.slice(0,c);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},E.match=function t(e,r,n){M(e,r,n,t,"match")},E.doesNotMatch=function t(e,r,n){M(e,r,n,t,"doesNotMatch")},E.strict=x(D,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},3918:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}function l(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)},u(t)}function h(t,e,r){return h=p()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&f(i,r.prototype),i},h.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}var g=r(40537).inspect,v=r(69597).codes.ERR_INVALID_ARG_TYPE;function m(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var x="",b="",O="",S="",A={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function T(t){return g(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function N(t,e,r){var n="",i="",o=0,s="",a=!1,l=T(t),c=l.split("\n"),u=T(e).split("\n"),h=0,p="";if("strictEqual"===r&&"object"===y(t)&&"object"===y(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===c.length&&1===u.length&&c[0]!==u[0]){var f=c[0].length+u[0].length;if(f<=10){if(!("object"===y(t)&&null!==t||"object"===y(e)&&null!==e||0===t&&0===e))return"".concat(A[r],"\n\n")+"".concat(c[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==r){if(f<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;c[0][h]===u[0][h];)h++;h>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",h),"^"),h=0)}}}for(var d=c[c.length-1],g=u[u.length-1];d===g&&(h++<2?s="\n  ".concat(d).concat(s):n=d,c.pop(),u.pop(),0!==c.length&&0!==u.length);)d=c[c.length-1],g=u[u.length-1];var v=Math.max(c.length,u.length);if(0===v){var E=l.split("\n");if(E.length>30)for(E[26]="".concat(x,"...").concat(S);E.length>27;)E.pop();return"".concat(A.notIdentical,"\n\n").concat(E.join("\n"),"\n")}h>3&&(s="\n".concat(x,"...").concat(S).concat(s),a=!0),""!==n&&(s="\n  ".concat(n).concat(s),n="");var N=0,_=A[r]+"\n".concat(b,"+ actual").concat(S," ").concat(O,"- expected").concat(S),w=" ".concat(x,"...").concat(S," Lines skipped");for(h=0;h<v;h++){var k=h-o;if(c.length<h+1)k>1&&h>2&&(k>4?(i+="\n".concat(x,"...").concat(S),a=!0):k>3&&(i+="\n  ".concat(u[h-2]),N++),i+="\n  ".concat(u[h-1]),N++),o=h,n+="\n".concat(O,"-").concat(S," ").concat(u[h]),N++;else if(u.length<h+1)k>1&&h>2&&(k>4?(i+="\n".concat(x,"...").concat(S),a=!0):k>3&&(i+="\n  ".concat(c[h-2]),N++),i+="\n  ".concat(c[h-1]),N++),o=h,i+="\n".concat(b,"+").concat(S," ").concat(c[h]),N++;else{var C=u[h],R=c[h],P=R!==C&&(!m(R,",")||R.slice(0,-1)!==C);P&&m(C,",")&&C.slice(0,-1)===R&&(P=!1,R+=","),P?(k>1&&h>2&&(k>4?(i+="\n".concat(x,"...").concat(S),a=!0):k>3&&(i+="\n  ".concat(c[h-2]),N++),i+="\n  ".concat(c[h-1]),N++),o=h,i+="\n".concat(b,"+").concat(S," ").concat(R),n+="\n".concat(O,"-").concat(S," ").concat(C),N+=2):(i+=n,n="",1!==k&&0!==h||(i+="\n  ".concat(R),N++))}if(N>20&&h<v-2)return"".concat(_).concat(w,"\n").concat(i,"\n").concat(x,"...").concat(S).concat(n,"\n")+"".concat(x,"...").concat(S)}return"".concat(_).concat(a?w:"","\n").concat(i).concat(n).concat(s).concat(p)}var _=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(m,t);var r,n,o,a,u,h=(r=m,n=p(),function(){var t,e=d(r);if(n){var i=d(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return l(this,t)});function m(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),"object"!==y(t)||null===t)throw new v("options","Object",t);var r=t.message,n=t.operator,i=t.stackStartFn,o=t.actual,s=t.expected,a=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)e=h.call(this,String(r));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(x="[34m",b="[32m",S="[39m",O="[31m"):(x="",b="",S="",O="")),"object"===y(o)&&null!==o&&"object"===y(s)&&null!==s&&"stack"in o&&o instanceof Error&&"stack"in s&&s instanceof Error&&(o=E(o),s=E(s)),"deepStrictEqual"===n||"strictEqual"===n)e=h.call(this,N(o,s,n));else if("notDeepStrictEqual"===n||"notStrictEqual"===n){var u=A[n],p=T(o).split("\n");if("notStrictEqual"===n&&"object"===y(o)&&null!==o&&(u=A.notStrictEqualObject),p.length>30)for(p[26]="".concat(x,"...").concat(S);p.length>27;)p.pop();e=1===p.length?h.call(this,"".concat(u," ").concat(p[0])):h.call(this,"".concat(u,"\n\n").concat(p.join("\n"),"\n"))}else{var f=T(o),d="",g=A[n];"notDeepEqual"===n||"notEqual"===n?(f="".concat(A[n],"\n\n").concat(f)).length>1024&&(f="".concat(f.slice(0,1021),"...")):(d="".concat(T(s)),f.length>512&&(f="".concat(f.slice(0,509),"...")),d.length>512&&(d="".concat(d.slice(0,509),"...")),"deepEqual"===n||"equal"===n?f="".concat(g,"\n\n").concat(f,"\n\nshould equal\n\n"):d=" ".concat(n," ").concat(d)),e=h.call(this,"".concat(f).concat(d))}return Error.stackTraceLimit=a,e.generatedMessage=!r,Object.defineProperty(c(e),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),e.code="ERR_ASSERTION",e.actual=o,e.expected=s,e.operator=n,Error.captureStackTrace&&Error.captureStackTrace(c(e),i),e.stack,e.name="AssertionError",l(e)}return o=m,(a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(t,e){return g(this,i(i({},e),{},{customInspect:!1,depth:0}))}}])&&s(o.prototype,a),u&&s(o,u),Object.defineProperty(o,"prototype",{writable:!1}),m}(u(Error),g.custom);t.exports=_},69597:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,s=void 0,s=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(s)?s:String(s)),i)}var o,s}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}var l,c,u={};function h(t,e,r){r||(r=Error);var n=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,r);var n,a,l,c=s(u);function u(r,n,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),o=c.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i)),o.code=t,o}return n=u,a&&i(n.prototype,a),l&&i(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n}(r);u[t]=n}function p(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}h("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),h("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,a,c;if(void 0===l&&(l=r(94148)),l("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(!a||a<0?0:+a,s.length)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))c="The ".concat(t," ").concat(o," ").concat(p(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";c='The "'.concat(t,'" ').concat(u," ").concat(o," ").concat(p(e,"type"))}return c+=". Received type ".concat(n(i))}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=r(40537));var i=c.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),h("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===l&&(l=r(94148)),l(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},82299:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var s=void 0!==/a/g.flags,a=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},l=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},c=Object.is?Object.is:r(37653),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},h=Number.isNaN?Number.isNaN:r(24133);function p(t){return t.call.bind(t)}var f=p(Object.prototype.hasOwnProperty),d=p(Object.prototype.propertyIsEnumerable),y=p(Object.prototype.toString),g=r(40537).types,v=g.isAnyArrayBuffer,m=g.isArrayBufferView,x=g.isDate,b=g.isMap,O=g.isRegExp,S=g.isSet,A=g.isNativeError,E=g.isBoxedPrimitive,T=g.isNumberObject,N=g.isStringObject,_=g.isBooleanObject,w=g.isBigIntObject,k=g.isSymbolObject,C=g.isFloat32Array,R=g.isFloat64Array;function P(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function I(t){return Object.keys(t).filter(P).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function j(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function L(t,e,r,n){if(t===e)return 0!==t||(!r||c(t,e));if(r){if("object"!==o(t))return"number"==typeof t&&h(t)&&h(e);if("object"!==o(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==o(t))return(null===e||"object"!==o(e))&&t==e;if(null===e||"object"!==o(e))return!1}var i,a,l,u,p=y(t);if(p!==y(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var f=I(t),d=I(e);return f.length===d.length&&D(t,e,r,n,1,f)}if("[object Object]"===p&&(!b(t)&&b(e)||!S(t)&&S(e)))return!1;if(x(t)){if(!x(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(O(t)){if(!O(e)||(l=t,u=e,!(s?l.source===u.source&&l.flags===u.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(u))))return!1}else if(A(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(r||!C(t)&&!R(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===j(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var g=I(t),P=I(e);return g.length===P.length&&D(t,e,r,n,0,g)}if(S(t))return!(!S(e)||t.size!==e.size)&&D(t,e,r,n,2);if(b(t))return!(!b(e)||t.size!==e.size)&&D(t,e,r,n,3);if(v(t)){if(a=e,(i=t).byteLength!==a.byteLength||0!==j(new Uint8Array(i),new Uint8Array(a)))return!1}else if(E(t)&&!function(t,e){return T(t)?T(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):N(t)?N(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):_(t)?_(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):w(t)?w(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):k(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return D(t,e,r,n,0)}function M(t,e){return e.filter((function(e){return d(t,e)}))}function D(t,e,r,i,s,c){if(5===arguments.length){c=Object.keys(t);var h=Object.keys(e);if(c.length!==h.length)return!1}for(var p=0;p<c.length;p++)if(!f(e,c[p]))return!1;if(r&&5===arguments.length){var y=u(t);if(0!==y.length){var g=0;for(p=0;p<y.length;p++){var v=y[p];if(d(t,v)){if(!d(e,v))return!1;c.push(v),g++}else if(d(e,v))return!1}var m=u(e);if(y.length!==m.length&&M(e,m).length!==g)return!1}else{var x=u(e);if(0!==x.length&&0!==M(e,x).length)return!1}}if(0===c.length&&(0===s||1===s&&0===t.length||0===t.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var b=i.val1.get(t);if(void 0!==b){var O=i.val2.get(e);if(void 0!==O)return b===O}i.position++}i.val1.set(t,i.position),i.val2.set(e,i.position);var S=function(t,e,r,i,s,c){var u=0;if(2===c){if(!function(t,e,r,n){for(var i=null,s=a(t),l=0;l<s.length;l++){var c=s[l];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!e.has(c)){if(r)return!1;if(!B(t,e,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var u=a(e),h=0;h<u.length;h++){var p=u[h];if("object"===o(p)&&null!==p){if(!q(i,p,r,n))return!1}else if(!r&&!t.has(p)&&!q(i,p,r,n))return!1}return 0===i.size}return!0}(t,e,r,s))return!1}else if(3===c){if(!function(t,e,r,i){for(var s=null,a=l(t),c=0;c<a.length;c++){var u=n(a[c],2),h=u[0],p=u[1];if("object"===o(h)&&null!==h)null===s&&(s=new Set),s.add(h);else{var f=e.get(h);if(void 0===f&&!e.has(h)||!L(p,f,r,i)){if(r)return!1;if(!U(t,e,h,p,i))return!1;null===s&&(s=new Set),s.add(h)}}}if(null!==s){for(var d=l(e),y=0;y<d.length;y++){var g=n(d[y],2),v=g[0],m=g[1];if("object"===o(v)&&null!==v){if(!z(s,t,v,m,r,i))return!1}else if(!(r||t.has(v)&&L(t.get(v),m,!1,i)||z(s,t,v,m,!1,i)))return!1}return 0===s.size}return!0}(t,e,r,s))return!1}else if(1===c)for(;u<t.length;u++){if(!f(t,u)){if(f(e,u))return!1;for(var h=Object.keys(t);u<h.length;u++){var p=h[u];if(!f(e,p)||!L(t[p],e[p],r,s))return!1}return h.length===Object.keys(e).length}if(!f(e,u)||!L(t[u],e[u],r,s))return!1}for(u=0;u<i.length;u++){var d=i[u];if(!L(t[d],e[d],r,s))return!1}return!0}(t,e,r,c,i,s);return i.val1.delete(t),i.val2.delete(e),S}function q(t,e,r,n){for(var i=a(t),o=0;o<i.length;o++){var s=i[o];if(L(e,s,r,n))return t.delete(s),!0}return!1}function F(t){switch(o(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(h(t))return!1}return!0}function B(t,e,r){var n=F(r);return null!=n?n:e.has(n)&&!t.has(n)}function U(t,e,r,n,i){var o=F(r);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!L(n,s,!1,i))&&(!t.has(o)&&L(n,s,!1,i))}function z(t,e,r,n,i,o){for(var s=a(t),l=0;l<s.length;l++){var c=s[l];if(L(r,c,i,o)&&L(n,e.get(c),i,o))return t.delete(c),!0}return!1}t.exports={isDeepEqual:function(t,e){return L(t,e,false)},isDeepStrictEqual:function(t,e){return L(t,e,true)}}},38075:(t,e,r)=>{"use strict";var n=r(70453),i=r(10487),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},10487:(t,e,r)=>{"use strict";var n=r(66743),i=r(70453),o=r(96897),s=r(69675),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||n.call(l,a),u=r(30655),h=i("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(n,l,arguments);return o(e,1+h(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(n,a,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},52422:(t,e,r)=>{"use strict";var n=r(30655),i=r(58068),o=r(69675),s=r(75795);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(t,e);if(n)n(t,e,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===l&&h?h.writable:!l});else{if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},38452:(t,e,r)=>{"use strict";var n=r(1189),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(52422),l=r(30592)(),c=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;l?a(t,e,r,!0):a(t,e,r)},u=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)c(t,o[a],e[o[a]],r[o[a]])};u.supportsDescriptors=!!l,t.exports=u},30655:(t,e,r)=>{"use strict";var n=r(70453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},41237:t=>{"use strict";t.exports=EvalError},69383:t=>{"use strict";t.exports=Error},79290:t=>{"use strict";t.exports=RangeError},79538:t=>{"use strict";t.exports=ReferenceError},58068:t=>{"use strict";t.exports=SyntaxError},69675:t=>{"use strict";t.exports=TypeError},35345:t=>{"use strict";t.exports=URIError},82682:(t,e,r)=>{"use strict";var n=r(69600),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,s):function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s)}},89353:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments,1),a=r(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,n(s,arguments));return Object(e)===e?e:this}return i.apply(t,n(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},66743:(t,e,r)=>{"use strict";var n=r(89353);t.exports=Function.prototype.bind||n},70453:(t,e,r)=>{"use strict";var n,i=r(69383),o=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),u=r(35345),h=Function,p=function(t){try{return h('"use strict"; return ('+t+").constructor;")()}catch(t){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(t){f=null}var d=function(){throw new c},y=f?function(){try{return d}catch(t){try{return f(arguments,"callee").get}catch(t){return d}}}():d,g=r(64039)(),v=r(80024)(),m=Object.getPrototypeOf||(v?function(t){return t.__proto__}:null),x={},b="undefined"!=typeof Uint8Array&&m?m(Uint8Array):n,O={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":g&&m?m([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":x,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&m?m(m([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&m?m((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&m?m((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&m?m(""[Symbol.iterator]()):n,"%Symbol%":g?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":b,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(m)try{null.error}catch(t){var S=m(m(t));O["%Error.prototype%"]=S}var A=function t(e){var r;if("%AsyncFunction%"===e)r=p("async function () {}");else if("%GeneratorFunction%"===e)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=p("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&m&&(r=m(i.prototype))}return O[e]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(66743),N=r(9957),_=T.call(Function.call,Array.prototype.concat),w=T.call(Function.apply,Array.prototype.splice),k=T.call(Function.call,String.prototype.replace),C=T.call(Function.call,String.prototype.slice),R=T.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,j=function(t,e){var r,n=t;if(N(E,n)&&(n="%"+(r=E[n])[0]+"%"),N(O,n)){var i=O[n];if(i===x&&(i=A(n)),void 0===i&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=C(t,0,1),r=C(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return k(t,P,(function(t,e,r,i){n[n.length]=r?k(i,I,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=j("%"+n+"%",e),o=i.name,s=i.value,a=!1,u=i.alias;u&&(n=u[0],w(r,_([0,1],u)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],y=C(d,0,1),g=C(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==d&&p||(a=!0),N(O,o="%"+(n+="."+d)+"%"))s=O[o];else if(null!=s){if(!(d in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(f&&h+1>=r.length){var v=f(s,d);s=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[d]}else p=N(s,d),s=s[d];p&&!a&&(O[o]=s)}}return s}},75795:(t,e,r)=>{"use strict";var n=r(70453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},30592:(t,e,r)=>{"use strict";var n=r(30655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},80024:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},64039:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(41333);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},41333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},49092:(t,e,r)=>{"use strict";var n=r(41333);t.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(66743);t.exports=o.call(n,i)},56698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},47244:(t,e,r)=>{"use strict";var n=r(49092)(),i=r(38075)("Object.prototype.toString"),o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},69600:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=n.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(n.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(h=function(t){if((u||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!s(t)&&a(t)}:function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(c)return a(t);if(s(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},48184:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(49092)(),l=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!l)return!1;if(void 0===n){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&l(e)}return l(t)===n}},13003:t=>{"use strict";t.exports=function(t){return t!=t}},24133:(t,e,r)=>{"use strict";var n=r(10487),i=r(38452),o=r(13003),s=r(76642),a=r(92464),l=n(s(),Number);i(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},76642:(t,e,r)=>{"use strict";var n=r(13003);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},92464:(t,e,r)=>{"use strict";var n=r(38452),i=r(76642);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},35680:(t,e,r)=>{"use strict";var n=r(25767);t.exports=function(t){return!!n(t)}},55580:(t,e,r)=>{var n=r(56110)(r(9325),"DataView");t.exports=n},32804:(t,e,r)=>{var n=r(56110)(r(9325),"Promise");t.exports=n},76545:(t,e,r)=>{var n=r(56110)(r(9325),"Set");t.exports=n},38859:(t,e,r)=>{var n=r(53661),i=r(31380),o=r(51459);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},37217:(t,e,r)=>{var n=r(80079),i=r(51420),o=r(90938),s=r(63605),a=r(29817),l=r(80945);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},37828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},50684:(t,e,r)=>{var n=r(56110)(r(9325),"WeakMap");t.exports=n},63945:t=>{t.exports=function(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}},79770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},70695:(t,e,r)=>{var n=r(78096),i=r(72428),o=r(56449),s=r(3656),a=r(30361),l=r(37167),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),u=!r&&i(t),h=!r&&!u&&s(t),p=!r&&!u&&!h&&l(t),f=r||u||h||p,d=f?n(t.length,String):[],y=d.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,y))||d.push(g);return d}},14528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},14248:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},99811:(t,e,r)=>{var n=r(47237)("length");t.exports=n},61074:t=>{t.exports=function(t){return t.split("")}},62429:(t,e,r)=>{var n=r(80909);t.exports=function(t,e,r,i){return n(t,(function(t,n,o){e(i,t,r(t),o)})),i}},87133:t=>{t.exports=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}},80909:(t,e,r)=>{var n=r(30641),i=r(38329)(n);t.exports=i},86649:(t,e,r)=>{var n=r(83221)();t.exports=n},30641:(t,e,r)=>{var n=r(86649),i=r(95950);t.exports=function(t,e){return t&&n(t,e,i)}},47422:(t,e,r)=>{var n=r(31769),i=r(77797);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},82199:(t,e,r)=>{var n=r(14528),i=r(56449);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},28077:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},27534:(t,e,r)=>{var n=r(72552),i=r(40346);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},60270:(t,e,r)=>{var n=r(87068),i=r(40346);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,s,t,a))}},87068:(t,e,r)=>{var n=r(37217),i=r(25911),o=r(21986),s=r(50689),a=r(5861),l=r(56449),c=r(3656),u=r(37167),h="[object Arguments]",p="[object Array]",f="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,g,v){var m=l(t),x=l(e),b=m?p:a(t),O=x?p:a(e),S=(b=b==h?f:b)==f,A=(O=O==h?f:O)==f,E=b==O;if(E&&c(t)){if(!c(e))return!1;m=!0,S=!1}if(E&&!S)return v||(v=new n),m||u(t)?i(t,e,r,y,g,v):o(t,e,b,r,y,g,v);if(!(1&r)){var T=S&&d.call(t,"__wrapped__"),N=A&&d.call(e,"__wrapped__");if(T||N){var _=T?t.value():t,w=N?e.value():e;return v||(v=new n),g(_,w,r,y,v)}}return!!E&&(v||(v=new n),s(t,e,r,y,g,v))}},41799:(t,e,r)=>{var n=r(37217),i=r(60270);t.exports=function(t,e,r,o){var s=r.length,a=s,l=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=r[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var u=(c=r[s])[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new n;if(o)var d=o(h,p,u,t,e,f);if(!(void 0===d?i(p,h,3,o,f):d))return!1}}return!0}},4901:(t,e,r)=>{var n=r(72552),i=r(30294),o=r(40346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},15389:(t,e,r)=>{var n=r(93663),i=r(87978),o=r(83488),s=r(56449),a=r(50583);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):n(t):a(t)}},88984:(t,e,r)=>{var n=r(55527),i=r(3650),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},93663:(t,e,r)=>{var n=r(41799),i=r(10776),o=r(67197);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},87978:(t,e,r)=>{var n=r(60270),i=r(58156),o=r(80631),s=r(28586),a=r(30756),l=r(67197),c=r(77797);t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(r){var s=i(r,t);return void 0===s&&s===e?o(r,t):n(e,s,3)}}},47237:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},17255:(t,e,r)=>{var n=r(47422);t.exports=function(t){return function(e){return n(e,t)}}},84051:t=>{var e=Math.floor;t.exports=function(t,r){var n="";if(!t||r<1||r>9007199254740991)return n;do{r%2&&(n+=t),(r=e(r/2))&&(t+=t)}while(r);return n}},25160:t=>{t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},78096:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},54128:(t,e,r)=>{var n=r(31800),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},27301:t=>{t.exports=function(t){return function(e){return t(e)}}},19219:t=>{t.exports=function(t,e){return t.has(e)}},28754:(t,e,r)=>{var n=r(25160);t.exports=function(t,e,r){var i=t.length;return r=void 0===r?i:r,!e&&r>=i?t:n(t,e,r)}},42e3:(t,e,r)=>{var n=r(63945),i=r(62429),o=r(15389),s=r(56449);t.exports=function(t,e){return function(r,a){var l=s(r)?n:i,c=e?e():{};return l(r,t,o(a,2),c)}}},38329:(t,e,r)=>{var n=r(64894);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,s=e?o:-1,a=Object(r);(e?s--:++s<o)&&!1!==i(a[s],s,a););return r}}},83221:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===r(o[l],l,o))break}return e}}},57216:(t,e,r)=>{var n=r(84051),i=r(77556),o=r(28754),s=r(49698),a=r(81993),l=r(63912),c=Math.ceil;t.exports=function(t,e){var r=(e=void 0===e?" ":i(e)).length;if(r<2)return r?n(e,t):e;var u=n(e,c(t/a(e)));return s(e)?o(l(u),0,t).join(""):u.slice(0,t)}},24647:(t,e,r)=>{var n=r(54552)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});t.exports=n},25911:(t,e,r)=>{var n=r(38859),i=r(14248),o=r(19219);t.exports=function(t,e,r,s,a,l){var c=1&r,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var p=l.get(t),f=l.get(e);if(p&&f)return p==e&&f==t;var d=-1,y=!0,g=2&r?new n:void 0;for(l.set(t,e),l.set(e,t);++d<u;){var v=t[d],m=e[d];if(s)var x=c?s(m,v,d,e,t,l):s(v,m,d,t,e,l);if(void 0!==x){if(x)continue;y=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(v===t||a(v,t,r,s,l)))return g.push(e)}))){y=!1;break}}else if(v!==m&&!a(v,m,r,s,l)){y=!1;break}}return l.delete(t),l.delete(e),y}},21986:(t,e,r)=>{var n=r(51873),i=r(37828),o=r(75288),s=r(25911),a=r(20317),l=r(84247),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,h,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=a;case"[object Set]":var d=1&n;if(f||(f=l),t.size!=e.size&&!d)return!1;var y=p.get(t);if(y)return y==e;n|=2,p.set(t,e);var g=s(f(t),f(e),n,c,h,p);return p.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},50689:(t,e,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var l=1&r,c=n(t),u=c.length;if(u!=n(e).length&&!l)return!1;for(var h=u;h--;){var p=c[h];if(!(l?p in e:i.call(e,p)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var y=!0;a.set(t,e),a.set(e,t);for(var g=l;++h<u;){var v=t[p=c[h]],m=e[p];if(o)var x=l?o(m,v,p,e,t,a):o(v,m,p,t,e,a);if(!(void 0===x?v===m||s(v,m,r,o,a):x)){y=!1;break}g||(g="constructor"==p)}if(y&&!g){var b=t.constructor,O=e.constructor;b==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof O&&O instanceof O||(y=!1)}return a.delete(t),a.delete(e),y}},50002:(t,e,r)=>{var n=r(82199),i=r(4664),o=r(95950);t.exports=function(t){return n(t,o,i)}},10776:(t,e,r)=>{var n=r(30756),i=r(95950);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],s=t[o];e[r]=[o,s,n(s)]}return e}},4664:(t,e,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},5861:(t,e,r)=>{var n=r(55580),i=r(68223),o=r(32804),s=r(76545),a=r(50684),l=r(72552),c=r(47473),u="[object Map]",h="[object Promise]",p="[object Set]",f="[object WeakMap]",d="[object DataView]",y=c(n),g=c(i),v=c(o),m=c(s),x=c(a),b=l;(n&&b(new n(new ArrayBuffer(1)))!=d||i&&b(new i)!=u||o&&b(o.resolve())!=h||s&&b(new s)!=p||a&&b(new a)!=f)&&(b=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return d;case g:return u;case v:return h;case m:return p;case x:return f}return e}),t.exports=b},49326:(t,e,r)=>{var n=r(31769),i=r(72428),o=r(56449),s=r(30361),a=r(30294),l=r(77797);t.exports=function(t,e,r){for(var c=-1,u=(e=n(e,t)).length,h=!1;++c<u;){var p=l(e[c]);if(!(h=null!=t&&r(t,p)))break;t=t[p]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(p,u)&&(o(t)||i(t))}},49698:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},55527:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},30756:(t,e,r)=>{var n=r(23805);t.exports=function(t){return t==t&&!n(t)}},20317:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},67197:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},3650:(t,e,r)=>{var n=r(74335)(Object.keys,Object);t.exports=n},86009:(t,e,r)=>{t=r.nmd(t);var n=r(34840),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},74335:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},31380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},51459:t=>{t.exports=function(t){return this.__data__.has(t)}},84247:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},51420:(t,e,r)=>{var n=r(80079);t.exports=function(){this.__data__=new n,this.size=0}},90938:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},63605:t=>{t.exports=function(t){return this.__data__.get(t)}},29817:t=>{t.exports=function(t){return this.__data__.has(t)}},80945:(t,e,r)=>{var n=r(80079),i=r(68223),o=r(53661);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},81993:(t,e,r)=>{var n=r(99811),i=r(49698),o=r(77927);t.exports=function(t){return i(t)?o(t):n(t)}},63912:(t,e,r)=>{var n=r(61074),i=r(49698),o=r(42054);t.exports=function(t){return i(t)?o(t):n(t)}},31800:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},77927:t=>{var e="\\ud800-\\udfff",r="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+n+"?",n,s,a,r].join("|")+")",p=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){for(var e=p.lastIndex=0;p.test(t);)++e;return e}},42054:t=>{var e="\\ud800-\\udfff",r="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+n+"?",n,s,a,r].join("|")+")",p=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){return t.match(p)||[]}},78659:(t,e,r)=>{var n=r(87133),i=r(99374);t.exports=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=i(r))==r?r:0),void 0!==e&&(e=(e=i(e))==e?e:0),n(i(t),e,r)}},38221:(t,e,r)=>{var n=r(23805),i=r(10124),o=r(99374),s=Math.max,a=Math.min;t.exports=function(t,e,r){var l,c,u,h,p,f,d=0,y=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var r=l,n=c;return l=c=void 0,d=e,h=t.apply(n,r)}function x(t){var r=t-f;return void 0===f||r>=e||r<0||g&&t-d>=u}function b(){var t=i();if(x(t))return O(t);p=setTimeout(b,function(t){var r=e-(t-f);return g?a(r,u-(t-d)):r}(t))}function O(t){return p=void 0,v&&l?m(t):(l=c=void 0,h)}function S(){var t=i(),r=x(t);if(l=arguments,c=this,f=t,r){if(void 0===p)return function(t){return d=t,p=setTimeout(b,e),y?m(t):h}(f);if(g)return clearTimeout(p),p=setTimeout(b,e),m(f)}return void 0===p&&(p=setTimeout(b,e)),h}return e=o(e)||0,n(r)&&(y=!!r.leading,u=(g="maxWait"in r)?s(o(r.maxWait)||0,e):u,v="trailing"in r?!!r.trailing:v),S.cancel=function(){void 0!==p&&clearTimeout(p),d=0,l=f=c=p=void 0},S.flush=function(){return void 0===p?h:O(i())},S}},50828:(t,e,r)=>{var n=r(24647),i=r(13222),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,n).replace(s,"")}},58156:(t,e,r)=>{var n=r(47422);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},94394:(t,e,r)=>{var n=r(43360),i=r(42e3),o=Object.prototype.hasOwnProperty,s=i((function(t,e,r){o.call(t,r)?t[r].push(e):n(t,r,[e])}));t.exports=s},80631:(t,e,r)=>{var n=r(28077),i=r(49326);t.exports=function(t,e){return null!=t&&i(t,e,n)}},83488:t=>{t.exports=function(t){return t}},72428:(t,e,r)=>{var n=r(27534),i=r(40346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},64894:(t,e,r)=>{var n=r(1882),i=r(30294);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},3656:(t,e,r)=>{t=r.nmd(t);var n=r(9325),i=r(89935),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;t.exports=l},30294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},37167:(t,e,r)=>{var n=r(4901),i=r(27301),o=r(86009),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},95950:(t,e,r)=>{var n=r(70695),i=r(88984),o=r(64894);t.exports=function(t){return o(t)?n(t):i(t)}},79674:(t,e,r)=>{var n=r(43360),i=r(30641),o=r(15389);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,e(t,i,o),t)})),r}},73916:(t,e,r)=>{var n=r(43360),i=r(30641),o=r(15389);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,i,e(t,i,o))})),r}},10124:(t,e,r)=>{var n=r(9325);t.exports=function(){return n.Date.now()}},52037:(t,e,r)=>{var n=r(57216),i=r(81993),o=r(61489),s=r(13222);t.exports=function(t,e,r){t=s(t);var a=(e=o(e))?i(t):0;return e&&a<e?n(e-a,r)+t:t}},50583:(t,e,r)=>{var n=r(47237),i=r(17255),o=r(28586),s=r(77797);t.exports=function(t){return o(t)?n(s(t)):i(t)}},63345:t=>{t.exports=function(){return[]}},89935:t=>{t.exports=function(){return!1}},7350:(t,e,r)=>{var n=r(38221),i=r(23805);t.exports=function(t,e,r){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),n(t,e,{leading:o,maxWait:e,trailing:s})}},17400:(t,e,r)=>{var n=r(99374),i=1/0;t.exports=function(t){return t?(t=n(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},61489:(t,e,r)=>{var n=r(17400);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},99374:(t,e,r)=>{var n=r(54128),i=r(23805),o=r(44394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=a.test(t);return r||l.test(t)?c(t.slice(2),r?2:8):s.test(t)?NaN:+t}},89211:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},37653:(t,e,r)=>{"use strict";var n=r(38452),i=r(10487),o=r(89211),s=r(9394),a=r(36576),l=i(s(),Object);n(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},9394:(t,e,r)=>{"use strict";var n=r(89211);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},36576:(t,e,r)=>{"use strict";var n=r(9394),i=r(38452);t.exports=function(){var t=n();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},28875:(t,e,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===o.call(t),n=s(t),a=e&&"[object String]"===o.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=c&&r;if(a&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(n&&t.length>0)for(var g=0;g<t.length;++g)p.push(String(g));else for(var v in t)d&&"prototype"===v||!i.call(t,v)||p.push(String(v));if(l)for(var m=function(t){if("undefined"==typeof window||!f)return h(t);try{return h(t)}catch(t){return!1}}(t),x=0;x<u.length;++x)m&&"constructor"===u[x]||!i.call(t,u[x])||p.push(u[x]);return p}}t.exports=n},1189:(t,e,r)=>{"use strict";var n=Array.prototype.slice,i=r(1093),o=Object.keys,s=o?function(t){return o(t)}:r(28875),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(n.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},1093:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},38403:(t,e,r)=>{"use strict";var n=r(1189),i=r(41333)(),o=r(38075),s=Object,a=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),c=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=s(t);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var u=s(arguments[o]),h=n(u),p=i&&(Object.getOwnPropertySymbols||c);if(p)for(var f=p(u),d=0;d<f.length;++d){var y=f[d];l(u,y)&&a(h,y)}for(var g=0;g<h.length;++g){var v=h[g];if(l(u,v)){var m=u[v];r[v]=m}}}return r}},11514:(t,e,r)=>{"use strict";var n=r(38403);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return t!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},76578:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},61920:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(29707),o=r(61308),s=r(28303),a=r(50703),l=r(64169),c=r(64429),u=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=u;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[c.rxSubscriber]=function(){return new u(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=h;var p=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},64169:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(28303).Subscription);e.SubjectSubscription=i},15576:(t,e,r)=>{"use strict";var n=r(29707),i=r(76840),o=r(77452),s=r(31055);e.h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,l=t[t.length-1];return o.isScheduler(l)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof l&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.Observable?t[0]:s.mergeAll(r)(new i.ArrayObservable(t,a))}},31055:(t,e,r)=>{"use strict";var n=r(29982),i=r(21291);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,t)}},24995:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(61308);e.tap=function(t,e,r){return function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,o){t.call(this,e);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},50703:function(t,e){"use strict";var r=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=n},21291:(t,e)=>{"use strict";e.identity=function(t){return t}},96897:(t,e,r)=>{"use strict";var n=r(70453),i=r(52422),o=r(30592)(),s=r(75795),a=r(69675),l=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},81135:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},49032:(t,e,r)=>{"use strict";var n=r(47244),i=r(48184),o=r(25767),s=r(35680);function a(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=a(Object.prototype.toString),h=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(l)var d=a(BigInt.prototype.valueOf);if(c)var y=a(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function v(t){return"[object Map]"===u(t)}function m(t){return"[object Set]"===u(t)}function x(t){return"[object WeakMap]"===u(t)}function b(t){return"[object WeakSet]"===u(t)}function O(t){return"[object ArrayBuffer]"===u(t)}function S(t){return"undefined"!=typeof ArrayBuffer&&(O.working?O(t):t instanceof ArrayBuffer)}function A(t){return"[object DataView]"===u(t)}function E(t){return"undefined"!=typeof DataView&&(A.working?A(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||E(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},v.working="undefined"!=typeof Map&&v(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(v.working?v(t):t instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(m.working?m(t):t instanceof Set)},x.working="undefined"!=typeof WeakMap&&x(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(x.working?x(t):t instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),e.isWeakSet=function(t){return b(t)},O.working="undefined"!=typeof ArrayBuffer&&O(new ArrayBuffer),e.isArrayBuffer=S,A.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&A(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function N(t){return"[object SharedArrayBuffer]"===u(t)}function _(t){return void 0!==T&&(void 0===N.working&&(N.working=N(new T)),N.working?N(t):t instanceof T)}function w(t){return g(t,h)}function k(t){return g(t,p)}function C(t){return g(t,f)}function R(t){return l&&g(t,d)}function P(t){return c&&g(t,y)}e.isSharedArrayBuffer=_,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===u(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===u(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===u(t)},e.isGeneratorObject=function(t){return"[object Generator]"===u(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===u(t)},e.isNumberObject=w,e.isStringObject=k,e.isBooleanObject=C,e.isBigIntObject=R,e.isSymbolObject=P,e.isBoxedPrimitive=function(t){return w(t)||k(t)||C(t)||R(t)||P(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(S(t)||_(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},40537:(t,e,r)=>{var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(l(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])g(a)||!O(a)?s+=" "+a:s+=" "+l(a);return s},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var o={},s=/^$/;if("MISSING_ENV_VAR".NODE_DEBUG){var a="MISSING_ENV_VAR".NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function l(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),h(n,t,n.depth)}function c(t,e){var r=l.styles[e];return r?"["+l.colors[r][0]+"m"+t+"["+l.colors[r][1]+"m":t}function u(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=h(t,i,n)),i}var o=function(t,e){if(x(e))return t.stylize("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),A(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(E(r)){var l=r.name?": "+r.name:"";return t.stylize("[Function"+l+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return p(r)}var c,u="",O=!1,T=["{","}"];(d(r)&&(O=!0,T=["[","]"]),E(r))&&(u=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(u=" "+RegExp.prototype.toString.call(r)),S(r)&&(u=" "+Date.prototype.toUTCString.call(r)),A(r)&&(u=" "+p(r)),0!==s.length||O&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=O?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)w(e,String(s))?o.push(f(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return f(t,r,n,a,e,O)})),t.seen.pop(),function(t,e,r){var n=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,u,T)):T[0]+u+T[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),w(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=g(r)?h(t,l.value,null):h(t,l.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function x(t){return void 0===t}function b(t){return O(t)&&"[object RegExp]"===T(t)}function O(t){return"object"==typeof t&&null!==t}function S(t){return O(t)&&"[object Date]"===T(t)}function A(t){return O(t)&&("[object Error]"===T(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function N(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!o[t])if(s.test(t)){var r=process.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(49032),e.isArray=d,e.isBoolean=y,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=x,e.isRegExp=b,e.types.isRegExp=b,e.isObject=O,e.isDate=S,e.types.isDate=S,e.isError=A,e.types.isNativeError=A,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(81135);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[N(t.getHours()),N(t.getMinutes()),N(t.getSeconds())].join(":"),[t.getDate(),_[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(56698),e._extend=function(t,e){if(!e||!O(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(k&&t[k]){var e;if("function"!=typeof(e=t[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),k&&Object.defineProperty(e,k,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=k,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){process.nextTick(o.bind(null,null,t))}),(function(t){process.nextTick(C.bind(null,t,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},68414:(t,e,r)=>{var n=r(41033),i=r(12550),o=i;o.v1=n,o.v4=i,t.exports=o},60471:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,i=e;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},25814:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)3&e||(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},17608:t=>{"use strict";function e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function r(t,e){return t<<e|t>>>32-e}t.exports=function(t){var n=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=new Array(o.length);for(var s=0;s<o.length;s++)t[s]=o.charCodeAt(s)}t.push(128);var a=t.length/4+2,l=Math.ceil(a/16),c=new Array(l);for(s=0;s<l;s++){c[s]=new Array(16);for(var u=0;u<16;u++)c[s][u]=t[64*s+4*u]<<24|t[64*s+4*u+1]<<16|t[64*s+4*u+2]<<8|t[64*s+4*u+3]}for(c[l-1][14]=8*(t.length-1)/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=8*(t.length-1)&4294967295,s=0;s<l;s++){for(var h=new Array(80),p=0;p<16;p++)h[p]=c[s][p];for(p=16;p<80;p++)h[p]=r(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var f=i[0],d=i[1],y=i[2],g=i[3],v=i[4];for(p=0;p<80;p++){var m=Math.floor(p/20),x=r(f,5)+e(m,d,y,g)+v+n[m]+h[p]>>>0;v=g,g=y,y=r(d,30)>>>0,d=f,f=x}i[0]=i[0]+f>>>0,i[1]=i[1]+d>>>0,i[2]=i[2]+y>>>0,i[3]=i[3]+g>>>0,i[4]=i[4]+v>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},7680:(t,e,r)=>{var n=r(60471);t.exports=function(t,e,r){var i=function(t,i,o,s){var a=o&&s||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(t)),"string"==typeof i&&(i=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(i)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var l=r(i.concat(t));if(l[6]=15&l[6]|e,l[8]=63&l[8]|128,o)for(var c=0;c<16;++c)o[a+c]=l[c];return o||n(l)};try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}},41033:(t,e,r)=>{var n,i,o=r(25814),s=r(60471),a=0,l=0;t.exports=function(t,e,r){var c=e&&r||0,u=e||[],h=(t=t||{}).node||n,p=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==p){var f=o();null==h&&(h=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:l+1,g=d-a+(y-l)/1e4;if(g<0&&void 0===t.clockseq&&(p=p+1&16383),(g<0||d>a)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,l=y,i=p;var v=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var m=d/4294967296*1e4&268435455;u[c++]=m>>>8&255,u[c++]=255&m,u[c++]=m>>>24&15|16,u[c++]=m>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var x=0;x<6;++x)u[c+x]=h[x];return e||s(u)}},12550:(t,e,r)=>{var n=r(25814),i=r(60471);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},80293:(t,e,r)=>{var n=r(7680),i=r(17608);t.exports=n("v5",80,i)},25767:(t,e,r)=>{"use strict";var n=r(82682),i=r(39209),o=r(10487),s=r(38075),a=r(75795),l=s("Object.prototype.toString"),c=r(49092)(),u="undefined"==typeof globalThis?r.g:globalThis,h=i(),p=s("String.prototype.slice"),f=Object.getPrototypeOf,d=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},y={__proto__:null};n(h,c&&a&&f?function(t){var e=new u[t];if(Symbol.toStringTag in e){var r=f(e),n=a(r,Symbol.toStringTag);if(!n){var i=f(r);n=a(i,Symbol.toStringTag)}y["$"+t]=o(n.get)}}:function(t){var e=new u[t],r=e.slice||e.set;r&&(y["$"+t]=o(r))});t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!c){var e=p(l(t),8,-1);return d(h,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(y,(function(r,n){if(!e)try{r(t),e=p(n,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return n(y,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=p(n,1))}catch(t){}})),e}(t):null}},39209:(t,e,r)=>{"use strict";var n=r(76578),i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}}}]);