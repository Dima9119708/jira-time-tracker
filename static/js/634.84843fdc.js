"use strict";(self.webpackChunkjira_time_tracker=self.webpackChunkjira_time_tracker||[]).push([[634],{43164:(e,n,s)=>{s.d(n,{E:()=>o});var t=s(55088),i=s(67459),r=s(58304),a=s(87165),l=s(74848);const o=()=>{const{showFlag:e}=(0,t.D0)();return{loading:n=>e({...n,title:n?.title,description:n?.description,icon:(0,l.jsx)(i.A,{label:"loading"}),appearance:"normal"}),success:n=>e({...n,title:n?.title||"Success",description:n?.description,icon:(0,l.jsx)(r.A,{label:"success",secondaryColor:"var(--ds-background-success-bold, #1F845A)"}),appearance:"success",isAutoDismiss:!0}),error:n=>e({...n,title:n?.title||"Error",description:n?.description,icon:(0,l.jsx)(a.default,{label:"error"}),appearance:"error",isAutoDismiss:!0})}}},51634:(e,n,s)=>{s.r(n),s.d(n,{default:()=>k});var t=s(49785),i=s(74353),r=s.n(i),a=s(57097),l=s(29293),o=s(6819),d=s(94203),c=s(29731),u=s(73750),m=s(27779),p=s(40313),g=s(25638),x=s(60659),h=s(65251),j=s(53857),v=s(52340),I=s(15490),y=s(71389),A=s(17673),f=s(38850),C=s(47679),b=s(43164),S=s(23048),w=s(96871),B=s(74848);const T={divider:(0,j.S7)({paddingBottom:"space.100",marginBottom:"space.100",borderBottomWidth:"5px",borderBottomColor:"color.border.input",borderBottomStyle:"solid"}),inputWarp:(0,j.S7)({width:"80px"}),selectWarp:(0,j.S7)({width:"110px"}),toggleWarp:(0,j.S7)({width:"40px"})},k=()=>{const{watchBoolean:e,setFalse:n}=(0,w.HN)(),s=e("user settings"),i=(0,b.E)(),{control:j,handleSubmit:k,watch:N}=(0,t.mN)({mode:"onBlur",defaultValues:o.Q.getState().settings}),W=!N("sendInactiveNotification.enabled"),L=!N("systemIdle.enabled"),{mutate:z,isPending:F}=(0,a.n)({mutationFn:e=>l.S.put("/filter-details",{description:e},{params:{id:o.Q.getState().filterId}}),onMutate:()=>{const e="Update settings";return{dismissFn:i.loading({title:e}),title:e}},onSuccess:(e,s,t)=>{t?.dismissFn(),i.success({title:t.title}),n("user settings")},onError:e=>{i.error({title:"Error loading issue",description:JSON.stringify(e.response?.data)})}});return(0,B.jsx)(B.Fragment,{children:s&&(0,B.jsxs)(d.A,{onClose:()=>n("user settings"),children:[(0,B.jsxs)(c.A,{children:[(0,B.jsx)(u.A,{children:"Settings"}),(0,B.jsx)(g.A,{appearance:"subtle",icon:h.A,label:"Close Modal",onClick:()=>n("user settings")})]}),(0,B.jsxs)(m.A,{children:[(0,B.jsxs)(v.A,{justifyContent:"space-between",alignItems:"center",xcss:T.divider,children:[(0,B.jsx)(C.A,{size:"small",children:"Auto-start application"}),(0,B.jsx)(t.xI,{name:"autoStart",control:j,render:e=>{let{field:n}=e;return(0,B.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})}})]}),(0,B.jsxs)(v.A,{justifyContent:"space-between",alignItems:"center",xcss:T.divider,children:[(0,B.jsx)(C.A,{size:"small",children:"Time logging interval"}),(0,B.jsxs)(v.A,{columnGap:"space.100",children:[(0,B.jsx)(t.xI,{name:"timeLoggingInterval.displayTime",control:j,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsxs)(I.A,{xcss:T.inputWarp,children:[(0,B.jsx)(A.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,B.jsx)(S.Kw,{children:s.error?.message})]})}}),(0,B.jsx)(t.xI,{name:"timeLoggingInterval.unit",control:j,render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsx)(I.A,{xcss:T.selectWarp,children:(0,B.jsx)(f.A,{value:n.value,onChange:(e,s)=>{n.onChange(e,s)},onBlur:n.onBlur,placeholder:"Unit",styles:{menuPortal:e=>({...e,zIndex:1e3})},options:o.p,error:s.error?.message})})}})]})]}),(0,B.jsxs)(v.A,{xcss:T.divider,justifyContent:"space-between",children:[(0,B.jsx)(C.A,{size:"small",children:"Should send a notification when the application is open but not in use, and none of the tasks have been taken into work."}),(0,B.jsxs)(v.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,B.jsx)(t.xI,{name:"sendInactiveNotification.enabled",control:j,render:e=>{let{field:n}=e;return(0,B.jsx)(I.A,{xcss:T.toggleWarp,children:(0,B.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})})}}),(0,B.jsx)(t.xI,{name:"sendInactiveNotification.displayTime",control:j,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsxs)(I.A,{xcss:T.inputWarp,children:[(0,B.jsx)(A.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,B.jsx)(S.Kw,{children:s.error?.message})]})}}),(0,B.jsx)(t.xI,{name:"sendInactiveNotification.unit",control:j,render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsx)(I.A,{xcss:T.selectWarp,children:(0,B.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,placeholder:"Unit",styles:{menuPortal:e=>({...e,zIndex:1e3})},options:o.p,error:s.error?.message,disabled:W})})}})]})]}),(0,B.jsxs)(v.A,{xcss:T.divider,justifyContent:"space-between",alignItems:"center",children:[(0,B.jsx)(C.A,{size:"small",children:"To stop logging the time when the system is in a waiting state."}),(0,B.jsxs)(v.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,B.jsx)(t.xI,{name:"systemIdle.enabled",control:j,render:e=>{let{field:n}=e;return(0,B.jsx)(I.A,{xcss:T.toggleWarp,children:(0,B.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})})}}),(0,B.jsx)(t.xI,{name:"systemIdle.displayTime",control:j,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsxs)(I.A,{xcss:T.inputWarp,children:[(0,B.jsx)(A.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,B.jsx)(S.Kw,{children:s.error?.message})]})}}),(0,B.jsx)(t.xI,{name:"systemIdle.unit",control:j,render:e=>{let{field:n,fieldState:s}=e;return(0,B.jsx)(I.A,{xcss:T.selectWarp,children:(0,B.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,placeholder:"Unit",menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:1e3})},options:o.p,error:s.error?.message,disabled:L})})}})]})]})]}),(0,B.jsxs)(p.A,{children:[(0,B.jsx)(x.A,{appearance:"default",onClick:()=>n("user settings"),children:"Cancel"}),(0,B.jsx)(x.A,{appearance:"primary",isLoading:F,onClick:k((e=>{const n={autoStart:e.autoStart,timeLoggingInterval:{unit:e.timeLoggingInterval.unit,displayTime:e.timeLoggingInterval.displayTime,second:"minutes"===e.timeLoggingInterval.unit.value?r().duration(e.timeLoggingInterval.displayTime,"minutes").asSeconds():r().duration(e.timeLoggingInterval.displayTime,"hours").asSeconds()},sendInactiveNotification:{unit:e.sendInactiveNotification.unit,displayTime:e.sendInactiveNotification.displayTime,enabled:e.sendInactiveNotification.enabled,millisecond:"minutes"===e.sendInactiveNotification.unit.value?r().duration(e.sendInactiveNotification.displayTime,"minutes").asMilliseconds():r().duration(e.sendInactiveNotification.displayTime,"hours").asMilliseconds()},systemIdle:{unit:e.systemIdle.unit,displayTime:e.systemIdle.displayTime,enabled:e.systemIdle.enabled,second:"minutes"===e.systemIdle.unit.value?r().duration(e.systemIdle.displayTime,"minutes").asSeconds():r().duration(e.systemIdle.displayTime,"hours").asSeconds()}};o.Q.getState().setSettings(n),z(JSON.stringify(n))})),children:"Save"})]})]})})}}}]);