"use strict";(self.webpackChunkjira_time_tracker=self.webpackChunkjira_time_tracker||[]).push([[634],{29904:(e,n,s)=>{n.A=void 0;var t=a(s(96540)),i=s(36347),r=a(s(19965));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>t.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="m13.477 9.113-4.36 4.386a1 1 0 1 0 1.418 1.41l4.36-4.386a1 1 0 0 0-1.418-1.41"/><path fill="inherit" d="m9.084 10.501 4.358 4.377a1 1 0 1 0 1.418-1.411L10.5 9.09a1 1 0 0 0-1.417 1.411"/></g></svg>'},e,{newIcon:r.default}));l.displayName="CrossCircleIcon";n.A=l},70921:(e,n,s)=>{n.A=void 0;var t=a(s(96540)),i=s(36347),r=a(s(62150));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>t.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16m0-8.5a1 1 0 0 0-1 1V15a1 1 0 0 0 2 0v-2.5a1 1 0 0 0-1-1m0-1.125a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"/></svg>'},e,{newIcon:r.default}));l.displayName="EditorInfoIcon";n.A=l},42853:(e,n,s)=>{n.A=void 0;var t=a(s(96540)),i=s(36347),r=a(s(20244));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>t.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m13.31 5.343 7.359 13.17A1 1 0 0 1 19.796 20H4.204a1 1 0 0 1-.873-1.488l7.36-13.169a1.5 1.5 0 0 1 2.618 0M12 8.5a1.09 1.09 0 0 0-1.081 1.239l.513 3.766a.573.573 0 0 0 1.136 0l.513-3.766A1.09 1.09 0 0 0 12 8.5m0 8.63a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25"/></svg>'},e,{newIcon:r.default}));l.displayName="EditorWarningIcon";n.A=l},51634:(e,n,s)=>{s.r(n),s.d(n,{default:()=>z});var t=s(49785),i=s(74353),r=s.n(i),a=s(58124),l=s(94203),o=s(29731),d=s(73750),c=s(27779),u=s(40313),m=s(64561),g=s(60659),p=s(65251),h=s(53857),x=s(52340),j=s(15490),A=s(88764),y=s(66326),f=s(17673),v=s(99079),I=s(12596),C=s(23048),w=s(96871),b=s(8290),S=s(58304),k=s(29904),T=s(47767),B=s(55551),P=s(5642),E=s(42853),N=s(70921),W=s(84017),L=s(82568),G=s(59306),q=s(74848);const _={divider:(0,h.S7)({paddingBottom:"space.100",marginBottom:"space.100",borderBottomWidth:"5px",borderBottomColor:"color.border.input",borderBottomStyle:"solid"}),inputWarp:(0,h.S7)({width:"80px"}),selectWarp:(0,h.S7)({width:"110px"}),toggleWarp:(0,h.S7)({width:"40px"})},z=()=>{const{watchBoolean:e,setFalse:n}=(0,w.HN)(),s=(0,T.Zp)(),i=e("user settings"),h=(0,a.QN)((e=>e.hasJiraTimeTrackingPermission)),{control:z,handleSubmit:F,watch:D,getValues:M}=(0,t.mN)({mode:"onBlur",defaultValues:a.QN.getState().settings}),R=!D("sendInactiveNotification.enabled"),H=!D("systemIdle.enabled"),K=(0,P.BL)({onSuccess:()=>{"string"!=typeof M("plugin")&&(0,B.l)((async e=>{await e.ipcRenderer.invoke("DELETE_AUTH_PLUGIN_DATA")})),n("user settings")}});(0,L.K)(K.error);return(0,q.jsx)(q.Fragment,{children:i&&(0,q.jsxs)(l.A,{onClose:()=>n("user settings"),children:[(0,q.jsxs)(o.A,{children:[(0,q.jsx)(d.A,{children:"Settings"}),(0,q.jsx)(m.A,{appearance:"subtle",icon:p.A,label:"Close Modal",onClick:()=>n("user settings")})]}),(0,q.jsxs)(c.A,{children:[(0,q.jsx)(t.xI,{name:"plugin",control:z,render:e=>{let{field:t}=e;return(0,q.jsxs)(x.A,{justifyContent:"space-between",alignItems:"center",xcss:_.divider,children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(b.A,{height:"25px",width:"25px",src:"https://static.tempo.io/io/non-versioned/img/tempo-logo.png",loading:"lazy"}),(0,q.jsxs)(x.A,{children:[(0,q.jsx)(I.A,{size:"large",children:"Tempo"}),t.value===a.RH.TEMPO?(0,q.jsx)(S.A,{label:"tempo",size:"small",primaryColor:"var(--ds-text-accent-green, #216E4E)"}):(0,q.jsx)(k.A,{label:"tempo",size:"small",primaryColor:"var(--ds-text-accent-red, #AE2E24)"})]})]}),t.value===a.RH.TEMPO?(0,q.jsx)(g.A,{appearance:"danger",onClick:()=>{localStorage.removeItem("pluginName"),t.onChange(null)},children:"Disconnect"}):(0,q.jsx)(g.A,{appearance:"primary",onClick:()=>{s({pathname:`/auth-plugin/${a.RH.TEMPO}`}),n("user settings")},children:"Connect"})]})}}),(0,q.jsxs)(x.A,{justifyContent:"space-between",alignItems:"center",xcss:_.divider,children:[(0,q.jsx)(I.A,{size:"small",children:"Auto-start application"}),(0,q.jsx)(t.xI,{name:"autoStart",control:z,render:e=>{let{field:n}=e;return(0,q.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})}})]}),(0,q.jsxs)(x.A,{justifyContent:"space-between",alignItems:"center",xcss:_.divider,children:[(0,q.jsx)(I.A,{size:"small",children:"Time logging interval"}),(0,q.jsxs)(x.A,{columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"timeLoggingInterval.displayTime",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(t.xI,{name:"timeLoggingInterval.unit",control:z,render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsx)(j.A,{xcss:_.selectWarp,children:(0,q.jsx)(v.A,{value:n.value,onChange:(e,s)=>{n.onChange(e,s)},onBlur:n.onBlur,placeholder:"Unit",styles:{menuPortal:e=>({...e,zIndex:1e3})},options:a.p6,error:s.error?.message})})}})]})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",children:[(0,q.jsx)(I.A,{size:"small",children:"Should send a notification when the application is open but not in use, and none of the tasks have been taken into work."}),(0,q.jsxs)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"sendInactiveNotification.enabled",control:z,render:e=>{let{field:n}=e;return(0,q.jsx)(j.A,{xcss:_.toggleWarp,children:(0,q.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})})}}),(0,q.jsx)(t.xI,{name:"sendInactiveNotification.displayTime",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(t.xI,{name:"sendInactiveNotification.unit",control:z,render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsx)(j.A,{xcss:_.selectWarp,children:(0,q.jsx)(v.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,placeholder:"Unit",styles:{menuPortal:e=>({...e,zIndex:1e3})},options:a.p6,error:s.error?.message,disabled:R})})}})]})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(W.A,{content:"Enable notifications to alert you when a connected plugin (e.g., Tempo) loses access due to a session timeout.",children:e=>(0,q.jsx)("div",{...e,children:(0,q.jsx)(N.A,{label:"information",primaryColor:"var(--ds-icon-information, #1D7AFC)"})})}),(0,q.jsx)(I.A,{size:"small",children:"Plugin logout alerts"})]}),(0,q.jsxs)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"pluginLogoutAlerts.enabled",control:z,render:e=>{let{field:n}=e;return(0,q.jsx)(j.A,{xcss:_.toggleWarp,children:(0,q.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})})}}),(0,q.jsx)(t.xI,{name:"pluginLogoutAlerts.displayTime",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(A.A,{children:"Minutes"})]})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsx)(I.A,{size:"small",children:"To stop logging the time when the system is in a waiting state."}),(0,q.jsxs)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"systemIdle.enabled",control:z,render:e=>{let{field:n}=e;return(0,q.jsx)(j.A,{xcss:_.toggleWarp,children:(0,q.jsx)(y.A,{isChecked:n.value,onChange:n.onChange})})}}),(0,q.jsx)(t.xI,{name:"systemIdle.displayTime",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(t.xI,{name:"systemIdle.unit",control:z,render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsx)(j.A,{xcss:_.selectWarp,children:(0,q.jsx)(v.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,placeholder:"Unit",menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:1e3})},options:a.p6,error:s.error?.message,disabled:H})})}})]})]}),!h&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(W.A,{content:"You see this field in the settings because you do not have sufficient permissions to automatically retrieve data from Jira. The administrator has not granted you access to retrieve and read this data. Please ask your team for the value of this field and set it manually. Alternatively, request the administrator to grant you additional permissions for data access.",children:e=>(0,q.jsx)("div",{...e,children:(0,q.jsx)(E.A,{label:"warning",primaryColor:"var(--ds-icon-warning, #E56910)"})})}),(0,q.jsx)(I.A,{size:"small",children:"Working hours per day"})]}),(0,q.jsxs)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"workingHoursPerDay",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(A.A,{children:"Hours"})]})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(W.A,{content:"You see this field in the settings because you do not have sufficient permissions to automatically retrieve data from Jira. The administrator has not granted you access to retrieve and read this data. Please ask your team for the value of this field and set it manually. Alternatively, request the administrator to grant you additional permissions for data access.",children:e=>(0,q.jsx)("div",{...e,children:(0,q.jsx)(E.A,{label:"warning",primaryColor:"var(--ds-icon-warning, #E56910)"})})}),(0,q.jsx)(I.A,{size:"small",children:"Working days per week"})]}),(0,q.jsxs)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:[(0,q.jsx)(t.xI,{name:"workingDaysPerWeek",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{xcss:_.inputWarp,children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur,type:"number"}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}}),(0,q.jsx)(A.A,{children:"Days"})]})]})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(W.A,{content:"This setting allows you to specify the custom field key used for Story Points in Jira. By default, Story Points might be located in a custom field (e.g., customfield_10016). If your Jira administrator has configured Story Points to use a different custom field, you can update the key here to ensure proper functionality.",children:e=>(0,q.jsx)("div",{...e,children:(0,q.jsx)(N.A,{label:"information",primaryColor:"var(--ds-icon-information, #1D7AFC)"})})}),(0,q.jsx)(I.A,{size:"small",children:"Custom field for story points"})]}),(0,q.jsx)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:(0,q.jsx)(t.xI,{name:"storyPointField",control:z,rules:{required:"Required"},render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{children:[(0,q.jsx)(f.A,{value:n.value,onChange:n.onChange,onBlur:n.onBlur}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}})})]}),(0,q.jsxs)(x.A,{xcss:_.divider,justifyContent:"space-between",alignItems:"center",children:[(0,q.jsxs)(x.A,{columnGap:"space.100",alignItems:"center",children:[(0,q.jsx)(W.A,{content:"Enable the use of story points as an equivalent to time estimation (e.g., hours or minutes) for tasks. When enabled, story points will be treated as a time value for tracking and planning purposes.",children:e=>(0,q.jsx)("div",{...e,children:(0,q.jsx)(N.A,{label:"information",primaryColor:"var(--ds-icon-information, #1D7AFC)"})})}),(0,q.jsx)(I.A,{size:"small",children:"Use story points as time estimate"})]}),(0,q.jsx)(x.A,{wrap:"nowrap",alignItems:"center",columnGap:"space.100",children:(0,q.jsx)(t.xI,{name:"useStoryPointsAsTimeEstimate",control:z,render:e=>{let{field:n,fieldState:s}=e;return(0,q.jsxs)(j.A,{children:[(0,q.jsx)(G.A,{isChecked:n.value,onChange:n.onChange,onBlur:n.onBlur}),s.error?.message&&(0,q.jsx)(C.Kw,{children:s.error?.message})]})}})})]})]}),(0,q.jsxs)(u.A,{children:[(0,q.jsx)(g.A,{appearance:"default",onClick:()=>n("user settings"),children:"Cancel"}),(0,q.jsx)(g.A,{appearance:"primary",isLoading:K.isPending,onClick:F((e=>{const n={plugin:e.plugin,autoStart:e.autoStart,timeLoggingInterval:{unit:e.timeLoggingInterval.unit,displayTime:e.timeLoggingInterval.displayTime,second:"minutes"===e.timeLoggingInterval.unit.value?r().duration(e.timeLoggingInterval.displayTime,"minutes").asSeconds():r().duration(e.timeLoggingInterval.displayTime,"hours").asSeconds()},sendInactiveNotification:{unit:e.sendInactiveNotification.unit,displayTime:e.sendInactiveNotification.displayTime,enabled:e.sendInactiveNotification.enabled,millisecond:"minutes"===e.sendInactiveNotification.unit.value?r().duration(e.sendInactiveNotification.displayTime,"minutes").asMilliseconds():r().duration(e.sendInactiveNotification.displayTime,"hours").asMilliseconds()},systemIdle:{unit:e.systemIdle.unit,displayTime:e.systemIdle.displayTime,enabled:e.systemIdle.enabled,second:"minutes"===e.systemIdle.unit.value?r().duration(e.systemIdle.displayTime,"minutes").asSeconds():r().duration(e.systemIdle.displayTime,"hours").asSeconds()},pluginLogoutAlerts:{displayTime:e.pluginLogoutAlerts.displayTime,enabled:e.pluginLogoutAlerts.enabled,millisecond:r().duration(e.pluginLogoutAlerts.displayTime,"minutes").asMilliseconds()},workingHoursPerDay:e.workingHoursPerDay,workingDaysPerWeek:e.workingDaysPerWeek,storyPointField:e.storyPointField,useStoryPointsAsTimeEstimate:e.useStoryPointsAsTimeEstimate};K.mutate({settings:n})})),children:"Save"})]})]})})}}}]);