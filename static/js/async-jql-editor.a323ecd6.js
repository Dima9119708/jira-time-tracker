(self.webpackChunkjira_time_tracker=self.webpackChunkjira_time_tracker||[]).push([[343],{97883:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M1 2.75h14M1 13.25h7M1 8h14"/>'},t));s.displayName="AlignLeftIcon";e.A=s},45046:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8 3.25V8l2.5 2m4.75-2A7.25 7.25 0 1 1 .75 8a7.25 7.25 0 0 1 14.5 0Z"/>'},t));s.displayName="ClockIcon";e.A=s},94066:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M12.84 10.2q-.2-.19-.2-.53v-.06h-1.49v.06q0 .6.28 1.06.28.45.79.69.52.23 1.21.23t1.21-.23q.52-.24.79-.69a1.95 1.95 0 0 0 .28-1.05v-.56c0-.61-.21-1.1-.62-1.46a2.1 2.1 0 0 0-.95-.46l1.3-1.15V4.78h-3.98v1.27h2.36l-1.24 1.1v1.27h.85c.26 0 .46.07.59.19.14.12.21.29.21.53v.55c0 .24-.07.41-.2.53q-.195.18-.6.18-.39 0-.6-.18m-6.99 1.34v-1.37l2.14-2.06q.37-.36.55-.66t.18-.64c0-.26-.07-.44-.2-.58q-.19-.2-.54-.2-.39 0-.6.23-.21.21-.21.62v.06h-1.5V6.9q0-.67.28-1.16.29-.5.82-.77t1.23-.27q.66 0 1.15.25.5.24.77.69.28.45.28 1.05 0 .66-.33 1.27T8.83 9.22l-1.08.99h2.52v1.36zm-3.7-1.31H.46v1.31h4.51v-1.31H3.63V4.78H2.05L.44 5.9v1.57l1.7-1.26z" clip-rule="evenodd"/>'},t));s.displayName="DataNumberIcon";e.A=s},17589:(t,e,r)=>{"use strict";e.A=void 0;var n=s(r(96540)),i=s(r(62150)),o=s(r(86715));function s(t){return t&&t.__esModule?t:{default:t}}const a=t=>n.default.createElement(i.default,Object.assign({LEGACY_fallbackIcon:o.default},t));a.Name="InformationIconMigration";e.A=a},49888:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8.768 1.75H13c.69 0 1.25.56 1.25 1.25v4.232c0 .332-.132.65-.366.884l-5.75 5.75a1.25 1.25 0 0 1-1.768 0L2.134 9.634a1.25 1.25 0 0 1 0-1.768l5.75-5.75a1.25 1.25 0 0 1 .884-.366Z"/><rect width="2" height="2" x="10" y="4" fill="currentcolor" rx="1"/>'},t));s.displayName="TagIcon";e.A=s},58475:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m4.25 8 2.5 3 5-6M3 14.25h10c.69 0 1.25-.56 1.25-1.25V3c0-.69-.56-1.25-1.25-1.25H3c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25Z"/>'},t));s.displayName="TaskIcon";e.A=s},22337:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8.063 1.75H2.75V5m5.313-3.25h5.187V5M8.063 1.75v12.5m0 0H10.5m-2.437 0H5.5"/>'},t));s.displayName="TextIcon";e.A=s},86715:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(96540)),i=r(36347),o=s(r(62150));function s(t){return t&&t.__esModule?t:{default:t}}const a=t=>n.default.createElement(i.UNSAFE_IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14m0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11m0-6a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1m0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>'},t,{newIcon:o.default}));a.displayName="EditorPanelIcon";e.default=a},71571:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0m-7.5-.75H6a.75.75 0 0 1 .75.75v4h-1.5V6.75H4.5zM6 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>',type:"utility"},t));s.displayName="InformationIcon";e.A=s},74803:(t,e,r)=>{"use strict";e.A=void 0;var n=o(r(96540)),i=o(r(65692));function o(t){return t&&t.__esModule?t:{default:t}}const s=t=>n.default.createElement(i.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M11.702 9.137A1.25 1.25 0 0 1 10.612 11H1.388a1.25 1.25 0 0 1-1.09-1.863l4.614-8.2a1.25 1.25 0 0 1 2.178 0zM6.75 2.75V6.5h-1.5V2.75zm-.75 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>',type:"utility"},t));s.displayName="WarningIcon";e.A=s},28324:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Rm});var n=r(96540),i=r(15176),o=r(46802),s=r(96957),a=r(58272),l=r(80296),c=r(45458),u=r(64467),h=r(78659),p=r.n(h),d=r(94394),f=r.n(d),g=r(18393),y=r(22703),m=r(86463),v=r(49323),x=r(34725),O=r(15576),b=r(24995),S=r(68414),A=r(42845);function E(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)r++;return r}if(i.content.size||o.content.size){let t=E(i.content,o.content,r+1);if(null!=t)return t}r+=i.nodeSize}else r+=i.nodeSize}}function T(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let t=0,e=Math.min(s.text.length,a.text.length);for(;t<e&&s.text[s.text.length-t-1]==a.text[a.text.length-t-1];)t++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let t=T(s.content,a.content,r-1,n-1);if(t)return t}r-=l,n-=l}else r-=l,n-=l}}class N{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,r,n=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),r,n+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,n){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{let l=s.isText?s.text.slice(Math.max(t,a)-a,e-a):s.isLeaf?n?"function"==typeof n?n(s):n:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&r&&(o?o=!1:i+=r),i+=l}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new N(n,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],n=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new N(r,n)}cutByIndex(t,e){return t==e?N.empty:0==t&&e==this.content.length?this:new N(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new N(n,i)}addToStart(t){return new N([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new N(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let n=this.content[e];t(n,r,e),r+=n.nodeSize}}findDiffStart(t,e=0){return E(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return T(this,t,e,r)}findIndex(t,e=-1){if(0==t)return C(0,t);if(t==this.size)return C(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?C(r+1,i):C(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return N.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new N(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return N.empty;let e,r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new N(e||t,r)}static from(t){if(!t)return N.empty;if(t instanceof N)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new N([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}N.empty=new N([],0);const _={index:0,offset:0};function C(t,e){return _.index=t,_.offset=e,_}function w(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!w(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!w(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class k{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let n=0;n<t.length;n++){let i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&w(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let n=r.create(e.attrs);return r.checkAttrs(n.attrs),n}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return k.none;if(t instanceof k)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}k.none=[];class R extends Error{}class P{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=L(this.content,t+this.openStart,e);return r&&new P(r,this.openStart,this.openEnd)}removeBetween(t,e){return new P(I(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return P.empty;let r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new P(N.fromJSON(t,e.content),r,n)}static maxOpen(t,e=!0){let r=0,n=0;for(let n=t.firstChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new P(t,r,n)}}function I(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(i==e||o.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(I(o.content,e-i-1,r-i-1)))}function L(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=L(s.content,e-o-1,r);return a&&t.replaceChild(i,s.copy(a))}function j(t,e,r){if(r.openStart>t.depth)throw new R("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new R("Inconsistent open depths");return D(t,e,r,0)}function D(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=D(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){let{start:i,end:s}=function(t,e){let r=e.depth-t.openStart,n=e.node(r).copy(t.content);for(let t=r-1;t>=0;t--)n=e.node(t).copy(N.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return B(o,z(t,i,s,e,n))}{let n=t.parent,i=n.content;return B(n,i.cut(0,t.parentOffset).append(r.content).append(i.cut(e.parentOffset)))}}return B(o,V(t,e,n))}function M(t,e){if(!e.type.compatibleContent(t.type))throw new R("Cannot join "+e.type.name+" onto "+t.type.name)}function q(t,e,r){let n=t.node(r);return M(n,e.node(r)),n}function F(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function U(t,e,r,n){let i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(F(t.nodeAfter,n),o++));for(let t=o;t<s;t++)F(i.child(t),n);e&&e.depth==r&&e.textOffset&&F(e.nodeBefore,n)}function B(t,e){return t.type.checkContent(e),t.copy(e)}function z(t,e,r,n,i){let o=t.depth>i&&q(t,e,i+1),s=n.depth>i&&q(r,n,i+1),a=[];return U(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(M(o,s),F(B(o,z(t,e,r,n,i+1)),a)):(o&&F(B(o,V(t,e,i+1)),a),U(e,r,i,a),s&&F(B(s,V(r,n,i+1)),a)),U(n,null,i,a),new N(a)}function V(t,e,r){let n=[];if(U(null,t,r,n),t.depth>r){F(B(q(t,e,r+1),V(t,e,r+1)),n)}return U(e,null,r,n),new N(n)}P.empty=new P(N.empty,0,0);class H{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)n+=r.child(e).nodeSize;return n}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return k.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){let t=r;r=n,n=t}let i=r.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||n&&i[o].isInSet(n.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,n=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new K(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],n=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),s=i-o;if(r.push(e,t,n+o),!s)break;if(e=e.child(t),e.isText)break;i=s-1,n+=o+1}return new H(e,r,i)}static resolveCached(t,e){let r=W.get(t);if(r)for(let t=0;t<r.elts.length;t++){let n=r.elts[t];if(n.pos==e)return n}else W.set(t,r=new J);let n=r.elts[r.i]=H.resolve(t,e);return r.i=(r.i+1)%G,n}}class J{constructor(){this.elts=[],this.i=0}}const G=12,W=new WeakMap;class K{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Y=Object.create(null);class ${constructor(t,e,r,n=k.none){this.type=t,this.attrs=e,this.marks=n,this.content=r||N.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,n=0){this.content.nodesBetween(t,e,r,n,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&w(this.attrs,e||t.defaultAttrs||Y)&&k.sameSet(this.marks,r||k.none)}copy(t=null){return t==this.content?this:new $(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new $(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return P.empty;let n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new P(a,n.depth-o,i.depth-o)}replace(t,e,r){return j(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:n}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(n==t||e.isText)return e;t-=n+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let n=this.content.child(e-1);return{node:n,index:e-1,offset:r-n.nodeSize}}resolve(t){return H.resolveCached(this,t)}resolveNoCache(t){return H.resolve(this,t)}rangeHasMark(t,e,r){let n=!1;return e>t&&this.nodesBetween(t,e,(t=>(r.isInSet(t.marks)&&(n=!0),!n))),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Q(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=N.empty,n=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=n;t<i;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=k.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!k.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let n=N.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,n,r);return i.type.checkAttrs(i.attrs),i}}$.prototype.text=void 0;function Q(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class X{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new Z(t,e);if(null==r.next)return X.empty;let n=tt(r);r.next&&r.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return r(st(t,0));function r(n){let i=[];n.forEach((e=>{t[e].forEach((({term:e,to:r})=>{if(!e)return;let n;for(let t=0;t<i.length;t++)i[t][0]==e&&(n=i[t][1]);st(t,r).forEach((t=>{n||i.push([e,n=[]]),-1==n.indexOf(t)&&n.push(t)}))}))}));let o=e[n.join(",")]=new X(n.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(ot);o.next.push({type:i[t][0],next:e[n.join(",")]||r(n)})}return o}}(function(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){let i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,r)=>t.concat(o(r,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=r();return n(e,s),i(o(t.expr,s),s),[n(s)]}if("plus"==t.type){let s=r();return i(o(t.expr,e),s),i(o(t.expr,s),s),[n(s)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=r();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=r();n(s,e),i(o(t.expr,s),e),s=e}return[n(s)]}if("name"==t.type)return[n(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let n=0;;n++){let s=o(t.exprs[n],e);if(n==t.exprs.length-1)return s;i(s,e=r())}}}(n));return function(t,e){for(let r=0,n=[t];r<n.length;r++){let t=n[r],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:r,next:s}=t.next[e];o.push(r.name),!i||r.isText||r.hasRequiredAttrs()||(i=!1),-1==n.indexOf(s)&&n.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let n=this;for(let i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let n=[this];return function i(o,s){let a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return N.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:r}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==n.indexOf(r)){n.push(r);let t=i(r,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let n=r.shift(),i=n.match;if(i.matchType(t)){let t=[];for(let e=n;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||n.type&&!s.validEnd||(r.push({match:o.contentMatch,type:o,via:n}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let n=0;n<r.next.length;n++)-1==t.indexOf(r.next[n].next)&&e(r.next[n].next)}(this),t.map(((e,r)=>{let n=r+(e.validEnd?"*":" ")+" ";for(let r=0;r<e.next.length;r++)n+=(r?", ":"")+e.next[r].type.name+"->"+t.indexOf(e.next[r].next);return n})).join("\n")}}X.empty=new X(!0);class Z{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function tt(t){let e=[];do{e.push(et(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function et(t){let e=[];do{e.push(rt(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function rt(t){let e=function(t){if(t.eat("(")){let e=tt(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let t in r){let n=r[t];n.isInGroup(e)&&i.push(n)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=it(t,e)}return e}function nt(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function it(t,e){let r=nt(t),n=r;return t.eat(",")&&(n="}"!=t.next?nt(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function ot(t,e){return e-t}function st(t,e){let r=[];return function e(n){let i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(let t=0;t<i.length;t++){let{term:n,to:o}=i[t];n||-1!=r.indexOf(o)||e(o)}}(e),r.sort(ot)}class at{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let r=this.matchedStyles=[];e.forEach((t=>{if(function(t){return null!=t.tag}(t))this.tags.push(t);else if(function(t){return null!=t.style}(t)){let e=/[^=]*/.exec(t.style)[0];r.indexOf(e)<0&&r.push(e),this.styles.push(t)}})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let r=t.nodes[e.node];return r.contentMatch.matchType(r)}))}parse(t,e={}){let r=new dt(this,e,!1);return r.addAll(t,k.none,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new dt(this,e,!0);return r.addAll(t,k.none,e.from,e.to),P.maxOpen(r.finish())}matchTag(t,e,r){for(let n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){let r=this.tags[n];if(ft(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}matchStyle(t,e,r,n){for(let i=n?this.styles.indexOf(n)+1:0;i<this.styles.length;i++){let n=this.styles[i],o=n.style;if(!(0!=o.indexOf(t)||n.context&&!r.matchesContext(n.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}static schemaRules(t){let e=[];function r(t){let r=null==t.priority?50:t.priority,n=0;for(;n<e.length;n++){let t=e[n];if((null==t.priority?50:t.priority)<r)break}e.splice(n,0,t)}for(let e in t.marks){let n=t.marks[e].spec.parseDOM;n&&n.forEach((t=>{r(t=gt(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let n=t.nodes[e].spec.parseDOM;n&&n.forEach((t=>{r(t=gt(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new at(t,at.schemaRules(t)))}}const lt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ct={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ut={ol:!0,ul:!0};function ht(t,e,r){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&r}class pt{constructor(t,e,r,n,i,o){this.type=t,this.attrs=e,this.marks=r,this.solid=n,this.options=o,this.content=[],this.activeMarks=k.none,this.match=i||(4&o?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(N.from(t));if(!e){let e,r=this.type.contentMatch;return(e=r.findWrapping(t.type))?(this.match=r,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let r=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}let e=N.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(N.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!lt.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class dt{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let n,i=e.topNode,o=ht(null,e.preserveWhitespace,0)|(r?4:0);n=i?new pt(i.type,i.attrs,k.none,!0,e.topMatch||i.type.contentMatch,o):new pt(r?null:t.schema.topNodeType,null,k.none,!0,null,o),this.nodes=[n],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let r=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&n.options)r=2&n.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let e=n.content[n.content.length-1],i=t.previousSibling;(!e||i&&"BR"==i.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,r){let n,i=t.nodeName.toLowerCase();ut.hasOwnProperty(i)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&ut.hasOwnProperty(t)&&r?(r.appendChild(e),e=r):"li"==t?r=e:t&&(r=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,r));if(o?o.ignore:ct.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let r,n=this.top,s=this.needsBlock;if(lt.hasOwnProperty(i))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),r=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t,e);let a=o&&o.skip?e:this.readStyles(t,e);a&&this.addAll(t,a),r&&this.sync(n),this.needsBlock=s}else{let r=this.readStyles(t,e);r&&this.addElementByRule(t,o,r,!1===o.consuming?n:void 0)}}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let r=t.style;if(r&&r.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let n=this.parser.matchedStyles[t],i=r.getPropertyValue(n);if(i)for(let t;;){let r=this.parser.matchStyle(n,i,this,t);if(!r)break;if(r.ignore)return null;if(e=r.clearMark?e.filter((t=>!r.clearMark(t))):e.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;t=r}}return e}addElementByRule(t,e,r,n){let i,o;if(e.node)if(o=this.parser.schema.nodes[e.node],o.isLeaf)this.insertNode(o.create(e.attrs),r)||this.leafFallback(t,r);else{let t=this.enter(o,e.attrs||null,r,e.preserveWhitespace);t&&(i=!0,r=t)}else{let t=this.parser.schema.marks[e.mark];r=r.concat(t.create(e.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,r,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t,r)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n,r),this.findAround(t,n,!1)}i&&this.sync(s)&&this.open--}addAll(t,e,r,n){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,e);this.findAtPoint(t,i)}findPlace(t,e){let r,n;for(let e=this.open;e>=0;e--){let i=this.nodes[e],o=i.findWrapping(t);if(o&&(!r||r.length>o.length)&&(r=o,n=i,!o.length))break;if(i.solid)break}if(!r)return null;this.sync(n);for(let t=0;t<r.length;t++)e=this.enterInner(r[t],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(e=this.enterInner(t,null,e))}let r=this.findPlace(t,e);if(r){this.closeExtra();let e=this.top;e.match&&(e.match=e.match.matchType(t.type));let n=k.none;for(let i of r.concat(t.marks))(e.type?e.type.allowsMarkType(i.type):yt(i.type,t.type))&&(n=i.addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,r,n){let i=this.findPlace(t.create(e),r);return i&&(i=this.enterInner(t,e,r,!0,n)),i}enterInner(t,e,r,n=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let s=ht(t,i,o.options);4&o.options&&0==o.content.length&&(s|=4);let a=k.none;return r=r.filter((e=>!(o.type?o.type.allowsMarkType(e.type):yt(e.type,t))||(a=e.addToSet(a),!1))),this.nodes.push(new pt(t,e,a,n,null,s)),this.open++,r}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let e=r.length-1;e>=0;e--)t+=r[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let n=0;n<this.find.length;n++)if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)){e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,n=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(n?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&n?this.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!t||t.name!=a&&!t.isInGroup(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gt(t){let e={};for(let r in t)e[r]=t[r];return e}function yt(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let r=0;r<t.edgeCount;r++){let{type:n,next:i}=t.edge(r);if(n==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class mt{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=xt(e).createDocumentFragment());let n=r,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let r=0,o=0;for(;r<i.length&&o<t.marks.length;){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[r][0])||!1===e.type.spec.spanning)break;r++,o++}else o++}for(;r<i.length;)n=i.pop()[1];for(;o<t.marks.length;){let r=t.marks[o++],s=this.serializeMark(r,t.isInline,e);s&&(i.push([r,n]),n.appendChild(s.dom),n=s.contentDOM||s.dom)}}n.appendChild(this.serializeNodeInner(t,e))})),r}serializeNodeInner(t,e){let{dom:r,contentDOM:n}=St(xt(e),this.nodes[t.type.name](t),null,t.attrs);if(n){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,n)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let n=t.marks.length-1;n>=0;n--){let i=this.serializeMark(t.marks[n],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,e,r={}){let n=this.marks[t.type.name];return n&&St(xt(r),n(t,e),null,t.attrs)}static renderSpec(t,e,r=null,n){return St(t,e,r,n)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new mt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=vt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return vt(t.marks)}}function vt(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function xt(t){return t.document||window.document}const Ot=new WeakMap;function bt(t){let e=Ot.get(t);return void 0===e&&Ot.set(t,e=function(t){let e=null;function r(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])e||(e=[]),e.push(t);else for(let e=0;e<t.length;e++)r(t[e]);else for(let e in t)r(t[e])}return r(t),e}(t)),e}function St(t,e,r,n){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let i,o=e[0];if("string"!=typeof o)throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=bt(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=o.indexOf(" ");a>0&&(r=o.slice(0,a),o=o.slice(a+1));let l=r?t.createElementNS(r,o):t.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let t in c)if(null!=c[t]){let e=t.indexOf(" ");e>0?l.setAttributeNS(t.slice(0,e),t.slice(e+1),c[t]):l.setAttribute(t,c[t])}}for(let i=u;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:e,contentDOM:i}=St(t,o,r,n);if(l.appendChild(e),i){if(s)throw new RangeError("Multiple content holes");s=i}}}return{dom:l,contentDOM:s}}const At=Math.pow(2,16);function Et(t){return 65535&t}class Tt{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Nt{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&Nt.empty)return Nt.empty}recover(t){let e=0,r=Et(t);if(!this.inverted)for(let t=0;t<r;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+e+function(t){return(t-(65535&t))/At}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let n=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;let l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(t<=u){let i=a+n+((l?t==a?-1:t==u?1:e:e)<0?0:c);if(r)return i;let o=t==(e<0?a:u)?null:s/3+(t-a)*At,h=t==a?2:t==u?1:4;return(e<0?t!=a:t!=u)&&(h|=8),new Tt(i,h,o)}n+=c-l}return r?t+n:new Tt(t+n,0,null)}touches(t,e){let r=0,n=Et(e),i=this.inverted?2:1,o=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let s=this.ranges[e]-(this.inverted?r:0);if(s>t)break;let a=this.ranges[e+i];if(t<=s+a&&e==3*n)return!0;r+=this.ranges[e+o]-a}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let n=0,i=0;n<this.ranges.length;n+=3){let o=this.ranges[n],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[n+e],c=this.ranges[n+r];t(s,s+l,a,a+c),i+=c-l}}invert(){return new Nt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Nt.empty:new Nt(t<0?[0,-t,0]:[0,0,t])}}Nt.empty=new Nt([]);const _t=Object.create(null);class Ct{getMap(){return Nt.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=_t[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in _t)throw new RangeError("Duplicate use of step JSON ID "+t);return _t[t]=e,e.prototype.jsonID=t,e}}class wt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new wt(t,null)}static fail(t){return new wt(null,t)}static fromReplace(t,e,r,n){try{return wt.ok(t.replace(e,r,n))}catch(t){if(t instanceof R)return wt.fail(t.message);throw t}}}function kt(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(kt(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return N.fromArray(n)}class Rt extends Ct{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),n=r.node(r.sharedDepth(this.to)),i=new P(kt(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),n),e.openStart,e.openEnd);return wt.fromReplace(t,this.from,this.to,i)}invert(){return new Pt(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Rt(e.pos,r.pos,this.mark)}merge(t){return t instanceof Rt&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Rt(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Rt(e.from,e.to,t.markFromJSON(e.mark))}}Ct.jsonID("addMark",Rt);class Pt extends Ct{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new P(kt(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return wt.fromReplace(t,this.from,this.to,r)}invert(){return new Rt(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Pt(e.pos,r.pos,this.mark)}merge(t){return t instanceof Pt&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Pt(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Pt(e.from,e.to,t.markFromJSON(e.mark))}}Ct.jsonID("removeMark",Pt);class It extends Ct{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return wt.fromReplace(t,this.pos,this.pos+1,new P(N.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(t))return new It(this.pos,e.marks[r]);return new It(this.pos,this.mark)}}return new Lt(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new It(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new It(e.pos,t.markFromJSON(e.mark))}}Ct.jsonID("addNodeMark",It);class Lt extends Ct{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return wt.fromReplace(t,this.pos,this.pos+1,new P(N.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new It(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Lt(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lt(e.pos,t.markFromJSON(e.mark))}}Ct.jsonID("removeNodeMark",Lt);class jt extends Ct{constructor(t,e,r,n=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=n}apply(t){return this.structure&&Mt(t,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Nt([this.from,this.to-this.from,this.slice.size])}invert(t){return new jt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new jt(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof jt)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?P.empty:new P(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new jt(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?P.empty:new P(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new jt(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jt(e.from,e.to,P.fromJSON(t,e.slice),!!e.structure)}}Ct.jsonID("replace",jt);class Dt extends Ct{constructor(t,e,r,n,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=n,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(Mt(t,this.from,this.gapFrom)||Mt(t,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?wt.fromReplace(t,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new Nt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Dt(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||n<e.pos||i>r.pos?null:new Dt(e.pos,r.pos,n,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Dt(e.from,e.to,e.gapFrom,e.gapTo,P.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Mt(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let t=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}Ct.jsonID("replaceAround",Dt);class qt extends Ct{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at attribute step's position");let r=Object.create(null);for(let t in e.attrs)r[t]=e.attrs[t];r[this.attr]=this.value;let n=e.type.create(r,null,e.marks);return wt.fromReplace(t,this.pos,this.pos+1,new P(N.from(n),0,e.isLeaf?0:1))}getMap(){return Nt.empty}invert(t){return new qt(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new qt(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new qt(e.pos,e.attr,e.value)}}Ct.jsonID("attr",qt);class Ft extends Ct{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let r=t.type.create(e,t.content,t.marks);return wt.ok(r)}getMap(){return Nt.empty}invert(t){return new Ft(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ft(e.attr,e.value)}}Ct.jsonID("docAttr",Ft);let Ut=class extends Error{};Ut=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},(Ut.prototype=Object.create(Error.prototype)).constructor=Ut,Ut.prototype.name="TransformError";const Bt=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},zt=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let Vt=null;const Ht=function(t,e,r){let n=Vt||(Vt=document.createRange());return n.setEnd(t,null==r?t.nodeValue.length:r),n.setStart(t,e||0),n},Jt=function(t,e,r,n){return r&&(Wt(t,e,r,n,-1)||Wt(t,e,r,n,1))},Gt=/^(img|br|input|textarea|hr)$/i;function Wt(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Kt(t))){let r=t.parentNode;if(!r||1!=r.nodeType||Yt(t)||Gt.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Bt(t)+(i<0?0:1),t=r}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?Kt(t):0}}}function Kt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Yt(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const $t=function(t){return t.focusNode&&Jt(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Qt(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}const Xt="undefined"!=typeof navigator?navigator:null,Zt="undefined"!=typeof document?document:null,te=Xt&&Xt.userAgent||"",ee=/Edge\/(\d+)/.exec(te),re=/MSIE \d/.exec(te),ne=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(te),ie=!!(re||ne||ee),oe=re?document.documentMode:ne?+ne[1]:ee?+ee[1]:0,se=!ie&&/gecko\/(\d+)/i.test(te);se&&(/Firefox\/(\d+)/.exec(te)||[0,0])[1];const ae=!ie&&/Chrome\/(\d+)/.exec(te),le=!!ae,ce=ae?+ae[1]:0,ue=!ie&&!!Xt&&/Apple Computer/.test(Xt.vendor),he=ue&&(/Mobile\/\w+/.test(te)||!!Xt&&Xt.maxTouchPoints>2),pe=he||!!Xt&&/Mac/.test(Xt.platform),de=!!Xt&&/Win/.test(Xt.platform),fe=/Android \d/.test(te),ge=!!Zt&&"webkitFontSmoothing"in Zt.documentElement.style,ye=ge?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function me(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ve(t,e){return"number"==typeof t?t:t[e]}function xe(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function Oe(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=r||t.dom;s;s=zt(s)){if(1!=s.nodeType)continue;let t=s,r=t==o.body,a=r?me(o):xe(t),l=0,c=0;if(e.top<a.top+ve(n,"top")?c=-(a.top-e.top+ve(i,"top")):e.bottom>a.bottom-ve(n,"bottom")&&(c=e.bottom-e.top>a.bottom-a.top?e.top+ve(i,"top")-a.top:e.bottom-a.bottom+ve(i,"bottom")),e.left<a.left+ve(n,"left")?l=-(a.left-e.left+ve(i,"left")):e.right>a.right-ve(n,"right")&&(l=e.right-a.right+ve(i,"right")),l||c)if(r)o.defaultView.scrollBy(l,c);else{let r=t.scrollLeft,n=t.scrollTop;c&&(t.scrollTop+=c),l&&(t.scrollLeft+=l);let i=t.scrollLeft-r,o=t.scrollTop-n;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(r||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function be(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=zt(n));return e}function Se(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:o}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}let Ae=null;function Ee(t,e){let r,n,i,o,s=2e8,a=0,l=e.top,c=e.top;for(let u=t.firstChild,h=0;u;u=u.nextSibling,h++){let t;if(1==u.nodeType)t=u.getClientRects();else{if(3!=u.nodeType)continue;t=Ht(u).getClientRects()}for(let p=0;p<t.length;p++){let d=t[p];if(d.top<=l&&d.bottom>=c){l=Math.max(d.bottom,l),c=Math.min(d.top,c);let t=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(t<s){r=u,s=t,n=t&&3==r.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==u.nodeType&&t&&(a=h+(e.left>=(d.left+d.right)/2?1:0));continue}}else d.top>e.top&&!i&&d.left<=e.left&&d.right>=e.left&&(i=u,o={left:Math.max(d.left,Math.min(d.right,e.left)),top:d.top});!r&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(a=h+1)}}return!r&&i&&(r=i,n=o,s=0),r&&3==r.nodeType?function(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let r=we(n,1);if(r.top!=r.bottom&&Te(e,r))return{node:t,offset:i+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}(r,n):!r||s&&1==r.nodeType?{node:t,offset:a}:Ee(r,n)}function Te(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Ne(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let r=t.childNodes[o];if(1==r.nodeType){let t=r.getClientRects();for(let n=0;n<t.length;n++){let i=t[n];if(Te(e,i))return Ne(r,e,i)}}if((o=(o+1)%n)==i)break}return t}function _e(t,e){let r,n=t.dom.ownerDocument,i=0,o=function(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Kt(n.offsetNode),n.offset)}}catch(t){}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Kt(n.startContainer),n.startOffset)}}}(n,e.left,e.top);o&&({node:r,offset:i}=o);let s,a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top);if(!a||!t.dom.contains(1!=a.nodeType?a.parentNode:a)){let r=t.dom.getBoundingClientRect();if(!Te(e,r))return null;if(a=Ne(t.dom,e,r),!a)return null}if(ue)for(let t=a;r&&t;t=zt(t))t.draggable&&(r=void 0);if(a=function(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}(a,e),r){if(se&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let t,n=r.childNodes[i];"IMG"==n.nodeName&&(t=n.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}let n;ge&&i&&1==r.nodeType&&1==(n=r.childNodes[i-1]).nodeType&&"false"==n.contentEditable&&n.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(s=function(t,e,r,n){let i=-1;for(let r=e,o=!1;r!=t.dom;){let e=t.docView.nearestDesc(r,!0);if(!e)return null;if(1==e.dom.nodeType&&(e.node.isBlock&&e.parent||!e.contentDOM)){let t=e.dom.getBoundingClientRect();if(e.node.isBlock&&e.parent&&(!o&&t.left>n.left||t.top>n.top?i=e.posBefore:(!o&&t.right<n.left||t.bottom<n.top)&&(i=e.posAfter),o=!0),!e.contentDOM&&i<0&&!e.node.isText)return(e.node.isBlock?n.top<(t.top+t.bottom)/2:n.left<(t.left+t.right)/2)?e.posBefore:e.posAfter}r=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}(t,r,i,e))}null==s&&(s=function(t,e,r){let{node:n,offset:i}=Ee(e,r),o=-1;if(1==n.nodeType&&!n.firstChild){let t=n.getBoundingClientRect();o=t.left!=t.right&&r.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(n,i,o)}(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Ce(t){return t.top<t.bottom||t.left<t.right}function we(t,e){let r=t.getClientRects();if(r.length){let t=r[e<0?0:r.length-1];if(Ce(t))return t}return Array.prototype.find.call(r,Ce)||t.getBoundingClientRect()}const ke=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Re(t,e,r){let{node:n,offset:i,atom:o}=t.docView.domFromPos(e,r<0?-1:1),s=ge||se;if(3==n.nodeType){if(!s||!ke.test(n.nodeValue)&&(r<0?i:i!=n.nodeValue.length)){let t=i,e=i,o=r<0?1:-1;return r<0&&!i?(e++,o=-1):r>=0&&i==n.nodeValue.length?(t--,o=1):r<0?t--:e++,Pe(we(Ht(n,t,e),o),o<0)}{let t=we(Ht(n,i,i),r);if(se&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let e=we(Ht(n,i-1,i-1),-1);if(e.top==t.top){let r=we(Ht(n,i,i+1),-1);if(r.top!=t.top)return Pe(r,r.left<e.left)}}return t}}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&i&&(r<0||i==Kt(n))){let t=n.childNodes[i-1];if(1==t.nodeType)return Ie(t.getBoundingClientRect(),!1)}if(null==o&&i<Kt(n)){let t=n.childNodes[i];if(1==t.nodeType)return Ie(t.getBoundingClientRect(),!0)}return Ie(n.getBoundingClientRect(),r>=0)}if(null==o&&i&&(r<0||i==Kt(n))){let t=n.childNodes[i-1],e=3==t.nodeType?Ht(t,Kt(t)-(s?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return Pe(we(e,1),!1)}if(null==o&&i<Kt(n)){let t=n.childNodes[i];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?Ht(t,0,s?0:1):1==t.nodeType?t:null:null;if(e)return Pe(we(e,-1),!0)}return Pe(we(3==n.nodeType?Ht(n):n,-r),r>=0)}function Pe(t,e){if(0==t.width)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Ie(t,e){if(0==t.height)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function Le(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}const je=/[\u0590-\u08ac]/;let De=null,Me=null,qe=!1;function Fe(t,e,r){return De==e&&Me==r?qe:(De=e,Me=r,qe="up"==r||"down"==r?function(t,e,r){let n=e.selection,i="up"==r?n.$from:n.$to;return Le(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==r?-1:1);for(;;){let r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.contentDOM||r.dom;break}e=r.dom.parentNode}let n=Re(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=Ht(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==r?n.top-i.top>2*(i.bottom-n.top):i.bottom-n.bottom>2*(n.bottom-i.top)))return!1}}return!0}))}(t,e,r):function(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,s=i==n.parent.content.size,a=t.domSelection();return a?je.test(n.parent.textContent)&&a.modify?Le(t,e,(()=>{let{focusNode:e,focusOffset:i,anchorNode:o,anchorOffset:s}=t.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",r,"character");let c=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:u,focusOffset:h}=t.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||e==u&&i==h;try{a.collapse(o,s),e&&(e!=o||i!=s)&&a.extend&&a.extend(e,i)}catch(t){}return null!=l&&(a.caretBidiLevel=l),p})):"left"==r||"backward"==r?o:s:n.pos==n.start()||n.pos==n.end()}(t,e,r))}class Ue{constructor(t,e,r,n){this.parent=t,this.children=e,this.dom=r,this.contentDOM=n,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let n=this.children[e];if(n==t)return r;r+=n.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let r,n;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(n=r.pmViewDesc)||n.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(n)+n.size:this.posAtStart}{let r,n;if(t==this.contentDOM)r=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.nextSibling}for(;r&&(!(n=r.pmViewDesc)||n.parent!=this);)r=r.nextSibling;return r?this.posBeforeChild(n):this.posAtEnd}}let n;if(t==this.dom&&this.contentDOM)n=e>Bt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))n=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){n=!1;break}if(e.previousSibling)break}if(null==n&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){n=!0;break}if(e.nextSibling)break}}return(null==n?r>0:n)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,n=t;n;n=n.parentNode){let i,o=this.getDesc(n);if(o&&(!e||o.node)){if(!r||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;r=!1}}}getDesc(t){let e=t.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,r){for(let n=t;n;n=n.parentNode){let i=this.getDesc(n);if(i)return i.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let n=this.children[e],i=r+n.size;if(r==t&&i!=r){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(t<i)return n.descAt(t-r-n.border);r=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,n=0;for(let e=0;r<this.children.length;r++){let i=this.children[r],o=e+i.size;if(o>t||i instanceof We){n=t-e;break}e=o}if(n)return this.children[r].domFromPos(n-this.children[r].border,e);for(let t;r&&!(t=this.children[r-1]).size&&t instanceof Be&&t.side>=0;r--);if(e<=0){let t,n=!0;for(;t=r?this.children[r-1]:null,t&&t.dom.parentNode!=this.contentDOM;r--,n=!1);return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?Bt(t.dom)+1:0}}{let t,n=!0;for(;t=r<this.children.length?this.children[r]:null,t&&t.dom.parentNode!=this.contentDOM;r++,n=!1);return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?Bt(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let n=-1,i=-1;for(let o=r,s=0;;s++){let r=this.children[s],a=o+r.size;if(-1==n&&t<=a){let i=o+r.border;if(t>=i&&e<=a-r.border&&r.node&&r.contentDOM&&this.contentDOM.contains(r.contentDOM))return r.parseRange(t,e,i);t=o;for(let e=s;e>0;e--){let r=this.children[e-1];if(r.size&&r.dom.parentNode==this.contentDOM&&!r.emptyChildAt(1)){n=Bt(r.dom)+1;break}t-=r.size}-1==n&&(n=0)}if(n>-1&&(a>e||s==this.children.length-1)){e=a;for(let t=s+1;t<this.children.length;t++){let r=this.children[t];if(r.size&&r.dom.parentNode==this.contentDOM&&!r.emptyChildAt(-1)){i=Bt(r.dom);break}e+=r.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=a}return{node:this.contentDOM,from:t,to:e,fromOffset:n,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(1!=e.nodeType||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,n=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.size;if(i>a&&o<c)return l.setSelection(t-a-l.border,e-a-l.border,r,n);a=c}let s=this.domFromPos(t,t?-1:1),a=e==t?s:this.domFromPos(e,e?-1:1),l=r.getSelection(),c=!1;if((se||ue)&&t==e){let{node:t,offset:e}=s;if(3==t.nodeType){if(c=!(!e||"\n"!=t.nodeValue[e-1]),c&&e==t.nodeValue.length)for(let e,r=t;r;r=r.parentNode){if(e=r.nextSibling){"BR"==e.nodeName&&(s=a={node:e.parentNode,offset:Bt(e)+1});break}let t=r.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let r=t.childNodes[e-1];c=r&&("BR"==r.nodeName||"false"==r.contentEditable)}}if(se&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let t=l.focusNode.childNodes[l.focusOffset];t&&"false"==t.contentEditable&&(n=!0)}if(!(n||c&&ue)&&Jt(s.node,s.offset,l.anchorNode,l.anchorOffset)&&Jt(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||t==e)&&!c){l.collapse(s.node,s.offset);try{t!=e&&l.extend(a.node,a.offset),u=!0}catch(t){}}if(!u){if(t>e){let t=s;s=a,a=t}let r=document.createRange();r.setEnd(a.node,a.offset),r.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(r)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,n=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==o?t<=o&&e>=r:t<o&&e>r){let n=r+i.border,s=o-i.border;if(t>=n&&e<=s)return this.dirty=t==r||e==o?2:1,void(t!=n||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-n,e-n):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}r=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=1==t?2:1;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class Be extends Ue{constructor(t,e,r,n){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(r,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:n))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ze extends Ue{constructor(t,e,r,n){super(t,[],e,null),this.textDOM=r,this.text=n}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class Ve extends Ue{constructor(t,e,r,n){super(t,[],r,n),this.mark=e}static create(t,e,r,n){let i=n.nodeViews[e.type.name],o=i&&i(e,n,r);return o&&o.dom||(o=mt.renderSpec(document,e.type.spec.toDOM(e,r),null,e.attrs)),new Ve(t,e,o.dom,o.contentDOM||o.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,r){let n=Ve.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;e<o&&(i=sr(i,e,o,r)),t>0&&(i=sr(i,0,t,r));for(let t=0;t<i.length;t++)i[t].parent=n;return n.children=i,n}}class He extends Ue{constructor(t,e,r,n,i,o,s,a,l){super(t,[],i,o),this.node=e,this.outerDeco=r,this.innerDeco=n,this.nodeDOM=s}static create(t,e,r,n,i,o){let s,a=i.nodeViews[e.type.name],l=a&&a(e,i,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:o),r,n),c=l&&l.dom,u=l&&l.contentDOM;if(e.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(e.text);else if(!c){let t=mt.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs);({dom:c,contentDOM:u}=t)}u||e.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0));let h=c;return c=er(c,r,e),l?s=new Ke(t,e,r,n,c,u||null,h,l,i,o+1):e.isText?new Ge(t,e,r,n,c,h,i):new He(t,e,r,n,c,u||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>N.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,r){return 0==this.dirty&&t.eq(this.node)&&rr(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,n=e,i=t.composing?this.localCompositionInfo(t,e):null,o=i&&i.pos>-1?i:null,s=i&&i.pos<0,a=new ir(this,o&&o.node,t);!function(t,e,r,n){let i=e.locals(t),o=0;if(0==i.length){for(let r=0;r<t.childCount;r++){let s=t.child(r);n(s,i,e.forChild(o,s),r),o+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,h,p,d;for(;s<i.length&&i[s].to==o;){let t=i[s++];t.widget&&(u?(h||(h=[u])).push(t):u=t)}if(u)if(h){h.sort(or);for(let t=0;t<h.length;t++)r(h[t],c,!!l)}else r(u,c,!!l);if(l)d=-1,p=l,l=null;else{if(!(c<t.childCount))break;d=c,p=t.child(c++)}for(let t=0;t<a.length;t++)a[t].to<=o&&a.splice(t--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let f=o+p.nodeSize;if(p.isText){let t=f;s<i.length&&i[s].from<t&&(t=i[s].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<f&&(l=p.cut(t-o),p=p.cut(0,t-o),f=t,d=-1)}else for(;s<i.length&&i[s].to<f;)s++;n(p,p.isInline&&!p.isLeaf?a.filter((t=>!t.inline)):a.slice(),e.forChild(o,p),d),o=f}}(this.node,this.innerDeco,((e,i,o)=>{e.spec.marks?a.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!o&&a.syncToMarks(i==this.node.childCount?k.none:this.node.child(i).marks,r,t),a.placeWidget(e,t,n)}),((e,o,l,c)=>{let u;a.syncToMarks(e.marks,r,t),a.findNodeMatch(e,o,l,c)||s&&t.state.selection.from>n&&t.state.selection.to<n+e.nodeSize&&(u=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(e,o,l,u,t)||a.updateNextNode(e,o,l,t,c,n)||a.addNode(e,o,l,t,n),n+=e.nodeSize})),a.syncToMarks([],r,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),Ye(this.contentDOM,this.children,t),he&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:r,to:n}=t.state.selection;if(!(t.state.selection instanceof A.U3)||r<e||n>e+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let t=i.nodeValue,o=function(t,e,r,n){for(let i=0,o=0;i<t.childCount&&o<=n;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;l+=e.text}if(o>=r){if(o>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let t=a<n?l.lastIndexOf(e,n-a-1):-1;if(t>=0&&t+e.length+a>=r)return a+t;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}(this.node.content,t,r-e,n-e);return o<0?null:{node:i,pos:o,text:t}}return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:n}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new ze(this,i,e,n);t.input.compositionNodes.push(o),this.children=sr(this.children,r,r+n.length,t,o)}update(t,e,r,n){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,r,n),!0)}updateInner(t,e,r,n){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(rr(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=Ze(this.dom,this.nodeDOM,Xe(this.outerDeco,this.node,e),Xe(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Je(t,e,r,n,i){er(n,e,t);let o=new He(void 0,t,e,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Ge extends He{constructor(t,e,r,n,i,o,s){super(t,e,r,n,i,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,n){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,r){let n=this.node.cut(t,e),i=document.createTextNode(n.text);return new Ge(this.parent,n,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(t){return this.node.text==t}}class We extends Ue{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Ke extends He{constructor(t,e,r,n,i,o,s,a,l,c){super(t,e,r,n,i,o,s,l,c),this.spec=a}update(t,e,r,n){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(t,e,r);return i&&this.updateInner(t,e,r,n),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,r,n)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,n){this.spec.setSelection?this.spec.setSelection(t,e,r):super.setSelection(t,e,r,n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Ye(t,e,r){let n=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=n;)n=nr(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(s instanceof Ve){let e=n?n.previousSibling:t.lastChild;Ye(s.contentDOM,s.children,r),n=e?e.nextSibling:t.firstChild}}for(;n;)n=nr(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const $e=function(t){t&&(this.nodeName=t)};$e.prototype=Object.create(null);const Qe=[new $e];function Xe(t,e,r){if(0==t.length)return Qe;let n=r?Qe[0]:new $e,i=[n];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(n=new $e(s.nodeName));for(let t in s){let o=s[t];null!=o&&(r&&1==i.length&&i.push(n=new $e(e.isInline?"span":"div")),"class"==t?n.class=(n.class?n.class+" ":"")+o:"style"==t?n.style=(n.style?n.style+";":"")+o:"nodeName"!=t&&(n[t]=o))}}}return i}function Ze(t,e,r,n){if(r==Qe&&n==Qe)return e;let i=e;for(let e=0;e<n.length;e++){let o=n[e],s=r[e];if(e){let e;s&&s.nodeName==o.nodeName&&i!=t&&(e=i.parentNode)&&e.nodeName.toLowerCase()==o.nodeName||(e=document.createElement(o.nodeName),e.pmIsDeco=!0,e.appendChild(i),s=Qe[0]),i=e}tr(i,s||Qe[0],o)}return i}function tr(t,e,r){for(let n in e)"class"==n||"style"==n||"nodeName"==n||n in r||t.removeAttribute(n);for(let n in r)"class"!=n&&"style"!=n&&"nodeName"!=n&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let e=0;e<n.length;e++)-1==i.indexOf(n[e])&&t.classList.remove(n[e]);for(let e=0;e<i.length;e++)-1==n.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let r,n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;r=n.exec(e.style);)t.style.removeProperty(r[1])}r.style&&(t.style.cssText+=r.style)}}function er(t,e,r){return Ze(t,t,Qe,Xe(e,r,1!=t.nodeType))}function rr(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function nr(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ir{constructor(t,e,r){this.lock=e,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let r=e,n=r.children.length,i=t.childCount,o=new Map,s=[];t:for(;i>0;){let a;for(;;)if(n){let t=r.children[n-1];if(!(t instanceof Ve)){a=t,n--;break}r=t,n=t.children.length}else{if(r==e)break t;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r){let n=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;n<o&&(n==i-1?this.top:this.stack[n+1<<1]).matchesMark(t[n])&&!1!==t[n].type.spec.spanning;)n++;for(;n<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let n=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let r=this.top.children[e];if(r.matchesMark(t[i])&&!this.isLocked(r.dom)){n=e;break}}if(n>-1)n>this.index&&(this.changed=!0,this.destroyBetween(this.index,n)),this.top=this.top.children[this.index];else{let n=Ve.create(this.top,t[i],e,r);this.top.children.splice(this.index,0,n),this.top=n,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,r,n){let i,o=-1;if(n>=this.preMatch.index&&(i=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,r))o=this.top.children.indexOf(i,this.index);else for(let n=this.index,i=Math.min(this.top.children.length,n+5);n<i;n++){let i=this.top.children[n];if(i.matchesNode(t,e,r)&&!this.preMatch.matched.has(i)){o=n;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,r,n,i){let o=this.top.children[n];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,r,i)&&(this.destroyBetween(this.index,n),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,r,n,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof He){let l=this.preMatch.matched.get(a);if(null!=l&&l!=i)return!1;let c,u=a.dom,h=this.isLocked(u)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&rr(e,a.outerDeco));if(!h&&a.update(t,e,r,n))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(a,t,e,r,n,o)))return this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(n,o+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,r,n,i,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content))return null;let s=He.create(this.top,e,r,n,i,o);if(s.contentDOM){s.children=t.children,t.children=[];for(let t of s.children)t.parent=s}return t.destroy(),s}addNode(t,e,r,n,i){let o=He.create(this.top,t,e,r,n,i);o.contentDOM&&o.updateChildren(n,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,e,r){let n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(t)||t!=n.widget&&n.widget.type.toDOM.parentNode){let n=new Be(this.top,t,e,r);this.top.children.splice(this.index++,0,n),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Ve;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Ge)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ue||le)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let n=new We(this.top,[],r,null);e!=this.top?e.children.push(n):e.children.splice(this.index++,0,n),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function or(t,e){return t.type.side-e.type.side}function sr(t,e,r,n,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=r||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,n)),i&&(o.push(i),i=void 0),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function ar(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let a,l,c=n.resolve(s);if($t(r)){for(a=c;i&&!i.node;)i=i.parent;let t=i.node;if(i&&t.isAtom&&A.nh.isSelectable(t)&&i.parent&&(!t.isInline||!function(t,e,r){for(let n=0==e,i=e==Kt(t);n||i;){if(t==r)return!0;let e=Bt(t);if(!(t=t.parentNode))return!1;n=n&&0==e,i=i&&e==Kt(t)}}(r.focusNode,r.focusOffset,i.dom))){let t=i.posBefore;l=new A.nh(s==t?c:n.resolve(t))}}else{let e=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(e<0)return null;a=n.resolve(e)}if(!l){l=yr(t,a,c,"pointer"==e||t.state.selection.head<c.pos&&!o?1:-1)}return l}function lr(t){return t.editable?t.hasFocus():vr(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function cr(t,e=!1){let r=t.state.selection;if(fr(t,r),lr(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&le){let e=t.domSelectionRange(),r=t.domObserver.currentSelection;if(e.anchorNode&&r.anchorNode&&Jt(e.anchorNode,e.anchorOffset,r.anchorNode,r.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i="IMG"==n.nodeName;i?r.setStart(n.parentNode,Bt(n)+1):r.setStart(n,0);r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&ie&&oe<=11&&(n.disabled=!0,n.disabled=!1)}(t);else{let n,i,{anchor:o,head:s}=r;!ur||r instanceof A.U3||(r.$from.parent.inlineContent||(n=hr(t,r.from)),r.empty||r.$from.parent.inlineContent||(i=hr(t,r.to))),t.docView.setSelection(o,s,t.root,e),ur&&(n&&dr(n),i&&dr(i)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{r.anchorNode==n&&r.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{lr(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ur=ue||le&&ce<63;function hr(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(ue&&i&&"false"==i.contentEditable)return pr(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return pr(i);if(o)return pr(o)}}function pr(t){return t.contentEditable="true",ue&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dr(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function fr(t,e){if(e instanceof A.nh){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(gr(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else gr(t)}function gr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yr(t,e,r,n){return t.someProp("createSelectionBetween",(n=>n(t,e,r)))||A.U3.between(e,r,n)}function mr(t){return!(t.editable&&!t.hasFocus())&&vr(t)}function vr(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function xr(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&A.LN.findFrom(o,e)}function Or(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function br(t,e,r){let n=t.state.selection;if(!(n instanceof A.U3)){if(n instanceof A.nh&&n.node.isInline)return Or(t,new A.U3(e>0?n.$to:n.$from));{let r=xr(t.state,e);return!!r&&Or(t,r)}}if(r.indexOf("s")>-1){let{$head:r}=n,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Or(t,new A.U3(n.$anchor,o))}if(!n.empty)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let r=xr(t.state,e);return!!(r&&r instanceof A.nh)&&Or(t,r)}if(!(pe&&r.indexOf("m")>-1)){let r,i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(r=t.docView.descAt(s))&&!r.contentDOM)&&(A.nh.isSelectable(o)?Or(t,new A.nh(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):!!ge&&Or(t,new A.U3(t.state.doc.resolve(e<0?s:s+o.nodeSize))))}}function Sr(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Ar(t,e){let r=t.pmViewDesc;return r&&0==r.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function Er(t,e){return e<0?function(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,s=!1;se&&1==r.nodeType&&n<Sr(r)&&Ar(r.childNodes[n],-1)&&(s=!0);for(;;)if(n>0){if(1!=r.nodeType)break;{let t=r.childNodes[n-1];if(Ar(t,-1))i=r,o=--n;else{if(3!=t.nodeType)break;r=t,n=r.nodeValue.length}}}else{if(Tr(r))break;{let e=r.previousSibling;for(;e&&Ar(e,-1);)i=r.parentNode,o=Bt(e),e=e.previousSibling;if(e)r=e,n=Sr(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?Nr(t,r,n):i&&Nr(t,i,o)}(t):function(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,s=Sr(r);for(;;)if(n<s){if(1!=r.nodeType)break;if(!Ar(r.childNodes[n],1))break;i=r,o=++n}else{if(Tr(r))break;{let e=r.nextSibling;for(;e&&Ar(e,1);)i=e.parentNode,o=Bt(e)+1,e=e.nextSibling;if(e)r=e,n=0,s=Sr(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&Nr(t,i,o)}(t)}function Tr(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Nr(t,e,r){if(3!=e.nodeType){let t,n;(n=function(t,e){for(;t&&e==t.childNodes.length&&!Yt(t);)e=Bt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(3==r.nodeType)return r;if(1==r.nodeType&&"false"==r.contentEditable)break;t=r,e=0}}(e,r))?(e=n,r=0):(t=function(t,e){for(;t&&!e&&!Yt(t);)e=Bt(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(3==r.nodeType)return r;if(1==r.nodeType&&"false"==r.contentEditable)break;e=(t=r).childNodes.length}}(e,r))&&(e=t,r=t.nodeValue.length)}let n=t.domSelection();if(!n)return;if($t(n)){let t=document.createRange();t.setEnd(e,r),t.setStart(e,r),n.removeAllRanges(),n.addRange(t)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&cr(t)}),50)}function _r(t,e){let r=t.state.doc.resolve(e);if(!le&&!de&&r.parent.inlineContent){let n=t.coordsAtPos(e);if(e>r.start()){let r=t.coordsAtPos(e-1),i=(r.top+r.bottom)/2;if(i>n.top&&i<n.bottom&&Math.abs(r.left-n.left)>1)return r.left<n.left?"ltr":"rtl"}if(e<r.end()){let r=t.coordsAtPos(e+1),i=(r.top+r.bottom)/2;if(i>n.top&&i<n.bottom&&Math.abs(r.left-n.left)>1)return r.left>n.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function Cr(t,e,r){let n=t.state.selection;if(n instanceof A.U3&&!n.empty||r.indexOf("s")>-1)return!1;if(pe&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let r=xr(t.state,e);if(r&&r instanceof A.nh)return Or(t,r)}if(!i.parent.inlineContent){let r=e<0?i:o,s=n instanceof A.i5?A.LN.near(r,e):A.LN.findFrom(r,e);return!!s&&Or(t,s)}return!1}function wr(t,e){if(!(t.state.selection instanceof A.U3))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let n=t.state.tr;return e<0?n.delete(r.pos-o.nodeSize,r.pos):n.delete(r.pos,r.pos+o.nodeSize),t.dispatch(n),!0}return!1}function kr(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Rr(t,e){let r=e.keyCode,n=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);if(8==r||pe&&72==r&&"c"==n)return wr(t,-1)||Er(t,-1);if(46==r&&!e.shiftKey||pe&&68==r&&"c"==n)return wr(t,1)||Er(t,1);if(13==r||27==r)return!0;if(37==r||pe&&66==r&&"c"==n){let e=37==r?"ltr"==_r(t,t.state.selection.from)?-1:1:-1;return br(t,e,n)||Er(t,e)}if(39==r||pe&&70==r&&"c"==n){let e=39==r?"ltr"==_r(t,t.state.selection.from)?1:-1:1;return br(t,e,n)||Er(t,e)}return 38==r||pe&&80==r&&"c"==n?Cr(t,-1,n)||Er(t,-1):40==r||pe&&78==r&&"c"==n?function(t){if(!ue||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&1==e.nodeType&&0==r&&e.firstChild&&"false"==e.firstChild.contentEditable){let r=e.firstChild;kr(t,r,"true"),setTimeout((()=>kr(t,r,"false")),20)}return!1}(t)||Cr(t,1,n)||Er(t,1):n==(pe?"m":"c")&&(66==r||73==r||89==r||90==r)}function Pr(t,e){t.someProp("transformCopied",(r=>{e=r(e,t)}));let r=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&1==n.childCount&&1==n.firstChild.childCount;){i--,o--;let t=n.firstChild;r.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),n=t.content}let s=t.someProp("clipboardSerializer")||mt.fromSchema(t.state.schema),a=zr(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let c,u=l.firstChild,h=0;for(;u&&1==u.nodeType&&(c=Ur[u.nodeName.toLowerCase()]);){for(let t=c.length-1;t>=0;t--){let e=a.createElement(c[t]);for(;l.firstChild;)e.appendChild(l.firstChild);l.appendChild(e),h++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(r)}`),{dom:l,text:t.someProp("clipboardTextSerializer",(r=>r(e,t)))||e.content.textBetween(0,e.content.size,"\n\n"),slice:e}}function Ir(t,e,r,n,i){let o,s,a=i.parent.type.spec.code;if(!r&&!e)return null;let l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",(r=>{e=r(e,a||n,t)})),a)return e?new P(N.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):P.empty;let r=t.someProp("clipboardTextParser",(r=>r(e,i,n,t)));if(r)s=r;else{let r=i.marks(),{schema:n}=t.state,s=mt.fromSchema(n);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=o.appendChild(document.createElement("p"));t&&e.appendChild(s.serializeNode(n.text(t,r)))}))}}else t.someProp("transformPastedHTML",(e=>{r=e(r,t)})),o=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r,n=zr().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(r=i&&Ur[i[1].toLowerCase()])&&(t=r.map((t=>"<"+t+">")).join("")+t+r.map((t=>"</"+t+">")).reverse().join(""));if(n.innerHTML=function(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:t=>t}).createHTML(t):t}(t),r)for(let t=0;t<r.length;t++)n=n.querySelector(r[t])||n;return n}(r),ge&&function(t){let e=t.querySelectorAll(le?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];1==n.childNodes.length&&""==n.textContent&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let t=+u[3];t>0;t--){let t=o.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;o=t}if(!s){let e=t.someProp("clipboardParser")||t.someProp("domParser")||at.fromSchema(t.state.schema);s=e.parseSlice(o,{preserveWhitespace:!(!l&&!u),context:i,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Lr.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(t,e){if(!t.size)return t;let r,n=t.content.firstChild.type.schema;try{r=JSON.parse(e)}catch(e){return t}let{content:i,openStart:o,openEnd:s}=t;for(let t=r.length-2;t>=0;t-=2){let e=n.nodes[r[t]];if(!e||e.hasRequiredAttrs())break;i=N.from(e.create(r[t+1],i)),o++,s++}return new P(i,o,s)}(Fr(s,+u[1],+u[2]),u[4]);else if(s=P.maxOpen(function(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let n,i=e.node(r).contentMatchAt(e.index(r)),o=[];if(t.forEach((t=>{if(!o)return;let e,r=i.findWrapping(t.type);if(!r)return o=null;if(e=o.length&&n.length&&Dr(r,n,t,o[o.length-1],0))o[o.length-1]=e;else{o.length&&(o[o.length-1]=Mr(o[o.length-1],n.length));let e=jr(t,r);o.push(e),i=i.matchType(e.type),n=r}})),o)return N.from(o)}return t}(s.content,i),!0),s.openStart||s.openEnd){let t=0,e=0;for(let e=s.content.firstChild;t<s.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=s.content.lastChild;e<s.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);s=Fr(s,t,e)}return t.someProp("transformPasted",(e=>{s=e(s,t)})),s}const Lr=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jr(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,N.from(t));return t}function Dr(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Dr(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(N.from(jr(r,t,i+1))))}}function Mr(t,e){if(0==e)return t;let r=t.content.replaceChild(t.childCount-1,Mr(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(N.empty,!0);return t.copy(r.append(n))}function qr(t,e,r,n,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<n-1&&(a=qr(a,e,r,n,i+1,o)),i>=r&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(N.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Fr(t,e,r){return e<t.openStart&&(t=new P(qr(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new P(qr(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const Ur={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Br=null;function zr(){return Br||(Br=document.implementation.createHTMLDocument("title"))}const Vr={},Hr={},Jr={touchstart:!0,touchmove:!0};class Gr{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Wr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Kr(t){t.someProp("handleDOMEvents",(e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=e=>Yr(t,e))}))}function Yr(t,e){return t.someProp("handleDOMEvents",(r=>{let n=r[e.type];return!!n&&(n(t,e)||e.defaultPrevented)}))}function $r(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Qr(t){return{left:t.clientX,top:t.clientY}}function Xr(t,e,r,n,i){if(-1==n)return!1;let o=t.state.doc.resolve(n);for(let n=o.depth+1;n>0;n--)if(t.someProp(e,(e=>n>o.depth?e(t,r,o.nodeAfter,o.before(n),i,!0):e(t,r,o.node(n),o.before(n),i,!1))))return!0;return!1}function Zr(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);"pointer"==r&&n.setMeta("pointer",!0),t.dispatch(n)}function tn(t,e,r,n,i){return Xr(t,"handleClickOn",e,r,n)||t.someProp("handleClick",(r=>r(t,e,n)))||(i?function(t,e){if(-1==e)return!1;let r,n,i=t.state.selection;i instanceof A.nh&&(r=i.node);let o=t.state.doc.resolve(e);for(let t=o.depth+1;t>0;t--){let e=t>o.depth?o.nodeAfter:o.node(t);if(A.nh.isSelectable(e)){n=r&&i.$from.depth>0&&t>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(t);break}}return null!=n&&(Zr(t,A.nh.create(t.state.doc,n),"pointer"),!0)}(t,r):function(t,e){if(-1==e)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return!!(n&&n.isAtom&&A.nh.isSelectable(n))&&(Zr(t,new A.nh(r),"pointer"),!0)}(t,r))}function en(t,e,r,n){return Xr(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",(r=>r(t,e,n)))}function rn(t,e,r,n){return Xr(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",(r=>r(t,e,n)))||function(t,e,r){if(0!=r.button)return!1;let n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Zr(t,A.U3.create(n,0,n.content.size),"pointer"),!0);let i=n.resolve(e);for(let e=i.depth+1;e>0;e--){let r=e>i.depth?i.nodeAfter:i.node(e),o=i.before(e);if(r.inlineContent)Zr(t,A.U3.create(n,o+1,o+1+r.content.size),"pointer");else{if(!A.nh.isSelectable(r))continue;Zr(t,A.nh.create(n,o),"pointer")}return!0}}(t,r,n)}function nn(t){return pn(t)}Hr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=16==r.keyCode||r.shiftKey,!an(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!fe||!le||13!=r.keyCode))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():229!=r.keyCode&&t.domObserver.forceFlush(),!he||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)t.someProp("handleKeyDown",(e=>e(t,r)))||Rr(t,r)?r.preventDefault():Wr(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,Qt(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},Hr.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},Hr.keypress=(t,e)=>{let r=e;if(an(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||pe&&r.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,r))))return void r.preventDefault();let n=t.state.selection;if(!(n instanceof A.U3&&n.$from.sameParent(n.$to))){let e=String.fromCharCode(r.charCode);/[\r\n]/.test(e)||t.someProp("handleTextInput",(r=>r(t,n.$from.pos,n.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),r.preventDefault()}};const on=pe?"metaKey":"ctrlKey";Vr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=nn(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}(r,t.input.lastClick)&&!r[on]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let s=t.posAtCoords(Qr(r));s&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new sn(t,s,r,!!n)):("doubleClick"==o?en:rn)(t,s.pos,s.inside,r)?r.preventDefault():Wr(t,"pointer"))};class sn{constructor(t,e,r,n){let i,o;if(this.view=t,this.pos=e,this.event=r,this.flushed=n,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[on],this.allowDefault=r.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{let r=t.state.doc.resolve(e.pos);i=r.parent,o=r.depth?r.before():0}const s=n?null:r.target,a=s?t.docView.nearestDesc(s,!0):null;this.target=a&&1==a.dom.nodeType?a.dom:null;let{selection:l}=t.state;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof A.nh&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!se||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>cr(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Qr(t))),this.updateAllowDefault(t),this.allowDefault||!e?Wr(this.view,"pointer"):tn(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||ue&&this.mightDrag&&!this.mightDrag.node.isAtom||le&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Zr(this.view,A.LN.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Wr(this.view,"pointer")}move(t){this.updateAllowDefault(t),Wr(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function an(t,e){return!!t.composing||!!(ue&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}Vr.touchstart=t=>{t.input.lastTouch=Date.now(),nn(t),Wr(t,"pointer")},Vr.touchmove=t=>{t.input.lastTouch=Date.now(),Wr(t,"pointer")},Vr.contextmenu=t=>nn(t);const ln=fe?5e3:-1;function cn(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>pn(t)),e))}function un(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function hn(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=function(t,e){for(;;){if(3==t.nodeType&&e)return t;if(1==t.nodeType&&e>0){if("false"==t.contentEditable)return null;e=Kt(t=t.childNodes[e-1])}else{if(!t.parentNode||Yt(t))return null;e=Bt(t),t=t.parentNode}}}(e.focusNode,e.focusOffset),n=function(t,e){for(;;){if(3==t.nodeType&&e<t.nodeValue.length)return t;if(1==t.nodeType&&e<t.childNodes.length){if("false"==t.contentEditable)return null;t=t.childNodes[e],e=0}else{if(!t.parentNode||Yt(t))return null;e=Bt(t)+1,t=t.parentNode}}}(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let e=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!e||!e.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let t=r.pmViewDesc;if(t&&t.isText(r.nodeValue))return n}}return r||n}function pn(t,e=!1){if(!(fe&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),un(t),e||t.docView&&t.docView.dirty){let r=ar(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):!t.markCursor&&!e||t.state.selection.empty?t.updateState(t.state):t.dispatch(t.state.tr.deleteSelection()),!0}return!1}}Hr.compositionstart=Hr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof A.U3&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||r.marks(),pn(t,!0),t.markCursor=null;else if(pn(t,!e.selection.empty),se&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let e=t.domSelectionRange();for(let r=e.focusNode,n=e.focusOffset;r&&1==r.nodeType&&0!=n;){let e=n<0?r.lastChild:r.childNodes[n-1];if(!e)break;if(3==e.nodeType){let r=t.domSelection();r&&r.collapse(e,e.nodeValue.length);break}r=e,n=-1}}t.input.composing=!0}cn(t,ln)},Hr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then((()=>t.domObserver.flush())),t.input.compositionID++,cn(t,20))};const dn=ie&&oe<15||he&&ye<604;function fn(t,e,r,n,i){let o=Ir(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,i,o||P.empty))))return!0;if(!o)return!1;let s=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),a=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gn(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Vr.copy=Hr.cut=(t,e)=>{let r=e,n=t.state.selection,i="cut"==r.type;if(n.empty)return;let o=dn?null:r.clipboardData,s=n.content(),{dom:a,text:l}=Pr(t,s);o?(r.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout((()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()}),50)}(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Hr.paste=(t,e)=>{let r=e;if(t.composing&&!fe)return;let n=dn?null:r.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;n&&fn(t,gn(n),n.getData("text/html"),i,r)?r.preventDefault():function(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout((()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?fn(t,n.value,null,i,e):fn(t,n.textContent,n.innerHTML,i,e)}),50)}(t,r)};class yn{constructor(t,e,r){this.slice=t,this.move=e,this.node=r}}const mn=pe?"altKey":"ctrlKey";Vr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i,o=t.state.selection,s=o.empty?null:t.posAtCoords(Qr(r));if(s&&s.pos>=o.from&&s.pos<=(o instanceof A.nh?o.to-1:o.to));else if(n&&n.mightDrag)i=A.nh.create(t.state.doc,n.mightDrag.pos);else if(r.target&&1==r.target.nodeType){let e=t.docView.nearestDesc(r.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&(i=A.nh.create(t.state.doc,e.posBefore))}let a=(i||t.state.selection).content(),{dom:l,text:c,slice:u}=Pr(t,a);(!r.dataTransfer.files.length||!le||ce>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(dn?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",dn||r.dataTransfer.setData("text/plain",c),t.dragging=new yn(u,!r[mn],i)},Vr.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},Hr.dragover=Hr.dragenter=(t,e)=>e.preventDefault(),Hr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Qr(r));if(!i)return;let o=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",(e=>{s=e(s,t)})):s=Ir(t,gn(r.dataTransfer),dn?null:r.dataTransfer.getData("text/html"),!1,o);let a=!(!n||r[mn]);if(t.someProp("handleDrop",(e=>e(t,r,s||P.empty,a))))return void r.preventDefault();if(!s)return;r.preventDefault();let l=s?function(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let t=0;t<r.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==r.openStart&&r.size?2:1);t++)for(let e=n.depth;e>=0;e--){let r=e==n.depth?0:n.pos<=(n.start(e+1)+n.end(e+1))/2?-1:1,o=n.index(e)+(r>0?1:0),s=n.node(e),a=!1;if(1==t)a=s.canReplace(o,o,i);else{let t=s.contentMatchAt(o).findWrapping(i.firstChild.type);a=t&&s.canReplaceWith(o,o,t[0])}if(a)return 0==r?n.pos:r<0?n.before(e+1):n.after(e+1)}return null}(t.state.doc,o.pos,s):o.pos;null==l&&(l=o.pos);let c=t.state.tr;if(a){let{node:t}=n;t?t.replace(c):c.deleteSelection()}let u=c.mapping.map(l),h=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(h?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let d=c.doc.resolve(u);if(h&&A.nh.isSelectable(s.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new A.nh(d));else{let e=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((t,r,n,i)=>e=i)),c.setSelection(yr(t,d,c.doc.resolve(e)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))},Vr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&cr(t)}),20))},Vr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Vr.beforeinput=(t,e)=>{if(le&&fe&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,Qt(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}),50)}};for(let t in Hr)Vr[t]=Hr[t];function vn(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class xn{constructor(t,e){this.toDOM=t,this.spec=e||En,this.side=this.spec.side||0}map(t,e,r,n){let{pos:i,deleted:o}=t.mapResult(e.from+n,this.side<0?-1:1);return o?null:new Sn(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof xn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&vn(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class On{constructor(t,e){this.attrs=t,this.spec=e||En}map(t,e,r,n){let i=t.map(e.from+n,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+n,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Sn(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof On&&vn(this.attrs,t.attrs)&&vn(this.spec,t.spec)}static is(t){return t.type instanceof On}destroy(){}}class bn{constructor(t,e){this.attrs=t,this.spec=e||En}map(t,e,r,n){let i=t.mapResult(e.from+n,1);if(i.deleted)return null;let o=t.mapResult(e.to+n,-1);return o.deleted||o.pos<=i.pos?null:new Sn(i.pos-r,o.pos-r,this)}valid(t,e){let r,{index:n,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(r=t.child(n)).isText&&i+r.nodeSize==e.to}eq(t){return this==t||t instanceof bn&&vn(this.attrs,t.attrs)&&vn(this.spec,t.spec)}destroy(){}}class Sn{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new Sn(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new Sn(t,t,new xn(e,r))}static inline(t,e,r,n){return new Sn(t,e,new On(r,n))}static node(t,e,r,n){return new Sn(t,e,new bn(r,n))}get spec(){return this.type.spec}get inline(){return this.type instanceof On}get widget(){return this.type instanceof xn}}const An=[],En={};class Tn{constructor(t,e){this.local=t.length?t:An,this.children=e.length?e:An}static create(t,e){return e.length?Rn(e,t,0,En):Nn}find(t,e,r){let n=[];return this.findInner(null==t?0:t,null==e?1e9:e,n,0,r),n}findInner(t,e,r,n,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&r.push(s.copy(s.from+n,s.to+n))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,e-s,r,n+s,i)}}map(t,e,r){return this==Nn||0==t.maps.length?this:this.mapInner(t,e,0,0,r||En)}mapInner(t,e,r,n,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(t,r,n);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,r,n,i,o,s){let a=t.slice();for(let t=0,e=o;t<r.maps.length;t++){let n=0;r.maps[t].forEach(((t,r,i,o)=>{let s=o-i-(r-t);for(let i=0;i<a.length;i+=3){let o=a[i+1];if(o<0||t>o+e-n)continue;let l=a[i]+e-n;r>=l?a[i+1]=t<=l?-2:-1:t>=e&&s&&(a[i]+=s,a[i+1]+=s)}n+=s})),e=r.maps[t].map(e,-1)}let l=!1;for(let e=0;e<a.length;e+=3)if(a[e+1]<0){if(-2==a[e+1]){l=!0,a[e+1]=-1;continue}let c=r.map(t[e]+o),u=c-i;if(u<0||u>=n.content.size){l=!0;continue}let h=r.map(t[e+1]+o,-1)-i,{index:p,offset:d}=n.content.findIndex(u),f=n.maybeChild(p);if(f&&d==u&&d+f.nodeSize==h){let n=a[e+2].mapInner(r,f,c+1,t[e]+o+1,s);n!=Nn?(a[e]=u,a[e+1]=h,a[e+2]=n):(a[e+1]=-2,l=!0)}else l=!0}if(l){let l=function(t,e,r,n,i,o,s){function a(t,e){for(let o=0;o<t.local.length;o++){let a=t.local[o].map(n,i,e);a?r.push(a):s.onRemove&&s.onRemove(t.local[o].spec)}for(let r=0;r<t.children.length;r+=3)a(t.children[r+2],t.children[r]+e+1)}for(let r=0;r<t.length;r+=3)-1==t[r+1]&&a(t[r+2],e[r]+o+1);return r}(a,t,e,r,i,o,s),c=Rn(l,n,0,s);e=c.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<c.children.length;t+=3){let r=c.children[t];for(;e<a.length&&a[e]<r;)e+=3;a.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new Tn(e.sort(Pn),a)}(this.children,o||[],t,e,r,n,i):o?new Tn(o.sort(Pn),An):Nn}add(t,e){return e.length?this==Nn?Tn.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let n,i=0;t.forEach(((t,o)=>{let s,a=o+r;if(s=wn(e,t,a)){for(n||(n=this.children.slice());i<n.length&&n[i]<o;)i+=3;n[i]==o?n[i+2]=n[i+2].addInner(t,s,a+1):n.splice(i,0,o,o+t.nodeSize,Rn(s,t,a+1,En)),i+=3}}));let o=Cn(i?kn(e):e,-r);for(let e=0;e<o.length;e++)o[e].type.valid(t,o[e])||o.splice(e--,1);return new Tn(o.length?this.local.concat(o).sort(Pn):this.local,n||this.children)}remove(t){return 0==t.length||this==Nn?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,n=this.local;for(let n=0;n<r.length;n+=3){let i,o=r[n]+e,s=r[n+1]+e;for(let e,r=0;r<t.length;r++)(e=t[r])&&e.from>o&&e.to<s&&(t[r]=null,(i||(i=[])).push(e));if(!i)continue;r==this.children&&(r=this.children.slice());let a=r[n+2].removeInner(i,o+1);a!=Nn?r[n+2]=a:(r.splice(n,3),n-=3)}if(n.length)for(let r,i=0;i<t.length;i++)if(r=t[i])for(let t=0;t<n.length;t++)n[t].eq(r,e)&&(n==this.local&&(n=this.local.slice()),n.splice(t--,1));return r==this.children&&n==this.local?this:n.length||r.length?new Tn(n,r):Nn}forChild(t,e){if(this==Nn)return this;if(e.isLeaf)return Tn.empty;let r,n;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(r=this.children[e+2]);break}let i=t+1,o=i+e.content.size;for(let t=0;t<this.local.length;t++){let e=this.local[t];if(e.from<o&&e.to>i&&e.type instanceof On){let t=Math.max(i,e.from)-i,r=Math.min(o,e.to)-i;t<r&&(n||(n=[])).push(e.copy(t,r))}}if(n){let t=new Tn(n.sort(Pn),An);return r?new _n([t,r]):t}return r||Nn}eq(t){if(this==t)return!0;if(!(t instanceof Tn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return In(this.localsInner(t))}localsInner(t){if(this==Nn)return An;if(t.inlineContent||!this.local.some(On.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof On||e.push(this.local[t]);return e}forEachSet(t){t(this)}}Tn.empty=new Tn([],[]),Tn.removeOverlap=In;const Nn=Tn.empty;class _n{constructor(t){this.members=t}map(t,e){const r=this.members.map((r=>r.map(t,e,En)));return _n.from(r)}forChild(t,e){if(e.isLeaf)return Tn.empty;let r=[];for(let n=0;n<this.members.length;n++){let i=this.members[n].forChild(t,e);i!=Nn&&(i instanceof _n?r=r.concat(i.members):r.push(i))}return _n.from(r)}eq(t){if(!(t instanceof _n)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let n=0;n<this.members.length;n++){let i=this.members[n].localsInner(t);if(i.length)if(e){r&&(e=e.slice(),r=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?In(r?e:e.sort(Pn)):An}static from(t){switch(t.length){case 0:return Nn;case 1:return t[0];default:return new _n(t.every((t=>t instanceof Tn))?t:t.reduce(((t,e)=>t.concat(e instanceof Tn?e:e.members)),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function Cn(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new Sn(i.from+e,i.to+e,i.type))}return r}function wn(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let e,o=0;o<t.length;o++)(e=t[o])&&e.from>r&&e.to<n&&((i||(i=[])).push(e),t[o]=null);return i}function kn(t){let e=[];for(let r=0;r<t.length;r++)null!=t[r]&&e.push(t[r]);return e}function Rn(t,e,r,n){let i=[],o=!1;e.forEach(((e,s)=>{let a=wn(t,e,s+r);if(a){o=!0;let t=Rn(a,e,r+s+1,n);t!=Nn&&i.push(s,s+e.nodeSize,t)}}));let s=Cn(o?kn(t):t,-r).sort(Pn);for(let t=0;t<s.length;t++)s[t].type.valid(e,s[t])||(n.onRemove&&n.onRemove(s[t].spec),s.splice(t--,1));return s.length||i.length?new Tn(s,i):Nn}function Pn(t,e){return t.from-e.from||t.to-e.to}function In(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let o=e[i];if(o.from!=n.from){o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),Ln(e,i,n.copy(o.from,n.to)));break}o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),Ln(e,i+1,o.copy(n.to,o.to)))}}return e}function Ln(t,e,r){for(;e<t.length&&Pn(r,t[e])>0;)e++;t.splice(e,0,r)}function jn(t){let e=[];return t.someProp("decorations",(r=>{let n=r(t.state);n&&n!=Nn&&e.push(n)})),t.cursorWrapper&&e.push(Tn.create(t.state.doc,[t.cursorWrapper.deco])),_n.from(e)}const Dn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Mn=ie&&oe<=11;class qn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Fn{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new qn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);ie&&oe<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Mn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Dn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(mr(this.view)){if(this.suppressingSelectionUpdates)return cr(this.view);if(ie&&oe<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Jt(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,r=new Set;for(let e=t.focusNode;e;e=zt(e))r.add(e);for(let n=t.anchorNode;n;n=zt(n))if(r.has(n)){e=n;break}let n=e&&this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}selectionChanged(t){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&mr(this.view)&&!this.ignoreSelectionChange(t)}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let r=t.domSelectionRange(),n=this.selectionChanged(r),i=-1,o=-1,s=!1,a=[];if(t.editable)for(let t=0;t<e.length;t++){let r=this.registerMutation(e[t],a);r&&(i=i<0?r.from:Math.min(r.from,i),o=o<0?r.to:Math.max(r.to,o),r.typeOver&&(s=!0))}if(se&&a.length){let e=a.filter((t=>"BR"==t.nodeName));if(2==e.length){let[t,r]=e;t.parentNode&&t.parentNode.parentNode==r.parentNode?r.remove():t.remove()}else{let{focusNode:r}=this.currentSelection;for(let n of e){let e=n.parentNode;!e||"LI"!=e.nodeName||r&&Vn(t,r)==e||n.remove()}}}let l=null;i<0&&n&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&$t(r)&&(l=ar(t))&&l.eq(A.LN.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,cr(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||n)&&(i>-1&&(t.docView.markDirty(i,o),function(t){if(Un.has(t))return;if(Un.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)){if(t.requiresGeckoHackNode=se,Bn)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Bn=!0}}(t)),this.handleDOMChange(i,o,s,a),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||cr(t),this.currentSelection.set(r))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(let r=0;r<t.addedNodes.length;r++){let n=t.addedNodes[r];e.push(n),3==n.nodeType&&(this.lastChangedTextNode=n)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let n=t.previousSibling,i=t.nextSibling;if(ie&&oe<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:r,nextSibling:o}=t.addedNodes[e];(!r||Array.prototype.indexOf.call(t.addedNodes,r)<0)&&(n=r),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=n&&n.parentNode==t.target?Bt(n)+1:0,s=r.localPosFromDOM(t.target,o,-1),a=i&&i.parentNode==t.target?Bt(i):t.target.childNodes.length;return{from:s,to:r.localPosFromDOM(t.target,a,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Un=new WeakMap,Bn=!1;function zn(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Jt(s.node,s.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function Vn(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let e=t.docView.nearestDesc(r,!0);if(e&&e.node.isBlock)return r}return null}function Hn(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(ue&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||ue&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Jn=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Gn(t,e,r,n,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,r=ar(t,e);if(r&&!t.state.selection.eq(r)){if(le&&fe&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",(e=>e(t,Qt(13,"Enter")))))return;let n=t.state.tr.setSelection(r);"pointer"==e?n.setMeta("pointer",!0):"key"==e&&n.scrollIntoView(),o&&n.setMeta("composition",o),t.dispatch(n)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(r);e=s.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l,c,u=t.state.selection,h=function(t,e,r){let n,{node:i,fromOffset:o,toOffset:s,from:a,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),u=c.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(n=[{node:u,offset:c.anchorOffset}],$t(c)||n.push({node:c.focusNode,offset:c.focusOffset})),le&&8===t.input.lastKeyCode)for(let t=s;t>o;t--){let e=i.childNodes[t-1],r=e.pmViewDesc;if("BR"==e.nodeName&&!r){s=t;break}if(!r||r.size)break}let h=t.state.doc,p=t.someProp("domParser")||at.fromSchema(t.state.schema),d=h.resolve(a),f=null,g=p.parse(i,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=d.parent.type.whitespace||"full",findPositions:n,ruleFromNode:Hn,context:d});if(n&&null!=n[0].pos){let t=n[0].pos,e=n[1]&&n[1].pos;null==e&&(e=t),f={anchor:t+a,head:e+a}}return{doc:g,sel:f,from:a,to:l}}(t,e,r),p=t.state.doc,d=p.slice(h.from,h.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(l=t.state.selection.to,c="end"):(l=t.state.selection.from,c="start"),t.input.lastKeyCode=null;let f=function(t,e,r,n,i){let o=t.findDiffStart(e,r);if(null==o)return null;let{a:s,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if("end"==i){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&t.size<e.size){let t=n<=o&&n>=s?o-n:0;o-=t,o&&o<e.size&&Yn(e.textBetween(o-1,o+1))&&(o+=t?1:-1),a=o+(a-s),s=o}else if(a<o){let e=n<=o&&n>=a?o-n:0;o-=e,o&&o<t.size&&Yn(t.textBetween(o-1,o+1))&&(o+=e?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(d.content,h.doc.content,h.from,l,c);if(f&&t.input.domChangeCount++,(he&&t.input.lastIOSEnter>Date.now()-225||fe)&&i.some((t=>1==t.nodeType&&!Jn.test(t.nodeName)))&&(!f||f.endA>=f.endB)&&t.someProp("handleKeyDown",(e=>e(t,Qt(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!f){if(!(n&&u instanceof A.U3&&!u.empty&&u.$head.sameParent(u.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let e=Wn(t,t.state.doc,h.sel);if(e&&!e.eq(t.state.selection)){let r=t.state.tr.setSelection(e);o&&r.setMeta("composition",o),t.dispatch(r)}}return}f={start:u.from,endA:u.to,endB:u.to}}t.state.selection.from<t.state.selection.to&&f.start==f.endB&&t.state.selection instanceof A.U3&&(f.start>t.state.selection.from&&f.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?f.start=t.state.selection.from:f.endA<t.state.selection.to&&f.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(f.endB+=t.state.selection.to-f.endA,f.endA=t.state.selection.to)),ie&&oe<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>h.from&&" "==h.doc.textBetween(f.start-h.from-1,f.start-h.from+1)&&(f.start--,f.endA--,f.endB--);let g,y=h.doc.resolveNoCache(f.start-h.from),m=h.doc.resolveNoCache(f.endB-h.from),v=p.resolve(f.start),x=y.sameParent(m)&&y.parent.inlineContent&&v.end()>=f.endA;if((he&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!x&&y.pos<h.doc.content.size&&!y.sameParent(m)&&(g=A.LN.findFrom(h.doc.resolve(y.pos+1),1,!0))&&g.head==m.pos)&&t.someProp("handleKeyDown",(e=>e(t,Qt(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>f.start&&function(t,e,r,n,i){if(r-e<=i.pos-n.pos||Kn(n,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!n.parent.isTextblock){let t=o.nodeAfter;return null!=t&&r==e+t.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Kn(o,!0,!0));return!(!s.parent.isTextblock||s.pos>r||Kn(s,!0,!1)<r)&&n.parent.content.cut(n.parentOffset).eq(s.parent.content)}(p,f.start,f.endA,y,m)&&t.someProp("handleKeyDown",(e=>e(t,Qt(8,"Backspace")))))return void(fe&&le&&t.domObserver.suppressSelectionUpdates());le&&fe&&f.endB==f.start&&(t.input.lastAndroidDelete=Date.now()),fe&&!x&&y.start()!=m.start()&&0==m.parentOffset&&y.depth==m.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==f.endA&&(f.endB-=2,m=h.doc.resolveNoCache(f.endB-h.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,Qt(13,"Enter"))}))}),20));let O,b,S,E=f.start,T=f.endA;if(x)if(y.pos==m.pos)ie&&oe<=11&&0==y.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>cr(t)),20)),O=t.state.tr.delete(E,T),b=p.resolve(f.start).marksAcross(p.resolve(f.endA));else if(f.endA==f.endB&&(S=function(t,e){let r,n,i,o=t.firstChild.marks,s=e.firstChild.marks,a=o,l=s;for(let t=0;t<s.length;t++)a=s[t].removeFromSet(a);for(let t=0;t<o.length;t++)l=o[t].removeFromSet(l);if(1==a.length&&0==l.length)n=a[0],r="add",i=t=>t.mark(n.addToSet(t.marks));else{if(0!=a.length||1!=l.length)return null;n=l[0],r="remove",i=t=>t.mark(n.removeFromSet(t.marks))}let c=[];for(let t=0;t<e.childCount;t++)c.push(i(e.child(t)));if(N.from(c).eq(t))return{mark:n,type:r}}(y.parent.content.cut(y.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start()))))O=t.state.tr,"add"==S.type?O.addMark(E,T,S.mark):O.removeMark(E,T,S.mark);else if(y.parent.child(y.index()).isText&&y.index()==m.index()-(m.textOffset?0:1)){let e=y.parent.textBetween(y.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",(r=>r(t,E,T,e))))return;O=t.state.tr.insertText(e,E,T)}if(O||(O=t.state.tr.replace(E,T,h.doc.slice(f.start-h.from,f.endB-h.from))),h.sel){let e=Wn(t,O.doc,h.sel);e&&!(le&&fe&&t.composing&&e.empty&&(f.start!=f.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==E||e.head==O.mapping.map(T)-1)||ie&&e.empty&&e.head==E)&&O.setSelection(e)}b&&O.ensureMarks(b),o&&O.setMeta("composition",o),t.dispatch(O.scrollIntoView())}function Wn(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:yr(t,e.resolve(r.anchor),e.resolve(r.head))}function Kn(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let e=t.node(n).maybeChild(t.indexAfter(n));for(;e&&!e.isLeaf;)e=e.firstChild,i++}return i}function Yn(t){if(2!=t.length)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class $n{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Gr,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(ei),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Zn(this),Xn(this),this.nodeViews=ti(this),this.docView=Je(this.state.doc,Qn(this),jn(this),this.dom,this),this.domObserver=new Fn(this,((t,e,r,n)=>Gn(this,t,e,r,n))),this.domObserver.start(),function(t){for(let e in Vr){let r=Vr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!$r(t,e)||Yr(t,e)||!t.editable&&e.type in Hr||r(t,e)},Jr[e]?{passive:!0}:void 0)}ue&&t.dom.addEventListener("input",(()=>null)),Kr(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Kr(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(ei),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var r;let n=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(un(this),o=!0),this.state=t;let s=n.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=ti(this);(function(t,e){let r=0,n=0;for(let n in t){if(t[n]!=e[n])return!0;r++}for(let t in e)n++;return r!=n})(t,this.nodeViews)&&(this.nodeViews=t,i=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&Kr(this),this.editable=Zn(this),Xn(this);let a=jn(this),l=Qn(this),c=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",u=i||!this.docView.matchesNode(t.doc,l,a);!u&&t.selection.eq(n.selection)||(o=!0);let h="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){let e,r,n=t.dom.getBoundingClientRect(),i=Math.max(0,n.top);for(let o=(n.left+n.right)/2,s=i+1;s<Math.min(innerHeight,n.bottom);s+=5){let n=t.root.elementFromPoint(o,s);if(!n||n==t.dom||!t.dom.contains(n))continue;let a=n.getBoundingClientRect();if(a.top>=i-20){e=n,r=a.top;break}}return{refDOM:e,refTop:r,stack:be(t.dom)}}(this);if(o){this.domObserver.stop();let e=u&&(ie||le)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&function(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}(n.selection,t.selection);if(u){let r=le?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=hn(this)),!i&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=Je(t.doc,l,a,this.dom,this)),r&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Jt(e.node,e.offset,r.anchorNode,r.anchorOffset)}(this))?cr(this,e):(fr(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),(null===(r=this.dragging)||void 0===r?void 0:r.node)&&!n.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,n),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():h&&function({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;Se(r,0==n?0:n-e)}(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof A.nh){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&Oe(this,e.getBoundingClientRect(),t)}else Oe(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}updateDraggedNode(t,e){let r=t.node,n=-1;if(this.state.doc.nodeAt(r.from)==r.node)n=r.from;else{let t=r.from+(this.state.doc.content.size-e.doc.content.size);(t>0&&this.state.doc.nodeAt(t))==r.node&&(n=t)}this.dragging=new yn(t.slice,t.move,n<0?void 0:A.nh.create(this.state.doc,n))}someProp(t,e){let r,n=this._props&&this._props[t];if(null!=n&&(r=e?e(n):n))return r;for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n].props[t];if(null!=i&&(r=e?e(i):i))return r}let i=this.state.plugins;if(i)for(let n=0;n<i.length;n++){let o=i[n].props[t];if(null!=o&&(r=e?e(o):o))return r}}hasFocus(){if(ie){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Ae)return t.focus(Ae);let e=be(t);t.focus(null==Ae?{get preventScroll(){return Ae={preventScroll:!0},!0}}:void 0),Ae||(Ae=!1,Se(e,0))}(this.dom),cr(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return t||document}updateRoot(){this._root=null}posAtCoords(t){return _e(this,t)}coordsAtPos(t,e=1){return Re(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let n=this.docView.posFromDOM(t,e,r);if(null==n)throw new RangeError("DOM position not inside the editor");return n}endOfTextblock(t,e){return Fe(this,e||this.state,t)}pasteHTML(t,e){return fn(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return fn(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Vt=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){Yr(t,e)||!Vr[e.type]||!t.editable&&e.type in Hr||Vr[e.type](t,e)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?ue&&11===this.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return zn(t,r)}let r;function n(t){t.preventDefault(),t.stopImmediatePropagation(),r=t.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?zn(t,r):null}(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Qn(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(r=>{if("function"==typeof r&&(r=r(t.state)),r)for(let t in r)"class"==t?e.class+=" "+r[t]:"style"==t?e.style=(e.style?e.style+";":"")+r[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(r[t]))})),e.translate||(e.translate="no"),[Sn.node(0,t.state.doc.content.size,e)]}function Xn(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Zn(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function ti(t){let e=Object.create(null);function r(t){for(let r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function ei(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ri,ni="in",ii="not in",oi="is not",si="was in",ai="was not in",li="was not",ci="changed",ui=["=","!="],hi=["~","!~"],pi=["<",">","<=",">="],di=[ni,ii],fi=["is",oi],gi=["was",li],yi=[si,ai],mi=[ci],vi=[].concat(ui,hi,pi,di,fi,gi,yi,mi),xi=[ni,ii,si,ai],Oi=function(t){return xi.includes(t)},bi=r(92901),Si=r(23029),Ai=function t(e,r){e.enterEveryNode&&e.enterEveryNode(r),r.enterNode(e),r.getChildren().forEach((function(r){return t(e,r)})),r.exitNode(e),e.exitEveryNode&&e.exitEveryNode(r)},Ei="[team]",Ti=/^.+\[(\D+)]$/i,Ni="assignee",_i="created",Ci="duedate",wi="issuetype",ki="lastviewed",Ri="priority",Pi="project",Ii="reporter",Li="resolutiondate",ji="status",Di="summary",Mi="type",qi="updated",Fi="resolution",Ui=[Ni,_i,Ci,"issuekey",wi,ki,Ri,Pi,Ii,"resolved",Li,ji,"statuscategory",Di,"text","textfields",Mi,qi,"affectedversion","approvals","category","component","description","development","environment","epic link","filter","fixversion","labels","parent",Fi,"sprint","assignee.property","creator.property","issue.property","project.property","reporter.property","voter.property","watcher.property"],Bi=(0,bi.A)((function t(e){var r,n=this;(0,Si.A)(this,t),(0,u.A)(this,"attributes",{jqlFieldValueCount:{issueType:0,project:0,assignee:0,reporter:0,priority:0,status:0,resolution:0,team:0},jqlFieldIsUsed:{summary:!1,due:!1,resolutionDate:!1,created:!1,lastviewed:!1,updated:!1,team:!1},jqlUsedFields:[],jqlUsedFieldsCount:0,jqlUsedFieldsOrderBy:[],jqlLineCount:0,jqlErrorCount:0,jqlClauseCount:{orderBy:0,leaf:0,and:0,not:0,or:0},jqlMaxCompoundClauseDepth:0}),(0,u.A)(this,"usedFields",new Set),(0,u.A)(this,"usedFieldsOrderBy",new Set),(0,u.A)(this,"fieldValueCount",0),(0,u.A)(this,"compoundClauseDepth",0),(0,u.A)(this,"getFieldName",(function(t){return function(t){var e=Ti.exec(t.toLowerCase());if(e)return"[".concat(e[1],"]")}(t.value)||t.value.toLowerCase()})),(0,u.A)(this,"incrementFieldValueCount",(function(){n.fieldValueCount+=1})),(0,u.A)(this,"exitQuery",(function(){var t=new Set;n.usedFields.forEach((function(e){return t.add(Ui.includes(e)?e:"other")})),n.attributes.jqlUsedFields=Array.from(t).sort(),n.attributes.jqlUsedFieldsCount=n.usedFields.size,n.attributes.jqlUsedFieldsOrderBy=Array.from(n.usedFieldsOrderBy)})),(0,u.A)(this,"enterCompoundClause",(function(t){"and"===t.operator.value?n.attributes.jqlClauseCount.and+=1:"or"===t.operator.value&&(n.attributes.jqlClauseCount.or+=1),n.compoundClauseDepth+=1,n.compoundClauseDepth>n.attributes.jqlMaxCompoundClauseDepth&&(n.attributes.jqlMaxCompoundClauseDepth=n.compoundClauseDepth)})),(0,u.A)(this,"exitCompoundClause",(function(){n.compoundClauseDepth-=1})),(0,u.A)(this,"enterTerminalClause",(function(t){var e=n.getFieldName(t.field);switch(e){case Di:n.attributes.jqlFieldIsUsed.summary=!0;break;case Ci:n.attributes.jqlFieldIsUsed.due=!0;break;case Li:n.attributes.jqlFieldIsUsed.resolutionDate=!0;break;case _i:n.attributes.jqlFieldIsUsed.created=!0;break;case ki:n.attributes.jqlFieldIsUsed.lastviewed=!0;break;case qi:n.attributes.jqlFieldIsUsed.updated=!0;break;case Ei:n.attributes.jqlFieldIsUsed.team=!0}n.attributes.jqlClauseCount.leaf+=1,n.usedFields.add(e),n.fieldValueCount=0})),(0,u.A)(this,"exitTerminalClause",(function(t){switch(n.getFieldName(t.field)){case wi:case Mi:n.attributes.jqlFieldValueCount.issueType+=n.fieldValueCount;break;case Pi:n.attributes.jqlFieldValueCount.project+=n.fieldValueCount;break;case Ni:n.attributes.jqlFieldValueCount.assignee+=n.fieldValueCount;break;case Ii:n.attributes.jqlFieldValueCount.reporter+=n.fieldValueCount;break;case Ri:n.attributes.jqlFieldValueCount.priority+=n.fieldValueCount;break;case ji:n.attributes.jqlFieldValueCount.status+=n.fieldValueCount;break;case Fi:n.attributes.jqlFieldValueCount.resolution+=n.fieldValueCount;break;case Ei:n.attributes.jqlFieldValueCount.team+=n.fieldValueCount}})),(0,u.A)(this,"enterNotClause",(function(){n.attributes.jqlClauseCount.not+=1})),(0,u.A)(this,"enterFunctionOperand",this.incrementFieldValueCount),(0,u.A)(this,"enterKeywordOperand",this.incrementFieldValueCount),(0,u.A)(this,"enterValueOperand",this.incrementFieldValueCount),(0,u.A)(this,"enterOrderByField",(function(t){n.usedFieldsOrderBy.add(n.getFieldName(t.field)),n.attributes.jqlClauseCount.orderBy+=1})),this.attributes.jqlLineCount=(r=e.represents,r.split(/(?:\r\n?|\n)/)).length,this.attributes.jqlErrorCount=e.errors.length})),zi=function(t){var e=new Bi(t);return function(t,e){e.query&&Ai(t,e.query)}(e,t),e.attributes},Vi=r(85501),Hi=r(56822),Ji=r(53954),Gi=r(12221),Wi=r(90991),Ki=r(9417),Yi=r(60493),$i=r(40755),Qi=r(35922),Xi=r(41097),Zi=r(13161),to=r(79449),eo=r(47760),ro=r(67435),no=r(40659);function io(t){var e=oo();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function oo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oo=function(){return!!t})()}var so=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t))._interp=new Zi.ParserATNSimulator(r._ATN,(0,Ki.A)(n)),n}return(0,bi.A)(r,[{key:"vocabulary",get:function(){return r.VOCABULARY}},{key:"grammarFileName",get:function(){return"JQLParser.g4"}},{key:"ruleNames",get:function(){return r.ruleNames}},{key:"serializedATN",get:function(){return r._serializedATN}},{key:"jqlQuery",value:function(){var t,e=new lo(this._ctx,this.state);this.enterRule(e,0,r.RULE_jqlQuery);try{this.enterOuterAlt(e,1),this.state=83,this._errHandler.sync(this),(!(-32&(t=this._input.LA(1)))&&1<<t&(1<<r.LPAREN|1<<r.BANG|1<<r.NOT)||!(t-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.CUSTOMFIELD-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33))&&(this.state=82,this.jqlWhere()),this.state=86,this._errHandler.sync(this),(t=this._input.LA(1))===r.ORDER&&(this.state=85,this.jqlOrderBy()),this.state=88,this.match(r.EOF)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlWhere",value:function(){var t=new co(this._ctx,this.state);this.enterRule(t,2,r.RULE_jqlWhere);try{this.enterOuterAlt(t,1),this.state=90,this.jqlOrClause()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlOrClause",value:function(){var t,e=new uo(this._ctx,this.state);this.enterRule(e,4,r.RULE_jqlOrClause);try{for(this.enterOuterAlt(e,1),this.state=92,this.jqlAndClause(),this.state=97,this._errHandler.sync(this),t=this._input.LA(1);t===r.OR;)this.state=93,this.match(r.OR),this.state=94,this.jqlAndClause(),this.state=99,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlAndClause",value:function(){var t,e=new ho(this._ctx,this.state);this.enterRule(e,6,r.RULE_jqlAndClause);try{for(this.enterOuterAlt(e,1),this.state=100,this.jqlNotClause(),this.state=105,this._errHandler.sync(this),t=this._input.LA(1);t===r.AND;)this.state=101,this.match(r.AND),this.state=102,this.jqlNotClause(),this.state=107,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlNotClause",value:function(){var t,e=new po(this._ctx,this.state);this.enterRule(e,8,r.RULE_jqlNotClause);try{switch(this.state=112,this._errHandler.sync(this),this._input.LA(1)){case r.BANG:case r.NOT:this.enterOuterAlt(e,1),this.state=108,(t=this._input.LA(1))!==r.BANG&&t!==r.NOT?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=109,this.jqlNotClause();break;case r.LPAREN:this.enterOuterAlt(e,2),this.state=110,this.jqlSubClause();break;case r.POSNUMBER:case r.NEGNUMBER:case r.CUSTOMFIELD:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(e,3),this.state=111,this.jqlTerminalClause();break;default:throw new $i.NoViableAltException(this)}}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlSubClause",value:function(){var t=new fo(this._ctx,this.state);this.enterRule(t,10,r.RULE_jqlSubClause);try{this.enterOuterAlt(t,1),this.state=114,this.match(r.LPAREN),this.state=115,this.jqlOrClause(),this.state=116,this.match(r.RPAREN)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlTerminalClause",value:function(){var t=new go(this._ctx,this.state);this.enterRule(t,12,r.RULE_jqlTerminalClause);try{this.enterOuterAlt(t,1),this.state=118,this.jqlField(),this.state=119,this.jqlTerminalClauseRhs()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlTerminalClauseRhs",value:function(){var t,e=new yo(this._ctx,this.state);this.enterRule(e,14,r.RULE_jqlTerminalClauseRhs);try{switch(this.state=176,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,14,this._ctx)){case 1:switch(e=new mo(e),this.enterOuterAlt(e,1),this.state=121,this.jqlEqualsOperator(),this.state=125,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,5,this._ctx)){case 1:this.state=122,this.jqlEmpty();break;case 2:this.state=123,this.jqlValue();break;case 3:this.state=124,this.jqlFunction()}break;case 2:switch(e=new vo(e),this.enterOuterAlt(e,2),this.state=127,this.jqlLikeOperator(),this.state=131,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,6,this._ctx)){case 1:this.state=128,this.jqlEmpty();break;case 2:this.state=129,this.jqlValue();break;case 3:this.state=130,this.jqlFunction()}break;case 3:switch(e=new xo(e),this.enterOuterAlt(e,3),this.state=133,this.jqlComparisonOperator(),this.state=136,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,7,this._ctx)){case 1:this.state=134,this.jqlValue();break;case 2:this.state=135,this.jqlFunction()}break;case 4:switch(e=new Oo(e),this.enterOuterAlt(e,4),this.state=138,this.jqlInOperator(),this.state=141,this._errHandler.sync(this),this._input.LA(1)){case r.LPAREN:this.state=139,this.jqlList();break;case r.POSNUMBER:case r.NEGNUMBER:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=140,this.jqlFunction();break;default:throw new $i.NoViableAltException(this)}break;case 5:e=new bo(e),this.enterOuterAlt(e,5),this.state=143,this.jqlIsOperator(),this.state=144,this.jqlEmpty();break;case 6:switch(e=new So(e),this.enterOuterAlt(e,6),this.state=146,this.jqlWasOperator(),this.state=150,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,9,this._ctx)){case 1:this.state=147,this.jqlEmpty();break;case 2:this.state=148,this.jqlValue();break;case 3:this.state=149,this.jqlFunction()}for(this.state=155,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=152,this.jqlWasPredicate(),this.state=157,this._errHandler.sync(this),t=this._input.LA(1);break;case 7:switch(e=new Ao(e),this.enterOuterAlt(e,7),this.state=158,this.jqlWasInOperator(),this.state=161,this._errHandler.sync(this),this._input.LA(1)){case r.LPAREN:this.state=159,this.jqlList();break;case r.POSNUMBER:case r.NEGNUMBER:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=160,this.jqlFunction();break;default:throw new $i.NoViableAltException(this)}for(this.state=166,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=163,this.jqlWasPredicate(),this.state=168,this._errHandler.sync(this),t=this._input.LA(1);break;case 8:for(e=new Eo(e),this.enterOuterAlt(e,8),this.state=169,this.jqlChangedOperator(),this.state=173,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.FROM|1<<r.TO|1<<r.ON|1<<r.DURING|1<<r.BY);)this.state=170,this.jqlChangedPredicate(),this.state=175,this._errHandler.sync(this),t=this._input.LA(1)}}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlEqualsOperator",value:function(){var t,e=new To(this._ctx,this.state);this.enterRule(e,16,r.RULE_jqlEqualsOperator);try{this.enterOuterAlt(e,1),this.state=178,(t=this._input.LA(1))!==r.EQUALS&&t!==r.NOT_EQUALS?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlLikeOperator",value:function(){var t,e=new No(this._ctx,this.state);this.enterRule(e,18,r.RULE_jqlLikeOperator);try{this.enterOuterAlt(e,1),this.state=180,(t=this._input.LA(1))!==r.LIKE&&t!==r.NOT_LIKE?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlComparisonOperator",value:function(){var t,e=new _o(this._ctx,this.state);this.enterRule(e,20,r.RULE_jqlComparisonOperator);try{this.enterOuterAlt(e,1),this.state=182,-32&(t=this._input.LA(1))||!(1<<t&(1<<r.LT|1<<r.GT|1<<r.GTEQ|1<<r.LTEQ))?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlInOperator",value:function(){var t=new Co(this._ctx,this.state);this.enterRule(t,22,r.RULE_jqlInOperator);try{switch(this.state=187,this._errHandler.sync(this),this._input.LA(1)){case r.IN:this.enterOuterAlt(t,1),this.state=184,this.match(r.IN);break;case r.NOT:this.enterOuterAlt(t,2),this.state=185,this.match(r.NOT),this.state=186,this.match(r.IN);break;default:throw new $i.NoViableAltException(this)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlIsOperator",value:function(){var t=new wo(this._ctx,this.state);this.enterRule(t,24,r.RULE_jqlIsOperator);try{switch(this.state=192,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,16,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=189,this.match(r.IS);break;case 2:this.enterOuterAlt(t,2),this.state=190,this.match(r.IS),this.state=191,this.match(r.NOT)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasOperator",value:function(){var t=new ko(this._ctx,this.state);this.enterRule(t,26,r.RULE_jqlWasOperator);try{switch(this.state=197,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,17,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=194,this.match(r.WAS);break;case 2:this.enterOuterAlt(t,2),this.state=195,this.match(r.WAS),this.state=196,this.match(r.NOT)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasInOperator",value:function(){var t=new Ro(this._ctx,this.state);this.enterRule(t,28,r.RULE_jqlWasInOperator);try{switch(this.state=204,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,18,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=199,this.match(r.WAS),this.state=200,this.match(r.IN);break;case 2:this.enterOuterAlt(t,2),this.state=201,this.match(r.WAS),this.state=202,this.match(r.NOT),this.state=203,this.match(r.IN)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlChangedOperator",value:function(){var t=new Po(this._ctx,this.state);this.enterRule(t,30,r.RULE_jqlChangedOperator);try{this.enterOuterAlt(t,1),this.state=206,this.match(r.CHANGED)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlField",value:function(){var t,e=new Io(this._ctx,this.state);this.enterRule(e,32,r.RULE_jqlField);try{switch(this.state=219,this._errHandler.sync(this),this._input.LA(1)){case r.POSNUMBER:case r.NEGNUMBER:e=new Lo(e),this.enterOuterAlt(e,1),this.state=208,this.jqlNumber();break;case r.CUSTOMFIELD:case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:switch(e=new jo(e),this.enterOuterAlt(e,2),this.state=211,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.state=209,this.jqlString();break;case r.CUSTOMFIELD:this.state=210,this.jqlCustomField();break;default:throw new $i.NoViableAltException(this)}for(this.state=216,this._errHandler.sync(this),t=this._input.LA(1);t===r.LBRACKET;)this.state=213,this.jqlFieldProperty(),this.state=218,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new $i.NoViableAltException(this)}}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlFieldProperty",value:function(){var t,e=new Do(this._ctx,this.state);this.enterRule(e,34,r.RULE_jqlFieldProperty);try{for(this.enterOuterAlt(e,1),this.state=221,this.match(r.LBRACKET),this.state=222,this.jqlArgument(),this.state=223,this.match(r.RBRACKET),this.state=228,this._errHandler.sync(this),t=this._input.LA(1);!(t-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33);)this.state=225,this.jqlPropertyArgument(),this.state=230,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlCustomField",value:function(){var t=new Mo(this._ctx,this.state);this.enterRule(t,36,r.RULE_jqlCustomField);try{this.enterOuterAlt(t,1),this.state=231,this.match(r.CUSTOMFIELD),this.state=232,this.match(r.LBRACKET),this.state=233,this.match(r.POSNUMBER),this.state=234,this.match(r.RBRACKET)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlString",value:function(){var t,e=new qo(this._ctx,this.state);this.enterRule(e,38,r.RULE_jqlString);try{this.enterOuterAlt(e,1),this.state=236,(t=this._input.LA(1))-37&-32||!(1<<t-37&(1<<r.STRING-37|1<<r.QUOTE_STRING-37|1<<r.SQUOTE_STRING-37))?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlNumber",value:function(){var t,e=new Fo(this._ctx,this.state);this.enterRule(e,40,r.RULE_jqlNumber);try{this.enterOuterAlt(e,1),this.state=238,e._jqlNum=this._input.LT(1),(t=this._input.LA(1))!==r.POSNUMBER&&t!==r.NEGNUMBER?e._jqlNum=this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlOperand",value:function(){var t=new Uo(this._ctx,this.state);this.enterRule(t,42,r.RULE_jqlOperand);try{switch(this.state=244,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,23,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=240,this.jqlEmpty();break;case 2:this.enterOuterAlt(t,2),this.state=241,this.jqlValue();break;case 3:this.enterOuterAlt(t,3),this.state=242,this.jqlFunction();break;case 4:this.enterOuterAlt(t,4),this.state=243,this.jqlList()}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlEmpty",value:function(){var t=new Bo(this._ctx,this.state);this.enterRule(t,44,r.RULE_jqlEmpty);try{this.enterOuterAlt(t,1),this.state=246,this.match(r.EMPTY)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlValue",value:function(){var t=new zo(this._ctx,this.state);this.enterRule(t,46,r.RULE_jqlValue);try{switch(this.state=250,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=248,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=249,this.jqlNumber();break;default:throw new $i.NoViableAltException(this)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlFunction",value:function(){var t,e=new Vo(this._ctx,this.state);this.enterRule(e,48,r.RULE_jqlFunction);try{this.enterOuterAlt(e,1),this.state=252,this.jqlFunctionName(),this.state=253,this.match(r.LPAREN),this.state=255,this._errHandler.sync(this),!((t=this._input.LA(1))-33&-32)&&1<<t-33&(1<<r.POSNUMBER-33|1<<r.NEGNUMBER-33|1<<r.STRING-33|1<<r.QUOTE_STRING-33|1<<r.SQUOTE_STRING-33)&&(this.state=254,this.jqlArgumentList()),this.state=257,this.match(r.RPAREN)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlFunctionName",value:function(){var t=new Ho(this._ctx,this.state);this.enterRule(t,50,r.RULE_jqlFunctionName);try{switch(this.state=261,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=259,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=260,this.jqlNumber();break;default:throw new $i.NoViableAltException(this)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlArgumentList",value:function(){var t,e=new Jo(this._ctx,this.state);this.enterRule(e,52,r.RULE_jqlArgumentList);try{for(this.enterOuterAlt(e,1),this.state=263,this.jqlArgument(),this.state=268,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=264,this.match(r.COMMA),this.state=265,this.jqlArgument(),this.state=270,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlList",value:function(){var t,e=new Go(this._ctx,this.state);this.enterRule(e,54,r.RULE_jqlList);try{for(this.enterOuterAlt(e,1),this.state=271,this.jqlListStart(),this.state=272,this.jqlOperand(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=273,this.match(r.COMMA),this.state=274,this.jqlOperand(),this.state=279,this._errHandler.sync(this),t=this._input.LA(1);this.state=280,this.jqlListEnd()}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlListStart",value:function(){var t=new Wo(this._ctx,this.state);this.enterRule(t,56,r.RULE_jqlListStart);try{this.enterOuterAlt(t,1),this.state=282,this.match(r.LPAREN)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlListEnd",value:function(){var t=new Ko(this._ctx,this.state);this.enterRule(t,58,r.RULE_jqlListEnd);try{this.enterOuterAlt(t,1),this.state=284,this.match(r.RPAREN)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlPropertyArgument",value:function(){var t=new Yo(this._ctx,this.state);this.enterRule(t,60,r.RULE_jqlPropertyArgument);try{this.enterOuterAlt(t,1),this.state=286,this.jqlArgument()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlArgument",value:function(){var t=new $o(this._ctx,this.state);this.enterRule(t,62,r.RULE_jqlArgument);try{switch(this.state=290,this._errHandler.sync(this),this._input.LA(1)){case r.STRING:case r.QUOTE_STRING:case r.SQUOTE_STRING:this.enterOuterAlt(t,1),this.state=288,this.jqlString();break;case r.POSNUMBER:case r.NEGNUMBER:this.enterOuterAlt(t,2),this.state=289,this.jqlNumber();break;default:throw new $i.NoViableAltException(this)}}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlWasPredicate",value:function(){var t=new Qo(this._ctx,this.state);this.enterRule(t,64,r.RULE_jqlWasPredicate);try{switch(this.enterOuterAlt(t,1),this.state=295,this._errHandler.sync(this),this._input.LA(1)){case r.BEFORE:case r.AFTER:case r.ON:this.state=292,this.jqlDatePredicateOperator();break;case r.DURING:this.state=293,this.jqlDateRangePredicateOperator();break;case r.BY:this.state=294,this.jqlUserPredicateOperator();break;default:throw new $i.NoViableAltException(this)}this.state=297,this.jqlPredicateOperand()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlChangedPredicate",value:function(){var t=new Xo(this._ctx,this.state);this.enterRule(t,66,r.RULE_jqlChangedPredicate);try{switch(this.enterOuterAlt(t,1),this.state=303,this._errHandler.sync(this),this._input.LA(1)){case r.BEFORE:case r.AFTER:case r.ON:this.state=299,this.jqlDatePredicateOperator();break;case r.DURING:this.state=300,this.jqlDateRangePredicateOperator();break;case r.BY:this.state=301,this.jqlUserPredicateOperator();break;case r.FROM:case r.TO:this.state=302,this.jqlValuePredicateOperator();break;default:throw new $i.NoViableAltException(this)}this.state=305,this.jqlPredicateOperand()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlDatePredicateOperator",value:function(){var t,e=new Zo(this._ctx,this.state);this.enterRule(e,68,r.RULE_jqlDatePredicateOperator);try{this.enterOuterAlt(e,1),this.state=307,-32&(t=this._input.LA(1))||!(1<<t&(1<<r.BEFORE|1<<r.AFTER|1<<r.ON))?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlDateRangePredicateOperator",value:function(){var t=new ts(this._ctx,this.state);this.enterRule(t,70,r.RULE_jqlDateRangePredicateOperator);try{this.enterOuterAlt(t,1),this.state=309,this.match(r.DURING)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlUserPredicateOperator",value:function(){var t=new es(this._ctx,this.state);this.enterRule(t,72,r.RULE_jqlUserPredicateOperator);try{this.enterOuterAlt(t,1),this.state=311,this.match(r.BY)}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlValuePredicateOperator",value:function(){var t,e=new rs(this._ctx,this.state);this.enterRule(e,74,r.RULE_jqlValuePredicateOperator);try{this.enterOuterAlt(e,1),this.state=313,(t=this._input.LA(1))!==r.FROM&&t!==r.TO?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlPredicateOperand",value:function(){var t=new ns(this._ctx,this.state);this.enterRule(t,76,r.RULE_jqlPredicateOperand);try{this.enterOuterAlt(t,1),this.state=315,this.jqlOperand()}catch(e){if(!(e instanceof to.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}},{key:"jqlOrderBy",value:function(){var t,e=new is(this._ctx,this.state);this.enterRule(e,78,r.RULE_jqlOrderBy);try{for(this.enterOuterAlt(e,1),this.state=317,this.match(r.ORDER),this.state=318,this.match(r.BY),this.state=319,this.jqlSearchSort(),this.state=324,this._errHandler.sync(this),t=this._input.LA(1);t===r.COMMA;)this.state=320,this.match(r.COMMA),this.state=321,this.jqlSearchSort(),this.state=326,this._errHandler.sync(this),t=this._input.LA(1)}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}},{key:"jqlSearchSort",value:function(){var t,e=new ss(this._ctx,this.state);this.enterRule(e,80,r.RULE_jqlSearchSort);try{this.enterOuterAlt(e,1),this.state=327,this.jqlField(),this.state=329,this._errHandler.sync(this),(t=this._input.LA(1))!==r.ASC&&t!==r.DESC||(this.state=328,(t=this._input.LA(1))!==r.ASC&&t!==r.DESC?this._errHandler.recoverInline(this):(this._input.LA(1)===eo.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()))}catch(t){if(!(t instanceof to.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}}],[{key:"_ATN",get:function(){return r.__ATN||(r.__ATN=(new Yi.ATNDeserializer).deserialize(no.toCharArray(r._serializedATN))),r.__ATN}}]),r}(Qi.Parser);ri=so,(0,u.A)(so,"LPAREN",1),(0,u.A)(so,"RPAREN",2),(0,u.A)(so,"COMMA",3),(0,u.A)(so,"LBRACKET",4),(0,u.A)(so,"RBRACKET",5),(0,u.A)(so,"BANG",6),(0,u.A)(so,"LT",7),(0,u.A)(so,"GT",8),(0,u.A)(so,"GTEQ",9),(0,u.A)(so,"LTEQ",10),(0,u.A)(so,"EQUALS",11),(0,u.A)(so,"NOT_EQUALS",12),(0,u.A)(so,"LIKE",13),(0,u.A)(so,"NOT_LIKE",14),(0,u.A)(so,"IN",15),(0,u.A)(so,"IS",16),(0,u.A)(so,"AND",17),(0,u.A)(so,"OR",18),(0,u.A)(so,"NOT",19),(0,u.A)(so,"EMPTY",20),(0,u.A)(so,"WAS",21),(0,u.A)(so,"CHANGED",22),(0,u.A)(so,"BEFORE",23),(0,u.A)(so,"AFTER",24),(0,u.A)(so,"FROM",25),(0,u.A)(so,"TO",26),(0,u.A)(so,"ON",27),(0,u.A)(so,"DURING",28),(0,u.A)(so,"ORDER",29),(0,u.A)(so,"BY",30),(0,u.A)(so,"ASC",31),(0,u.A)(so,"DESC",32),(0,u.A)(so,"POSNUMBER",33),(0,u.A)(so,"NEGNUMBER",34),(0,u.A)(so,"CUSTOMFIELD",35),(0,u.A)(so,"RESERVED_WORD",36),(0,u.A)(so,"STRING",37),(0,u.A)(so,"MATCHWS",38),(0,u.A)(so,"ERROR_RESERVED",39),(0,u.A)(so,"ERRORCHAR",40),(0,u.A)(so,"QUOTE_STRING",41),(0,u.A)(so,"UNCLOSED_QUOTE_STRING",42),(0,u.A)(so,"INVALID_QUOTE_STRING",43),(0,u.A)(so,"SQUOTE_STRING",44),(0,u.A)(so,"UNCLOSED_SQUOTE_STRING",45),(0,u.A)(so,"INVALID_SQUOTE_STRING",46),(0,u.A)(so,"RULE_jqlQuery",0),(0,u.A)(so,"RULE_jqlWhere",1),(0,u.A)(so,"RULE_jqlOrClause",2),(0,u.A)(so,"RULE_jqlAndClause",3),(0,u.A)(so,"RULE_jqlNotClause",4),(0,u.A)(so,"RULE_jqlSubClause",5),(0,u.A)(so,"RULE_jqlTerminalClause",6),(0,u.A)(so,"RULE_jqlTerminalClauseRhs",7),(0,u.A)(so,"RULE_jqlEqualsOperator",8),(0,u.A)(so,"RULE_jqlLikeOperator",9),(0,u.A)(so,"RULE_jqlComparisonOperator",10),(0,u.A)(so,"RULE_jqlInOperator",11),(0,u.A)(so,"RULE_jqlIsOperator",12),(0,u.A)(so,"RULE_jqlWasOperator",13),(0,u.A)(so,"RULE_jqlWasInOperator",14),(0,u.A)(so,"RULE_jqlChangedOperator",15),(0,u.A)(so,"RULE_jqlField",16),(0,u.A)(so,"RULE_jqlFieldProperty",17),(0,u.A)(so,"RULE_jqlCustomField",18),(0,u.A)(so,"RULE_jqlString",19),(0,u.A)(so,"RULE_jqlNumber",20),(0,u.A)(so,"RULE_jqlOperand",21),(0,u.A)(so,"RULE_jqlEmpty",22),(0,u.A)(so,"RULE_jqlValue",23),(0,u.A)(so,"RULE_jqlFunction",24),(0,u.A)(so,"RULE_jqlFunctionName",25),(0,u.A)(so,"RULE_jqlArgumentList",26),(0,u.A)(so,"RULE_jqlList",27),(0,u.A)(so,"RULE_jqlListStart",28),(0,u.A)(so,"RULE_jqlListEnd",29),(0,u.A)(so,"RULE_jqlPropertyArgument",30),(0,u.A)(so,"RULE_jqlArgument",31),(0,u.A)(so,"RULE_jqlWasPredicate",32),(0,u.A)(so,"RULE_jqlChangedPredicate",33),(0,u.A)(so,"RULE_jqlDatePredicateOperator",34),(0,u.A)(so,"RULE_jqlDateRangePredicateOperator",35),(0,u.A)(so,"RULE_jqlUserPredicateOperator",36),(0,u.A)(so,"RULE_jqlValuePredicateOperator",37),(0,u.A)(so,"RULE_jqlPredicateOperand",38),(0,u.A)(so,"RULE_jqlOrderBy",39),(0,u.A)(so,"RULE_jqlSearchSort",40),(0,u.A)(so,"ruleNames",["jqlQuery","jqlWhere","jqlOrClause","jqlAndClause","jqlNotClause","jqlSubClause","jqlTerminalClause","jqlTerminalClauseRhs","jqlEqualsOperator","jqlLikeOperator","jqlComparisonOperator","jqlInOperator","jqlIsOperator","jqlWasOperator","jqlWasInOperator","jqlChangedOperator","jqlField","jqlFieldProperty","jqlCustomField","jqlString","jqlNumber","jqlOperand","jqlEmpty","jqlValue","jqlFunction","jqlFunctionName","jqlArgumentList","jqlList","jqlListStart","jqlListEnd","jqlPropertyArgument","jqlArgument","jqlWasPredicate","jqlChangedPredicate","jqlDatePredicateOperator","jqlDateRangePredicateOperator","jqlUserPredicateOperator","jqlValuePredicateOperator","jqlPredicateOperand","jqlOrderBy","jqlSearchSort"]),(0,u.A)(so,"_LITERAL_NAMES",[void 0,"'('","')'","','","'['","']'","'!'","'<'","'>'","'>='","'<='","'='","'!='","'~'","'!~'"]),(0,u.A)(so,"_SYMBOLIC_NAMES",[void 0,"LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING"]),(0,u.A)(so,"VOCABULARY",new ro.VocabularyImpl(ri._LITERAL_NAMES,ri._SYMBOLIC_NAMES,[])),(0,u.A)(so,"_serializedATN",'0\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t !\t!"\t"#\t#$\t$%\t%&\t&\'\t\'(\t()\t)*\t*V\nY\nb\n\fe\vj\n\fm\vs\n\b\b\b\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\n\t\f\t\t\v\t\t\t\t\t\n\t\t\t\n\t\f\t\t\v\t\t\t\t\n\t\f\t\t\v\t\t\n\t\n\n\v\v\f\f\r\r\r\r\n\r\n\n\n\n\n\f\v\n\n\f\v\n\n\n\n\n\f\v\n\f\v  !!!\n!""""\n"""#####\n###$$%%&&\'\'(())))))\n)\f))\v)***\n**+\b\n\f "$&(*,.02468:<>@BDFHJLNPR\v\b\b\r\t\f\'\'++..#$!"U\\^\bf\nr\ftx "$&(*,.02468:<>@BDFHJLNPRTVUTUVVXWYP)XWXYYZZ[[\\]]^c\b_``b\ba_becacddecfk\nghhj\nigjmkikll\tmkno\tos\nps\fqs\brnrprqs\vtuuvvww\rxy"yz\tz{\n|.}0~2|}~\v.02\f02\r82..02B"82B" D#{\t\t\t!*(&$#@!> %%#\'\t)\t+.028-/(*1463(*5@!@!7:,,<9;=@!?(*AF$H%J&N(CF$H%J&L\'N(E\t\bGI K\t\tM,O R*R*Q"\t\nS$UXckr');var ao,lo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"EOF",value:function(){return this.getToken(so.EOF,0)}},{key:"jqlWhere",value:function(){return this.tryGetRuleContext(0,co)}},{key:"jqlOrderBy",value:function(){return this.tryGetRuleContext(0,is)}},{key:"ruleIndex",get:function(){return so.RULE_jqlQuery}},{key:"enterRule",value:function(t){t.enterJqlQuery&&t.enterJqlQuery(this)}},{key:"exitRule",value:function(t){t.exitJqlQuery&&t.exitJqlQuery(this)}},{key:"accept",value:function(t){return t.visitJqlQuery?t.visitJqlQuery(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),co=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlOrClause",value:function(){return this.getRuleContext(0,uo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlWhere}},{key:"enterRule",value:function(t){t.enterJqlWhere&&t.enterJqlWhere(this)}},{key:"exitRule",value:function(t){t.exitJqlWhere&&t.exitJqlWhere(this)}},{key:"accept",value:function(t){return t.visitJqlWhere?t.visitJqlWhere(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),uo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlAndClause",value:function(t){return void 0===t?this.getRuleContexts(ho):this.getRuleContext(t,ho)}},{key:"OR",value:function(t){return void 0===t?this.getTokens(so.OR):this.getToken(so.OR,t)}},{key:"ruleIndex",get:function(){return so.RULE_jqlOrClause}},{key:"enterRule",value:function(t){t.enterJqlOrClause&&t.enterJqlOrClause(this)}},{key:"exitRule",value:function(t){t.exitJqlOrClause&&t.exitJqlOrClause(this)}},{key:"accept",value:function(t){return t.visitJqlOrClause?t.visitJqlOrClause(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),ho=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlNotClause",value:function(t){return void 0===t?this.getRuleContexts(po):this.getRuleContext(t,po)}},{key:"AND",value:function(t){return void 0===t?this.getTokens(so.AND):this.getToken(so.AND,t)}},{key:"ruleIndex",get:function(){return so.RULE_jqlAndClause}},{key:"enterRule",value:function(t){t.enterJqlAndClause&&t.enterJqlAndClause(this)}},{key:"exitRule",value:function(t){t.exitJqlAndClause&&t.exitJqlAndClause(this)}},{key:"accept",value:function(t){return t.visitJqlAndClause?t.visitJqlAndClause(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),po=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlNotClause",value:function(){return this.tryGetRuleContext(0,r)}},{key:"NOT",value:function(){return this.tryGetToken(so.NOT,0)}},{key:"BANG",value:function(){return this.tryGetToken(so.BANG,0)}},{key:"jqlSubClause",value:function(){return this.tryGetRuleContext(0,fo)}},{key:"jqlTerminalClause",value:function(){return this.tryGetRuleContext(0,go)}},{key:"ruleIndex",get:function(){return so.RULE_jqlNotClause}},{key:"enterRule",value:function(t){t.enterJqlNotClause&&t.enterJqlNotClause(this)}},{key:"exitRule",value:function(t){t.exitJqlNotClause&&t.exitJqlNotClause(this)}},{key:"accept",value:function(t){return t.visitJqlNotClause?t.visitJqlNotClause(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),fo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"LPAREN",value:function(){return this.getToken(so.LPAREN,0)}},{key:"jqlOrClause",value:function(){return this.getRuleContext(0,uo)}},{key:"RPAREN",value:function(){return this.getToken(so.RPAREN,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlSubClause}},{key:"enterRule",value:function(t){t.enterJqlSubClause&&t.enterJqlSubClause(this)}},{key:"exitRule",value:function(t){t.exitJqlSubClause&&t.exitJqlSubClause(this)}},{key:"accept",value:function(t){return t.visitJqlSubClause?t.visitJqlSubClause(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),go=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlField",value:function(){return this.getRuleContext(0,Io)}},{key:"jqlTerminalClauseRhs",value:function(){return this.getRuleContext(0,yo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlTerminalClause}},{key:"enterRule",value:function(t){t.enterJqlTerminalClause&&t.enterJqlTerminalClause(this)}},{key:"exitRule",value:function(t){t.exitJqlTerminalClause&&t.exitJqlTerminalClause(this)}},{key:"accept",value:function(t){return t.visitJqlTerminalClause?t.visitJqlTerminalClause(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),yo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"ruleIndex",get:function(){return so.RULE_jqlTerminalClauseRhs}},{key:"copyFrom",value:function(t){(0,Wi.A)((0,Ji.A)(r.prototype),"copyFrom",this).call(this,t)}}]),r}(Xi.ParserRuleContext),mo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlEqualsOperator",value:function(){return this.getRuleContext(0,To)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Bo)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,zo)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"enterRule",value:function(t){t.enterJqlEqualsClause&&t.enterJqlEqualsClause(this)}},{key:"exitRule",value:function(t){t.exitJqlEqualsClause&&t.exitJqlEqualsClause(this)}},{key:"accept",value:function(t){return t.visitJqlEqualsClause?t.visitJqlEqualsClause(this):t.visitChildren(this)}}]),r}(yo),vo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlLikeOperator",value:function(){return this.getRuleContext(0,No)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Bo)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,zo)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"enterRule",value:function(t){t.enterJqlLikeClause&&t.enterJqlLikeClause(this)}},{key:"exitRule",value:function(t){t.exitJqlLikeClause&&t.exitJqlLikeClause(this)}},{key:"accept",value:function(t){return t.visitJqlLikeClause?t.visitJqlLikeClause(this):t.visitChildren(this)}}]),r}(yo),xo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlComparisonOperator",value:function(){return this.getRuleContext(0,_o)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,zo)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"enterRule",value:function(t){t.enterJqlComparisonClause&&t.enterJqlComparisonClause(this)}},{key:"exitRule",value:function(t){t.exitJqlComparisonClause&&t.exitJqlComparisonClause(this)}},{key:"accept",value:function(t){return t.visitJqlComparisonClause?t.visitJqlComparisonClause(this):t.visitChildren(this)}}]),r}(yo),Oo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlInOperator",value:function(){return this.getRuleContext(0,Co)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Go)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"enterRule",value:function(t){t.enterJqlInClause&&t.enterJqlInClause(this)}},{key:"exitRule",value:function(t){t.exitJqlInClause&&t.exitJqlInClause(this)}},{key:"accept",value:function(t){return t.visitJqlInClause?t.visitJqlInClause(this):t.visitChildren(this)}}]),r}(yo),bo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlIsOperator",value:function(){return this.getRuleContext(0,wo)}},{key:"jqlEmpty",value:function(){return this.getRuleContext(0,Bo)}},{key:"enterRule",value:function(t){t.enterJqlIsClause&&t.enterJqlIsClause(this)}},{key:"exitRule",value:function(t){t.exitJqlIsClause&&t.exitJqlIsClause(this)}},{key:"accept",value:function(t){return t.visitJqlIsClause?t.visitJqlIsClause(this):t.visitChildren(this)}}]),r}(yo),So=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlWasOperator",value:function(){return this.getRuleContext(0,ko)}},{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Bo)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,zo)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"jqlWasPredicate",value:function(t){return void 0===t?this.getRuleContexts(Qo):this.getRuleContext(t,Qo)}},{key:"enterRule",value:function(t){t.enterJqlWasClause&&t.enterJqlWasClause(this)}},{key:"exitRule",value:function(t){t.exitJqlWasClause&&t.exitJqlWasClause(this)}},{key:"accept",value:function(t){return t.visitJqlWasClause?t.visitJqlWasClause(this):t.visitChildren(this)}}]),r}(yo),Ao=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlWasInOperator",value:function(){return this.getRuleContext(0,Ro)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Go)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"jqlWasPredicate",value:function(t){return void 0===t?this.getRuleContexts(Qo):this.getRuleContext(t,Qo)}},{key:"enterRule",value:function(t){t.enterJqlWasInClause&&t.enterJqlWasInClause(this)}},{key:"exitRule",value:function(t){t.exitJqlWasInClause&&t.exitJqlWasInClause(this)}},{key:"accept",value:function(t){return t.visitJqlWasInClause?t.visitJqlWasInClause(this):t.visitChildren(this)}}]),r}(yo),Eo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlChangedOperator",value:function(){return this.getRuleContext(0,Po)}},{key:"jqlChangedPredicate",value:function(t){return void 0===t?this.getRuleContexts(Xo):this.getRuleContext(t,Xo)}},{key:"enterRule",value:function(t){t.enterJqlChangedClause&&t.enterJqlChangedClause(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedClause&&t.exitJqlChangedClause(this)}},{key:"accept",value:function(t){return t.visitJqlChangedClause?t.visitJqlChangedClause(this):t.visitChildren(this)}}]),r}(yo),To=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"EQUALS",value:function(){return this.tryGetToken(so.EQUALS,0)}},{key:"NOT_EQUALS",value:function(){return this.tryGetToken(so.NOT_EQUALS,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlEqualsOperator}},{key:"enterRule",value:function(t){t.enterJqlEqualsOperator&&t.enterJqlEqualsOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlEqualsOperator&&t.exitJqlEqualsOperator(this)}},{key:"accept",value:function(t){return t.visitJqlEqualsOperator?t.visitJqlEqualsOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),No=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"LIKE",value:function(){return this.tryGetToken(so.LIKE,0)}},{key:"NOT_LIKE",value:function(){return this.tryGetToken(so.NOT_LIKE,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlLikeOperator}},{key:"enterRule",value:function(t){t.enterJqlLikeOperator&&t.enterJqlLikeOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlLikeOperator&&t.exitJqlLikeOperator(this)}},{key:"accept",value:function(t){return t.visitJqlLikeOperator?t.visitJqlLikeOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),_o=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"LT",value:function(){return this.tryGetToken(so.LT,0)}},{key:"GT",value:function(){return this.tryGetToken(so.GT,0)}},{key:"LTEQ",value:function(){return this.tryGetToken(so.LTEQ,0)}},{key:"GTEQ",value:function(){return this.tryGetToken(so.GTEQ,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlComparisonOperator}},{key:"enterRule",value:function(t){t.enterJqlComparisonOperator&&t.enterJqlComparisonOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlComparisonOperator&&t.exitJqlComparisonOperator(this)}},{key:"accept",value:function(t){return t.visitJqlComparisonOperator?t.visitJqlComparisonOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Co=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"IN",value:function(){return this.getToken(so.IN,0)}},{key:"NOT",value:function(){return this.tryGetToken(so.NOT,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlInOperator}},{key:"enterRule",value:function(t){t.enterJqlInOperator&&t.enterJqlInOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlInOperator&&t.exitJqlInOperator(this)}},{key:"accept",value:function(t){return t.visitJqlInOperator?t.visitJqlInOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),wo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"IS",value:function(){return this.getToken(so.IS,0)}},{key:"NOT",value:function(){return this.tryGetToken(so.NOT,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlIsOperator}},{key:"enterRule",value:function(t){t.enterJqlIsOperator&&t.enterJqlIsOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlIsOperator&&t.exitJqlIsOperator(this)}},{key:"accept",value:function(t){return t.visitJqlIsOperator?t.visitJqlIsOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),ko=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"WAS",value:function(){return this.getToken(so.WAS,0)}},{key:"NOT",value:function(){return this.tryGetToken(so.NOT,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlWasOperator}},{key:"enterRule",value:function(t){t.enterJqlWasOperator&&t.enterJqlWasOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlWasOperator&&t.exitJqlWasOperator(this)}},{key:"accept",value:function(t){return t.visitJqlWasOperator?t.visitJqlWasOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Ro=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"WAS",value:function(){return this.getToken(so.WAS,0)}},{key:"IN",value:function(){return this.getToken(so.IN,0)}},{key:"NOT",value:function(){return this.tryGetToken(so.NOT,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlWasInOperator}},{key:"enterRule",value:function(t){t.enterJqlWasInOperator&&t.enterJqlWasInOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlWasInOperator&&t.exitJqlWasInOperator(this)}},{key:"accept",value:function(t){return t.visitJqlWasInOperator?t.visitJqlWasInOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Po=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"CHANGED",value:function(){return this.getToken(so.CHANGED,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlChangedOperator}},{key:"enterRule",value:function(t){t.enterJqlChangedOperator&&t.enterJqlChangedOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedOperator&&t.exitJqlChangedOperator(this)}},{key:"accept",value:function(t){return t.visitJqlChangedOperator?t.visitJqlChangedOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Io=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"ruleIndex",get:function(){return so.RULE_jqlField}},{key:"copyFrom",value:function(t){(0,Wi.A)((0,Ji.A)(r.prototype),"copyFrom",this).call(this,t)}}]),r}(Xi.ParserRuleContext),Lo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlNumber",value:function(){return this.getRuleContext(0,Fo)}},{key:"enterRule",value:function(t){t.enterJqlNumberField&&t.enterJqlNumberField(this)}},{key:"exitRule",value:function(t){t.exitJqlNumberField&&t.exitJqlNumberField(this)}},{key:"accept",value:function(t){return t.visitJqlNumberField?t.visitJqlNumberField(this):t.visitChildren(this)}}]),r}(Io),jo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t){var n;return(0,Si.A)(this,r),(n=e.call(this,t.parent,t.invokingState)).copyFrom(t),n}return(0,bi.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,qo)}},{key:"jqlCustomField",value:function(){return this.tryGetRuleContext(0,Mo)}},{key:"jqlFieldProperty",value:function(t){return void 0===t?this.getRuleContexts(Do):this.getRuleContext(t,Do)}},{key:"enterRule",value:function(t){t.enterJqlNonNumberField&&t.enterJqlNonNumberField(this)}},{key:"exitRule",value:function(t){t.exitJqlNonNumberField&&t.exitJqlNonNumberField(this)}},{key:"accept",value:function(t){return t.visitJqlNonNumberField?t.visitJqlNonNumberField(this):t.visitChildren(this)}}]),r}(Io),Do=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"LBRACKET",value:function(){return this.tryGetToken(so.LBRACKET,0)}},{key:"RBRACKET",value:function(){return this.tryGetToken(so.RBRACKET,0)}},{key:"jqlPropertyArgument",value:function(t){return void 0===t?this.getRuleContexts(Yo):this.getRuleContext(t,Yo)}},{key:"jqlArgument",value:function(){return this.tryGetRuleContext(0,$o)}},{key:"ruleIndex",get:function(){return so.RULE_jqlFieldProperty}},{key:"enterRule",value:function(t){t.enterJqlFieldProperty&&t.enterJqlFieldProperty(this)}},{key:"exitRule",value:function(t){t.exitJqlFieldProperty&&t.exitJqlFieldProperty(this)}},{key:"accept",value:function(t){return t.visitJqlFieldProperty?t.visitJqlFieldProperty(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Mo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"CUSTOMFIELD",value:function(){return this.getToken(so.CUSTOMFIELD,0)}},{key:"LBRACKET",value:function(){return this.getToken(so.LBRACKET,0)}},{key:"POSNUMBER",value:function(){return this.getToken(so.POSNUMBER,0)}},{key:"RBRACKET",value:function(){return this.getToken(so.RBRACKET,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlCustomField}},{key:"enterRule",value:function(t){t.enterJqlCustomField&&t.enterJqlCustomField(this)}},{key:"exitRule",value:function(t){t.exitJqlCustomField&&t.exitJqlCustomField(this)}},{key:"accept",value:function(t){return t.visitJqlCustomField?t.visitJqlCustomField(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),qo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"STRING",value:function(){return this.tryGetToken(so.STRING,0)}},{key:"QUOTE_STRING",value:function(){return this.tryGetToken(so.QUOTE_STRING,0)}},{key:"SQUOTE_STRING",value:function(){return this.tryGetToken(so.SQUOTE_STRING,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlString}},{key:"enterRule",value:function(t){t.enterJqlString&&t.enterJqlString(this)}},{key:"exitRule",value:function(t){t.exitJqlString&&t.exitJqlString(this)}},{key:"accept",value:function(t){return t.visitJqlString?t.visitJqlString(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Fo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"POSNUMBER",value:function(){return this.tryGetToken(so.POSNUMBER,0)}},{key:"NEGNUMBER",value:function(){return this.tryGetToken(so.NEGNUMBER,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlNumber}},{key:"enterRule",value:function(t){t.enterJqlNumber&&t.enterJqlNumber(this)}},{key:"exitRule",value:function(t){t.exitJqlNumber&&t.exitJqlNumber(this)}},{key:"accept",value:function(t){return t.visitJqlNumber?t.visitJqlNumber(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Uo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlEmpty",value:function(){return this.tryGetRuleContext(0,Bo)}},{key:"jqlValue",value:function(){return this.tryGetRuleContext(0,zo)}},{key:"jqlFunction",value:function(){return this.tryGetRuleContext(0,Vo)}},{key:"jqlList",value:function(){return this.tryGetRuleContext(0,Go)}},{key:"ruleIndex",get:function(){return so.RULE_jqlOperand}},{key:"enterRule",value:function(t){t.enterJqlOperand&&t.enterJqlOperand(this)}},{key:"exitRule",value:function(t){t.exitJqlOperand&&t.exitJqlOperand(this)}},{key:"accept",value:function(t){return t.visitJqlOperand?t.visitJqlOperand(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Bo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"EMPTY",value:function(){return this.getToken(so.EMPTY,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlEmpty}},{key:"enterRule",value:function(t){t.enterJqlEmpty&&t.enterJqlEmpty(this)}},{key:"exitRule",value:function(t){t.exitJqlEmpty&&t.exitJqlEmpty(this)}},{key:"accept",value:function(t){return t.visitJqlEmpty?t.visitJqlEmpty(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),zo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,qo)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Fo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlValue}},{key:"enterRule",value:function(t){t.enterJqlValue&&t.enterJqlValue(this)}},{key:"exitRule",value:function(t){t.exitJqlValue&&t.exitJqlValue(this)}},{key:"accept",value:function(t){return t.visitJqlValue?t.visitJqlValue(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Vo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlFunctionName",value:function(){return this.getRuleContext(0,Ho)}},{key:"LPAREN",value:function(){return this.getToken(so.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(so.RPAREN,0)}},{key:"jqlArgumentList",value:function(){return this.tryGetRuleContext(0,Jo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlFunction}},{key:"enterRule",value:function(t){t.enterJqlFunction&&t.enterJqlFunction(this)}},{key:"exitRule",value:function(t){t.exitJqlFunction&&t.exitJqlFunction(this)}},{key:"accept",value:function(t){return t.visitJqlFunction?t.visitJqlFunction(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Ho=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,qo)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Fo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlFunctionName}},{key:"enterRule",value:function(t){t.enterJqlFunctionName&&t.enterJqlFunctionName(this)}},{key:"exitRule",value:function(t){t.exitJqlFunctionName&&t.exitJqlFunctionName(this)}},{key:"accept",value:function(t){return t.visitJqlFunctionName?t.visitJqlFunctionName(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Jo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlArgument",value:function(t){return void 0===t?this.getRuleContexts($o):this.getRuleContext(t,$o)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(so.COMMA):this.getToken(so.COMMA,t)}},{key:"ruleIndex",get:function(){return so.RULE_jqlArgumentList}},{key:"enterRule",value:function(t){t.enterJqlArgumentList&&t.enterJqlArgumentList(this)}},{key:"exitRule",value:function(t){t.exitJqlArgumentList&&t.exitJqlArgumentList(this)}},{key:"accept",value:function(t){return t.visitJqlArgumentList?t.visitJqlArgumentList(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Go=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlListStart",value:function(){return this.getRuleContext(0,Wo)}},{key:"jqlOperand",value:function(t){return void 0===t?this.getRuleContexts(Uo):this.getRuleContext(t,Uo)}},{key:"jqlListEnd",value:function(){return this.getRuleContext(0,Ko)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(so.COMMA):this.getToken(so.COMMA,t)}},{key:"ruleIndex",get:function(){return so.RULE_jqlList}},{key:"enterRule",value:function(t){t.enterJqlList&&t.enterJqlList(this)}},{key:"exitRule",value:function(t){t.exitJqlList&&t.exitJqlList(this)}},{key:"accept",value:function(t){return t.visitJqlList?t.visitJqlList(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Wo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"LPAREN",value:function(){return this.getToken(so.LPAREN,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlListStart}},{key:"enterRule",value:function(t){t.enterJqlListStart&&t.enterJqlListStart(this)}},{key:"exitRule",value:function(t){t.exitJqlListStart&&t.exitJqlListStart(this)}},{key:"accept",value:function(t){return t.visitJqlListStart?t.visitJqlListStart(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Ko=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"RPAREN",value:function(){return this.getToken(so.RPAREN,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlListEnd}},{key:"enterRule",value:function(t){t.enterJqlListEnd&&t.enterJqlListEnd(this)}},{key:"exitRule",value:function(t){t.exitJqlListEnd&&t.exitJqlListEnd(this)}},{key:"accept",value:function(t){return t.visitJqlListEnd?t.visitJqlListEnd(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Yo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlArgument",value:function(){return this.getRuleContext(0,$o)}},{key:"ruleIndex",get:function(){return so.RULE_jqlPropertyArgument}},{key:"enterRule",value:function(t){t.enterJqlPropertyArgument&&t.enterJqlPropertyArgument(this)}},{key:"exitRule",value:function(t){t.exitJqlPropertyArgument&&t.exitJqlPropertyArgument(this)}},{key:"accept",value:function(t){return t.visitJqlPropertyArgument?t.visitJqlPropertyArgument(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),$o=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlString",value:function(){return this.tryGetRuleContext(0,qo)}},{key:"jqlNumber",value:function(){return this.tryGetRuleContext(0,Fo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlArgument}},{key:"enterRule",value:function(t){t.enterJqlArgument&&t.enterJqlArgument(this)}},{key:"exitRule",value:function(t){t.exitJqlArgument&&t.exitJqlArgument(this)}},{key:"accept",value:function(t){return t.visitJqlArgument?t.visitJqlArgument(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Qo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlPredicateOperand",value:function(){return this.getRuleContext(0,ns)}},{key:"jqlDatePredicateOperator",value:function(){return this.tryGetRuleContext(0,Zo)}},{key:"jqlDateRangePredicateOperator",value:function(){return this.tryGetRuleContext(0,ts)}},{key:"jqlUserPredicateOperator",value:function(){return this.tryGetRuleContext(0,es)}},{key:"ruleIndex",get:function(){return so.RULE_jqlWasPredicate}},{key:"enterRule",value:function(t){t.enterJqlWasPredicate&&t.enterJqlWasPredicate(this)}},{key:"exitRule",value:function(t){t.exitJqlWasPredicate&&t.exitJqlWasPredicate(this)}},{key:"accept",value:function(t){return t.visitJqlWasPredicate?t.visitJqlWasPredicate(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Xo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlPredicateOperand",value:function(){return this.getRuleContext(0,ns)}},{key:"jqlDatePredicateOperator",value:function(){return this.tryGetRuleContext(0,Zo)}},{key:"jqlDateRangePredicateOperator",value:function(){return this.tryGetRuleContext(0,ts)}},{key:"jqlUserPredicateOperator",value:function(){return this.tryGetRuleContext(0,es)}},{key:"jqlValuePredicateOperator",value:function(){return this.tryGetRuleContext(0,rs)}},{key:"ruleIndex",get:function(){return so.RULE_jqlChangedPredicate}},{key:"enterRule",value:function(t){t.enterJqlChangedPredicate&&t.enterJqlChangedPredicate(this)}},{key:"exitRule",value:function(t){t.exitJqlChangedPredicate&&t.exitJqlChangedPredicate(this)}},{key:"accept",value:function(t){return t.visitJqlChangedPredicate?t.visitJqlChangedPredicate(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),Zo=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"AFTER",value:function(){return this.tryGetToken(so.AFTER,0)}},{key:"BEFORE",value:function(){return this.tryGetToken(so.BEFORE,0)}},{key:"ON",value:function(){return this.tryGetToken(so.ON,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlDatePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlDatePredicateOperator&&t.enterJqlDatePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlDatePredicateOperator&&t.exitJqlDatePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlDatePredicateOperator?t.visitJqlDatePredicateOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),ts=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"DURING",value:function(){return this.getToken(so.DURING,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlDateRangePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlDateRangePredicateOperator&&t.enterJqlDateRangePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlDateRangePredicateOperator&&t.exitJqlDateRangePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlDateRangePredicateOperator?t.visitJqlDateRangePredicateOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),es=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"BY",value:function(){return this.getToken(so.BY,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlUserPredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlUserPredicateOperator&&t.enterJqlUserPredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlUserPredicateOperator&&t.exitJqlUserPredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlUserPredicateOperator?t.visitJqlUserPredicateOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),rs=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"FROM",value:function(){return this.tryGetToken(so.FROM,0)}},{key:"TO",value:function(){return this.tryGetToken(so.TO,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlValuePredicateOperator}},{key:"enterRule",value:function(t){t.enterJqlValuePredicateOperator&&t.enterJqlValuePredicateOperator(this)}},{key:"exitRule",value:function(t){t.exitJqlValuePredicateOperator&&t.exitJqlValuePredicateOperator(this)}},{key:"accept",value:function(t){return t.visitJqlValuePredicateOperator?t.visitJqlValuePredicateOperator(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),ns=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlOperand",value:function(){return this.getRuleContext(0,Uo)}},{key:"ruleIndex",get:function(){return so.RULE_jqlPredicateOperand}},{key:"enterRule",value:function(t){t.enterJqlPredicateOperand&&t.enterJqlPredicateOperand(this)}},{key:"exitRule",value:function(t){t.exitJqlPredicateOperand&&t.exitJqlPredicateOperand(this)}},{key:"accept",value:function(t){return t.visitJqlPredicateOperand?t.visitJqlPredicateOperand(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),is=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"ORDER",value:function(){return this.getToken(so.ORDER,0)}},{key:"BY",value:function(){return this.getToken(so.BY,0)}},{key:"jqlSearchSort",value:function(t){return void 0===t?this.getRuleContexts(ss):this.getRuleContext(t,ss)}},{key:"COMMA",value:function(t){return void 0===t?this.getTokens(so.COMMA):this.getToken(so.COMMA,t)}},{key:"ruleIndex",get:function(){return so.RULE_jqlOrderBy}},{key:"enterRule",value:function(t){t.enterJqlOrderBy&&t.enterJqlOrderBy(this)}},{key:"exitRule",value:function(t){t.exitJqlOrderBy&&t.exitJqlOrderBy(this)}},{key:"accept",value:function(t){return t.visitJqlOrderBy?t.visitJqlOrderBy(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),ss=function(t){(0,Vi.A)(r,t);var e=io(r);function r(t,n){return(0,Si.A)(this,r),e.call(this,t,n)}return(0,bi.A)(r,[{key:"jqlField",value:function(){return this.getRuleContext(0,Io)}},{key:"DESC",value:function(){return this.tryGetToken(so.DESC,0)}},{key:"ASC",value:function(){return this.tryGetToken(so.ASC,0)}},{key:"ruleIndex",get:function(){return so.RULE_jqlSearchSort}},{key:"enterRule",value:function(t){t.enterJqlSearchSort&&t.enterJqlSearchSort(this)}},{key:"exitRule",value:function(t){t.exitJqlSearchSort&&t.exitJqlSearchSort(this)}},{key:"accept",value:function(t){return t.visitJqlSearchSort?t.visitJqlSearchSort(this):t.visitChildren(this)}}]),r}(Xi.ParserRuleContext),as=r(22807),ls=r(21088);function cs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cs=function(){return!!t})()}var us=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=cs(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t){var e;return(0,Si.A)(this,i),(e=n.call(this,t))._interp=new ls.LexerATNSimulator(i._ATN,(0,Ki.A)(e)),e}return(0,bi.A)(i,[{key:"vocabulary",get:function(){return i.VOCABULARY}},{key:"grammarFileName",get:function(){return"JQLLexer.g4"}},{key:"ruleNames",get:function(){return i.ruleNames}},{key:"serializedATN",get:function(){return i._serializedATN}},{key:"channelNames",get:function(){return i.channelNames}},{key:"modeNames",get:function(){return i.modeNames}}],[{key:"_ATN",get:function(){return i.__ATN||(i.__ATN=(new Yi.ATNDeserializer).deserialize(no.toCharArray(i._serializedATN))),i.__ATN}}]),i}(as.Lexer);ao=us,(0,u.A)(us,"LPAREN",1),(0,u.A)(us,"RPAREN",2),(0,u.A)(us,"COMMA",3),(0,u.A)(us,"LBRACKET",4),(0,u.A)(us,"RBRACKET",5),(0,u.A)(us,"BANG",6),(0,u.A)(us,"LT",7),(0,u.A)(us,"GT",8),(0,u.A)(us,"GTEQ",9),(0,u.A)(us,"LTEQ",10),(0,u.A)(us,"EQUALS",11),(0,u.A)(us,"NOT_EQUALS",12),(0,u.A)(us,"LIKE",13),(0,u.A)(us,"NOT_LIKE",14),(0,u.A)(us,"IN",15),(0,u.A)(us,"IS",16),(0,u.A)(us,"AND",17),(0,u.A)(us,"OR",18),(0,u.A)(us,"NOT",19),(0,u.A)(us,"EMPTY",20),(0,u.A)(us,"WAS",21),(0,u.A)(us,"CHANGED",22),(0,u.A)(us,"BEFORE",23),(0,u.A)(us,"AFTER",24),(0,u.A)(us,"FROM",25),(0,u.A)(us,"TO",26),(0,u.A)(us,"ON",27),(0,u.A)(us,"DURING",28),(0,u.A)(us,"ORDER",29),(0,u.A)(us,"BY",30),(0,u.A)(us,"ASC",31),(0,u.A)(us,"DESC",32),(0,u.A)(us,"POSNUMBER",33),(0,u.A)(us,"NEGNUMBER",34),(0,u.A)(us,"CUSTOMFIELD",35),(0,u.A)(us,"RESERVED_WORD",36),(0,u.A)(us,"STRING",37),(0,u.A)(us,"MATCHWS",38),(0,u.A)(us,"ERROR_RESERVED",39),(0,u.A)(us,"ERRORCHAR",40),(0,u.A)(us,"QUOTE_STRING",41),(0,u.A)(us,"UNCLOSED_QUOTE_STRING",42),(0,u.A)(us,"INVALID_QUOTE_STRING",43),(0,u.A)(us,"SQUOTE_STRING",44),(0,u.A)(us,"UNCLOSED_SQUOTE_STRING",45),(0,u.A)(us,"INVALID_SQUOTE_STRING",46),(0,u.A)(us,"QUOTED_STR",1),(0,u.A)(us,"SQUOTED_STR",2),(0,u.A)(us,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),(0,u.A)(us,"modeNames",["DEFAULT_MODE","QUOTED_STR","SQUOTED_STR"]),(0,u.A)(us,"ruleNames",["LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","LQUOTE","LSQUOTE","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","QUOTED_CONTENT","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","SQUOTED_CONTENT","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING","VALID_UNQUOTED_CHARS","VALID_QUOTED_CHARS","VALID_SQUOTED_CHARS","RESERVED_CHARS","QUOTE","SQUOTE","BSLASH","NL","CR","SPACE","AMPER","AMPER_AMPER","PIPE","PIPE_PIPE","ESCAPE","NEWLINE","HEXDIGIT","WS","MINUS","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),(0,u.A)(us,"_LITERAL_NAMES",[void 0,"'('","')'","','","'['","']'","'!'","'<'","'>'","'>='","'<='","'='","'!='","'~'","'!~'"]),(0,u.A)(us,"_SYMBOLIC_NAMES",[void 0,"LPAREN","RPAREN","COMMA","LBRACKET","RBRACKET","BANG","LT","GT","GTEQ","LTEQ","EQUALS","NOT_EQUALS","LIKE","NOT_LIKE","IN","IS","AND","OR","NOT","EMPTY","WAS","CHANGED","BEFORE","AFTER","FROM","TO","ON","DURING","ORDER","BY","ASC","DESC","POSNUMBER","NEGNUMBER","CUSTOMFIELD","RESERVED_WORD","STRING","MATCHWS","ERROR_RESERVED","ERRORCHAR","QUOTE_STRING","UNCLOSED_QUOTE_STRING","INVALID_QUOTE_STRING","SQUOTE_STRING","UNCLOSED_SQUOTE_STRING","INVALID_SQUOTE_STRING"]),(0,u.A)(us,"VOCABULARY",new ro.VocabularyImpl(ao._LITERAL_NAMES,ao._SYMBOLIC_NAMES,[])),(0,u.A)(us,"_serializedATNSegments",3),(0,u.A)(us,"_serializedATNSegment0","0\b\b\b\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t !\t!\"\t\"#\t#$\t$%\t%&\t&'\t'(\t()\t)*\t*+\t+,\t,-\t-.\t./\t/0\t01\t12\t23\t34\t45\t56\t67\t78\t89\t9:\t:;\t;<\t<=\t=>\t>?\t?@\t@A\tAB\tBC\tCD\tDE\tEF\tFG\tGH\tHI\tIJ\tJK\tKL\tLM\tMN\tNO\tOP\tPQ\tQR\tRS\tST\tTU\tUV\tVW\tWX\tXY\tYZ\tZ[\t[\\\t\\]\t]^\t^_\t_`\t`a\ta\b\b\b\b\b\t\t\n\n\v\v\f\f\f\r\r\r\n\n\n      !!!\"\"\"\"#####$$\n$\r$$%%%\n%\r%%&&&''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''\n'(((\n(\r(())\n)\r))))**++,,,,---\n---....////0000111\n11122223333445566778899::;;<<==>>???@@AAABBBBBBBBBBBBB\nBCCC\nCDDDDDDDD\nDEEEE\nEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUUVVWWXXYYZZ[[\\\\]]^^__``aab\t\v\r\b\t\n\v\f\r!#%')+-/13579;=?AC E!G\"I#K$M%O&Q'S(U)W*Y+[],_-a.ce/g0ikmoqsuwy{}\"\t.11=B]`}\0\n\v\r!$$^^\0\n\v\r!))^^\0\n%',-11==AB``}}ppttvv2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\t\v\r!#%')+-/13579;=?ACEGIKMOQSUWY[]_aceg\t\v\r!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}*+\b.\n]\f_q8\b\bs9\b\b\b\b#>@@?>??#? \"#$PU&PZ(HUK}>?*VY@A"),(0,u.A)(us,"_serializedATNSegment1",",UV[.LTW[`U\\SS0^HZ2JOHUNLK4ILMVYL6HM[LY8MYVT:[V<VU>K\\YPUN@VYKLYBI`DHZJFKLZJHGJFGLJMNHIVY[HJJLZZHKKHSPHZHS[LYHU`HZH\\KP[H]NILNPUIL[^LLUIVVSLHUIYLHRI`[LJH[JOJOHYJOHYHJ[LYJOLJRJOLJRWVPU[JVSSH[LJVSSH[PVUJVS\\TUJVTTP[JVUULJ[JVU[PU\\LJV\\U[JYLH[LJ\\YYLU[KH[LKLJPTHSKLJSHYLKLJYLTLU[KLMH\\S[KLMH\\S[ZKLMPULKLSL[LKLSPTP[LYKPMMLYLUJLKPZ[PUJ[KP]PKLKVKV\\ISLKYVWLSZLLUJVKPUNLUKLX\\HSZLZJHWLL_JS\\ZP]LL_LJL_LJ\\[LL_PZ[ZL_WSHPUMHSZLML[JOMPSLMPLSKMPYZ[MSVH[MVYM\\UJ[PVUNVNV[VNYHU[NYLH[LYNYV\\WOH]PUNPKLU[PMPLKPMPTTLKPH[LPUJYLTLU[PUKL_PUP[PHSPUULYPUV\\[PUW\\[PUZLY[PU[PU[LNLYPU[LYZLJ[PU[LYZLJ[PVUPU[VPZLTW[`PZU\\SSQVPUSHZ[SLM[SLZZSPRLSPTP[SVJRSVUNTH_TPUTPU\\ZTVKLTVKPM`TVK\\SVTVYLT\\S[PWS`UL_[UVH\\KP[UV[PUUV^HP[U\\TILYVIQLJ[VMVW[PVUV\\[LYV\\[W\\[WV^L"),(0,u.A)(us,"_serializedATNSegment2",'YWYL]PV\\ZWYPVYWYP]PSLNLZW\\ISPJYHPZLYH^YLTHPUKLYYLUHTLYLZV\\YJLYL[\\YUYL[\\YUZYL]VRLYPNO[YV^YV^PKYV^U\\TYV^ZZLSLJ[ZLZZPVUZL[ZOHYLZPaLZXY[Z[HY[Z[YPJ[Z[YPUNZ\\I[YHJ[Z\\TZ`UVU`T[HISL[OLU[YHUZ[YHUZHJ[PVU[YPNNLY[Y\\L\\PK\\UPVU\\UPX\\L\\WKH[L\\ZLY]HSPKH[L]HS\\LZ]PL^^OLU^OLUL]LY^OLYL^OPSL^P[OPBi4RE\b)To7V\vXq8\b,ZBk5\b-\\\b.^\v\b/`s9\b0bBm6\b1d\b2f\v\b3h\nj\nl\nn\tp$r)t^vx\fz"|(~((~~~u:\tq8s9u:{=wDDDDw;y<GHIJKLM{=\vC/\t\t\b\t\t\t\n\t\v\t\f\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t!'),(0,u.A)(us,"_serializedATN",no.join([ao._serializedATNSegment0,ao._serializedATNSegment1,ao._serializedATNSegment2],""));var hs=r(36210),ps=r(7477),ds=function(t,e,r,n){var i=t.getText(ps.Interval.of(e,r.tokenIndex)),o=(0,l.A)(n,1)[0],s=r.stopIndex+1;if(o<s){var a=o-s;return i.slice(0,a)}return i};function fs(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return gs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gs(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ys=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;(0,Si.A)(this,t),this.parser=e,this.core=new hs.lQ(this.parser),this.core.ignoredTokens=r,this.core.preferredRules=n,this.core.translateRulesTopDown=!0,this.delimiterTokens=i}return(0,bi.A)(t,[{key:"getTokenStream",value:function(){return this.parser.inputStream}},{key:"getMatchedText",value:function(t,e){if(!t)return"";var r=this.isCaretAtDelimiterOrHiddenToken(t)?t.tokenIndex+1:t.tokenIndex;return ds(this.getTokenStream(),r,t,e)}},{key:"getCandidateTokens",value:function(t,e,r){var n=this,i=[];return r.forEach((function(t,e){var r=[e].concat((0,c.A)(t)).map((function(t){return n.parser.vocabulary.getDisplayName(t).replace(/^'|'$/g,"")})).join(" ");r&&i.push(r)})),i.sort(),{matchedText:this.getMatchedText(t,e),replacePosition:this.getReplacePosition(t,t,e),values:i}}},{key:"getCandidateRules",value:function(t,e,r){var n=this.mapCandidateRules(t,e,r);return this.assignRuleContextData(t,n)}},{key:"mapCandidateRules",value:function(t,e,r){var n=this,i=new Map,o=this.getTokenStream();return r.forEach((function(r,s){var a,l=r.startTokenIndex,c=r.ruleList,u=o.get(l),h=n.getReplacePosition(u,t,e);t?a={matchedText:ds(o,l,t,e),replacePosition:h,context:null}:a={matchedText:"",replacePosition:h,context:null};i.set(s,[a,c])})),i}},{key:"getCaretToken",value:function(t){if(0!==t){var e,r=fs(this.getTokenStream().getTokens());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(t>n.startIndex&&t<=n.stopIndex+1||n.type===Gi.Token.EOF)return n}}catch(t){r.e(t)}finally{r.f()}}}},{key:"isCaretAtDelimiterToken",value:function(t){return this.delimiterTokens.has(t.type)}},{key:"isCaretAtDelimiterOrHiddenToken",value:function(t){return this.isCaretAtDelimiterToken(t)||t.channel===Gi.Token.HIDDEN_CHANNEL}},{key:"overrideReplacePosition",value:function(t,e,r){return null}},{key:"getReplacePosition",value:function(t,e,r){var n=this.overrideReplacePosition(t,e,r);if(n)return n;var i=(0,l.A)(r,2),o=i[0],s=i[1];return[void 0===t||this.isCaretAtDelimiterOrHiddenToken(t)?o:Math.min(t.startIndex,o),void 0===e||this.isCaretAtDelimiterOrHiddenToken(e)?s:Math.max(e.stopIndex+1,s)]}},{key:"getCandidates",value:function(t,e){var r;r=void 0===t?0:this.isCaretAtDelimiterToken(t)?t.tokenIndex+1:t.tokenIndex;var n=this.core.collectCandidates(r);return{tokens:this.getCandidateTokens(t,e,n.tokens),rules:this.getCandidateRules(t,e,n.rules)}}},{key:"getSuggestionsForCaretPosition",value:function(t){var e=this.getCaretToken(t[0]);return this.getCandidates(e,t)}},{key:"getSuggestionsForTokenIndex",value:function(t){var e=this.getTokenStream().get(t),r=[e.stopIndex+1,e.stopIndex+1];return this.getCandidates(e,r)}},{key:"assignRuleContextData",value:function(t,e){return e}}]),t}(),ms=["=","!=",">","<",">=","<=","in","not in","~","!~","is","is not","was","was in","was not in","was not","changed"],vs=[so.RULE_jqlField,so.RULE_jqlEqualsOperator,so.RULE_jqlLikeOperator,so.RULE_jqlComparisonOperator,so.RULE_jqlInOperator,so.RULE_jqlIsOperator,so.RULE_jqlWasOperator,so.RULE_jqlWasInOperator,so.RULE_jqlChangedOperator,so.RULE_jqlValue,so.RULE_jqlListStart,so.RULE_jqlFunction],xs=[so.UNCLOSED_QUOTE_STRING,so.UNCLOSED_SQUOTE_STRING],Os=new Set([us.EOF,us.LPAREN,us.RPAREN,us.LBRACKET,us.RBRACKET,us.STRING,us.QUOTE_STRING,us.SQUOTE_STRING,us.POSNUMBER,us.NEGNUMBER,us.BANG,us.CUSTOMFIELD,us.COMMA]),bs=[so.RULE_jqlFieldProperty],Ss=[so.RULE_jqlEqualsOperator,so.RULE_jqlLikeOperator,so.RULE_jqlComparisonOperator,so.RULE_jqlInOperator,so.RULE_jqlIsOperator,so.RULE_jqlWasOperator,so.RULE_jqlWasInOperator,so.RULE_jqlChangedOperator],As=[so.RULE_jqlValue,so.RULE_jqlFunction,so.RULE_jqlListStart],Es=new Set([so.RULE_jqlField].concat(Ss,As,bs,[so.RULE_jqlPredicateOperand])),Ts=new Set([us.LPAREN,us.COMMA]),Ns=r(80045),_s=function(t){return t.includes(so.RULE_jqlPredicateOperand)},Cs=function(t){return[t.start.startIndex,t.stop?t.stop.stopIndex+1:t.start.stopIndex+1]},ws=function(t){return t.toLowerCase().replace(/\s+/g," ").trim()},ks=function(t){return ms.includes(t)},Rs=["errorNodes"];function Ps(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ls=(0,bi.A)((function t(e,r,n,i,o){var s=this;(0,Si.A)(this,t),(0,u.A)(this,"visitJqlQuery",(function(t){var e=t.jqlWhere(),r=t.jqlOrderBy(),n=s.getCtxToVisit([e,r]),i=Is({},null==n?void 0:n.accept(s));return s.rule===so.RULE_jqlField&&(i.clause=s.ruleList.includes(so.RULE_jqlWhere)?"where":"orderBy"),i})),(0,u.A)(this,"visitJqlWhere",(function(t){return t.jqlOrClause().accept(s)})),(0,u.A)(this,"visitJqlOrderBy",(function(){return{}})),(0,u.A)(this,"visitJqlOrClause",(function(t){var e=s.getCtxToVisit(t.jqlAndClause());return Is({},null==e?void 0:e.accept(s))})),(0,u.A)(this,"visitJqlAndClause",(function(t){var e=s.getCtxToVisit(t.jqlNotClause());return Is({},null==e?void 0:e.accept(s))})),(0,u.A)(this,"visitJqlNotClause",(function(t){var e=s.getCtxToVisit([t.jqlNotClause(),t.jqlSubClause(),t.jqlTerminalClause()]);return Is({},null==e?void 0:e.accept(s))})),(0,u.A)(this,"visitJqlSubClause",(function(t){var e=t.jqlOrClause();return Is({},null==e?void 0:e.accept(s))})),(0,u.A)(this,"visitJqlTerminalClause",(function(t){var e=t.jqlField(),r=t.jqlTerminalClauseRhs().accept(s),n=r.errorNodes,i=(0,Ns.A)(r,Rs);return Is(Is(Is({},e.accept(s)),i),s.getCtxFromErrorNodes(n))})),(0,u.A)(this,"visitJqlField",(function(t){return s.rule===so.RULE_jqlField?{}:{field:s.tokenStream.getText(t)}})),(0,u.A)(this,"visitJqlNumberField",(function(t){return s.visitJqlField(t)})),(0,u.A)(this,"visitJqlNonNumberField",(function(t){return s.visitJqlField(t)})),(0,u.A)(this,"visitJqlEqualsClause",(function(t){return t.jqlEqualsOperator().accept(s)})),(0,u.A)(this,"visitJqlEqualsOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlLikeClause",(function(t){return t.jqlLikeOperator().accept(s)})),(0,u.A)(this,"visitJqlLikeOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlComparisonClause",(function(t){return t.jqlComparisonOperator().accept(s)})),(0,u.A)(this,"visitJqlComparisonOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlInClause",(function(t){var e=t.jqlInOperator().accept(s),r=t.jqlList();return void 0!==r&&s.isReplacePosAtCtx(r)?Is(Is({},e),r.accept(s)):Is({},e)})),(0,u.A)(this,"visitJqlInOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlIsClause",(function(t){return t.jqlIsOperator().accept(s)})),(0,u.A)(this,"visitJqlIsOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlWasClause",(function(t){return t.jqlWasOperator().accept(s)})),(0,u.A)(this,"visitJqlWasOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlWasInClause",(function(t){var e=t.jqlWasInOperator().accept(s),r=t.jqlList();return void 0!==r&&s.isReplacePosAtCtx(r)?Is(Is({},e),r.accept(s)):Is({},e)})),(0,u.A)(this,"visitJqlWasInOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlChangedClause",(function(t){return t.jqlChangedOperator().accept(s)})),(0,u.A)(this,"visitJqlChangedOperator",(function(t){return s.visitOperator(t)})),(0,u.A)(this,"visitJqlList",(function(t){var e=Cs(t.jqlListStart()),r=(0,l.A)(e,2),n=(r[0],r[1]);try{var i=Cs(t.jqlListEnd()),o=(0,l.A)(i,1)[0];if(s.replacePositionStart>=n&&s.replacePositionStart<=o)return{isList:!0}}catch(t){return{isList:!0}}return{}})),(0,u.A)(this,"visitOperator",(function(t){var e=s.tokenStream.getText(t).substring(0,s.replacePositionStart-t.start.startIndex),r=ws(e);return ks(r)?{operator:r}:{}})),(0,u.A)(this,"isReplacePosAtCtx",(function(t){var e=Cs(t),r=(0,l.A)(e,2),n=r[0],i=r[1];return s.replacePositionStart>=n&&s.replacePositionStart<=i||!!s.maybeCaretToken&&s.maybeCaretToken.type===us.MATCHWS&&s.maybeCaretToken.startIndex===i})),(0,u.A)(this,"getCtxToVisit",(function(t){for(var e=t.filter((function(t){return void 0!==t})),r=0;r<e.length;r++){var n=e[r];if(s.isReplacePosAtCtx(n))return n}})),(0,u.A)(this,"getCtxFromErrorNodes",(function(t){if(void 0!==t){var e=t.filter((function(t){return t.payload.startIndex<s.replacePositionStart})).map((function(t){return t.payload.text})).join(" "),r=ws(e);if(ks(r))return{operator:r}}return{}})),(0,u.A)(this,"visitChildren",(function(t){for(var e=[],r=0;r<t.childCount;r++)e.push(t.getChild(r));return{errorNodes:e}})),(0,u.A)(this,"visit",(function(){throw new Error("Unsupported operation visit(ParseTree)")})),(0,u.A)(this,"visitErrorNode",(function(){throw new Error("Unsupported operation visitErrorNode(ErrorNode)")})),(0,u.A)(this,"visitTerminal",(function(){throw new Error("Unsupported operation visitTerminal(TerminalNode)")})),this.ruleList=r,this.rule=n,this.tokenStream=i,this.maybeCaretToken=o;var a=(0,l.A)(e.replacePosition,1);this.replacePositionStart=a[0]}));function js(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(js=function(){return!!t})()}var Ds=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=js(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Es,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ts,a=arguments.length>4?arguments[4]:void 0;return(0,Si.A)(this,i),(e=n.call(this,t,r,o,s)).tree=a,e}return(0,bi.A)(i,[{key:"assignRuleContextData",value:function(t,e){var r=this;return void 0===this.tree||e.forEach((function(e,n){var i=(0,l.A)(e,2),o=i[0],s=i[1];if(vs.includes(n)){var a,c,u=new Ls(o,s,n,r.getTokenStream(),t);o.context=null!==(a=null===(c=r.tree)||void 0===c?void 0:c.accept(u))&&void 0!==a?a:null}})),e}},{key:"getJQLSuggestionsForCaretPosition",value:function(t){return this.mapToJQLSuggestions(this.getSuggestionsForCaretPosition(t))}},{key:"getJQLSuggestionsForTokenIndex",value:function(t){return this.mapToJQLSuggestions(this.getSuggestionsForTokenIndex(t))}},{key:"mapToJQLSuggestions",value:function(t){var e=t.tokens,r=t.rules,n={};return r.forEach((function(t,e){var r=(0,l.A)(t,2),i=r[0],o=r[1];switch(e){case so.RULE_jqlField:n.field=i;break;case so.RULE_jqlCustomField:n.customField=i;break;case so.RULE_jqlEqualsOperator:case so.RULE_jqlLikeOperator:case so.RULE_jqlComparisonOperator:case so.RULE_jqlInOperator:case so.RULE_jqlIsOperator:case so.RULE_jqlWasOperator:case so.RULE_jqlWasInOperator:case so.RULE_jqlChangedOperator:n.operator=i;break;case so.RULE_jqlValue:_s(o)||(n.value=i);break;case so.RULE_jqlListStart:_s(o)||(n.list=i);break;case so.RULE_jqlFunction:_s(o)||(n.function=i);break;case so.RULE_jqlFieldProperty:n.fieldProperty=i;break;case so.RULE_jqlArgument:for(var s=o.length-1;s>=0;s--){if(o[s]===so.RULE_jqlFunction){n.functionArgument=i;break}if(o[s]===so.RULE_jqlPropertyArgument){n.fieldPropertyArgument=i;break}if(o[s]===so.RULE_jqlFieldProperty){n.fieldPropertyId=i;break}}}})),{tokens:e,rules:n}}},{key:"isCaretAtUnclosedString",value:function(t){return xs.includes(t.type)}},{key:"overrideReplacePosition",value:function(t,e,r){if(e&&this.isCaretAtUnclosedString(e)){var n=(0,l.A)(r,2),i=n[0],o=n[1];return[void 0===t||this.isCaretAtDelimiterOrHiddenToken(t)?i:Math.min(t.startIndex,i),o]}return null}}],[{key:"fromText",value:function(t,e,r,n){var o=Gi.CharStreams.fromString(t),s=new us(o),a=new Gi.CommonTokenStream(s),l=new so(a);return l.removeErrorListeners(),new i(l,e,r,n,l.jqlQuery())}},{key:"fromParser",value:function(t,e,r,n){return new i(t,e,r,n)}}]),i}(ys),Ms=function(t){return t.CLICKED="clicked",t.RETRIEVE_FAILED="retrieveFailed",t.RETRIEVED="retrieved",t.SELECTED="selected",t.VIEWED="viewed",t}({}),qs=function(t){return t.BUTTON="button",t.AUTOCOMPLETE_OPTION="autocompleteOption",t.ERROR_MESSAGE="errorMessage",t}({}),Fs=function(t){return t.EDITOR_EXPAND="jqlEditorExpand",t.EDITOR_SEARCH="jqlEditorSearch",t.EDITOR_HELP="jqlEditorHelp",t.JQL_RESULT="jqlResult",t}({}),Us=r(63662);function Bs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bs=function(){return!!t})()}function zs(t){var e="function"==typeof Map?new Map:void 0;return zs=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(Bs())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&(0,Us.A)(i,r.prototype),i}(t,arguments,(0,Ji.A)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,Us.A)(r,t)},zs(t)}function Vs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vs=function(){return!!t})()}var Hs=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Vs(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t,e){var r;return(0,Si.A)(this,i),(r=n.call(this,t)).name="JQLParseError",r.cause=e,r.description=t,r}return(0,bi.A)(i)}(zs(Error));function Js(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Js=function(){return!!t})()}var Gs=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Js(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t,e,r,o,s){var a;return(0,Si.A)(this,i),(a=n.call(this,t)).name="JQLSyntaxError",a.start=e,a.stop=r,a.line=o,a.charPositionInLine=s,a}return(0,bi.A)(i)}(Hs),Ws=r(73916),Ks=r.n(Ws),Ys=r(38262),$s=r(42225);const Qs=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Xs(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}function Zs(t,e,r=!1){for(let n=t;n;n="start"==e?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&1!=n.childCount)return!1}return!1}function ta(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ea(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}function ra(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}function na(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ia=(t,e)=>{let{$from:r,$to:n}=t.selection;if(t.selection instanceof A.nh&&t.selection.node.isBlock)return!(!r.parentOffset||!(0,Ys.zy)(t.doc,r.pos)||(e&&e(t.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(e){let i=n.parentOffset==n.parent.content.size,o=t.tr;(t.selection instanceof A.U3||t.selection instanceof A.i5)&&o.deleteSelection();let s=0==r.depth?null:na(r.node(-1).contentMatchAt(r.indexAfter(-1))),a=oa&&oa(n.parent,i,r),l=a?[a]:i&&s?[{type:s}]:void 0,c=(0,Ys.zy)(o.doc,o.mapping.map(r.pos),1,l);if(l||c||!(0,Ys.zy)(o.doc,o.mapping.map(r.pos),1,s?[{type:s}]:void 0)||(s&&(l=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=s)){let t=o.mapping.map(r.before()),e=o.doc.resolve(t);s&&r.node(-1).canReplaceWith(e.index(),e.index()+1,s)&&o.setNodeMarkup(o.mapping.map(r.before()),s)}e(o.scrollIntoView())}return!0};var oa;function sa(t,e,r,n){let i,o,s=e.nodeBefore,a=e.nodeAfter,l=s.type.spec.isolating||a.type.spec.isolating;if(!l&&function(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(n&&i&&n.type.compatibleContent(i.type))||(!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!(0,Ys.n9)(t.doc,e.pos)||(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(r){let n=e.pos+a.nodeSize,o=$s.FK.empty;for(let t=i.length-1;t>=0;t--)o=$s.FK.from(i[t].create(null,o));o=$s.FK.from(s.copy(o));let l=t.tr.step(new Ys.Wg(e.pos-1,n,e.pos,n,new $s.Ji(o,1,0),i.length,!0)),c=n+2*i.length;(0,Ys.n9)(l.doc,c)&&l.join(c),r(l.scrollIntoView())}return!0}let u=a.type.spec.isolating||n>0&&l?null:A.LN.findFrom(e,1),h=u&&u.$from.blockRange(u.$to),p=h&&(0,Ys.jP)(h);if(null!=p&&p>=e.depth)return r&&r(t.tr.lift(h,p).scrollIntoView()),!0;if(c&&Zs(a,"start",!0)&&Zs(s,"end")){let n=s,i=[];for(;i.push(n),!n.isTextblock;)n=n.lastChild;let o=a,l=1;for(;!o.isTextblock;o=o.firstChild)l++;if(n.canReplace(n.childCount,n.childCount,o.content)){if(r){let n=$s.FK.empty;for(let t=i.length-1;t>=0;t--)n=$s.FK.from(i[t].copy(n));r(t.tr.step(new Ys.Wg(e.pos-i.length,e.pos+a.nodeSize,e.pos+l,e.pos+a.nodeSize-l,new $s.Ji(n,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function aa(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(r&&r(e.tr.setSelection(A.U3.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}const la=aa(-1),ca=aa(1);function ua(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}let ha=ua(Qs,((t,e,r)=>{let n=Xs(t,r);if(!n)return!1;let i=ta(n);if(!i){let r=n.blockRange(),i=r&&(0,Ys.jP)(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(sa(t,i,e,-1))return!0;if(0==n.parent.content.size&&(Zs(o,"end")||A.nh.isSelectable(o)))for(let r=n.depth;;r--){let s=(0,Ys.$L)(t.doc,n.before(r),n.after(r),$s.Ji.empty);if(s&&s.slice.size<s.to-s.from){if(e){let r=t.tr.step(s);r.setSelection(Zs(o,"end")?A.LN.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):A.nh.create(r.doc,i.pos-o.nodeSize)),e(r.scrollIntoView())}return!0}if(1==r||n.node(r-1).childCount>1)break}return!(!o.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)}),((t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=ta(n)}let s=o&&o.nodeBefore;return!(!s||!A.nh.isSelectable(s))&&(e&&e(t.tr.setSelection(A.nh.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)})),pa=ua(Qs,((t,e,r)=>{let n=ea(t,r);if(!n)return!1;let i=ra(n);if(!i)return!1;let o=i.nodeAfter;if(sa(t,i,e,1))return!0;if(0==n.parent.content.size&&(Zs(o,"start")||A.nh.isSelectable(o))){let r=(0,Ys.$L)(t.doc,n.before(),n.after(),$s.Ji.empty);if(r&&r.slice.size<r.to-r.from){if(e){let n=t.tr.step(r);n.setSelection(Zs(o,"start")?A.LN.findFrom(n.doc.resolve(n.mapping.map(i.pos)),1):A.nh.create(n.doc,n.mapping.map(i.pos))),e(n.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)}),((t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=ra(n)}let s=o&&o.nodeAfter;return!(!s||!A.nh.isSelectable(s))&&(e&&e(t.tr.setSelection(A.nh.create(t.doc,o.pos)).scrollIntoView()),!0)}));const da={Enter:ua(((t,e)=>{let{$head:r,$anchor:n}=t.selection;return!(!r.parent.type.spec.code||!r.sameParent(n))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),((t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof A.i5||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=na(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let r=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(r,o.createAndFill());s.setSelection(A.U3.create(s.doc,r+1)),e(s.scrollIntoView())}return!0}),((t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let n=r.before();if((0,Ys.zy)(t.doc,n))return e&&e(t.tr.split(n).scrollIntoView()),!0}let n=r.blockRange(),i=n&&(0,Ys.jP)(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}),ia),"Mod-Enter":(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),s=na(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let n=r.after(),i=t.tr.replaceWith(n,n,s.createAndFill());i.setSelection(A.LN.near(i.doc.resolve(n),1)),e(i.scrollIntoView())}return!0},Backspace:ha,"Mod-Backspace":ha,"Shift-Backspace":ha,Delete:pa,"Mod-Delete":pa,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new A.i5(t.doc))),!0)},fa={"Ctrl-h":da.Backspace,"Alt-Backspace":da["Mod-Backspace"],"Ctrl-d":da.Delete,"Ctrl-Alt-Backspace":da["Mod-Delete"],"Alt-Delete":da["Mod-Delete"],"Alt-d":da["Mod-Delete"],"Ctrl-a":la,"Ctrl-e":ca};for(let t in da)fa[t]=da[t];const ga=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?fa:da;var ya=200,ma=function(){};ma.prototype.append=function(t){return t.length?(t=ma.from(t),!this.length&&t||t.length<ya&&this.leafAppend(t)||this.length<ya&&t.leafPrepend(this)||this.appendInner(t)):this},ma.prototype.prepend=function(t){return t.length?ma.from(t).append(this):this},ma.prototype.appendInner=function(t){return new xa(this,t)},ma.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?ma.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},ma.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},ma.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},ma.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var n=[];return this.forEach((function(e,r){return n.push(t(e,r))}),e,r),n},ma.from=function(t){return t instanceof ma?t:t&&t.length?new va(t):ma.empty};var va=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new e(this.values.slice(t,r))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,r,n){for(var i=e;i<r;i++)if(!1===t(this.values[i],n+i))return!1},e.prototype.forEachInvertedInner=function(t,e,r,n){for(var i=e-1;i>=r;i--)if(!1===t(this.values[i],n+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=ya)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=ya)return new e(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(ma);ma.empty=new va([]);var xa=function(t){function e(e,r){t.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,r,n){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(r,i),n))&&(!(r>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,r)-i,n+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,r,n){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(r,i)-i,n+i))&&(!(r<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),r,n))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var r=this.left.length;return e<=r?this.left.slice(t,e):t>=r?this.right.slice(t-r,e-r):this.left.slice(t,r).append(this.right.slice(0,e-r))},e.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new e(r,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(ma);const Oa=ma;class ba{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let r,n,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),n=r.maps.length);let o,s,a=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return r||(r=this.remapping(i,e+1),n=r.maps.length),n--,void c.push(t);if(r){c.push(new Sa(t.map));let e,i=t.step.map(r.slice(n));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new Sa(e,void 0,void 0,l.length+c.length))),n--,e&&r.appendMap(e,n)}else a.maybeStep(t.step);return t.selection?(o=r?t.selection.map(r.slice(n)):t.selection,s=new ba(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(t,e,r,n){let i=[],o=this.eventCount,s=this.items,a=!n&&s.length?s.get(s.length-1):null;for(let r=0;r<t.steps.length;r++){let l,c=t.steps[r].invert(t.docs[r]),u=new Sa(t.mapping.maps[r],c,e);(l=a&&a.merge(u))&&(u=l,r?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=void 0),n||(a=u)}let l=o-r.depth;return l>Ea&&(s=function(t,e){let r;return t.forEach(((t,n)=>{if(t.selection&&0==e--)return r=n,!1})),t.slice(r)}(s,l),o-=l),new ba(s.append(i),o)}remapping(t,e){let r=new Ys.X9;return this.items.forEach(((e,n)=>{let i=null!=e.mirrorOffset&&n-e.mirrorOffset>=t?r.maps.length-e.mirrorOffset:void 0;r.appendMap(e.map,i)}),t,e),r}addMaps(t){return 0==this.eventCount?this:new ba(this.items.append(t.map((t=>new Sa(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],n=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((t=>{t.selection&&s--}),n);let a=e;this.items.forEach((e=>{let n=i.getMirror(--a);if(null==n)return;o=Math.min(o,n);let l=i.maps[n];if(e.step){let o=t.steps[n].invert(t.docs[n]),c=e.selection&&e.selection.map(i.slice(a+1,n));c&&s++,r.push(new Sa(l,o,c))}else r.push(new Sa(l))}),n);let l=[];for(let t=e;t<o;t++)l.push(new Sa(i.maps[t]));let c=this.items.slice(0,n).append(l).append(r),u=new ba(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,n=[],i=0;return this.items.forEach(((o,s)=>{if(s>=t)n.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(r)),s=t&&t.getMap();if(r--,s&&e.appendMap(s,r),t){let a=o.selection&&o.selection.map(e.slice(r));a&&i++;let l,c=new Sa(s.invert(),t,a),u=n.length-1;(l=n.length&&n[u].merge(c))?n[u]=l:n.push(c)}}else o.map&&r--}),this.items.length,0),new ba(Oa.from(n.reverse()),i)}}ba.empty=new ba(Oa.empty,0);class Sa{constructor(t,e,r,n){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=n}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Sa(e.getMap().invert(),e,this.selection)}}}class Aa{constructor(t,e,r,n,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=n,this.prevComposition=i}}const Ea=20;function Ta(t){let e=[];for(let r=t.length-1;r>=0&&0==e.length;r--)t[r].forEach(((t,r,n,i)=>e.push(n,i)));return e}function Na(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}let _a=!1,Ca=null;function wa(t){let e=t.plugins;if(Ca!=e){_a=!1,Ca=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){_a=!0;break}}return _a}const ka=new A.hs("history"),Ra=new A.hs("closeHistory");function Pa(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new A.k_({key:ka,state:{init:()=>new Aa(ba.empty,ba.empty,null,0,-1),apply:(e,r,n)=>function(t,e,r,n){let i,o=r.getMeta(ka);if(o)return o.historyState;r.getMeta(Ra)&&(t=new Aa(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(s&&s.getMeta(ka))return s.getMeta(ka).redo?new Aa(t.done.addTransform(r,void 0,n,wa(e)),t.undone,Ta(r.mapping.maps),t.prevTime,t.prevComposition):new Aa(t.done,t.undone.addTransform(r,void 0,n,wa(e)),null,t.prevTime,t.prevComposition);if(!1===r.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=r.getMeta("rebased"))?new Aa(t.done.rebased(r,i),t.undone.rebased(r,i),Na(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Aa(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Na(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);{let i=r.getMeta("composition"),o=0==t.prevTime||!s&&t.prevComposition!=i&&(t.prevTime<(r.time||0)-n.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach(((t,n)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&n>=e[i]&&(r=!0)})),r}(r,t.prevRanges)),a=s?Na(t.prevRanges,r.mapping):Ta(r.mapping.maps);return new Aa(t.done.addTransform(r,o?e.selection.getBookmark():void 0,n,wa(e)),ba.empty,a,r.time,null==i?t.prevComposition:i)}}(r,n,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,n="historyUndo"==r?La:"historyRedo"==r?ja:null;return!!n&&(e.preventDefault(),n(t.state,t.dispatch))}}}})}function Ia(t,e){return(r,n)=>{let i=ka.getState(r);if(!i||0==(t?i.undone:i.done).eventCount)return!1;if(n){let o=function(t,e,r){let n=wa(e),i=ka.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,n),l=new Aa(r?a:o.remaining,r?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(ka,{redo:r,historyState:l})}(i,r,t);o&&n(e?o.scrollIntoView():o)}return!0}}const La=Ia(!1,!0),ja=Ia(!0,!0);Ia(!1,!1),Ia(!0,!1);for(var Da={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ma={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qa="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Fa="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ua=0;Ua<10;Ua++)Da[48+Ua]=Da[96+Ua]=String(Ua);for(Ua=1;Ua<=24;Ua++)Da[Ua+111]="F"+Ua;for(Ua=65;Ua<=90;Ua++)Da[Ua]=String.fromCharCode(Ua+32),Ma[Ua]=String.fromCharCode(Ua);for(var Ba in Da)Ma.hasOwnProperty(Ba)||(Ma[Ba]=Da[Ba]);const za="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Va(t){let e,r,n,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let t=0;t<o.length-1;t++){let s=o[t];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))n=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);za?i=!0:r=!0}}return e&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),n&&(s="Shift-"+s),s}function Ha(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Ja(t){return new A.k_({props:{handleKeyDown:Ga(t)}})}function Ga(t){let e=function(t){let e=Object.create(null);for(let r in t)e[Va(r)]=t[r];return e}(t);return function(t,r){let n,i=function(t){var e=!(qa&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Fa&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Ma:Da)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),o=e[Ha(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(1==i.length&&" "!=i){if(r.shiftKey){let n=e[Ha(i,r,!1)];if(n&&n(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(n=Da[r.keyCode])&&n!=i){let i=e[Ha(n,r)];if(i&&i(t.state,t.dispatch,t))return!0}}return!1}}function Wa(t){this.content=t}Wa.prototype={constructor:Wa,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return-1==i?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new Wa(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new Wa(r)},addToStart:function(t,e){return new Wa([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Wa(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(-1==o?i.length:o,0,e,r),new Wa(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=Wa.from(t)).size?new Wa(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=Wa.from(t)).size?new Wa(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Wa.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach((function(e,r){t[e]=r})),t},get size(){return this.content.length>>1}},Wa.from=function(t){if(t instanceof Wa)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Wa(e)};const Ka=Wa;function Ya(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let t=0;i.text[t]==o.text[t];t++)r++;return r}if(i.content.size||o.content.size){let t=Ya(i.content,o.content,r+1);if(null!=t)return t}r+=i.nodeSize}else r+=i.nodeSize}}function $a(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let t=0,e=Math.min(s.text.length,a.text.length);for(;t<e&&s.text[s.text.length-t-1]==a.text[a.text.length-t-1];)t++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let t=$a(s.content,a.content,r-1,n-1);if(t)return t}r-=l,n-=l}else r-=l,n-=l}}class Qa{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,r,n=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),r,n+i)}s=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,n){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{let l=s.isText?s.text.slice(Math.max(t,a)-a,e-a):s.isLeaf?n?"function"==typeof n?n(s):n:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&r&&(o?o=!1:i+=r),i+=l}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new Qa(n,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],n=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new Qa(r,n)}cutByIndex(t,e){return t==e?Qa.empty:0==t&&e==this.content.length?this:new Qa(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new Qa(n,i)}addToStart(t){return new Qa([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Qa(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let n=this.content[e];t(n,r,e),r+=n.nodeSize}}findDiffStart(t,e=0){return Ya(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return $a(this,t,e,r)}findIndex(t,e=-1){if(0==t)return Za(0,t);if(t==this.size)return Za(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?Za(r+1,i):Za(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return Qa.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Qa(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Qa.empty;let e,r=0;for(let n=0;n<t.length;n++){let i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Qa(e||t,r)}static from(t){if(!t)return Qa.empty;if(t instanceof Qa)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Qa([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Qa.empty=new Qa([],0);const Xa={index:0,offset:0};function Za(t,e){return Xa.index=t,Xa.offset=e,Xa}function tl(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!tl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!tl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class el{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let n=0;n<t.length;n++){let i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&tl(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let n=r.create(e.attrs);return r.checkAttrs(n.attrs),n}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return el.none;if(t instanceof el)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}el.none=[];class rl extends Error{}class nl{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=ol(this.content,t+this.openStart,e);return r&&new nl(r,this.openStart,this.openEnd)}removeBetween(t,e){return new nl(il(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return nl.empty;let r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new nl(Qa.fromJSON(t,e.content),r,n)}static maxOpen(t,e=!0){let r=0,n=0;for(let n=t.firstChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new nl(t,r,n)}}function il(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(i==e||o.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(il(o.content,e-i-1,r-i-1)))}function ol(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=ol(s.content,e-o-1,r);return a&&t.replaceChild(i,s.copy(a))}function sl(t,e,r){if(r.openStart>t.depth)throw new rl("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new rl("Inconsistent open depths");return al(t,e,r,0)}function al(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=al(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){let{start:i,end:s}=function(t,e){let r=e.depth-t.openStart,n=e.node(r).copy(t.content);for(let t=r-1;t>=0;t--)n=e.node(t).copy(Qa.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return pl(o,dl(t,i,s,e,n))}{let n=t.parent,i=n.content;return pl(n,i.cut(0,t.parentOffset).append(r.content).append(i.cut(e.parentOffset)))}}return pl(o,fl(t,e,n))}function ll(t,e){if(!e.type.compatibleContent(t.type))throw new rl("Cannot join "+e.type.name+" onto "+t.type.name)}function cl(t,e,r){let n=t.node(r);return ll(n,e.node(r)),n}function ul(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function hl(t,e,r,n){let i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(ul(t.nodeAfter,n),o++));for(let t=o;t<s;t++)ul(i.child(t),n);e&&e.depth==r&&e.textOffset&&ul(e.nodeBefore,n)}function pl(t,e){return t.type.checkContent(e),t.copy(e)}function dl(t,e,r,n,i){let o=t.depth>i&&cl(t,e,i+1),s=n.depth>i&&cl(r,n,i+1),a=[];return hl(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(ll(o,s),ul(pl(o,dl(t,e,r,n,i+1)),a)):(o&&ul(pl(o,fl(t,e,i+1)),a),hl(e,r,i,a),s&&ul(pl(s,fl(r,n,i+1)),a)),hl(n,null,i,a),new Qa(a)}function fl(t,e,r){let n=[];if(hl(null,t,r,n),t.depth>r){ul(pl(cl(t,e,r+1),fl(t,e,r+1)),n)}return hl(e,null,r,n),new Qa(n)}nl.empty=new nl(Qa.empty,0,0);class gl{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)n+=r.child(e).nodeSize;return n}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return el.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){let t=r;r=n,n=t}let i=r.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||n&&i[o].isInSet(n.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,n=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new xl(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],n=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),s=i-o;if(r.push(e,t,n+o),!s)break;if(e=e.child(t),e.isText)break;i=s-1,n+=o+1}return new gl(e,r,i)}static resolveCached(t,e){let r=vl.get(t);if(r)for(let t=0;t<r.elts.length;t++){let n=r.elts[t];if(n.pos==e)return n}else vl.set(t,r=new yl);let n=r.elts[r.i]=gl.resolve(t,e);return r.i=(r.i+1)%ml,n}}class yl{constructor(){this.elts=[],this.i=0}}const ml=12,vl=new WeakMap;class xl{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ol=Object.create(null);class bl{constructor(t,e,r,n=el.none){this.type=t,this.attrs=e,this.marks=n,this.content=r||Qa.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,n=0){this.content.nodesBetween(t,e,r,n,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&tl(this.attrs,e||t.defaultAttrs||Ol)&&el.sameSet(this.marks,r||el.none)}copy(t=null){return t==this.content?this:new bl(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new bl(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return nl.empty;let n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new nl(a,n.depth-o,i.depth-o)}replace(t,e,r){return sl(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:n}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(n==t||e.isText)return e;t-=n+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let n=this.content.child(e-1);return{node:n,index:e-1,offset:r-n.nodeSize}}resolve(t){return gl.resolveCached(this,t)}resolveNoCache(t){return gl.resolve(this,t)}rangeHasMark(t,e,r){let n=!1;return e>t&&this.nodesBetween(t,e,(t=>(r.isInSet(t.marks)&&(n=!0),!n))),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Al(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=Qa.empty,n=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=n;t<i;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=el.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!el.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let n=Qa.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,n,r);return i.type.checkAttrs(i.attrs),i}}bl.prototype.text=void 0;class Sl extends bl{constructor(t,e,r,n){if(super(t,e,null,n),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Al(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sl(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sl(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Al(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class El{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new Tl(t,e);if(null==r.next)return El.empty;let n=Nl(r);r.next&&r.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return r(Pl(t,0));function r(n){let i=[];n.forEach((e=>{t[e].forEach((({term:e,to:r})=>{if(!e)return;let n;for(let t=0;t<i.length;t++)i[t][0]==e&&(n=i[t][1]);Pl(t,r).forEach((t=>{n||i.push([e,n=[]]),-1==n.indexOf(t)&&n.push(t)}))}))}));let o=e[n.join(",")]=new El(n.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(Rl);o.next.push({type:i[t][0],next:e[n.join(",")]||r(n)})}return o}}(function(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){let i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,r)=>t.concat(o(r,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=r();return n(e,s),i(o(t.expr,s),s),[n(s)]}if("plus"==t.type){let s=r();return i(o(t.expr,e),s),i(o(t.expr,s),s),[n(s)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=r();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=r();n(s,e),i(o(t.expr,s),e),s=e}return[n(s)]}if("name"==t.type)return[n(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let n=0;;n++){let s=o(t.exprs[n],e);if(n==t.exprs.length-1)return s;i(s,e=r())}}}(n));return function(t,e){for(let r=0,n=[t];r<n.length;r++){let t=n[r],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:r,next:s}=t.next[e];o.push(r.name),!i||r.isText||r.hasRequiredAttrs()||(i=!1),-1==n.indexOf(s)&&n.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let n=this;for(let i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let n=[this];return function i(o,s){let a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return Qa.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:r}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==n.indexOf(r)){n.push(r);let t=i(r,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let n=r.shift(),i=n.match;if(i.matchType(t)){let t=[];for(let e=n;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||n.type&&!s.validEnd||(r.push({match:o.contentMatch,type:o,via:n}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let n=0;n<r.next.length;n++)-1==t.indexOf(r.next[n].next)&&e(r.next[n].next)}(this),t.map(((e,r)=>{let n=r+(e.validEnd?"*":" ")+" ";for(let r=0;r<e.next.length;r++)n+=(r?", ":"")+e.next[r].type.name+"->"+t.indexOf(e.next[r].next);return n})).join("\n")}}El.empty=new El(!0);class Tl{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Nl(t){let e=[];do{e.push(_l(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function _l(t){let e=[];do{e.push(Cl(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Cl(t){let e=function(t){if(t.eat("(")){let e=Nl(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let t in r){let n=r[t];n.groups.indexOf(e)>-1&&i.push(n)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=kl(t,e)}return e}function wl(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function kl(t,e){let r=wl(t),n=r;return t.eat(",")&&(n="}"!=t.next?wl(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Rl(t,e){return e-t}function Pl(t,e){let r=[];return function e(n){let i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(let t=0;t<i.length;t++){let{term:n,to:o}=i[t];n||-1!=r.indexOf(o)||e(o)}}(e),r.sort(Rl)}function Il(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function Ll(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(void 0===i){let e=t[n];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+n);i=e.default}r[n]=i}return r}function jl(t,e,r,n){for(let n in e)if(!(n in t))throw new RangeError(`Unsupported attribute ${n} for ${r} of type ${n}`);for(let r in t){let n=t[r];n.validate&&n.validate(e[r])}}function Dl(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new ql(t,n,e[n]);return r}class Ml{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Dl(t,r.attrs),this.defaultAttrs=Il(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==El.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ll(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new bl(this,this.computeAttrs(t),Qa.from(e),el.setFrom(r))}createChecked(t=null,e,r){return e=Qa.from(e),this.checkContent(e),new bl(this,this.computeAttrs(t),e,el.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),(e=Qa.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let n=this.contentMatch.matchFragment(e),i=n&&n.fillBefore(Qa.empty,!0);return i?new bl(this,t,e.append(i),el.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){jl(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:el.none:t}static compile(t,e){let r=Object.create(null);t.forEach(((t,n)=>r[t]=new Ml(t,e,n)));let n=e.spec.topNode||"doc";if(!r[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let t in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class ql{constructor(t,e,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate="string"==typeof r.validate?function(t,e,r){let n=r.split("|");return r=>{let i=null===r?"null":typeof r;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}(t,e,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Fl{constructor(t,e,r,n){this.name=t,this.rank=e,this.schema=r,this.spec=n,this.attrs=Dl(t,n.attrs),this.excluded=null;let i=Il(this.attrs);this.instance=i?new el(this,i):null}create(t=null){return!t&&this.instance?this.instance:new el(this,Ll(this.attrs,t))}static compile(t,e){let r=Object.create(null),n=0;return t.forEach(((t,i)=>r[t]=new Fl(t,n++,e,i))),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){jl(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}function Ul(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t.marks[i],s=o;if(o)r.push(o);else for(let e in t.marks){let n=t.marks[e];("_"==i||n.spec.group&&n.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=n)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}class Bl{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let r=this.matchedStyles=[];e.forEach((t=>{if(function(t){return null!=t.tag}(t))this.tags.push(t);else if(function(t){return null!=t.style}(t)){let e=/[^=]*/.exec(t.style)[0];r.indexOf(e)<0&&r.push(e),this.styles.push(t)}})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let r=t.nodes[e.node];return r.contentMatch.matchType(r)}))}parse(t,e={}){let r=new Wl(this,e,!1);return r.addAll(t,el.none,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new Wl(this,e,!0);return r.addAll(t,el.none,e.from,e.to),nl.maxOpen(r.finish())}matchTag(t,e,r){for(let n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){let r=this.tags[n];if(Kl(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}matchStyle(t,e,r,n){for(let i=n?this.styles.indexOf(n)+1:0;i<this.styles.length;i++){let n=this.styles[i],o=n.style;if(!(0!=o.indexOf(t)||n.context&&!r.matchesContext(n.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}static schemaRules(t){let e=[];function r(t){let r=null==t.priority?50:t.priority,n=0;for(;n<e.length;n++){let t=e[n];if((null==t.priority?50:t.priority)<r)break}e.splice(n,0,t)}for(let e in t.marks){let n=t.marks[e].spec.parseDOM;n&&n.forEach((t=>{r(t=Yl(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let n=t.nodes[e].spec.parseDOM;n&&n.forEach((t=>{r(t=Yl(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Bl(t,Bl.schemaRules(t)))}}const zl={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vl={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Hl={ol:!0,ul:!0};function Jl(t,e,r){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&r}class Gl{constructor(t,e,r,n,i,o){this.type=t,this.attrs=e,this.marks=r,this.solid=n,this.options=o,this.content=[],this.activeMarks=el.none,this.match=i||(4&o?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Qa.from(t));if(!e){let e,r=this.type.contentMatch;return(e=r.findWrapping(t.type))?(this.match=r,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let r=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}let e=Qa.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(Qa.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!zl.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Wl{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let n,i=e.topNode,o=Jl(null,e.preserveWhitespace,0)|(r?4:0);n=i?new Gl(i.type,i.attrs,el.none,!0,e.topMatch||i.type.contentMatch,o):new Gl(r?null:t.schema.topNodeType,null,el.none,!0,null,o),this.nodes=[n],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let r=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(1&n.options)r=2&n.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let e=n.content[n.content.length-1],i=t.previousSibling;(!e||i&&"BR"==i.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,r){let n,i=t.nodeName.toLowerCase();Hl.hasOwnProperty(i)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&Hl.hasOwnProperty(t)&&r?(r.appendChild(e),e=r):"li"==t?r=e:t&&(r=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,r));if(o?o.ignore:Vl.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let r,n=this.top,s=this.needsBlock;if(zl.hasOwnProperty(i))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),r=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t,e);let a=o&&o.skip?e:this.readStyles(t,e);a&&this.addAll(t,a),r&&this.sync(n),this.needsBlock=s}else{let r=this.readStyles(t,e);r&&this.addElementByRule(t,o,r,!1===o.consuming?n:void 0)}}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let r=t.style;if(r&&r.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let n=this.parser.matchedStyles[t],i=r.getPropertyValue(n);if(i)for(let t;;){let r=this.parser.matchStyle(n,i,this,t);if(!r)break;if(r.ignore)return null;if(e=r.clearMark?e.filter((t=>!r.clearMark(t))):e.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;t=r}}return e}addElementByRule(t,e,r,n){let i,o;if(e.node)if(o=this.parser.schema.nodes[e.node],o.isLeaf)this.insertNode(o.create(e.attrs),r)||this.leafFallback(t,r);else{let t=this.enter(o,e.attrs||null,r,e.preserveWhitespace);t&&(i=!0,r=t)}else{let t=this.parser.schema.marks[e.mark];r=r.concat(t.create(e.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,r,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t,r)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n,r)}i&&this.sync(s)&&this.open--}addAll(t,e,r,n){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,e);this.findAtPoint(t,i)}findPlace(t,e){let r,n;for(let e=this.open;e>=0;e--){let i=this.nodes[e],o=i.findWrapping(t);if(o&&(!r||r.length>o.length)&&(r=o,n=i,!o.length))break;if(i.solid)break}if(!r)return null;this.sync(n);for(let t=0;t<r.length;t++)e=this.enterInner(r[t],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(e=this.enterInner(t,null,e))}let r=this.findPlace(t,e);if(r){this.closeExtra();let e=this.top;e.match&&(e.match=e.match.matchType(t.type));let n=el.none;for(let i of r.concat(t.marks))(e.type?e.type.allowsMarkType(i.type):$l(i.type,t.type))&&(n=i.addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,r,n){let i=this.findPlace(t.create(e),r);return i&&(i=this.enterInner(t,e,r,!0,n)),i}enterInner(t,e,r,n=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let s=Jl(t,i,o.options);4&o.options&&0==o.content.length&&(s|=4);let a=el.none;return r=r.filter((e=>!(o.type?o.type.allowsMarkType(e.type):$l(e.type,t))||(a=e.addToSet(a),!1))),this.nodes.push(new Gl(t,e,a,n,null,s)),this.open++,r}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let e=r.length-1;e>=0;e--)t+=r[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let n=0;n<this.find.length;n++)if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)){e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,n=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(n?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&n?this.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!t||t.name!=a&&-1==t.groups.indexOf(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Kl(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Yl(t){let e={};for(let r in t)e[r]=t[r];return e}function $l(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let r=0;r<t.edgeCount;r++){let{type:n,next:i}=t.edge(r);if(n==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}new WeakMap;var Ql=r(41811),Xl=r(60680),Zl=r.n(Xl),tc=new RegExp("[\\s".concat(Zl()("\"'=!<>()~,[]|&{}*/%+^$#@?;"),"]")),ec=function(t){return tc.test(t)?'"'.concat(t.replace(/"/g,'\\"'),'"'):t},rc=function(t){return function(t){return function(t){return!(t.length<2)&&"'"===t[0]&&"'"===t[t.length-1]&&"\\"!==t[t.length-2]}(t)||function(t){return!(t.length<2)&&'"'===t[0]&&'"'===t[t.length-1]&&"\\"!==t[t.length-2]}(t)}(t)?t.slice(1,-1).replace(/(?:\\(.))/g,"$1"):t.startsWith('"')||t.startsWith("'")?t.slice(1).replace(/(?:\\(.))/g,"$1"):t},nc=function(){return[]},ic=function(t){t.getChildren().forEach((function(e){e.parent=t}))};function oc(t){return t.visitArgument?t.visitArgument(this):t.visitChildren(this)}function sc(t){t.enterArgument&&t.enterArgument(this)}function ac(t){t.exitArgument&&t.exitArgument(this)}var lc=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:oc,enterNode:sc,exitNode:ac,getChildren:nc,parent:null}},cc="clause",uc="operand",hc="compound";function pc(t){var e,r=[t];t.clauseType===hc&&t.operator.value===this.operator.value&&(r=t.clauses),(e=this.clauses).push.apply(e,(0,c.A)(r)),ic(this)}function dc(){this.parent&&this.parent.removeClause(this)}function fc(t){this.clauses=this.clauses.filter((function(e){return e!==t})),1===this.clauses.length?this.replace(this.clauses[0]):0===this.clauses.length&&this.remove()}function gc(t){this.parent&&this.parent.replaceClause(this,t)}function yc(t,e){this.clauses=this.clauses.map((function(r){return r===t?e:r})),ic(this)}function mc(t){return t.visitCompoundClause?t.visitCompoundClause(this):t.visitChildren(this)}function vc(t){t.enterCompoundClause&&t.enterCompoundClause(this)}function xc(t){t.exitCompoundClause&&t.exitCompoundClause(this)}function Oc(){return[this.operator].concat((0,c.A)(this.clauses))}var bc=function(t,e){var r={type:cc,clauseType:hc,operator:t,clauses:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:mc,enterNode:vc,exitNode:xc,getChildren:Oc,parent:null,appendClause:pc,remove:dc,removeClause:fc,replace:gc,replaceClause:yc};return ic(r),r};function Sc(t){return t.visitCompoundOperator?t.visitCompoundOperator(this):t.visitChildren(this)}function Ac(t){t.enterCompoundOperator&&t.enterCompoundOperator(this)}function Ec(t){t.exitCompoundOperator&&t.exitCompoundOperator(this)}var Tc=function(t,e){return{value:t,positions:e,position:null,accept:Sc,enterNode:Ac,exitNode:Ec,getChildren:nc,parent:null}};function Nc(t){return t.visitField?t.visitField(this):t.visitChildren(this)}function _c(t){t.enterField&&t.enterField(this)}function Cc(t){t.exitField&&t.exitField(this)}function wc(){return this.properties?(0,c.A)(this.properties):[]}var kc=function(t,e,r){var n={text:e,value:t,properties:r,position:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,accept:Nc,enterNode:_c,exitNode:Cc,getChildren:wc,parent:null};return ic(n),n},Rc="list",Pc="empty";function Ic(t){return t.visitFunctionOperand?t.visitFunctionOperand(this):t.visitChildren(this)}function Lc(t){t.enterFunctionOperand&&t.enterFunctionOperand(this)}function jc(t){t.exitFunctionOperand&&t.exitFunctionOperand(this)}function Dc(){return[this.function].concat((0,c.A)(this.arguments))}var Mc=function(t,e){var r={type:uc,operandType:"function",function:t,arguments:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Ic,enterNode:Lc,exitNode:jc,getChildren:Dc,parent:null};return ic(r),r};function qc(t){return t.visitFunction?t.visitFunction(this):t.visitChildren(this)}function Fc(t){t.enterFunction&&t.enterFunction(this)}function Uc(t){t.exitFunction&&t.exitFunction(this)}var Bc=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:qc,enterNode:Fc,exitNode:Uc,getChildren:nc,parent:null}};function zc(t){return t.visitKeywordOperand?t.visitKeywordOperand(this):t.visitChildren(this)}function Vc(t){t.enterKeywordOperand&&t.enterKeywordOperand(this)}function Hc(t){t.exitKeywordOperand&&t.exitKeywordOperand(this)}var Jc=function(t){return{type:uc,operandType:"keyword",value:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:zc,enterNode:Vc,exitNode:Hc,getChildren:nc,parent:null}};function Gc(t){var e;(e=this.values).push.apply(e,(0,c.A)(t.operandType===Rc?t.values:[t])),ic(this)}function Wc(t){return t.visitListOperand?t.visitListOperand(this):t.visitChildren(this)}function Kc(t){t.enterListOperand&&t.enterListOperand(this)}function Yc(t){t.exitListOperand&&t.exitListOperand(this)}function $c(){return(0,c.A)(this.values)}var Qc=function(t){var e={type:uc,operandType:Rc,values:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:Wc,enterNode:Kc,exitNode:Yc,getChildren:$c,parent:null,appendOperand:Gc};return ic(e),e};function Xc(){this.parent&&this.parent.removeClause(this)}function Zc(t){this.clause===t&&this.remove()}function tu(t){this.parent&&this.parent.replaceClause(this,t)}function eu(t,e){this.clause===t&&(this.clause=e,ic(this))}function ru(t){return t.visitNotClauseOperator?t.visitNotClauseOperator(this):t.visitChildren(this)}function nu(t){t.enterNotClauseOperator&&t.enterNotClauseOperator(this)}function iu(t){t.exitNotClauseOperator&&t.exitNotClauseOperator(this)}var ou=function(){return su()},su=function(){return{value:"not",position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,accept:ru,enterNode:nu,exitNode:iu,getChildren:nc,parent:null}};function au(t){return t.visitNotClause?t.visitNotClause(this):t.visitChildren(this)}function lu(t){t.enterNotClause&&t.enterNotClause(this)}function cu(t){t.exitNotClause&&t.exitNotClause(this)}function uu(){return[this.operator,this.clause]}var hu=function(t,e){var r={type:cc,clauseType:"not",clause:t,operator:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:au,enterNode:lu,exitNode:cu,getChildren:uu,parent:null,remove:Xc,removeClause:Zc,replace:tu,replaceClause:eu};return ic(r),r};function pu(t){return t.visitOperator?t.visitOperator(this):t.visitChildren(this)}function du(t){t.enterOperator&&t.enterOperator(this)}function fu(t){t.exitOperator&&t.exitOperator(this)}var gu=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:pu,enterNode:du,exitNode:fu,getChildren:nc,parent:null}};function yu(t){this.fields.unshift(t),ic(this)}function mu(t){this.fields.length>0&&this.fields[0].setOrderDirection(t)}function vu(t){this.parent&&this.parent.replaceOrderBy(t)}function xu(t,e){this.fields=this.fields.map((function(r){return r===t?e:r})),ic(this)}function Ou(){this.parent&&this.parent.removeOrderBy()}function bu(t){this.fields=this.fields.filter((function(e){return e!==t})),0===this.fields.length&&this.remove()}function Su(t){return t.visitOrderByOperator?t.visitOrderByOperator(this):t.visitChildren(this)}function Au(t){t.enterOrderByOperator&&t.enterOrderByOperator(this)}function Eu(t){t.exitOrderByOperator&&t.exitOrderByOperator(this)}var Tu=function(){return Nu()},Nu=function(){return{value:"ORDER BY",position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,accept:Su,enterNode:Au,exitNode:Eu,getChildren:nc,parent:null}};function _u(t){return t.visitOrderBy?t.visitOrderBy(this):t.visitChildren(this)}function Cu(t){t.enterOrderBy&&t.enterOrderBy(this)}function wu(t){t.exitOrderBy&&t.exitOrderBy(this)}function ku(){return[this.operator].concat((0,c.A)(this.fields))}var Ru=function(t,e){var r={type:"order_by",operator:e,fields:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:_u,enterNode:Cu,exitNode:wu,getChildren:ku,parent:null,prependOrderField:yu,setOrderDirection:mu,replace:vu,replaceOrderField:xu,remove:Ou,removeOrderField:bu};return ic(r),r};function Pu(t){return t.visitOrderByDirection?t.visitOrderByDirection(this):t.visitChildren(this)}function Iu(t){t.enterOrderByDirection&&t.enterOrderByDirection(this)}function Lu(t){t.exitOrderByDirection&&t.exitOrderByDirection(this)}var ju=function(t){return{value:t,position:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,accept:Pu,enterNode:Iu,exitNode:Lu,getChildren:nc,parent:null}};function Du(t){this.direction=t,ic(this)}function Mu(t){this.parent&&this.parent.replaceOrderField(this,t)}function qu(){this.parent&&this.parent.removeOrderField(this)}function Fu(t){return t.visitOrderByField?t.visitOrderByField(this):t.visitChildren(this)}function Uu(t){t.enterOrderByField&&t.enterOrderByField(this)}function Bu(t){t.exitOrderByField&&t.exitOrderByField(this)}function zu(){var t=[this.field];return this.direction&&t.push(this.direction),t}var Vu=function(t,e){var r={field:t,direction:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Fu,enterNode:Uu,exitNode:Bu,getChildren:zu,parent:null,setOrderDirection:Du,replace:Mu,remove:qu};return ic(r),r};function Hu(t){return t.visitPredicate?t.visitPredicate(this):t.visitChildren(this)}function Ju(t){t.enterPredicate&&t.enterPredicate(this)}function Gu(t){t.exitPredicate&&t.exitPredicate(this)}function Wu(){var t=[this.operator];return this.operand&&t.push(this.operand),t}var Ku=function(t,e){var r={operator:t,operand:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Hu,enterNode:Ju,exitNode:Gu,getChildren:Wu,parent:null};return ic(r),r};function Yu(t){return t.visitPredicateOperator?t.visitPredicateOperator(this):t.visitChildren(this)}function $u(t){t.enterPredicateOperator&&t.enterPredicateOperator(this)}function Qu(t){t.exitPredicateOperator&&t.exitPredicateOperator(this)}var Xu=function(t,e){return{text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Yu,enterNode:$u,exitNode:Qu,getChildren:nc,parent:null}};function Zu(t){return t.visitProperty?t.visitProperty(this):t.visitChildren(this)}function th(t){t.enterProperty&&t.enterProperty(this)}function eh(t){t.exitProperty&&t.exitProperty(this)}function rh(){var t=[];return this.key&&t.push(this.key),this.path?t.concat(this.path):t}var nh=function(t,e){var r={key:t,path:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Zu,enterNode:th,exitNode:eh,getChildren:rh,parent:null};return ic(r),r};function ih(t,e){if(this.where){var r=Rh.compoundOperator(e),n=Rh.compoundClause(r,[]);n.appendClause(this.where),n.appendClause(t),this.where=n}else this.where=t;ic(this)}function oh(t){this.orderBy?this.orderBy.prependOrderField(t):(this.orderBy=Rh.orderBy([t]),ic(this))}function sh(t){this.orderBy&&this.orderBy.setOrderDirection(t)}function ah(t){this.where===t&&(this.where=void 0)}function lh(t){t&&0===t.fields.length?this.removeOrderBy():(this.orderBy=t,ic(this))}function ch(t,e){this.where===t&&(this.where=e,ic(this))}function uh(){this.orderBy=void 0}function hh(t){return t.visitQuery?t.visitQuery(this):t.visitChildren(this)}function ph(t){t.enterQuery&&t.enterQuery(this)}function dh(t){t.exitQuery&&t.exitQuery(this)}function fh(){var t=[];return this.where&&t.push(this.where),this.orderBy&&t.push(this.orderBy),t}var gh=function(t,e){var r={type:"query",where:t,orderBy:e,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:hh,enterNode:ph,exitNode:dh,getChildren:fh,parent:null,appendClause:ih,prependOrderField:oh,setOrderDirection:sh,removeClause:ah,replaceClause:ch,replaceOrderBy:lh,removeOrderBy:uh};return ic(r),r};function yh(t){this.operator=t,ic(this)}function mh(t){this.operand=t,ic(this)}function vh(t){this.operand?this.operand.operandType===Rc?this.operand.appendOperand(t):this.setOperand(Rh.listOperand([this.operand].concat((0,c.A)(t.operandType===Rc?t.values:[t])))):this.setOperand(t)}function xh(){this.parent&&this.parent.removeClause(this)}function Oh(t){this.parent&&this.parent.replaceClause(this,t)}function bh(t){return t.visitTerminalClause?t.visitTerminalClause(this):t.visitChildren(this)}function Sh(t){t.enterTerminalClause&&t.enterTerminalClause(this)}function Ah(t){t.exitTerminalClause&&t.exitTerminalClause(this)}function Eh(){var t=[this.field];return this.operator&&t.push(this.operator),this.operand&&t.push(this.operand),t.concat(this.predicates)}var Th=function(t,e,r,n){var i={type:cc,clauseType:"terminal",field:t,operator:e,operand:r,predicates:n,position:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,accept:bh,enterNode:Sh,exitNode:Ah,getChildren:Eh,parent:null,setOperator:yh,setOperand:mh,appendOperand:vh,remove:xh,replace:Oh};return ic(i),i};function Nh(t){return t.visitValueOperand?t.visitValueOperand(this):t.visitChildren(this)}function _h(t){t.enterValueOperand&&t.enterValueOperand(this)}function Ch(t){t.exitValueOperand&&t.exitValueOperand(this)}var wh=function(t,e){return{type:uc,operandType:"value",text:e,value:t,position:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,accept:Nh,enterNode:_h,exitNode:Ch,getChildren:nc,parent:null}},kh={query:gh,compoundClause:bc,compoundOperator:Tc,terminalClause:Th,notClause:hu,notClauseOperator:su,predicate:Ku,predicateOperator:Xu,field:kc,property:nh,operator:gu,valueOperand:wh,keywordOperand:Jc,functionOperand:Mc,functionString:Bc,argument:lc,listOperand:Qc,orderBy:Ru,orderByOperator:Nu,orderByField:Vu,orderByDirection:ju};const Rh={jast:function(t){return{query:t,represents:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",errors:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}},query:function(t,e){return gh(t,e)},compoundClause:function(t,e){return bc(t,e)},compoundOperator:function(t){return Tc(t,[])},terminalClause:function(t,e,r){return Th(t,e,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[])},notClause:function(t){return hu(t,ou())},notClauseOperator:ou,predicate:function(t,e){return Ku(t,e)},predicateOperator:function(t){return Xu(t,t)},field:function(t,e){return kc(t,ec(t),e)},property:function(t){return nh(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},operator:function(t){return gu(t,t)},valueOperand:function(t){return wh(t,ec(t))},keywordOperand:function(){return Jc(Pc)},functionOperand:function(t){return Mc(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},functionString:function(t){return Bc(t,ec(t))},argument:function(t){return lc(t,ec(t))},listOperand:function(t){return Qc(t)},orderBy:function(t){return Ru(t,Tu())},orderByOperator:Tu,orderByField:function(t,e){return Vu(t,e)},orderByDirection:function(t){return ju(t)},byText:{argument:function(t){return lc(rc(t),t)},valueOperand:function(t){return wh(rc(t),t)}}};var Ph=(0,bi.A)((function t(){var e=this;(0,Si.A)(this,t),(0,u.A)(this,"errors",[]),(0,u.A)(this,"syntaxError",(function(t,r,n,i,o){void 0===r?e.errors.push(new Hs(o)):e.errors.push(new Gs(o,r.startIndex,r.stopIndex+1,n,i))}))})),Ih=function(){function t(e){(0,Si.A)(this,t),this.tokens=e}return(0,bi.A)(t,[{key:"visit",value:function(t){throw new Error("Unsupported operation visit(ParseTree)")}},{key:"visitChildren",value:function(t){throw new Error("Unsupported operation visitChildren(RuleNode)")}},{key:"visitErrorNode",value:function(t){throw new Error("Unsupported operation visitErrorNode(ErrorNode)")}},{key:"visitTerminal",value:function(t){throw new Error("Unsupported operation visitTerminal(TerminalNode)")}}]),t}(),Lh=function(t,e){return[t.startIndex,(e||t).stopIndex+1]},jh=function(t){return[t.start.startIndex,t.stop?t.stop.stopIndex+1:t.start.stopIndex]},Dh=function(t){return t.map((function(t){return Lh(t.payload)}))},Mh=function(t){return t.toLowerCase().replace(/\s+/g," ")};function qh(t){return void 0!==t}function Fh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fh=function(){return!!t})()}var Uh=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Fh(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"visitJqlString",(function(e){var r,n=t.tokens.getText(e),i=jh(e);return r=e.QUOTE_STRING()?n.replace(/^"|"$/g,"").replace(/(?:\\(.))/g,"$1"):e.SQUOTE_STRING()?n.replace(/^'|'$/g,"").replace(/(?:\\(.))/g,"$1"):n,{text:n,value:r,position:i}})),t}return(0,bi.A)(i)}(Ih);function Bh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bh=function(){return!!t})()}var zh=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Bh(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"stringVisitor",new Uh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlArgument",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return kh.argument(n.value,n.text,n.position)}var i=t.tokens.getText(e);return kh.argument(i,i,jh(e))})),t}return(0,bi.A)(i)}(Ih);function Vh(t){var e=Hh();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function Hh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hh=function(){return!!t})()}var Jh=function(t){(0,Vi.A)(r,t);var e=Vh(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"stringVisitor",new Uh(t.tokens)),(0,u.A)((0,Ki.A)(t),"fieldPropertyVisitor",new Gh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlNumberField",(function(e){var r=t.tokens.getText(e);return kh.field(r,r,void 0,jh(e))})),(0,u.A)((0,Ki.A)(t),"visitJqlNonNumberField",(function(e){var r=e.jqlString(),n=e.jqlFieldProperty().map((function(e){return e.accept(t.fieldPropertyVisitor)}));if(void 0!==r){var i=r.accept(t.stringVisitor);return kh.field(i.value,i.text,n,jh(e))}var o=t.tokens.getText(e);return kh.field(o,o,n,jh(e))})),t}return(0,bi.A)(r)}(Ih),Gh=function(t){(0,Vi.A)(r,t);var e=Vh(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"argumentVisitor",new zh(t.tokens)),(0,u.A)((0,Ki.A)(t),"propertyArgumentVisitor",new Wh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlFieldProperty",(function(e){var r=e.jqlArgument(),n=e.jqlPropertyArgument().map((function(e){return e.accept(t.propertyArgumentVisitor)}));return kh.property(r&&r.accept(t.argumentVisitor),n,jh(e))})),t}return(0,bi.A)(r)}(Ih),Wh=function(t){(0,Vi.A)(r,t);var e=Vh(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"argumentVisitor",new zh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlPropertyArgument",(function(e){return e.jqlArgument().accept(t.argumentVisitor)})),t}return(0,bi.A)(r)}(Ih);function Kh(t){var e=Yh();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function Yh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yh=function(){return!!t})()}var $h=function(t){(0,Vi.A)(r,t);var e=Kh(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"searchSortVisitor",new Qh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlOrderBy",(function(e){if(!e.exception){var r=kh.orderByOperator(Lh(e.ORDER().payload,e.BY().payload)),n=e.jqlSearchSort().map((function(e){return e.accept(t.searchSortVisitor)})).filter(qh);return kh.orderBy(n,r,jh(e))}})),t}return(0,bi.A)(r)}(Ih),Qh=function(t){(0,Vi.A)(r,t);var e=Kh(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"fieldVisitor",new Jh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlSearchSort",(function(e){if(!e.jqlField().exception){var r,n=e.DESC(),i=e.ASC();return void 0!==n?r=kh.orderByDirection("DESC",Lh(n.payload)):void 0!==i&&(r=kh.orderByDirection("ASC",Lh(i.payload))),kh.orderByField(e.jqlField().accept(t.fieldVisitor),r,jh(e))}})),t}return(0,bi.A)(r)}(Ih);function Xh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xh=function(){return!!t})()}var Zh=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Xh(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"visitJqlNumber",(function(e){var r=t.tokens.getText(e);return kh.valueOperand(r,r,jh(e))})),t}return(0,bi.A)(i)}(Ih);function tp(t){var e=ep();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function ep(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ep=function(){return!!t})()}var rp=function(t){(0,Vi.A)(r,t);var e=tp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"stringVisitor",new Uh(t.tokens)),(0,u.A)((0,Ki.A)(t),"numberVisitor",new Zh(t.tokens)),(0,u.A)((0,Ki.A)(t),"functionNameVisitor",new np(t.tokens)),(0,u.A)((0,Ki.A)(t),"argumentListVisitor",new ip(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlOperand",(function(e){var r=[e.jqlEmpty(),e.jqlValue(),e.jqlList(),e.jqlFunction()].find(qh);return null==r?void 0:r.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitJqlEmpty",(function(t){if(!t.exception)return kh.keywordOperand(Pc,Lh(t.EMPTY().payload))})),(0,u.A)((0,Ki.A)(t),"visitJqlValue",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return kh.valueOperand(n.value,n.text,n.position)}var i=e.jqlNumber();if(void 0!==i)return i.accept(t.numberVisitor)})),(0,u.A)((0,Ki.A)(t),"visitJqlList",(function(e){var r=e.jqlOperand().map((function(e){return e.accept((0,Ki.A)(t))})).filter(qh);return kh.listOperand(r,jh(e))})),(0,u.A)((0,Ki.A)(t),"visitJqlFunction",(function(e){var r=e.jqlArgumentList();return kh.functionOperand(e.jqlFunctionName().accept(t.functionNameVisitor),void 0===r?[]:r.accept(t.argumentListVisitor),jh(e))})),t}return(0,bi.A)(r)}(Ih),np=function(t){(0,Vi.A)(r,t);var e=tp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"stringVisitor",new Uh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlFunctionName",(function(e){var r=e.jqlString();if(void 0!==r){var n=r.accept(t.stringVisitor);return kh.functionString(n.value,n.text,n.position)}var i=t.tokens.getText(e);return kh.functionString(i,i,jh(e))})),t}return(0,bi.A)(r)}(Ih),ip=function(t){(0,Vi.A)(r,t);var e=tp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"argumentVisitor",new zh(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlArgumentList",(function(e){return e.jqlArgument().map((function(e){return e.accept(t.argumentVisitor)}))})),t}return(0,bi.A)(r)}(Ih);function op(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(op=function(){return!!t})()}var sp=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=op(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"visitChildren",(function(e){var r=e.sourceInterval,n=t.tokens.getText(r);if(n){var i=Mh(n),o=r.a,s=r.b,a=t.tokens.get(o),l=t.tokens.get(s),c=Lh(a,l);if(function(t){return vi.includes(t)}(i))return kh.operator(i,n,c)}})),t}return(0,bi.A)(i,[{key:"visitJqlEqualsOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return ui.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised equals operators"));return kh.operator(e,e,jh(t))}},{key:"visitJqlLikeOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return hi.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised like operators"));return kh.operator(e,e,jh(t))}},{key:"visitJqlComparisonOperator",value:function(t){var e=this.tokens.getText(t);if(!function(t){return pi.includes(t)}(e))throw new Error("'".concat(e,"' does not match any of the recognised comparison operators"));return kh.operator(e,e,jh(t))}},{key:"visitJqlInOperator",value:function(t){var e=this.tokens.getText(t),r=Mh(e);if(function(t){return di.includes(t)}(r))return kh.operator(r,e,jh(t))}},{key:"visitJqlIsOperator",value:function(t){var e=this.tokens.getText(t),r=Mh(e);if(!function(t){return fi.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised is operators"));return kh.operator(r,e,jh(t))}},{key:"visitJqlWasOperator",value:function(t){var e=this.tokens.getText(t),r=Mh(e);if(!function(t){return gi.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised was operators"));return kh.operator(r,e,jh(t))}},{key:"visitJqlWasInOperator",value:function(t){var e=this.tokens.getText(t),r=Mh(e);if(!function(t){return yi.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised was in operators"));return kh.operator(r,e,jh(t))}},{key:"visitJqlChangedOperator",value:function(t){var e=this.tokens.getText(t),r=Mh(e);if(!function(t){return mi.includes(t)}(r))throw new Error("'".concat(e,"' does not match any of the recognised changed operators"));return kh.operator(r,e,jh(t))}}]),i}(Ih),ap=["after","before","by","during","from","on","to"];function lp(t){var e=cp();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function cp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cp=function(){return!!t})()}var up=function(t){(0,Vi.A)(r,t);var e=lp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"predicateOperatorVisitor",new hp(t.tokens)),(0,u.A)((0,Ki.A)(t),"predicateOperandVisitor",new pp(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlWasPredicate",(function(e){var r=t.getOperatorForContexts([e.jqlDatePredicateOperator(),e.jqlDateRangePredicateOperator(),e.jqlUserPredicateOperator()]),n=e.jqlPredicateOperand().accept(t.predicateOperandVisitor),i=jh(e);return kh.predicate(r,n,i)})),(0,u.A)((0,Ki.A)(t),"visitJqlChangedPredicate",(function(e){var r=t.getOperatorForContexts([e.jqlDatePredicateOperator(),e.jqlDateRangePredicateOperator(),e.jqlUserPredicateOperator(),e.jqlValuePredicateOperator()]),n=e.jqlPredicateOperand().accept(t.predicateOperandVisitor),i=jh(e);return kh.predicate(r,n,i)})),(0,u.A)((0,Ki.A)(t),"getOperatorForContexts",(function(e){var r=e.find(qh);if(void 0!==r)return r.accept(t.predicateOperatorVisitor);throw new Error("Undefined predicate operator context")})),t}return(0,bi.A)(r)}(Ih),hp=function(t){(0,Vi.A)(r,t);var e=lp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"visitJqlDatePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,u.A)((0,Ki.A)(t),"visitJqlDateRangePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,u.A)((0,Ki.A)(t),"visitJqlUserPredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,u.A)((0,Ki.A)(t),"visitJqlValuePredicateOperator",(function(e){return t.getPredicateOperator(e)})),(0,u.A)((0,Ki.A)(t),"getPredicateOperator",(function(e){var r=t.tokens.getText(e),n=r.toLowerCase().replace(/\s+/g," ");if(!function(t){return ap.includes(t)}(n))throw new Error("Found a history predicate operator which does not map to a changed time predicate operator in the ast: ".concat(r));return kh.predicateOperator(n,r,jh(e))})),t}return(0,bi.A)(r)}(Ih),pp=function(t){(0,Vi.A)(r,t);var e=lp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"operandVisitor",new rp(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlPredicateOperand",(function(e){return e.jqlOperand().accept(t.operandVisitor)})),t}return(0,bi.A)(r)}(Ih);function dp(t){var e=fp();return function(){var r,n=(0,Ji.A)(t);if(e){var i=(0,Ji.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,Hi.A)(this,r)}}function fp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fp=function(){return!!t})()}var gp=function(t){(0,Vi.A)(r,t);var e=dp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"fieldVisitor",new Jh(t.tokens)),(0,u.A)((0,Ki.A)(t),"terminalClauseRhsVisitor",new yp(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlTerminalClause",(function(e){var r=e.jqlField().accept(t.fieldVisitor),n=e.jqlTerminalClauseRhs().accept(t.terminalClauseRhsVisitor),i=n.operator,o=n.operand,s=n.predicates,a=jh(e);return kh.terminalClause(r,i,o,s,a)})),t}return(0,bi.A)(r)}(Ih),yp=function(t){(0,Vi.A)(r,t);var e=dp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"operatorVisitor",new sp(t.tokens)),(0,u.A)((0,Ki.A)(t),"terminalClauseOperandVisitor",new mp(t.tokens)),(0,u.A)((0,Ki.A)(t),"predicateVisitor",new up(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlEqualsClause",(function(e){return{operator:e.jqlEqualsOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,u.A)((0,Ki.A)(t),"visitJqlLikeClause",(function(e){return{operator:e.jqlLikeOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,u.A)((0,Ki.A)(t),"visitJqlComparisonClause",(function(e){return{operator:e.jqlComparisonOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,u.A)((0,Ki.A)(t),"visitJqlInClause",(function(e){return{operator:e.jqlInOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,u.A)((0,Ki.A)(t),"visitJqlIsClause",(function(e){return{operator:e.jqlIsOperator().accept(t.operatorVisitor),operand:e.accept(t.terminalClauseOperandVisitor),predicates:[]}})),(0,u.A)((0,Ki.A)(t),"visitJqlWasClause",(function(e){var r=e.jqlWasOperator().accept(t.operatorVisitor),n=e.accept(t.terminalClauseOperandVisitor),i=e.jqlWasPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(qh);return{operator:r,operand:n,predicates:i}})),(0,u.A)((0,Ki.A)(t),"visitJqlWasInClause",(function(e){var r=e.jqlWasInOperator().accept(t.operatorVisitor),n=e.accept(t.terminalClauseOperandVisitor),i=e.jqlWasPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(qh);return{operator:r,operand:n,predicates:i}})),(0,u.A)((0,Ki.A)(t),"visitJqlChangedClause",(function(e){var r=e.jqlChangedOperator().accept(t.operatorVisitor),n=e.jqlChangedPredicate().map((function(e){return e.accept(t.predicateVisitor)})).filter(qh);return{operator:r,operand:void 0,predicates:n}})),(0,u.A)((0,Ki.A)(t),"visitChildren",(function(e){return{operator:e.accept(t.operatorVisitor),operand:void 0,predicates:[]}})),t}return(0,bi.A)(r)}(Ih),mp=function(t){(0,Vi.A)(r,t);var e=dp(r);function r(){var t;(0,Si.A)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),(0,u.A)((0,Ki.A)(t),"operandVisitor",new rp(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlEqualsClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"visitJqlLikeClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"visitJqlComparisonClause",(function(e){return t.getOperandForContexts([e.jqlValue(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"visitJqlInClause",(function(e){return t.getOperandForContexts([e.jqlList(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"visitJqlIsClause",(function(e){return t.getOperandForContexts([e.jqlEmpty()])})),(0,u.A)((0,Ki.A)(t),"visitJqlWasClause",(function(e){return t.getOperandForContexts([e.jqlEmpty(),e.jqlValue(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"visitJqlWasInClause",(function(e){return t.getOperandForContexts([e.jqlList(),e.jqlFunction()])})),(0,u.A)((0,Ki.A)(t),"getOperandForContexts",(function(e){var r=e.find(qh);return null==r?void 0:r.accept(t.operandVisitor)})),t}return(0,bi.A)(r)}(Ih);function vp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vp=function(){return!!t})()}var xp=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=vp(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"terminalClauseVisitor",new gp(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlWhere",(function(e){return t.visitJqlOrClause(e.jqlOrClause())})),(0,u.A)((0,Ki.A)(t),"visitJqlOrClause",(function(e){var r=e.jqlAndClause().map((function(e){return e.accept((0,Ki.A)(t))})).filter(qh);if(r.length>1){var n=kh.compoundOperator("or",Dh(e.OR()));return kh.compoundClause(n,r,jh(e))}return 0===r.length?void 0:r[0]})),(0,u.A)((0,Ki.A)(t),"visitJqlAndClause",(function(e){var r=e.jqlNotClause().map((function(e){return e.accept((0,Ki.A)(t))})).filter(qh);if(r.length>1){var n=kh.compoundOperator("and",Dh(e.AND()));return kh.compoundClause(n,r,jh(e))}return 0===r.length?void 0:r[0]})),(0,u.A)((0,Ki.A)(t),"visitJqlNotClause",(function(e){var r,n=e.jqlNotClause(),i=e.jqlSubClause(),o=e.jqlTerminalClause();void 0!==n?r=n.accept((0,Ki.A)(t))||void 0:void 0!==i?r=i.accept((0,Ki.A)(t))||void 0:void 0!==o&&(r=o.accept(t.terminalClauseVisitor));var s=e.NOT();return(s=void 0===s?e.BANG():s)&&r?kh.notClause(r,kh.notClauseOperator(Lh(s.payload)),jh(e)):r})),(0,u.A)((0,Ki.A)(t),"visitJqlSubClause",(function(e){return t.visitJqlOrClause(e.jqlOrClause())})),t}return(0,bi.A)(i)}(Ih);function Op(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Op=function(){return!!t})()}var bp,Sp,Ap=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Op(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"whereVisitor",new xp(t.tokens)),(0,u.A)((0,Ki.A)(t),"orderByVisitor",new $h(t.tokens)),(0,u.A)((0,Ki.A)(t),"visitJqlQuery",(function(e){var r=e.jqlWhere(),n=e.jqlOrderBy();return kh.query(r&&r.accept(t.whereVisitor),n&&n.accept(t.orderByVisitor),jh(e))})),t}return(0,bi.A)(i)}(Ih),Ep=function(){function t(){(0,Si.A)(this,t),(0,u.A)(this,"errorListeners",[]),(0,u.A)(this,"errorHandler",void 0),(0,u.A)(this,"getTokens",(0,Ql.A)((function(t){var e=Gi.CharStreams.fromString(t),r=new us(e);return new Gi.CommonTokenStream(r)}))),(0,u.A)(this,"getParser",(0,Ql.A)((function(t){return new so(t)})))}return(0,bi.A)(t,[{key:"setErrorHandler",value:function(t){return this.errorHandler=t,this}},{key:"setErrorListeners",value:function(t){return this.errorListeners=this.errorListeners.concat(t),this}},{key:"build",value:function(t){var e=this.getTokens(t),r=this.getParser(e),n=new Ph;r.removeErrorListeners(),r.addErrorListener(n),this.errorListeners.forEach((function(t){return r.addErrorListener(t)})),this.errorHandler&&(r.errorHandler=this.errorHandler,this.errorHandler.reset(r));var i=new Ap(e);try{var o=r.jqlQuery().accept(i);return Rh.jast(o,t,n.errors)}catch(e){return Rh.jast(void 0,t,[new Hs(e.message,e)])}}}]),t}(),Tp=function(t,e,r){return Np(t.content,e,r)},Np=function(t,e,r){return _p(t,e,r,"\n")},_p=function(t,e,r,n,i){var o="",s=!1;return t.nodesBetween(e,r,(function(t,a){var l;t.isText?o+=null===(l=t.text)||void 0===l?void 0:l.slice(Math.max(e,a)-a,r-a):t.isLeaf&&i?o+=i:t.isBlock&&(s?o+=n:s=!0)}),0),o},Cp=r(52037),wp=r.n(Cp),kp=new Set([us.EOF,us.LPAREN,us.LBRACKET,us.STRING,us.QUOTE_STRING,us.SQUOTE_STRING,us.POSNUMBER,us.NEGNUMBER,us.BANG,us.CUSTOMFIELD]),Rp=new Set([so.RULE_jqlField,so.RULE_jqlFieldProperty,so.RULE_jqlEqualsOperator,so.RULE_jqlLikeOperator,so.RULE_jqlComparisonOperator,so.RULE_jqlInOperator,so.RULE_jqlIsOperator,so.RULE_jqlWasOperator,so.RULE_jqlWasInOperator,so.RULE_jqlChangedOperator,so.RULE_jqlValue,so.RULE_jqlListStart,so.RULE_jqlFunction,so.RULE_jqlCustomField,so.RULE_jqlArgument]),Pp=[us.RPAREN,us.RBRACKET,us.COMMA],Ip=r(31635),Lp=r(40554);function jp(){var t=n.useContext(i.ob);return(0,Lp.HM)(t),t}!function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"}(bp||(bp={})),function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"}(Sp||(Sp={}));var Dp=function(t){var e=jp(),r=t.value,n=t.children,i=(0,Ip.Tt)(t,["value","children"]);return n(e.formatNumberToParts(r,i))};Dp.displayName="FormattedNumberParts";function Mp(t){var e=function(e){var r=jp(),n=e.value,i=e.children,o=(0,Ip.Tt)(e,["value","children"]),s="string"==typeof n?new Date(n||0):n;return i("formatDate"===t?r.formatDateToParts(s,o):r.formatTimeToParts(s,o))};return e.displayName=Sp[t],e}function qp(t){var e=function(e){var r=jp(),i=e.value,o=e.children,s=(0,Ip.Tt)(e,["value","children"]),a=r[t](i,s);if("function"==typeof o)return o(a);var l=r.textComponent||n.Fragment;return n.createElement(l,null,a)};return e.displayName=bp[t],e}Dp.displayName="FormattedNumberParts";qp("formatDate"),qp("formatTime"),qp("formatNumber"),qp("formatList"),qp("formatDisplayName"),Mp("formatDate"),Mp("formatTime");var Fp={expectingOperatorButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperatorButReceived",defaultMessage:"Expecting an operator but got ''{received}''. The valid operators are '=', '!=', '<', '>', '<=', '>=', '~', '!~', 'IN', 'NOT IN', 'IS' and 'IS NOT'.",description:"When an operator was expected but another token was received."},expectingOperatorBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperatorBeforeEOF",defaultMessage:"Expecting an operator before the end of the query. The valid operators are '=', '!=', '<', '>', '<=', '>=', '~', '!~', 'IN', 'NOT IN', 'IS' and 'IS NOT'.",description:"When an operator was expected before the end of the query."},expectingFieldButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldButReceived",defaultMessage:"Expecting a field name but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a field name.",description:"When a field was expected but another token was received."},expectingFieldBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldBeforeEOF",defaultMessage:"Expecting a field name before the end of the query.",description:"When a field was expected before the end of the query."},expectingCFButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingCFButReceived",defaultMessage:"Expecting a field name but got '['. Did you mean 'cf['?",description:"When a field was expected but a left bracket was received without a 'cf' prefix."},expectingCustomFieldId:{id:"jql-editor.plugins.jql-ast.error-messages.expectingCustomFieldId",defaultMessage:"Expecting a custom field id enclosed by '[ ]' after 'cf'. Example: 'cf[10021]'.",description:"When a custom field id was expected before the end of the query. Text wrapped in single quotes in our message refer to specific tokens in the query so they should not be translated."},expectingOperandButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperandButReceived",defaultMessage:"Expecting either a value, list or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When an operand was expected but another token was received."},expectingOperandBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingOperandBeforeEOF",defaultMessage:"Expecting either a value, list or function before the end of the query.",description:"When an operand was expected before the end of the query."},expectingValueOrFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueOrFunctionButReceived",defaultMessage:"Expecting a value or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a value or function was expected but another token was received."},expectingValueOrFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueOrFunctionBeforeEOF",defaultMessage:"Expecting a value or function before the end of the query.",description:"When a value or function was expected before the end of the query."},expectingListOrFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListOrFunctionButReceived",defaultMessage:"Expecting a list or function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a list or function was expected but another token was received."},expectingListOrFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListOrFunctionBeforeEOF",defaultMessage:"Expecting a list or function before the end of the query.",description:"When a list or function was expected before the end of the query."},expectingValueButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueButReceived",defaultMessage:"Expecting a value but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a value was expected but another token was received."},expectingValueBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingValueBeforeEOF",defaultMessage:"Expecting a value before the end of the query.",description:"When a value was expected before the end of the query."},expectingListButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListButReceived",defaultMessage:"Expecting a list but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a list was expected but another token was received."},expectingListBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingListBeforeEOF",defaultMessage:"Expecting a list before the end of the query.",description:"When a list was expected before the end of the query."},expectingFunctionButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionButReceived",defaultMessage:"Expecting a function but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a function was expected but another token was received."},expectingFunctionBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionBeforeEOF",defaultMessage:"Expecting a function before the end of the query.",description:"When a function was expected before the end of the query."},expectingFieldPropertyIdButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldPropertyIdButReceived",defaultMessage:"Expecting a property id but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a field property ID was expected but another token was received."},expectingFieldPropertyIdBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFieldPropertyIdBeforeEOF",defaultMessage:"Expecting a property id before the end of the query.",description:"When a field property ID was expected before the end of the query."},expectingFunctionArgButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionArgButReceived",defaultMessage:"Expecting a function argument but got ''{received}''. You must surround ''{received}'' in quotation marks to use it as a value.",description:"When a function argument was expected but another token was received."},expectingFunctionArgBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingFunctionArgBeforeEOF",defaultMessage:"Expecting a function argument before the end of the query.",description:"When a function argument was expected before the end of the query."},expectingMultipleTokensButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingMultipleTokensButReceived",defaultMessage:"Expecting {firstExpectedTokens} or ''{lastExpectedToken}'' but got ''{received}''.",description:"When the text the user entered does not match any of the expected tokens."},expectingMultipleTokensBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingMultipleTokensBeforeEOF",defaultMessage:"Expecting {firstExpectedTokens} or ''{lastExpectedToken}'' before the end of the query.",description:"When there are still tokens expected before the query can end."},expectingTokenButReceived:{id:"jql-editor.plugins.jql-ast.error-messages.expectingTokenButReceived",defaultMessage:"Expecting ''{expectedToken}'' but got ''{received}''.",description:"When the text the user entered does not match the expected tokens."},expectingTokenBeforeEOF:{id:"jql-editor.plugins.jql-ast.error-messages.expectingTokenBeforeEOF",defaultMessage:"Expecting ''{expectedToken}'' before the end of the query.",description:"When an expected token needs to be inserted before the query can end."},unknownErrorAtToken:{id:"jql-editor.plugins.jql-ast.error-messages.unknownErrorAtToken",defaultMessage:"Unable to parse the query at ''{received}''.",description:"When the query could not be parsed when a token was reached."},reservedChar:{id:"jql-editor.plugins.jql-ast.error-messages.reservedChar",defaultMessage:"The character ''{char}'' is a reserved JQL character. You must enclose it in a string or use the escape ''{escapedChar}'' instead.",description:"When the user has a reserved character in the query."},reservedWord:{id:"jql-editor.plugins.jql-ast.error-messages.reservedWord",defaultMessage:"''{word}'' is a reserved JQL word. You must surround it in quotation marks to use it in a query.",description:"When the user has a reserved word in the query."},unfinishedString:{id:"jql-editor.plugins.jql-ast.error-messages.unfinishedString",defaultMessage:"The quoted string ''{received}'' has not been completed.",description:"When a string is missing an opening or closing quote."},unfinishedStringBlank:{id:"jql-editor.plugins.jql-ast.error-messages.unfinishedStringBlank",defaultMessage:"The quoted string has not been completed.",description:"When a string is missing an opening or closing quote."},illegalEscape:{id:"jql-editor.plugins.jql-ast.error-messages.illegalEscape",defaultMessage:"''{received}'' is an illegal JQL escape sequence. The valid escape sequences are \\', \\\", \\t, \\n, \\r, \\\\, '\\ ' and \\uXXXX.",description:"When there are no valid tokens following an escape character."},illegalEscapeBlank:{id:"jql-editor.plugins.jql-ast.error-messages.illegalEscapeBlank",defaultMessage:"The escape sequence has not been completed. The valid escape sequences are \\', \\\", \\t, \\n, \\r, \\\\, '\\ ' and \\uXXXX.",description:"When there are no valid tokens following an escape character."},illegalChar:{id:"jql-editor.plugins.jql-ast.error-messages.illegalChar",defaultMessage:"The character ''{char}'' must be escaped. Use the escape ''{escapedChar}'' instead.",description:"When an illegal character is encountered in a query."}},Up={unknownError:{id:"jql-editor.common.validation.unknown-error",defaultMessage:"Unable to parse the query.",description:"Message shown when the query could not be parsed due to an unknown error."}},Bp=function(t,e){return e.map((function(e){return t.vocabulary.getDisplayName(e).replace(/^'|'$/g,"")}))},zp=function(t,e){var r;return(null!==(r=null==e?void 0:e.expectedTokens)&&void 0!==r?r:t.getExpectedTokens()).toArray().filter((function(t){return!kp.has(t)}))},Vp=function(t,e,r,n,i){0===r.length&&(r=Bp(t,zp(t,i)));var o=Bp(t,Pp),s=r.filter((function(t){return!o.includes(t)}));s.length>0&&(r=s);var a=e.type===us.EOF;if(r.length>1){var l=r.slice(0,-1).map((function(t){return"'".concat(t,"'")})).join(", "),c=r[r.length-1];return a?n.formatMessage(Fp.expectingMultipleTokensBeforeEOF,{firstExpectedTokens:l,lastExpectedToken:c}):n.formatMessage(Fp.expectingMultipleTokensButReceived,{firstExpectedTokens:l,lastExpectedToken:c,received:e.text})}return 1===r.length?a?n.formatMessage(Fp.expectingTokenBeforeEOF,{expectedToken:r[0]}):n.formatMessage(Fp.expectingTokenButReceived,{expectedToken:r[0],received:e.text}):a?n.formatMessage(Up.unknownError):n.formatMessage(Fp.unknownErrorAtToken,{received:e.text})};function Hp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hp=function(){return!!t})()}var Jp=function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"U+".concat(wp()(e,4,"0"))},Gp=function(t){var e=t.charCodeAt(0).toString(16);return"\\u".concat(wp()(e,4,"0"))},Wp=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Hp(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t){var e;return(0,Si.A)(this,i),(e=n.call(this)).intlRef=t,e}return(0,bi.A)(i,[{key:"reportInputMismatch",value:function(t,e){this.handleSyntaxError(t,t.currentToken,e)}},{key:"reportUnwantedToken",value:function(t){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),this.handleSyntaxError(t,t.currentToken))}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t))if(this.beginErrorCondition(t),zp(t).length>0){var e=Vp(t,t.currentToken,[],this.intlRef.current);t.notifyErrorListeners(e,t.currentToken,void 0)}else this.handleSyntaxError(t,t.currentToken)}},{key:"reportNoViableAlternative",value:function(t,e){var r,n=null!==(r=null==e?void 0:e.getOffendingToken())&&void 0!==r?r:t.currentToken;this.handleSyntaxError(t,n,e)}},{key:"reportFailedPredicate",value:function(t,e){(0,Wi.A)((0,Ji.A)(i.prototype),"reportFailedPredicate",this).call(this,t,e)}},{key:"handleSyntaxError",value:function(t,e,r){var n;switch(e.type){case us.ERRORCHAR:case us.INVALID_QUOTE_STRING:case us.INVALID_SQUOTE_STRING:var i,o=e.text;if(e.type===us.INVALID_QUOTE_STRING||e.type===us.INVALID_SQUOTE_STRING)o=null===(i=o)||void 0===i?void 0:i.slice(-1);if("\\"===o){var s=t.inputStream.get(e.tokenIndex+1);if(s.type===us.MATCHWS||s.type===us.EOF)n=this.intlRef.current.formatMessage(Fp.illegalEscapeBlank);else{var a,l,c="".concat(null!==(a=o)&&void 0!==a?a:"").concat(null!==(l=s.text)&&void 0!==l?l:"");n=this.intlRef.current.formatMessage(Fp.illegalEscape,{received:c})}}else{var u,h;n=this.intlRef.current.formatMessage(Fp.illegalChar,{char:Jp(null!==(u=o)&&void 0!==u?u:""),escapedChar:Gp(null!==(h=o)&&void 0!==h?h:"")})}break;case us.UNCLOSED_QUOTE_STRING:case us.UNCLOSED_SQUOTE_STRING:var p,d=rc(null!==(p=e.text)&&void 0!==p?p:"");n=""===d?this.intlRef.current.formatMessage(Fp.unfinishedStringBlank):this.intlRef.current.formatMessage(Fp.unfinishedString,{received:d});break;case us.RESERVED_WORD:n=this.intlRef.current.formatMessage(Fp.reservedWord,{word:e.text});break;case us.ERROR_RESERVED:var f;n=this.intlRef.current.formatMessage(Fp.reservedChar,{char:e.text,escapedChar:Gp(null!==(f=e.text)&&void 0!==f?f:"")});break;default:var g=Ds.fromParser(t,kp,Rp,new Set).getJQLSuggestionsForTokenIndex(e.tokenIndex),y=g.tokens,m=g.rules;n=m.value||m.list||m.function&&t.context.ruleIndex===so.RULE_jqlFunction?function(t,e,r,n,i,o){0===r.length&&(r=Bp(t,zp(t,o)));var s=e.type===us.EOF;return n.value&&n.list&&n.function?s?i.formatMessage(Fp.expectingOperandBeforeEOF):i.formatMessage(Fp.expectingOperandButReceived,{received:e.text}):n.value&&n.function?s?i.formatMessage(Fp.expectingValueOrFunctionBeforeEOF):i.formatMessage(Fp.expectingValueOrFunctionButReceived,{received:e.text}):n.list&&n.function?r.length?Vp(t,e,r,i,o):s?i.formatMessage(Fp.expectingListOrFunctionBeforeEOF):i.formatMessage(Fp.expectingListOrFunctionButReceived,{received:e.text}):n.function?r.length?Vp(t,e,r,i,o):s?i.formatMessage(Fp.expectingFunctionBeforeEOF):i.formatMessage(Fp.expectingFunctionButReceived,{received:e.text}):n.list?r.length?Vp(t,e,r,i,o):s?i.formatMessage(Fp.expectingListBeforeEOF):i.formatMessage(Fp.expectingListButReceived,{received:e.text}):s?i.formatMessage(Fp.expectingValueBeforeEOF):i.formatMessage(Fp.expectingValueButReceived,{received:e.text})}(t,e,y.values,m,this.intlRef.current,r):y.values.includes("EMPTY")?Vp(t,e,y.values,this.intlRef.current,r):m.operator?function(t,e){return t.type===us.EOF?e.formatMessage(Fp.expectingOperatorBeforeEOF):e.formatMessage(Fp.expectingOperatorButReceived,{received:t.text})}(e,this.intlRef.current):m.field?function(t,e){var r=t.type===us.EOF;return t.type===us.LBRACKET?e.formatMessage(Fp.expectingCFButReceived):r?e.formatMessage(Fp.expectingFieldBeforeEOF):e.formatMessage(Fp.expectingFieldButReceived,{received:t.text})}(e,this.intlRef.current):m.customField?this.intlRef.current.formatMessage(Fp.expectingCustomFieldId):m.fieldProperty&&t.context.ruleIndex===so.RULE_jqlFieldProperty?Vp(t,e,[],this.intlRef.current,r):m.fieldPropertyId?function(t,e){return t.type===us.EOF?e.formatMessage(Fp.expectingFieldPropertyIdBeforeEOF):e.formatMessage(Fp.expectingFieldPropertyIdButReceived,{received:t.text})}(e,this.intlRef.current):m.functionArgument?function(t,e){return t.type===us.EOF?e.formatMessage(Fp.expectingFunctionArgBeforeEOF):e.formatMessage(Fp.expectingFunctionArgButReceived,{received:t.text})}(e,this.intlRef.current):Vp(t,e,y.values,this.intlRef.current,r)}t.notifyErrorListeners(n,e,void 0)}}]),i}(Gi.DefaultErrorStrategy),Kp=new A.hs("jql-ast-plugin"),Yp=function(t){var e=Kp.getState(t);return null==e?(console.error("Unable to get state from the JQLAstPlugin as it has not been configured."),{query:void 0,represents:"",errors:[]}):e};const $p=function(t){var e=(new Ep).setErrorHandler(new Wp(t));return new A.k_({key:Kp,state:{init:function(t,r){var n=r.doc;return e.build(Tp(n,0,n.content.size))},apply:function(t,r,n){var i=Tp(t.doc,0,t.doc.content.size);return i!==Tp(n.doc,0,n.doc.content.size)?e.build(i):r}}})};var Qp=function(){function t(){(0,Si.A)(this,t)}return(0,bi.A)(t,[{key:"visit",value:function(t){return t.accept(this)}},{key:"visitChildren",value:function(t){for(var e=this.defaultResult(),r=t.getChildren(),n=0;n<r.length&&this.shouldVisitNextChild(t,e);n++){var i=r[n].accept(this);e=this.aggregateResult(e,i)}return e}},{key:"aggregateResult",value:function(t,e){return e}},{key:"shouldVisitNextChild",value:function(t,e){return!0}}]),t}();function Xp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xp=function(){return!!t})()}var Zp=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Xp(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t){var e;return(0,Si.A)(this,i),e=n.call(this),(0,u.A)((0,Ki.A)(e),"visitCompoundOperator",(function(t){return t.positions.map((function(t){return e.createHighlight("keyword",t)}))})),(0,u.A)((0,Ki.A)(e),"visitNotClauseOperator",(function(t){return e.getHighlightsIfPosition("keyword",t.position)})),(0,u.A)((0,Ki.A)(e),"visitOrderByOperator",(function(t){return e.getHighlightsIfPosition("keyword",t.position)})),(0,u.A)((0,Ki.A)(e),"visitOrderByDirection",(function(t){return e.getHighlightsIfPosition("keyword",t.position)})),(0,u.A)((0,Ki.A)(e),"visitField",(function(t){return e.getHighlightsIfPosition("field",t.position)})),(0,u.A)((0,Ki.A)(e),"visitOperator",(function(t){return e.getHighlightsIfPosition("operator",t.position)})),(0,u.A)((0,Ki.A)(e),"visitPredicateOperator",(function(t){return e.getHighlightsIfPosition("operator",t.position)})),(0,u.A)((0,Ki.A)(e),"getHighlightsIfPosition",(function(t,r){return r?[e.createHighlight(t,r)]:[]})),(0,u.A)((0,Ki.A)(e),"createHighlight",(function(t,r){var n=(0,l.A)(r,2),i=n[0],o=n[1];return{tokenType:t,documentFrom:dg(e.state.doc,i),documentTo:dg(e.state.doc,o)}})),e.state=t,e}return(0,bi.A)(i,[{key:"shouldVisitNextChild",value:function(t){return!(t.type===uc)}},{key:"aggregateResult",value:function(t,e){return t.concat(e)}},{key:"defaultResult",value:function(){return[]}}]),i}(Qp),td=new A.hs("jql-syntax-highlighting-plugin");const ed=function(){return new A.k_({key:td,appendTransaction:function(t,e,r){if(e.doc!==r.doc){var n=r.tr;return n.removeMark(0,r.doc.content.size),function(t){var e=Yp(t),r=new Zp(t),n=e.query?r.visit(e.query):[],i=(0,l.A)(e.errors,1)[0];if(i instanceof Gs){var o=dg(t.doc,i.start),s=dg(t.doc,i.stop);n.push({tokenType:"error",documentFrom:o,documentTo:s})}return n}(r).forEach((function(t){var e=t.tokenType,i=t.documentFrom,o=t.documentTo;r.doc.nodesBetween(i,o,(function(t,s){if(t.isText){var a=Math.max(s,i),l=Math.min(s+t.nodeSize,o),c=r.schema.marks.token.create({tokenType:e});n.addMark(a,l,c)}}))})),n}}})};var rd=r(82284);function nd(t){var e=function(t,e){if("object"!=(0,rd.A)(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=(0,rd.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,rd.A)(e)?e:e+""}function id(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function od(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?id(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var sd=function(){function t(){(0,Si.A)(this,t),(0,u.A)(this,"keymap",{})}return(0,bi.A)(t,[{key:"bindKey",value:function(t,e){this.keymap=od(od({},this.keymap),{},(0,u.A)({},t,e))}},{key:"bindMultipleKeys",value:function(t,e){var r=this;t.forEach((function(t){r.keymap=od(od({},r.keymap),{},(0,u.A)({},t,e))}))}},{key:"unbindKey",value:function(t){var e=this.keymap,r=(e[t],(0,Ns.A)(e,[t].map(nd)));this.keymap=r}},{key:"getKeyBinding",value:function(t){return this.keymap[t]}}]),t}(),ad=r(18557),ld="jql-autocomplete-plugin",cd="ArrowUp",ud="ArrowDown",hd="Cmd-ArrowUp",pd="Cmd-ArrowDown",dd="Home",fd="End",gd="Enter",yd="Escape",md="Tab",vd={onFields:function(){return(0,ad.I)()},onOperators:function(){return(0,ad.I)()},onValues:function(){return(0,ad.I)()},onFunctions:function(){return(0,ad.I)()}},xd=new A.hs(ld),Od=r(61920),bd=function(){function t(e,r,i){var o=this;(0,Si.A)(this,t),(0,u.A)(this,"componentSubject",new Od.Subject),(0,u.A)(this,"init",(function(){var t=o.getComponent(),e=function(){var e=(0,n.useState)((function(){return o.getInitialComponentProps()})),r=(0,l.A)(e,2),i=r[0],s=r[1];return(0,n.useEffect)((function(){var t=o.componentSubject.subscribe((function(t){s(t)}));return function(){return t.unsubscribe()}}),[]),n.createElement(t,i)};o.portalActions.onCreatePortal(o.portalKey,n.createElement(e,null),o.containerKey)})),this.portalActions=e,this.portalKey=r,this.containerKey=i}return(0,bi.A)(t,[{key:"destroy",value:function(){this.portalActions.onDestroyPortal(this.portalKey)}}]),t}(),Sd=r(58168),Ad=r(67459),Ed=r(7774),Td=r(17437),Nd=r(90940),_d=(0,Td.AH)({clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"1px",width:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute"}),Cd=Ed.A.div({fontFamily:(0,Nd.mw)()}),wd=Ed.A.div(_d),kd="jql-editor-main",Rd="jql-editor-autocomplete",Pd="jql-editor-input",Id="jql-editor-help-content",Ld={optionsFound:{id:"jql-editor.plugins.autocomplete.options-found",defaultMessage:"Choose from the suggested list of options below.",description:"This message is read by screen readers when autocomplete suggestions are available in the JQL editor."}},jd=r(50828),Dd=r.n(jd),Md=r(63950),qd=r.n(Md),Fd=r(97883),Ud=r(10220),Bd=r(45046),zd=r(94066),Vd=r(17589),Hd=r(61361),Jd=r(49888),Gd=r(58475),Wd=r(22337),Kd=r(37227),Yd=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M7 7h11a1 1 0 0 1 0 2H7a1 1 0 1 1 0-2zm0 4h11a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z",fill:"currentColor",fillRule:"evenodd"}))};const $d=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:Yd})};var Qd=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M12 19.5a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zm.65-5.268l2.44-2.463a.84.84 0 0 0 0-1.182.822.822 0 0 0-1.17 0l-1.916 1.93-1.922-1.939a.824.824 0 0 0-1.173 0 .842.842 0 0 0 0 1.183l2.45 2.47a.92.92 0 0 0 .649.269.9.9 0 0 0 .641-.268z",fill:"currentColor"}))};const Xd=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:Qd})};var Zd=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M8.667 6.167V7A.834.834 0 0 1 7 7V5.333a.834.834 0 0 1 1.667 0v.834zm6.666 0v-.834a.834.834 0 0 1 1.667 0V7a.834.834 0 0 1-1.667 0v-.833zm2.5 0h.005c.918 0 1.662.745 1.662 1.661v10.01c0 .918-.743 1.662-1.662 1.662H6.161A1.663 1.663 0 0 1 4.5 17.838V7.828c0-.917.743-1.661 1.662-1.661h.005V7c0 .927.746 1.667 1.666 1.667C8.76 8.667 9.5 7.92 9.5 7v-.833h5V7c0 .927.746 1.667 1.667 1.667.927 0 1.666-.747 1.666-1.667v-.833zm-10 6.667H9.5v-1.667H7.833v1.667zm0 3.334H9.5V14.5H7.833v1.668zm3.334-3.334h1.666v-1.667h-1.666v1.667zm0 3.334h1.666V14.5h-1.666v1.668zm3.333-3.334h1.667v-1.667H14.5v1.667zm0 3.334h1.667V14.5H14.5v1.668z",fill:"currentColor",fillRule:"evenodd"}))};const tf=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:Zd})};var ef=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm.787-7.674V8.944c0-.52-.402-.944-.893-.944-.492 0-.894.425-.894.944v3.777c0 .263.104.5.269.672l2.207 2.332a.862.862 0 0 0 1.263 0 .985.985 0 0 0 0-1.336l-1.952-2.063z",fill:"currentColor",fillRule:"evenodd"}))};const rf=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:ef})};var nf=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M7 4h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3zm.417 10.636h1.15V9.141H7.42L6 10.12v1.07l1.348-.93h.069v4.376zm1.923-3.85v.02h1.067v-.024c0-.506.365-.857.898-.857.503 0 .861.313.861.755 0 .357-.194.643-.967 1.397l-1.794 1.756v.803h3.964v-.955h-2.406v-.069l1.05-1.002c.953-.895 1.277-1.409 1.277-2.007 0-.944-.8-1.603-1.947-1.603-1.188 0-2.003.724-2.003 1.786zm5.811 1.466h.682c.617 0 .994.297.994.777 0 .469-.4.792-.975.792-.59 0-.983-.293-1.017-.757h-1.1c.05 1.035.88 1.713 2.106 1.713 1.253 0 2.159-.697 2.159-1.66 0-.724-.472-1.226-1.226-1.31v-.069c.613-.125 1.013-.62 1.013-1.257 0-.864-.811-1.481-1.939-1.481-1.2 0-1.972.655-2.01 1.695H14.9c.03-.476.385-.777.918-.777.537 0 .88.282.88.723 0 .45-.355.754-.876.754h-.67v.857z",fill:"currentColor",fillRule:"evenodd"}))};const of=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:nf})};var sf=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M12.12 20.249a8.398 8.398 0 0 1-.39-.003A8.25 8.25 0 0 1 3.75 12 8.25 8.25 0 0 1 12 3.75 8.25 8.25 0 0 1 20.25 12a8.25 8.25 0 0 1-8.13 8.25v-.001zm4.463-3.762A6.396 6.396 0 0 0 18.417 12 6.424 6.424 0 0 0 12 5.583 6.424 6.424 0 0 0 5.583 12c0 1.745.7 3.33 1.834 4.487v-1.27a2.291 2.291 0 0 1 2.292-2.292h4.582a2.292 2.292 0 0 1 2.292 2.291v1.27zM12 12a2.75 2.75 0 1 1 0-5.5 2.75 2.75 0 0 1 0 5.5z",fill:"currentColor",fillRule:"evenodd"}))};const af=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:sf})};var lf=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M11.433 5.428l-4.207.6a2 2 0 0 0-1.697 1.698l-.601 4.207a1 1 0 0 0 .283.849l6.894 6.894a1 1 0 0 0 1.414 0l5.657-5.657a1 1 0 0 0 0-1.414L12.282 5.71a1 1 0 0 0-.849-.283zm-.647 5.858a1.667 1.667 0 1 1-2.357-2.357 1.667 1.667 0 0 1 2.357 2.357z",fill:"currentColor",fillRule:"evenodd"}))};const cf=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:lf})};var uf=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M4 5.994C4 4.893 4.895 4 5.994 4h12.012C19.107 4 20 4.895 20 5.994v12.012A1.995 1.995 0 0 1 18.006 20H5.994A1.995 1.995 0 0 1 4 18.006V5.994zm5.707 5.299a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z",fill:"currentColor",fillRule:"evenodd"}))};const hf=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:uf})};var pf=function(t){return n.createElement("svg",{viewBox:"0 0 24 24",focusable:"false","data-testid":t["data-testid"],"aria-label":t["aria-label"],className:t.className},n.createElement("path",{d:"M6.72 7.178l-2.93 8.627a.5.5 0 0 0 .473.661h.842a.75.75 0 0 0 .716-.53l.581-1.887h3.425l.58 1.887a.75.75 0 0 0 .717.53h.916a.5.5 0 0 0 .473-.66L9.578 7.177a1 1 0 0 0-.946-.678h-.966a1 1 0 0 0-.947.678zm1.37 1.228h.047l1.25 4.082H6.841l1.25-4.082zm10.187 1.872v-.23a.986.986 0 1 1 1.972 0v5.433a.986.986 0 0 1-1.972 0v-.217h-.08c-.36.802-1.13 1.32-2.217 1.32-1.81 0-2.952-1.479-2.952-3.834 0-2.334 1.149-3.805 2.952-3.805 1.075 0 1.858.546 2.216 1.333h.08zm-.04 2.486c0-1.347-.63-2.203-1.61-2.203-.978 0-1.58.843-1.58 2.203 0 1.368.602 2.196 1.58 2.196.988 0 1.61-.836 1.61-2.196z",fill:"currentColor"}))};const df=function(t){var e=t.label,r=t.primaryColor,i=t.secondaryColor,o=t.size,s=void 0===o?"small":o,a=t.testId;return n.createElement(Kd.A,{label:e,primaryColor:r,secondaryColor:i,size:s,testId:a,glyph:pf})};var ff=r(1513),gf=r(84017),yf={deprecatedFieldTooltipDefaultMessage:{id:"jql-editor.plugins.autocomplete.autocomplete-option.deprecated-tooltip.default",defaultMessage:"This field has been deprecated and may stop working in the future.",description:"Default tooltip message for a deprecated field."},deprecatedFieldTooltipParentReplacementMessage:{id:"jql-editor.plugins.autocomplete.autocomplete-option.deprecated-tooltip.epic-link",defaultMessage:"<b>''{received}''</b> will soon be replaced with <b>''{parentReplacement}''</b>. Use the <b>''{parentReplacement}''</b> field instead.",description:"Tooltip message served to user when there is a deprecated field"}},mf=Ed.A.div({fontFamily:(0,Nd.mw)()}),vf=Ed.A.li({cursor:"pointer",padding:"var(--ds-space-075, 6px)".concat(" ","var(--ds-space-100, 8px)"),fontFamily:(0,Nd.Lt)(),lineHeight:"24px"},(function(t){return t.isSelected&&{background:"var(--ds-background-neutral-subtle-hovered, ".concat(ff.Zv,")")}}),(function(t){return t.isDeprecated&&{cursor:"default",color:"var(--ds-text-disabled, ".concat(ff._u,")")}})),xf=Ed.A.div({color:"var(--ds-text, ".concat(ff.Pq,")"),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1}),Of=Ed.A.div({color:"var(--ds-text-disabled, ".concat(ff._u,")"),display:"flex",justifyContent:"space-between",opacity:.6}),bf=Ed.A.span({fontWeight:"bold"}),Sf=Ed.A.div({display:"flex",alignItems:"center",marginTop:"var(--ds-space-negative-025, -2px)",color:"var(--ds-text-subtlest, ".concat(ff.ay,")")}),Af=Ed.A.span({display:"flex",marginRight:"var(--ds-space-050, 4px)"}),Ef=function(t){var e=t.Icon,r=t.LegacyIcon;return n.createElement(e,{LEGACY_fallbackIcon:r,LEGACY_size:"small",label:"",testId:"jql-editor-field-type-icon",color:"currentColor"})};const Tf=(0,n.forwardRef)((function(t,e){var r=t.option,i=r.id,o=r.name,s=r.fieldType,a=r.matchedText,u=r.isDeprecated,h=void 0!==u&&u,p=r.deprecatedSearcherKey,d=t.isSelected,f=t.onClick,g=t.onMouseMove,y=(0,n.useState)(!1),m=(0,l.A)(y,2),v=m[0],x=m[1],O=ey(),b=(0,l.A)(O,1)[0].formatMessage,S=(0,n.useCallback)((function(t){null==t||v||x(t.offsetWidth<t.scrollWidth)}),[v]),A=s?function(t){switch(t){case"Checkboxes":return n.createElement(Ef,{Icon:Gd.A,LegacyIcon:hf});case"Date":return n.createElement(Ef,{Icon:Ud.default,LegacyIcon:tf});case"Dropdown":return n.createElement(Xd,{label:"",size:"small",testId:"jql-editor-field-type-icon"});case"Labels":return n.createElement(Ef,{Icon:Jd.A,LegacyIcon:cf});case"Number":return n.createElement(Ef,{Icon:zd.A,LegacyIcon:of});case"Paragraph":return n.createElement(Ef,{Icon:Fd.A,LegacyIcon:$d});case"People":return n.createElement(Ef,{Icon:Hd.default,LegacyIcon:af});case"Short text":return n.createElement(Ef,{Icon:Wd.A,LegacyIcon:df});case"Time stamp":return n.createElement(Ef,{Icon:Bd.A,LegacyIcon:rf});default:return null}}(s):null,E=(0,n.useMemo)((function(){var t=function(t,e){var r=Dd()(t).toLowerCase(),n=Dd()(rc(e)).toLowerCase(),i=r.indexOf(n);return-1===i?null:[i,i+n.length]}(o,a);return t?n.createElement(xf,{ref:S,"aria-label":o},o.substring(0,t[0]),n.createElement(bf,null,o.substring.apply(o,(0,c.A)(t))),o.substring(t[1])):n.createElement(xf,{ref:S},o)}),[S,o,a]),T=n.createElement(mf,null,b(function(t){switch(t){case"com.pyxis.greenhopper.jira:gh-epic-link-searcher":case"com.atlassian.jpo:jpo-custom-field-parent-searcher":return yf.deprecatedFieldTooltipParentReplacementMessage;default:return yf.deprecatedFieldTooltipDefaultMessage}}(p),{b:function(t){return n.createElement("b",null,t)},received:o,parentReplacement:"Parent"})),N=n.createElement(vf,(0,Sd.A)({id:i,"data-testid":"jql-editor-autocomplete-option",role:"option",isSelected:d,isDeprecated:h,onClick:h?qd():f,onMouseMove:h?qd():g},e&&{ref:e},{"aria-selected":d}),h?n.createElement(Of,null,E,n.createElement(gf.A,{content:T,position:"right"},n.createElement(Vd.A,{spacing:"spacious",testId:"jql-editor-deprecated-icon",label:"",color:"var(--ds-icon, ".concat(ff.P6,")")}))):E,s&&n.createElement(Sf,null,A&&n.createElement(Af,null,A),s)),_=n.createElement(mf,null,o);return v?n.createElement(gf.A,{content:_,position:"right"},N):N}));var Nf=Ed.A.div({position:"absolute",backgroundColor:"var(--ds-surface-overlay, white)",borderRadius:"var(--ds-border-radius-100, 3px)",willChange:"top, left",zIndex:Nd.ZF.dialog(),boxShadow:"var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(ff.nW,", 0 0 1px ").concat(ff.Gv),")"),padding:"var(--ds-space-075, 6px)".concat(" ","var(--ds-space-0, 0)"),minWidth:"200px",maxWidth:"400px","&:focus":{outline:"none"},marginLeft:"var(--ds-space-negative-100, -8px)",marginTop:"var(--ds-space-200, 16px)"},(function(t){return t.isOpen?(0,Td.AH)({visibility:"visible"}):(0,Td.AH)({visibility:"hidden"})})),_f=Ed.A.div({maxHeight:"288px",overflow:"auto"}),Cf=Ed.A.ul({listStyle:"none",margin:"var(--ds-space-0, 0)",padding:"var(--ds-space-0, 0)"}),wf=Ed.A.div({display:"flex",justifyContent:"center",color:"var(--ds-text-subtlest, ".concat(ff.lu,")"),fontStyle:"italic",padding:"var(--ds-space-150, 12px)",textAlign:"center"},(function(t){return t.hasOptions&&{borderTop:"solid 1px ".concat("var(--ds-border, ".concat(ff.br,")")),marginTop:"var(--ds-space-075, 6px)",paddingTop:"var(--ds-space-250, 20px)"}}));const kf=function(t){var e=t.options,r=t.loading,i=t.keymap,o=t.onClick,s=(0,n.useRef)(null),a=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useState)(!1),h=(0,l.A)(u,2),p=h[0],d=h[1],f=ey(),g=(0,l.A)(f,1)[0],y=Xg(),m=(0,l.A)(y,2)[1],v=m.onEditorViewFocus,x=m.onEditorViewBlur,O=sy(),b=(0,l.A)(O,2),S=b[0].selectedOptionId,A=b[1],E=A.closeAutocomplete,T=A.setAutocompleteContainer,N=A.setSelectedAutocompleteOptionId,_=gy(),C=(0,l.A)(_,1)[0],w=yy(),k=(0,l.A)(w,1)[0],R=k.top,P=k.left,I=xy(),L=(0,l.A)(I,1)[0],j=ny(Rd),D=(0,l.A)(j,1)[0],M=(0,n.useCallback)((function(t){s.current=t,T(t)}),[s,T]),q=(0,n.useCallback)((function(t){a.current=t}),[a]),F=(0,n.useCallback)((function(t,r,n){E(),o(t,{keyboard:n,numberOfOptions:e.length,optionIndex:r,optionType:t.type,queryLength:t.matchedText.length,nodeType:L&&void 0!==t.valueType?t.valueType:"text"})}),[e,o,E,L]),U=(0,n.useCallback)((function(){p&&d(!1)}),[p,d]);(0,n.useEffect)((function(){return i.bindKey(cd,(function(){if(!C)return!1;!p&&d(!0);var t=function(t,e){if(!e)return t[t.length-1].id;var r=t.findIndex((function(t){return t.id===e}));return-1===r?t[t.length-1].id:r>0?t[r-1].id:void 0}(e,S);return N(t),!0})),i.bindKey(ud,(function(){if(!C)return!1;!p&&d(!0);var t=function(t,e){if(!e)return t[0].id;var r=t.findIndex((function(t){return t.id===e}));return-1===r?t[0].id:r<t.length-1?t[r+1].id:void 0}(e,S);return N(t),!0})),i.bindMultipleKeys([gd,md],(function(){if(!C)return!1;var t=e.findIndex((function(t){return t.id===S}));return!(!S||-1===t)&&(e[t].isDeprecated||F(e[t],t,!0),!0)})),i.bindKey(yd,(function(){return!!C&&(E(),!0)})),i.bindMultipleKeys([dd,hd],(function(){var t;return!!C&&(!p&&d(!0),N(null===(t=e[0])||void 0===t?void 0:t.id),!0)})),i.bindMultipleKeys([fd,pd],(function(){var t;return!!C&&(!p&&d(!0),N(null===(t=e[e.length-1])||void 0===t?void 0:t.id),!0)})),function(){i.unbindKey(cd),i.unbindKey(ud),i.unbindKey(gd),i.unbindKey(md),i.unbindKey(yd),i.unbindKey(dd),i.unbindKey(fd),i.unbindKey(hd),i.unbindKey(pd)}}),[i,C,E,p,d,e,S,N,F]),(0,n.useEffect)((function(){C&&e.some((function(t){return t.id===S}))||N(void 0)}),[C,e,S,N]),(0,n.useLayoutEffect)((function(){requestAnimationFrame((function(){s.current&&(s.current.style.top="".concat(R,"px"),s.current.style.left="".concat(P,"px"))}))}),[R,P]),(0,n.useLayoutEffect)((function(){var t;p&&(null===(t=c.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[p,S,c]),(0,n.useLayoutEffect)((function(){var t;null===(t=c.current)||void 0===t||t.scrollIntoView({block:"nearest"})}),[e,c]),(0,n.useLayoutEffect)((function(){C&&!S&&a.current&&(a.current.scrollTop=0)}),[C,S]);var B=(0,n.useMemo)((function(){return C&&e.length?g.formatMessage(Ld.optionsFound):""}),[C,g,e]);return n.createElement(n.Fragment,null,n.createElement(Nf,{"data-testid":"jql-editor-autocomplete",tabIndex:-1,ref:M,isOpen:C,onBlur:x,onFocus:v},n.createElement(_f,{ref:q,onMouseMove:U},n.createElement(Cf,{role:"listbox",id:D},e.map((function(t,r){var i=t.id===S;return n.createElement(Tf,(0,Sd.A)({key:t.value,isSelected:i},i&&{ref:c},{option:t,onClick:function(){return F(t,r,!1)},onMouseMove:function(){var t,n;(null===(t=e[r])||void 0===t?void 0:t.id)!==S&&N(null===(n=e[r])||void 0===n?void 0:n.id)}}))})))),r&&n.createElement(wf,{"data-testid":"jql-editor-autocomplete-loading",hasOptions:!!e.length},n.createElement(Ad.A,{size:"small"}))),n.createElement(wd,{role:"status","aria-live":"polite"},B))};function Rf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rf(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const If=function(t){var e=t.keymap,r=t.onClick,i=hy(),o=(0,l.A)(i,1)[0],a=dy(),c=(0,l.A)(a,1)[0],u=Xg(),h=(0,l.A)(u,2)[1].createAndFireAnalyticsEvent,p=(0,n.useCallback)((function(t,e){r(t),h({action:Ms.SELECTED,actionSubject:qs.AUTOCOMPLETE_OPTION,eventType:s.B.TRACK,attributes:Pf({},e)})}),[h,r]);return n.createElement(kf,{options:o,loading:c,keymap:e,onClick:p})};function Lf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lf=function(){return!!t})()}var jf=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Lf(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t,e,r,o){var s;return(0,Si.A)(this,i),s=n.call(this,r,ld,"main"),(0,u.A)((0,Ki.A)(s),"getComponent",(function(){return If})),(0,u.A)((0,Ki.A)(s),"getInitialComponentProps",(function(){return{keymap:s.keymap,onClick:s.onReplaceSuggestion}})),(0,u.A)((0,Ki.A)(s),"onReplaceSuggestion",(function(t){var e=(0,l.A)(t.replacePosition,2),r=e[0],n=e[1],i=s.view.state.tr;i.setMeta(xd,!0),s.enableRichInlineNodes&&"value"===t.type&&"user"===t.valueType&&i.setMeta("hydrate",!0);var o=dg(i.doc,r),a=dg(i.doc,n);i.setSelection(A.U3.create(i.doc,a,o)),i.replaceSelection(s.getSliceForSuggestion(t)),s.view.focus(),s.view.dispatch(i)})),(0,u.A)((0,Ki.A)(s),"getSliceForSuggestion",(function(t){var e=t.value,r=t.name,n=t.nameOnRichInlineNode,i=t.valueType,o=t.context,a=[];(function(t){var e=t.type,r=t.context,n=t.isListFunction;if("value"===e||"function"===e||"keyword"===e){var i=null==r?void 0:r.operator;if(i&&Oi(i)&&(null==r||!r.isList)&&!n)return!0}return!1})(t)&&a.push(s.view.state.schema.text("("));var l=s.view.state.schema.text(e);if(s.enableRichInlineNodes)if("user"===i){var c={type:"user",id:e,name:null!=n?n:r,fieldName:null==o?void 0:o.field};a.push(s.view.state.schema.nodes.user.create(c,l))}else a.push(l);else a.push(l);return new nl(Qa.from(a),0,0)})),s.view=t,s.keymap=e,s.enableRichInlineNodes=o,s}return(0,bi.A)(i,[{key:"isSameState",value:function(t,e){return e.doc.eq(t.doc)&&e.selection.eq(t.selection)}}]),i}(bd),Df=function(t,e){return function(r,n,i){var o=t.getKeyBinding(e);return!!o&&o(r,n,i)}};const Mf=function(t,e){var r,n=new sd;return new A.k_({key:xd,view:function(r){var i=new jf(r,n,t,e);return i.init(),i},props:{handleKeyDown:Ga((r={},(0,u.A)(r,cd,Df(n,cd)),(0,u.A)(r,ud,Df(n,ud)),(0,u.A)(r,hd,Df(n,hd)),(0,u.A)(r,pd,Df(n,pd)),(0,u.A)(r,dd,Df(n,dd)),(0,u.A)(r,fd,Df(n,fd)),(0,u.A)(r,yd,Df(n,yd)),(0,u.A)(r,gd,Df(n,gd)),(0,u.A)(r,md,Df(n,md)),r))}})};var qf="rich_inline",Ff="selected",Uf="error",Bf=r(85593),zf=Ed.A.span({display:"inline-flex",alignItems:"baseline",paddingLeft:"var(--ds-space-025, 2px)",borderRadius:"10px",cursor:"pointer",userSelect:"none"},(function(t){var e=t.selected,r=t.error;return e?r?(0,Td.AH)({color:"var(--ds-text-inverse, ".concat(ff.N0,")"),backgroundColor:"var(--ds-background-danger-bold, ".concat(ff.pl,")"),textDecoration:"wavy underline",textDecorationThickness:"1px",textDecorationSkipInk:"none",textDecorationColor:"var(--ds-text-inverse, ".concat(ff.N0,")")}):(0,Td.AH)({color:"var(--ds-text, ".concat(ff.N0,")"),backgroundColor:"var(--ds-background-selected, ".concat(ff.UP,")"),boxShadow:"0 0 0 1px ".concat("var(--ds-border-selected, transparent)")}):r?(0,Td.AH)({color:"var(--ds-text-subtle, ".concat(ff.UP,")"),backgroundColor:"var(--ds-background-neutral, ".concat(ff.br,")"),textDecoration:"wavy underline",textDecorationThickness:"1px",textDecorationSkipInk:"none",textDecorationColor:"var(--ds-text-danger, ".concat(ff.pl,")"),"&:hover":{backgroundColor:"var(--ds-background-neutral-hovered, ".concat(ff._u,")")}}):(0,Td.AH)({color:"var(--ds-text-subtle, ".concat(ff.UP,")"),backgroundColor:"var(--ds-background-neutral, ".concat(ff.br,")"),"&:hover":{backgroundColor:"var(--ds-background-neutral-hovered, ".concat(ff._u,")")}})})),Vf=Ed.A.span({marginLeft:"var(--ds-space-075, 6px)",marginRight:"var(--ds-space-100, 8px)",lineHeight:"var(--ds-space-250, 20px)"}),Hf=Ed.A.div({height:"var(--ds-space-200, 16px)",width:"var(--ds-space-200, 16px)",alignSelf:"center","> div span":{margin:"var(--ds-space-0, 0px)"}}),Jf={user:{component:function(t){var e=t.id,r=t.name,i=t.fieldName,o=t.selected,s=t.error,a=my({id:e,fieldName:i}),c=(0,l.A)(a,1)[0];return n.createElement(zf,{selected:o,error:s},n.createElement(Hf,null,n.createElement(Bf.A,{src:null==c?void 0:c.avatarUrl,borderColor:"transparent",size:"xsmall"})),n.createElement(Vf,null,r))},attrs:{id:{},name:{},fieldName:{}}}};function Gf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gf(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Kf=function(){function t(e,r,i){var o=this;(0,Si.A)(this,t),(0,u.A)(this,"componentSubject",new Od.Subject),(0,u.A)(this,"init",(function(t){var e=o.component,r=function(){var r=(0,n.useState)(Wf(Wf({},o.getProps(o.node)),{},{selected:o.isSelected(t),error:o.hasError(t)})),i=(0,l.A)(r,2),s=i[0],a=i[1],c=iy(),u=(0,l.A)(c,1)[0];return(0,n.useEffect)((function(){var t=o.componentSubject.subscribe((function(t){a(t)}));return function(){return t.unsubscribe()}}),[]),(0,n.useLayoutEffect)((function(){s.error?o.dom.dataset.tokenType="error":delete o.dom.dataset.tokenType}),[s]),n.createElement(e,(0,Sd.A)({},s,{selected:s.selected&&u}))};return queueMicrotask((function(){o.portalActions.onCreatePortal(o.portalKey,n.createElement(r,null),o.dom)})),o})),(0,u.A)(this,"destroy",(function(){o.portalActions.onDestroyPortal(o.portalKey)})),(0,u.A)(this,"update",(function(t,e){return t===o.node&&(o.componentSubject.next(Wf(Wf({},o.getProps(t)),{},{selected:o.isSelected(e),error:o.hasError(e)})),!0)})),(0,u.A)(this,"getProps",(function(t){return Wf({},t.attrs)})),(0,u.A)(this,"isSelected",(function(t){return t.some((function(t){return t.spec.type===Ff}))})),(0,u.A)(this,"hasError",(function(t){return t.some((function(t){return t.spec.type===Uf}))})),this.component=e,this.portalActions=r,this.node=i,this.portalKey=(0,S.v4)(),this.dom=document.createElement("span"),this.dom.setAttribute("data-testid","jql-editor-node-view")}return(0,bi.A)(t,null,[{key:"for",value:function(e,r,n,i){return new t(e,r,n).init(i)}}]),t}(),Yf=function(t,e,r,n){var i=[];return t.doc.nodesBetween(r,n,(function(t,r){t.type.spec.group===qf&&i.push(Sn.node(r,r+t.nodeSize,{},{type:e}))})),i},$f=new A.hs("rich-inline-nodes-plugin");const Qf=function(t){return new A.k_({key:$f,props:{decorations:function(t){var e=[],r=t.selection,n=r.from,i=r.to;e.push.apply(e,(0,c.A)(Yf(t,Ff,n,i)));var o=Yp(t),s=(0,l.A)(o.errors,1)[0];if(s instanceof Gs){var a=dg(t.doc,s.start),u=dg(t.doc,s.stop);e.push.apply(e,(0,c.A)(Yf(t,Uf,a,u)))}return Tn.create(t.doc,e)},nodeViews:Ks()(Jf,(function(e){return function(r,n,i,o){return Kf.for(e.component,t,r,o)}}))}})};var Xf=r(75655),Zf=function(){function t(e){var r,n=this;(0,Si.A)(this,t),(0,u.A)(this,"showTooltip",(function(t,e,r){var i,o,s,a=(e.left+r.left)/2,l=null===(i=n.tooltip.offsetParent)||void 0===i?void 0:i.getBoundingClientRect();n.tooltip.style.left="".concat(a-(null!==(o=null==l?void 0:l.left)&&void 0!==o?o:0),"px"),n.tooltip.style.top="".concat(e.top-(null!==(s=null==l?void 0:l.top)&&void 0!==s?s:0),"px"),n.tooltip.textContent=t.message,n.tooltip.classList.remove(Xf.lM),n.tooltip.classList.add(Xf.Ld)})),(0,u.A)(this,"hideTooltip",(function(){n.tooltip.classList.remove(Xf.Ld),n.tooltip.classList.add(Xf.lM)})),this.tooltip=document.createElement("div"),this.tooltip.setAttribute("data-testid","jql-validation-tooltip"),this.tooltip.classList.add(Xf.wH),null===(r=document.getElementById(e))||void 0===r||r.appendChild(this.tooltip)}return(0,bi.A)(t,[{key:"update",value:function(t,e){var r=t.state,n=Xf.qM.getState(r),i=Xf.qM.getState(e),o=Yp(r),s=(0,l.A)(o.errors,1)[0];if(n!==i)if(n){if(s instanceof Gs){var a=dg(r.doc,s.start),c=dg(r.doc,s.stop),u=t.coordsAtPos(a),h=t.coordsAtPos(c);this.showTooltip(s,u,h)}}else this.hideTooltip()}},{key:"destroy",value:function(){this.tooltip.remove()}}]),t}();const tg=function(t){var e=new A.k_({key:Xf.qM,view:function(){return new Zf(t)},state:{init:function(){return!1},apply:function(t,r){return void 0!==t.getMeta(e)?t.getMeta(e):r}},props:{handleDOMEvents:{mouseover:function(t,r){var n=t.state,i=t.dispatch,o=e.getState(n);return r.target instanceof Element&&r.target.closest('[data-token-type="error"]')?o||i(n.tr.setMeta(e,!0)):o&&i(n.tr.setMeta(e,!1)),!1},mouseleave:function(t){var r=t.state,n=t.dispatch;return e.getState(r)&&n(r.tr.setMeta(e,!1)),!1}}}});return e};var eg=r(79674),rg=r.n(eg),ng=r(4046);function ig(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var og=new class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=Ka.from(t.nodes),e.marks=Ka.from(t.marks||{}),this.nodes=Ml.compile(this.spec.nodes,this),this.marks=Fl.compile(this.spec.marks,this);let r=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],n=e.spec.content||"",i=e.spec.marks;if(e.contentMatch=r[n]||(r[n]=El.parse(n,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==i?null:i?Ul(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],r=e.spec.excludes;e.excluded=null==r?[e]:""==r?[]:Ul(this,r.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Ml))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,n)}text(t,e){let r=this.nodes.text;return new Sl(r,r.defaultAttrs,t,el.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return bl.fromJSON(this,t)}markFromJSON(t){return el.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}({nodes:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ig(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ig(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({doc:{content:"paragraph+"},paragraph:{content:"(text|".concat(qf,")*"),toDOM:function(){return["p",{spellcheck:"false"},0]},parseDOM:[{tag:"p"}]},text:{}},Ks()(Jf,(function(t,e){return function(t,e){return{group:qf,content:"text*",inline:!0,atom:!0,attrs:e,toDOM:function(e){var r=rg()(e.attrs,(function(t,e){return"data-".concat(e)}));return[t,r,0]},parseDOM:[{tag:t,getAttrs:function(t){return t instanceof Element?Ks()(e,(function(e,r){return t.getAttribute("data-".concat(r))})):null}}]}}(e,t.attrs)}))),marks:{token:{toDOM:function(t){var e,r,n=t.attrs;return e=n.tokenType,(r=document.createElement("span")).className="mark-token-".concat(e),r.setAttribute("data-token-type",e),r.setAttribute("spellcheck","false"),r},attrs:{tokenType:{}}},cursor:{toDOM:function(){return document.createElement("span")}}}}),sg=Bl.fromSchema(og),ag=function(t){return Np(t.content,0,t.content.size)},lg=function(t,e){var r=document.createElement("div");return(0,ng.L)(t).forEach((function(t){r.appendChild(document.createElement("p")).textContent=t})),sg.parseSlice(r,{context:e,preserveWhitespace:!0})},cg=A.$t.create({schema:og}),ug=function(){return!0};function hg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var pg=function t(e,r,n){var i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hg(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r),o=e.type===og.nodes.doc;if(!e.isLeaf&&!o){if(i.doc+=1,e.isBlock&&(i.enteredInitialBlock&&(i.text+=1),i.enteredInitialBlock=!0),i.text===n)return i;if(e.isAtom&&n===i.text+e.content.size)return i.doc+=e.content.size+1,i.text+=e.content.size,i}if(e.isText){if(n>=i.text&&n<=i.text+e.nodeSize){var s=n-i.text;return i.doc+=s,i.text+=s,i}i.doc+=e.nodeSize,i.text+=e.nodeSize}for(var a=0;a<e.childCount;a++)if((i=t(e.child(a),i,n)).text===n)return i;return e.isLeaf||o||(i.doc+=1),i};const dg=function(t,e){return pg(t,{doc:0,text:0,enteredInitialBlock:!1},e).doc};var fg=r(28303),gg="jql-editor-autocomplete",yg=r(90720),mg=["=","!=","~","!~","<=",">=",">","<","is",oi,ni,ii,"was",li,si,ai,ci],vg=r(10467),xg=r(54756),Og=r.n(xg);function bg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bg=function(){return!!t})()}function Sg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ag(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sg(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Eg=function(t,e,r){if("user"===e.type){var n=og.text(r);return og.nodes.user.create(Ag(Ag({},e),{},{fieldName:t}),n)}throw new Error("Unsupported hydrated value type ".concat(e.type))},Tg=function(t,e){var r;return(null===(r=t.resolve(e).nodeAfter)||void 0===r?void 0:r.type.spec.group)===qf},Ng=function(t,e,r){return t.query?t.query.accept(new _g(e,r)):[]},_g=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=bg(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(t,e){var r;return(0,Si.A)(this,i),r=n.call(this),(0,u.A)((0,Ki.A)(r),"visitQuery",(function(t){return void 0===t.where?[]:t.where.accept((0,Ki.A)(r))})),(0,u.A)((0,Ki.A)(r),"visitCompoundClause",(function(t){return t.clauses.reduce((function(t,e){return[].concat((0,c.A)(t),(0,c.A)(e.accept((0,Ki.A)(r))))}),[])})),(0,u.A)((0,Ki.A)(r),"visitTerminalClause",(function(t){return t.field.value!==r.field||void 0===t.operand?[]:t.operand.accept((0,Ki.A)(r))})),(0,u.A)((0,Ki.A)(r),"visitNotClause",(function(t){return t.clause.accept((0,Ki.A)(r))})),(0,u.A)((0,Ki.A)(r),"visitValueOperand",(function(t){return t.value!==r.value?[]:[t]})),(0,u.A)((0,Ki.A)(r),"visitListOperand",(function(t){return t.values.reduce((function(t,e){return[].concat((0,c.A)(t),(0,c.A)(e.accept((0,Ki.A)(r))))}),[])})),r.field=t,r.value=e,r}return(0,bi.A)(i,[{key:"aggregateResult",value:function(t,e){return[].concat((0,c.A)(t),(0,c.A)(e))}},{key:"defaultResult",value:function(){return[]}}]),i}(Qp);function Cg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cg=function(){return!!t})()}var wg=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Cg(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"visitQuery",(function(e){return e.where?e.where.accept((0,Ki.A)(t)):""})),(0,u.A)((0,Ki.A)(t),"visitCompoundClause",(function(e){return e.clauses.map((function(e){return e.accept((0,Ki.A)(t))})).filter((function(t){return!!t})).join(" and ")})),(0,u.A)((0,Ki.A)(t),"visitTerminalClause",(function(e){var r=e.field,n=e.operator,i=e.operand;if(!n||!i)return"";var o=i.accept((0,Ki.A)(t));return o?"".concat(r.text," ").concat(n.value," ").concat(o):""})),(0,u.A)((0,Ki.A)(t),"visitNotClause",(function(e){return e.clause.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitValueOperand",(function(t){return t.text})),(0,u.A)((0,Ki.A)(t),"visitListOperand",(function(e){return"(".concat(e.values.map((function(e){return e.accept((0,Ki.A)(t))})).filter((function(t){return!!t})).join(", "),")")})),t}return(0,bi.A)(i,[{key:"defaultResult",value:function(){return""}}]),i}(Qp);function kg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kg(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Pg=function(){return function(){var t=(0,vg.A)(Og().mark((function t(e,r){var n,i,o,s,a,c,h,p,d,f,g,y,m,v;return Og().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.setState,i=e.getState,o=e.dispatch,s=r.onHydrate,a=i(),c=a.query,h=a.hydratedValues,p=a.enableRichInlineNodes,d=a.editorState,p&&s&&c){t.next=5;break}return t.abrupt("return");case 5:if(f=c,(g=Yp(d)).query&&g.errors.length&&(y=new wg,f=g.query.accept(y)),f){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,t.next=13,s(f);case 13:m=t.sent,v=Object.entries(m).reduce((function(t,e){var r=(0,l.A)(e,2),n=r[0],i=r[1],o=new Map(h[n]);return i.forEach((function(t){o.set(t.id,t)})),Rg(Rg({},t),{},(0,u.A)({},n,o))}),{}),n({hydratedValues:v}),o(Ig()),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(10);case 21:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e,r){return t.apply(this,arguments)}}()},Ig=function(){return function(t){var e=t.getState,r=t.dispatch,n=e(),i=function(t,e){var r=Yp(t),n=t.tr;return n.setMeta("addToHistory",!1),Object.entries(e).forEach((function(t){var e=(0,l.A)(t,2),i=e[0];e[1].forEach((function(t){"user"===t.type&&Ng(r,i,t.id).forEach((function(e){if(e.position){var r=(0,l.A)(e.position,2),o=r[0],s=r[1],a=dg(n.doc,o);if(!Tg(n.doc,a)){var c=dg(n.doc,s),u=Eg(i,t,e.text);n.replaceWith(a,c,u)}}}))}))})),n}(n.editorState,n.hydratedValues);r($g.onApplyEditorTransaction(i))}},Lg=r(80293),jg=r.n(Lg);function Dg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dg=function(){return!!t})()}function Mg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mg(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fg=function(t){return jg()(t,"9a90299c-aa58-494b-b6a1-e93206e3fdd6")},Ug=function(t){var e=t.values;if(""!==t.matchedText){var r=new RegExp("^".concat(Zl()(t.matchedText),"[^$]"),"i");e=t.values.filter((function(t){return r.test(t)}))}return e.map((function(e){var r;return{id:Fg(e),name:e,value:e,replacePosition:t.replacePosition,matchedText:t.matchedText,context:null!==(r=t.context)&&void 0!==r?r:null,type:"keyword"}}))},Bg=function(t){var e=t.rules,r=t.tokens;if(r.values.length)return r.replacePosition[0];for(var n=0,i=["value","function","list","operator","field"];n<i.length;n++){var o=i[n];if(Object.prototype.hasOwnProperty.call(e,o))return e[o].replacePosition[0]}return r.replacePosition[0]},zg=function(t,e,r,n,i){var o,s,a,l,c;if(n)try{var u=Tp(e.state.doc,0,e.state.doc.content.size),h=JSON.stringify(e.state.toJSON());n(t,qg(qg({editorStateJson:JSON.stringify(r.toJSON()),editorViewStateText:u,editorViewStateJson:h,editorViewHtml:e.dom.innerHTML},null===(c=document.getSelection())||"None"===c.type?{}:{anchorOffset:c.anchorOffset,anchorNodeText:null===(o=c.anchorNode)||void 0===o?void 0:o.textContent,anchorNodeName:null===(s=c.anchorNode)||void 0===s?void 0:s.nodeName,focusOffset:c.focusOffset,focusNodeText:null===(a=c.focusNode)||void 0===a?void 0:a.textContent,focusNodeName:null===(l=c.focusNode)||void 0===l?void 0:l.nodeName}),i))}catch(t){}},Vg=function(t){(0,Vi.A)(i,t);var e,r,n=(e=i,r=Dg(),function(){var t,n=(0,Ji.A)(e);if(r){var i=(0,Ji.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,Hi.A)(this,t)});function i(){var t;(0,Si.A)(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,u.A)((0,Ki.A)(t),"fields",new Set),(0,u.A)((0,Ki.A)(t),"visitQuery",(function(e){void 0!==e.where&&e.where.accept((0,Ki.A)(t)),void 0!==e.orderBy&&e.orderBy.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitOrderBy",(function(e){e.fields.map((function(e){return e.accept((0,Ki.A)(t))}))})),(0,u.A)((0,Ki.A)(t),"visitOrderByField",(function(e){e.field.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitCompoundClause",(function(e){e.clauses.map((function(e){return e.accept((0,Ki.A)(t))}))})),(0,u.A)((0,Ki.A)(t),"visitTerminalClause",(function(e){e.field.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitNotClause",(function(e){e.clause.accept((0,Ki.A)(t))})),(0,u.A)((0,Ki.A)(t),"visitField",(function(e){t.fields.add(e.value.toLowerCase())})),t}return(0,bi.A)(i,[{key:"defaultResult",value:function(){}}]),i}(Qp);function Hg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hg(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Gg=(0,g.E)({locale:"en"}),Wg={tokens:[],fields:[],operators:[],values:[],functions:[]},Kg={controlledQuery:"",query:"",externalMessages:[],isSearching:void 0,editorState:cg,editorView:void 0,intlRef:{current:Gg},autocompleteProvider:vd,idPrefix:"",editorViewHasFocus:!1,editorViewBlurTimeout:null,lineNumbersVisible:!1,jqlError:null,autocomplete:{shouldStayClosedOnNextUpdate:!0,shouldStayClosed:!0,selectedOptionId:void 0,loading:!1,options:Wg,subscription:null,analyticsSubscription:null,container:null,offsetParentRect:void 0,replacePositionStart:0},enableRichInlineNodes:!1,hydratedValues:{},resizeObserver:void 0,editorViewContainer:void 0,editorViewContainerRect:void 0,editorViewContainerScroll:0,onDebugUnsafeMessage:void 0},Yg=function(t){return t.doc.childCount>1},$g={onEditorViewBlur:function(){return function(t){var e=t.setState,r=t.dispatch,n=window.setTimeout((function(){e({editorViewHasFocus:!1}),r($g.setSelectedAutocompleteOptionId(void 0))}));e({editorViewBlurTimeout:n})}},onEditorViewFocus:function(t){return function(e,r){var n,i=e.setState,o=e.getState,s=r.onFocus,a=o(),l=a.autocomplete,c=a.editorViewBlurTimeout,u=a.editorViewHasFocus;(c&&clearTimeout(c),u)||(i({autocomplete:Jg(Jg({},l),{},{offsetParentRect:null===(n=l.container)||void 0===n||null===(n=n.offsetParent)||void 0===n?void 0:n.getBoundingClientRect()}),editorViewHasFocus:!0}),s&&s(t))}},openAutocompleteOnNextUpdate:function(){return function(t){(0,t.setState)({autocomplete:Jg(Jg({},(0,t.getState)().autocomplete),{},{shouldStayClosedOnNextUpdate:!1})})}},closeAutocomplete:function(){return function(t){(0,t.setState)({autocomplete:Jg(Jg({},(0,t.getState)().autocomplete),{},{shouldStayClosed:!0,shouldStayClosedOnNextUpdate:!0})})}},setSelectedAutocompleteOptionId:function(t){return function(e){(0,e.setState)({autocomplete:Jg(Jg({},(0,e.getState)().autocomplete),{},{selectedOptionId:t})})}},getAutocompleteSuggestions:function(t){return function(e){var r=e.getState,n=e.dispatch;if(!r().autocomplete.shouldStayClosedOnNextUpdate){var i=t.selection,o=i.from,s=i.to,a=Tp(t.doc,0,t.doc.content.size),l=Tp(t.doc,0,o),c=Tp(t.doc,0,s),u=l.length,h=c.length,p=Ds.fromText(a).getJQLSuggestionsForCaretPosition([u,h]),d=p,f=d.rules,g=d.tokens;f.list&&f.list.context&&!f.list.context.isList&&(g.values.includes("EMPTY")||(g.values.push("EMPTY"),g.context=f.list.context),f.value||(f.value=f.list),f.function||(f.function=f.list)),n($g.getAutocompleteOptions(p))}}},getAutocompleteOptions:function(t){return function(e){var r=e.setState,n=e.getState,i=e.dispatch,o=n(),s=o.autocomplete,a=o.editorView,l=s.shouldStayClosedOnNextUpdate;r({autocomplete:Jg(Jg(Jg({},s),{},{options:Jg(Jg({},Wg),{},{tokens:Ug(t.tokens)})},a&&{replacePositionStart:Bg(t)}),{},{shouldStayClosed:l})}),i($g.cancelSubscription()),i($g.callAutocompleteProviders(t))}},appendOptionsForObservable:function(t,e,r,n){return function(i){var o=i.getState,s=i.setState,a=r.context,l=r.matchedText,c=r.replacePosition;return e.pipe((0,b.tap)((function(e){var r=e.map((function(t){return Jg(Jg({},t),{},{context:a,matchedText:l,replacePosition:c,type:n,id:Fg(t.value)})})),i=o().autocomplete,h=i.options;s({autocomplete:Jg(Jg({},i),{},{options:Jg(Jg({},h),{},(0,u.A)({},t,h[t].concat(r)))})})})))}},cancelSubscription:function(){return function(t){var e=t.setState,r=(0,t.getState)().autocomplete,n=r.subscription,i=r.analyticsSubscription;n&&n.unsubscribe(),i&&i.unsubscribe(),e({autocomplete:Jg(Jg({},r),{},{subscription:null,analyticsSubscription:null,loading:!1})})}},setLoading:function(t){return function(e){(0,e.setState)({autocomplete:Jg(Jg({},(0,e.getState)().autocomplete),{},{loading:t})})}},setAutocompleteOptions:function(t){return function(e){(0,e.setState)({autocomplete:Jg(Jg({},(0,e.getState)().autocomplete),{},{options:t})})}},setAutocompleteContainer:function(t){return function(e){var r;(0,e.setState)({autocomplete:Jg(Jg({},(0,e.getState)().autocomplete),{},{container:t,offsetParentRect:null==t||null===(r=t.offsetParent)||void 0===r?void 0:r.getBoundingClientRect()})})}},callAutocompleteProviders:function(t){var e=t.rules,r=t.tokens;return function(t){var n=t.getState,i=t.setState,o=t.dispatch,a=n().autocompleteProvider,l=a.onFields,c=a.onOperators,u=a.onValues,h=a.onFunctions,p=[],d=[];if(e.value||e.function||r.values.includes("EMPTY")){if(e.value){var f,g=u(e.value.matchedText,null===(f=e.value.context)||void 0===f?void 0:f.field);p.push("values"),d.push(o($g.appendOptionsForObservable("values",g,e.value,"value")))}if(e.function){var y,m,v=h(e.function.matchedText,null===(y=e.function.context)||void 0===y?void 0:y.field,!(null===(m=e.function.context)||void 0===m||!m.operator)&&Oi(e.function.context.operator));p.push("functions"),d.push(o($g.appendOptionsForObservable("functions",v,e.function,"function")))}}else if(e.operator){var x=e.operator,b=x.context,S=function(t){return t.pipe((0,yg.map)((function(t){return mg.reduce((function(e,r){var n=t.find((function(t){return r.toLowerCase()===t.value.toLowerCase()}));return void 0!==n&&e.push(n),e}),[])})))}(c(x.matchedText,null==b?void 0:b.field));p.push("operators"),d.push(o($g.appendOptionsForObservable("operators",S,e.operator,"operator")))}else if(e.field){var A=e.field,E=A.context,T=l(A.matchedText,null==E?void 0:E.clause);p.push("fields"),d.push(o($g.appendOptionsForObservable("fields",T,e.field,"field")))}if(0!==d.length){var N=o((function(t,e){var r=e.createAndFireAnalyticsEvent;performance.clearMeasures(gg),performance.clearMarks("".concat(gg,"::start")),performance.mark("".concat(gg,"::start"));var n=null,i=new Promise((function(t){n=window.setTimeout((function(){t()}),2e3)}));return{analyticsSubscription:new fg.Subscription((function(){null!==n&&window.clearTimeout(n)})),onStopAutocompleteEvent:function(t,e,n){performance.measure(gg,"".concat(gg,"::start"));var o=performance.getEntriesByName(gg).pop(),a=null==o?void 0:o.duration;return i.then((function(){var i={optionTypes:e.sort(),hasOptions:n};void 0!==a&&(i.duration=a),r({action:t?Ms.RETRIEVED:Ms.RETRIEVE_FAILED,actionSubject:qs.AUTOCOMPLETE_OPTION,eventType:s.B.OPERATIONAL,attributes:i})}))}}})),_=N.analyticsSubscription,C=N.onStopAutocompleteEvent;o($g.setLoading(!0));var w=!1,k=O.h.apply(void 0,d).subscribe({next:function(){w=!0},error:function(){C(!1,p,w),o($g.setLoading(!1))},complete:function(){C(!0,p,w),o($g.setLoading(!1))}});i({autocomplete:Jg(Jg({},n().autocomplete),{},{subscription:k,analyticsSubscription:_})})}}},updateValidationState:function(){return function(t){var e=t.getState,r=t.setState,n=e().editorState,i=Yp(n);r({jqlError:i.errors.length>0?i.errors[0]:null})}},initialiseEditorState:function(){return function(t,e){var r=t.dispatch,n=e.query;r($g.configurePlugins(void 0)),r($g.resetEditorState(n,!1))}},configurePlugins:function(t){return function(e,r){var n=e.getState,i=e.setState,o=e.dispatch,s=r.intlRef,a=r.onSearch,l=n(),u=l.editorState,h=l.enableRichInlineNodes;u=function(t,e,r,n,i,o){return t.reconfigure({plugins:[Pa(),$p(r),ed()].concat((0,c.A)(void 0!==i?[Mf(i,o)].concat((0,c.A)(o?[Qf(i)]:[])):[]),[tg(n),Ja({"Mod-z":La,"Mod-Shift-z":ja,"Mod-y":ja,"Shift-Enter":ga.Enter})],(0,c.A)(e?[(s={"Mod-Enter":e,Enter:e},a=Ga(s),l=Ks()(s,(function(){return ug})),u=Ga(l),new A.k_({props:{handleKeyDown:function(t,e){return e.repeat?u(t,e):a(t,e)}}}))]:[]),[Ja(ga)])});var s,a,l,u}(u,a?function(t,e,r){return o($g.onSearchCommand(t,e,r,!0))}:void 0,s,ry(n(),kd),t,h),i({editorState:u})}},onApplyEditorTransaction:function(t){return function(e,r){var n=e.getState,i=e.setState,o=e.dispatch,s=r.onUpdate,a=n(),l=a.query,c=a.editorState,u=a.editorView,h=a.enableRichInlineNodes,p=c.selection,d=Tp(t.doc,0,t.doc.content.size),f=c.apply(t);u&&u.updateState(f),i({query:d,editorState:f,lineNumbersVisible:Yg(f)}),h&&(t.getMeta("hydrate")||t.getMeta("paste"))&&o(Pg()),l===d||t.getMeta(xd)||o($g.openAutocompleteOnNextUpdate()),l===d&&f.selection.eq(p)||o($g.getAutocompleteSuggestions(f)),l!==d&&s&&s(d,Yp(f))}},resetEditorState:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(r){var n=r.getState,i=r.dispatch,o=n(),s=o.editorState,a=o.enableRichInlineNodes,l=lg(t,s.doc.resolve(0)),c=s.tr.setMeta("addToHistory",e).replace(0,s.doc.content.size,l);i($g.onApplyEditorTransaction(c)),i($g.updateValidationState()),a&&i(Pg())}},initialiseEditorView:function(t,e,r){return function(n,i){var o=n.getState,s=n.setState,a=n.dispatch,l=i.onEditorMounted;a($g.configurePlugins(r));var c=o(),u=c.editorState,h=c.resizeObserver,p=new $n(t,{state:u,dispatchTransaction:function(t){return a($g.onApplyEditorTransaction(t))},clipboardTextSerializer:ag,clipboardTextParser:lg,attributes:e});null==h||h.disconnect(),null==h||h.observe(t),s({editorView:p}),l&&l()}},updateEditorView:function(t){return function(e){var r=(0,e.getState)(),n=r.editorView,i=r.onDebugUnsafeMessage,o=r.editorState;if(n)try{n.update(Jg(Jg({},n.props),{},{attributes:t}))}catch(e){var s="Error occurred trying to update attributes on the editor view with the message: ".concat(e instanceof Error?e.message:String(e)),a=Object.keys(t).reduce((function(e,r){var i,o=null===(i=n.props.attributes)||void 0===i?void 0:i[r],s=t[r];return s!==o&&(e["prev_".concat(r)]=o,e["next_".concat(r)]=s),e}),{});zg(s,n,o,i,Jg({stack:e instanceof Error?e.stack:""},a))}}},setEditorViewContainer:function(t){return function(e){(0,e.setState)({editorViewContainer:t,editorViewContainerRect:null==t?void 0:t.getBoundingClientRect()})}},setEditorViewContainerScroll:function(t){return function(e){(0,e.setState)({editorViewContainerScroll:t})}},onSearch:function(){return function(t){var e=t.getState,r=t.dispatch,n=e(),i=n.editorState,o=n.editorView;r($g.onSearchCommand(i,null==o?void 0:o.dispatch,o,!1))}},onSearchCommand:function(t,e,r,n){return function(e,i){var o=e.getState,a=e.dispatch,l=i.onSearch,c=i.createAndFireAnalyticsEvent;if(!l)return!0;var u=Yp(t);return l(o().query,u),c({action:Ms.CLICKED,actionSubject:qs.BUTTON,actionSubjectId:Fs.EDITOR_SEARCH,eventType:s.B.UI,attributes:Jg(Jg({},zi(u)),{},{keyboardShortcut:n})}),a($g.updateValidationState()),function(t,e,r){var n=Yp(t),i=n.errors.length>0?n.errors[0]:null;if(!(i instanceof Gs&&r))return!1;var o=t.tr,s=dg(o.doc,i.start),a=dg(o.doc,i.stop),l=A.U3.create(o.doc,s,a);o.setSelection(l),o.scrollIntoView(),r.focus(),r.dispatch(o)}(t,0,r),!0}},externalErrorMessageViewed:function(){return function(t,e){var r=t.getState,n=e.createAndFireAnalyticsEvent,i=e.externalMessages,o=r(),a=o.editorView,l=o.onDebugUnsafeMessage,c=o.jqlError,u=o.editorState,h=i.filter((function(t){return"error"===t.type}));if(h.length>0){var p=null!==c,d={hasClientError:p,semanticErrorCount:0,syntaxErrorCount:0,syntaxErrorTypes:[]},f=h.reduce((function(t,e){var r=e.errorType;return"string"==typeof r?(t.syntaxErrorCount++,t.syntaxErrorTypes.push(r)):t.semanticErrorCount++,t}),d);if(f.syntaxErrorTypes.sort(),n({action:Ms.VIEWED,actionSubject:qs.ERROR_MESSAGE,actionSubjectId:Fs.JQL_RESULT,eventType:s.B.UI,attributes:f}),a&&!p&&f.syntaxErrorCount>0){zg("External JQL syntax error is shown without a client error.",a,u,l,{syntaxErrorTypes:f.syntaxErrorTypes.join(",")})}}}},createAndFireAnalyticsEvent:function(t){return function(e,r){(0,r.createAndFireAnalyticsEvent)(t)}}},Qg=(0,y.y)({name:"jql-editor",initialState:Kg,actions:$g}),Xg=(0,m.ab)(Qg,{selector:null}),Zg=((0,m.ab)(Qg,{selector:function(t){return t.editorState}}),(0,m.ab)(Qg,{selector:function(t){return t.editorView}})),ty=(0,m.ab)(Qg,{selector:function(t){return t.isSearching}}),ey=(0,m.ab)(Qg,{selector:function(t){return t.intlRef.current}}),ry=((0,m.ab)(Qg,{selector:function(t){return t.autocompleteProvider}}),function(t,e){return"".concat(t.idPrefix,"_").concat(e)}),ny=(0,m.ab)(Qg,{selector:ry}),iy=((0,m.ab)(Qg,{selector:function(t){return t.idPrefix}}),(0,m.ab)(Qg,{selector:function(t){return t.editorViewHasFocus}})),oy=(0,m.ab)(Qg,{selector:function(t){return t.lineNumbersVisible}}),sy=(0,m.ab)(Qg,{selector:function(t){return t.autocomplete}}),ay=(0,m.ab)(Qg,{selector:function(t){return t.jqlError}}),ly=(0,m.ab)(Qg,{selector:function(t){return Yp(t.editorState).errors.length>0}}),cy=(0,m.ab)(Qg,{selector:function(t){var e=f()(t.externalMessages,"type");return{errors:e.error||[],warnings:e.warning||[],infos:e.info||[]}}}),uy=(0,v.Mz)((function(t){return t.autocomplete.options.tokens}),(function(t){return t.autocomplete.options.functions}),(function(t){return t.autocomplete.options.values}),(function(t){return t.autocomplete.options.operators}),(function(t){return t.autocomplete.options.fields}),(function(t,e,r,n,i){return[].concat((0,c.A)(t),(0,c.A)(e),(0,c.A)(r),(0,c.A)(n),(0,c.A)(i))})),hy=(0,m.ab)(Qg,{selector:uy}),py=function(t){return t.autocomplete.loading},dy=(0,m.ab)(Qg,{selector:py}),fy=(0,v.Mz)((function(t){return t.editorViewHasFocus}),uy,py,(function(t){return t.autocomplete.shouldStayClosed}),(function(t,e,r,n){return!n&&t&&(e.length>0||r)})),gy=(0,m.ab)(Qg,{selector:fy}),yy=(0,m.ab)(Qg,{selector:function(t){var e,r,n,i,o=t.autocomplete,s=t.editorView,a=t.editorViewContainerRect,l=t.onDebugUnsafeMessage,c=t.editorState,u=o.replacePositionStart,h=o.offsetParentRect;if(!s)return{top:0,left:0};try{var d=function(t,e){var r=t.state,n=r.doc,i=r.selection,o=dg(n,e),s=t.coordsAtPos(o).left;return{top:t.coordsAtPos(i.to).bottom,left:s}}(s,u);n=d.top,i=d.left}catch(t){var f,g,y="Error occurred trying to get autocomplete position with the message: ".concat(t instanceof Error?t.message:String(t));zg(y,s,c,l,{stack:t instanceof Error?t.stack:""}),n=null!==(f=null==a?void 0:a.bottom)&&void 0!==f?f:0,i=null!==(g=null==a?void 0:a.left)&&void 0!==g?g:0}var m=n,v=void 0!==a?p()(m,a.top,a.bottom):m;return{left:i-(null!==(e=null==h?void 0:h.left)&&void 0!==e?e:0),top:v-(null!==(r=null==h?void 0:h.top)&&void 0!==r?r:0)}}}),my=((0,m.ab)(Qg,{selector:function(t,e){var r,n=e.id,i=e.fieldName;return null===(r=t.hydratedValues[i])||void 0===r?void 0:r.get(n)}}),(0,m.ab)(Qg,{selector:function(t,e){var r,n=e.id,i=e.fieldName,o=null===(r=t.hydratedValues[i])||void 0===r?void 0:r.get(n);return o&&"user"===o.type?o:void 0}})),vy=(0,m.ab)(Qg,{selector:function(t){var e=function(t){if(!t.query)return new Set;var e=new Vg;return t.query.accept(e),e.fields}(Yp(t.editorState)),r=[];return Object.entries(t.hydratedValues).forEach((function(n){var i,o=(0,l.A)(n,1)[0];null===(i=t.hydratedValues[o])||void 0===i||i.forEach((function(t){"deprecated-field"===t.type&&e.has(t.id.toLowerCase())&&r.push(t)}))})),r}}),xy=(0,m.ab)(Qg,{selector:function(t){return t.enableRichInlineNodes}}),Oy=(0,m.ab)(Qg,{selector:function(t){return t.onSyntaxHelp}}),by=(0,x.g)(Qg,{onInit:function(){return function(t,e){var r=t.getState,n=t.setState,i=t.dispatch,o=e.intlRef,s=e.query,a=e.isSearching,l=e.autocompleteProvider,c=e.externalMessages,u=e.enableRichInlineNodes,h=e.onDebugUnsafeMessage,p=e.onSyntaxHelp;n({controlledQuery:s,query:s,externalMessages:c,isSearching:a,intlRef:o,autocompleteProvider:l,enableRichInlineNodes:u,idPrefix:(0,S.v4)(),resizeObserver:void 0!==window.ResizeObserver?new window.ResizeObserver((function(){var t;n({editorViewContainerRect:null===(t=r().editorViewContainer)||void 0===t?void 0:t.getBoundingClientRect()})})):void 0,onDebugUnsafeMessage:h,onSyntaxHelp:p}),i($g.initialiseEditorState())}},onUpdate:function(){return function(t,e){var r=t.getState,n=t.setState,i=t.dispatch,o=e.query,s=e.isSearching,a=e.autocompleteProvider,l=e.externalMessages,c=e.enableRichInlineNodes,u=e.onDebugUnsafeMessage,h=e.onSyntaxHelp,p=r(),d=p.controlledQuery,f=p.query;d!==o&&(n({controlledQuery:o}),o!==f&&i($g.resetEditorState(o))),n({externalMessages:l,isSearching:s,autocompleteProvider:a,enableRichInlineNodes:c,onDebugUnsafeMessage:u,onSyntaxHelp:h})}}}),Sy=r(40961),Ay=(0,n.createContext)({onCreatePortal:qd(),onDestroyPortal:qd(),onRegisterPluginContainer:qd()});function Ey(t){var e=function(t,e){if("object"!=(0,rd.A)(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=(0,rd.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,rd.A)(e)?e:e+""}function Ty(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ny(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ty(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var _y={components:{},containers:{}},Cy=function(t,e){switch(e.type){case"createPortal":var r=e.payload,n=r.key,i=r.portalComponent,o=r.container;return Ny(Ny({},t),{},{components:Ny(Ny({},t.components),{},(0,u.A)({},n,{portalComponent:i,container:o}))});case"destroyPortal":var s=t.components,a=e.payload,l=(s[a],(0,Ns.A)(s,[a].map(Ey)));return Ny(Ny({},t),{},{components:l});case"registerPluginContainer":var c=e.payload,h=c.element,p=c.containerKey;return h?Ny(Ny({},t),{},{containers:Ny(Ny({},t.containers),{},(0,u.A)({},p,h))}):t;default:return t}},wy=function(t){var e=t.children,r=(0,n.useReducer)(Cy,_y),i=(0,l.A)(r,2),o=i[0],s=i[1],a=(0,n.useMemo)((function(){return{onCreatePortal:function(t,e,r){return s({type:"createPortal",payload:{key:t,portalComponent:e,container:r}})},onDestroyPortal:function(t){return s({type:"destroyPortal",payload:t})},onRegisterPluginContainer:function(t,e){return s({type:"registerPluginContainer",payload:{containerKey:t,element:e}})}}}),[s]);return n.createElement(Ay.Provider,{value:a},e,Object.entries(o.components).map((function(t){var e=(0,l.A)(t,2),r=e[0],n=e[1],i=n.container instanceof Element?n.container:o.containers[n.container];return void 0!==i?(0,Sy.createPortal)(n.portalComponent,i,r):null})))},ky=r(7350),Ry=r.n(ky),Py=function(){var t=ay(),e=(0,l.A)(t,1)[0],r=cy(),i=(0,l.A)(r,1)[0].errors,o=ly(),s=(0,l.A)(o,1)[0],a=(0,n.useState)(!1),c=(0,l.A)(a,2),u=c[0],h=c[1],p=null===e&&i.length>0;return(0,n.useEffect)((function(){h(null!==e)}),[e]),(0,n.useEffect)((function(){s||h(!1)}),[s]),u||p},Iy=Ed.A.div({display:"flex"}),Ly=(0,n.forwardRef)((function(t,e){return n.createElement(Iy,(0,Sd.A)({ref:e},t))})),jy=r(2052),Dy={buttonLabel:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.button-label",defaultMessage:"Editor",description:"Label that tells the user the expand toggle is controlling the JQL editor."},expandTooltip:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.expand-tooltip",defaultMessage:"Expand editor",description:"Tooltip to show for the expand icon which increases the height of the editor"},collapseTooltip:{id:"jql-editor.ui.jql-editor-controls-content.expand-toggle.collapse-tooltip",defaultMessage:"Collapse editor",description:"Tooltip to show for the collapse icon which shrinks the height of the editor"}},My=function(){var t,e=(0,a.T7)(),r=e.expanded,i=e.toggleExpanded,o=Xg(),c=(0,l.A)(o,2)[1].createAndFireAnalyticsEvent,u=ny(Pd),h=(0,l.A)(u,1)[0],p=ey(),d=(0,l.A)(p,1)[0];t=r?d.formatMessage(Dy.collapseTooltip):d.formatMessage(Dy.expandTooltip);var f=(0,n.useCallback)((function(){c({action:Ms.CLICKED,actionSubject:qs.BUTTON,actionSubjectId:Fs.EDITOR_EXPAND,eventType:s.B.UI,attributes:{expanded:!r}}),i()}),[r,c,i]);return n.createElement(gf.A,{position:"bottom",content:n.createElement(Cd,null,t),tag:Ly},n.createElement(jy.Q,{expanded:r,editorId:h,label:d.formatMessage(Dy.buttonLabel),onClick:f}))},qy=r(61842),Fy={searchLabel:{id:"jql-editor.ui.jql-editor-controls-content.search.label",defaultMessage:"Search",description:"Label to show for the search icon which the user can press to perform a search."}},Uy=function(){var t=ey(),e=(0,l.A)(t,1)[0],r=Xg(),i=(0,l.A)(r,2)[1].onSearch,o=e.formatMessage(Fy.searchLabel),s=ty(),a=(0,l.A)(s,1)[0];return n.createElement(gf.A,{position:"bottom",content:n.createElement(Cd,null,o),tag:Ly},n.createElement(qy.E,{label:o,onSearch:i,isSearching:a}))},By=r(86118),zy={syntaxHelpDescription:{id:"jql-editor.ui.jql-editor-footer-content.jql-editor-help.syntax-help.description",defaultMessage:"Open JQL syntax help in a new tab.",description:"Description read when the syntax help link is focused."},syntaxHelpTooltip:{id:"jql-editor.ui.jql-editor-footer-content.jql-editor-help.syntax-help.tooltip",defaultMessage:"Syntax help",description:"Tooltip to show when the syntax help link is focused."}},Vy=function(){var t=ey(),e=(0,l.A)(t,1)[0],r=e.formatMessage(zy.syntaxHelpTooltip),i=ny("syntax-help-description"),o=(0,l.A)(i,1)[0],a=Oy(),c=(0,l.A)(a,2),u=c[0],h=c[1].createAndFireAnalyticsEvent,p=(0,n.useCallback)((function(t){h({action:Ms.CLICKED,actionSubject:qs.BUTTON,actionSubjectId:Fs.EDITOR_HELP,eventType:s.B.UI}),u&&u(t)&&t.preventDefault()}),[h,u]);return n.createElement(gf.A,{position:"bottom",content:n.createElement(Cd,null,r),tag:Ly},n.createElement(By.M,{describedby:o,label:r,onClick:p}),n.createElement(wd,{id:o},e.formatMessage(zy.syntaxHelpDescription)))},Hy=function(){var t=(0,a.T7)().isSearch;return n.createElement(n.Fragment,null,n.createElement(My,null),n.createElement(Vy,null),t&&n.createElement(Uy,null))},Jy=function(){var t=cy();return(0,l.A)(t,1)[0].infos.length>0},Gy=function(){var t=vy(),e=(0,l.A)(t,1)[0],r=cy(),n=(0,l.A)(r,1)[0].warnings;return e.length>0||n.length>0},Wy=r(23048),Ky=r(11561),Yy=r(63781),$y=r(8725),Qy=r(84007),Xy=["span","p","strong","em"],Zy=(0,Td.AH)({margin:0,overflowWrap:"anywhere"}),tm=(0,Td.AH)({fontWeight:"bold"}),em=(0,Td.AH)({fontStyle:"italic"}),rm={center:(0,Td.AH)({textAlign:"center"}),end:(0,Td.AH)({textAlign:"end"}),start:(0,Td.AH)({textAlign:"start"})},nm=(0,Td.AH)({display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"}),im={breakAll:(0,Td.AH)({wordBreak:"break-all"})},om=(0,n.createContext)(!1);const sm=(0,n.forwardRef)((function(t,e){var r=t.as,i=void 0===r?"span":r,o=t.color,s=t.align,a=t.testId,l=t.id,c=t.size,u=t.weight,h=t.maxLines,p=t.children;(0,Ky.A)(Xy.includes(i),'@atlaskit/primitives: Text received an invalid "as" value of "'.concat(i,'"'));var d=(0,n.useContext)(om),f=function(t,e){var r=(0,Qy.f)();return $y.aU.hasOwnProperty(r)?$y.aU[r]:"inherit"===t||!t&&e?void 0:t||"color.text"}(o,d);(0,Yy.fg)("platform-primitives-nested-text-inherit-size")||c||(c="medium");var g=(0,Td.Y)(i,{ref:e,css:[Zy,c?$y.l2[c]:!d&&$y.l2.medium,f&&$y.zq[f],h&&nm,1===h&&im.breakAll,s&&rm[s],u&&$y._H[u],"em"===i&&em,"strong"===i&&tm],style:{WebkitLineClamp:h},"data-testid":a,id:l},p);return d?g:(0,Td.Y)(om.Provider,{value:!0},g)}));var am={searchCommand:{id:"jql-editor.ui.jql-editor-help.search-command",defaultMessage:"<b>Enter</b> to search",description:"Message to inform users to press the 'Enter' key on the keyboard to search a query."},newLineCommand:{id:"jql-editor.ui.jql-editor-help.new-line-command",defaultMessage:"<b>Shift+Enter</b> to add a new line",description:"In search mode, message to inform users to press the 'Shift' and 'Enter' keys on the keyboard to add a new line into the query."},fieldNewLineCommand:{id:"jql-editor.ui.jql-editor-help.field-new-line-command",defaultMessage:"<b>Enter</b> to add a new line",description:"In field mode, message to inform users to press the 'Enter' key on the keyboard to add a new line into the query."}},lm=Ed.A.div({display:"flex",marginLeft:"auto",marginRight:0,flexShrink:0,padding:"0 ".concat("var(--ds-space-100, 8px)"),"> * + *":{marginLeft:"var(--ds-space-200, 16px)"}},(function(t){return t.isVisible?(0,Td.AH)({visibility:"visible",opacity:1,transition:"opacity 250ms cubic-bezier(0.15, 1, 0.3, 1)"}):(0,Td.AH)(_d,{opacity:0})})),cm=function(){var t=ey(),e=(0,l.A)(t,1)[0].formatMessage,r=iy(),i=(0,l.A)(r,1)[0],o=(0,a.T7)().isSearch,s=ny(Id),c=(0,l.A)(s,1)[0],u=n.createElement(sm,{size:"UNSAFE_small",color:"inherit"},e(am.searchCommand,{b:function(t){return n.createElement("b",null,t)}})),h=n.createElement(sm,{size:"UNSAFE_small",color:"inherit"},e(o?am.newLineCommand:am.fieldNewLineCommand,{b:function(t){return n.createElement("b",null,t)}}));return n.createElement(lm,{id:c,isVisible:i},o&&n.createElement(Wy.st,null,u),n.createElement(Wy.st,null,h))},um=Ed.A.div((function(t){return{paddingLeft:t.isSearch?"var(--ds-space-100, 8px)":"var(--ds-space-0, 0px)"}})),hm=Ed.A.ul({margin:0,paddingLeft:"var(--ds-space-300, 24px)"}),pm=function(t){var e=t.children,r=(0,a.T7)().isSearch;return n.createElement(um,{isSearch:r},e)},dm=function(t){var e=t.messages;return 0===e.length?null:1===e.length?n.createElement("span",null,e[0].message):n.createElement(hm,null,e.slice(0,10).map((function(t,e){return n.createElement("li",{key:e},t.message)})))},fm={jqlErrorPosition:{id:"jql-editor.ui.jql-validation-message.jql-error-position",defaultMessage:"(line {lineNumber}, character {charPosition})",description:"Show the line and character position that an error occurs in the JQL string, e.g. (line 1, character 23)"}},gm=function(){var t,e,r,i,o,s,a,c,u,h=ny(Pd),p=(0,l.A)(h,1)[0],d=(t=ey(),e=(0,l.A)(t,1)[0].formatMessage,r=ay(),i=(0,l.A)(r,1)[0],o=cy(),s=(0,l.A)(o,1)[0].errors,a=Xg(),c=(0,l.A)(a,2)[1].externalErrorMessageViewed,u=Py(),(0,n.useEffect)((function(){c()}),[c,s]),u?i instanceof Gs?"".concat(i.message," ").concat(e(fm.jqlErrorPosition,{lineNumber:i.line,charPosition:i.charPositionInLine+1})):s.length>0?n.createElement(dm,{messages:s}):null!==i?e(Up.unknownError):null:null);return null!=d?n.createElement(pm,null,n.createElement(Wy.Kw,{testId:"jql-editor-validation"},n.createElement("span",{role:"alert","aria-describedby":p},d))):null},ym=r(60031),mm=r(74803),vm=r(31207),xm={deprecatedParentReplacementMessage:{id:"jql-editor.ui.jql-warning-message.deprecated-epic-link-or-parent-link-field",defaultMessage:"{deprecatedField} will soon be replaced with {parentReplacement}. <link>Update to {parentReplacement}</link> to prepare for these changes.",description:"Warning message for Epic Link and Parent Link deprecation, with link to docs"},deprecatedBothParentReplacementMessage:{id:"jql-editor.ui.jql-warning-message.deprecated-both-epic-link-parent-link-field",defaultMessage:"{receivedFirst} and {receivedSecond} will soon be replaced with {parentReplacement}. <link>Update to {parentReplacement}</link> to prepare for these changes.",description:"Warning message for both Epic Link and Parent Link deprecation, with link to docs"},defaultWarning:{id:"jql-editor.ui.jql-warning-message.default",defaultMessage:"{deprecatedField} has been deprecated and may stop working in the future.",description:"Default warning message to show on NIN"}},Om="https://support.atlassian.com/jira-software-cloud/docs/upcoming-changes-epic-link-replaced-with-parent/",bm=function(){var t,e,r,i,o,s,a,u,h,p,d,f=(e=vy(),r=(0,l.A)(e,1)[0],i=cy(),o=(0,l.A)(i,1)[0].warnings,s=Gy(),a=ey(),u=(0,l.A)(a,1)[0].formatMessage,h=function(t){var e=t.filter((function(t){return"com.pyxis.greenhopper.jira:gh-epic-link-searcher"===t.deprecatedSearcherKey}));return e.length>0?e[0].id:null}(r),p=function(t){var e=t.filter((function(t){return"com.atlassian.jpo:jpo-custom-field-parent-searcher"===t.deprecatedSearcherKey}));return e.length>0?e[0].id:null}(r),d=(0,n.useCallback)((function(t){var e=[{type:"warning",message:t}].concat((0,c.A)(o));return n.createElement(dm,{messages:e})}),[o]),s?!r.length&&o.length?n.createElement(dm,{messages:o}):null==h&&null==p?d(u(xm.defaultWarning,{deprecatedField:null===(t=r[0])||void 0===t?void 0:t.id})):h&&p?d(u(xm.deprecatedBothParentReplacementMessage,{link:function(t){return n.createElement("a",{href:Om,target:"_blank",rel:"noopener noreferrer",onClick:function(t){return t.stopPropagation()}},t)},receivedFirst:h,receivedSecond:p,parentReplacement:"Parent"})):h||p?d(u(xm.deprecatedParentReplacementMessage,{link:function(t){return n.createElement("a",{href:Om,target:"_blank",rel:"noopener noreferrer",onClick:function(t){return t.stopPropagation()}},t)},deprecatedField:h||p,parentReplacement:"Parent"})):void 0:null);return null!=f?n.createElement(pm,null,n.createElement(Wy.st,{testId:"jql-editor-warning-message"},n.createElement(vm.A,{as:"span",paddingInlineEnd:"space.050"},n.createElement(mm.A,{label:"",color:"var(--ds-icon-warning, ".concat(ff.mg,")"),LEGACY_size:"small",LEGACY_fallbackIcon:ym.default,LEGACY_margin:"0 -4px 0 0"})),f)):null},Sm=r(98703),Am=r(71571),Em=function(){var t,e,r=(t=cy(),e=(0,l.A)(t,1)[0].infos,Jy()?n.createElement(dm,{messages:e}):null);return null!=r?n.createElement(pm,null,n.createElement(Wy.st,{testId:"jql-editor-info-message"},n.createElement(vm.A,{as:"span",paddingInlineEnd:"space.050"},n.createElement(Am.A,{label:"",color:"var(--ds-icon-information, ".concat(ff.S_,")"),LEGACY_size:"small",LEGACY_fallbackIcon:Sm.A,LEGACY_margin:"0 -4px 0 0"})),r)):null},Tm=function(){var t=Py(),e=Gy(),r=Jy();return t?n.createElement(gm,null):e?n.createElement(bm,null):r?n.createElement(Em,null):n.createElement(cm,null)},Nm=r(52407),_m={inputLabel:{id:"jql-editor.ui.input-label",defaultMessage:"JQL query",description:"Label for the input where users can type a JQL query. This text is not visible and is only read by screen readers."}};function Cm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cm(Object(r),!0).forEach((function(e){(0,u.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const km=function(t){var e=t.inputRef,r=Zg(),i=(0,l.A)(r,2),o=i[0],s=i[1],c=s.initialiseEditorView,u=s.updateEditorView,h=(0,n.useRef)(null),p=ny(kd),d=(0,l.A)(p,1)[0],f=ny(Rd),g=(0,l.A)(f,1)[0],y=ny(Pd),m=(0,l.A)(y,1)[0],v=ny(Id),x=(0,l.A)(v,1)[0],O=ey(),b=(0,l.A)(O,1)[0],S=(0,n.useContext)(Ay),A=Xg(),E=(0,l.A)(A,2)[1],T=E.setEditorViewContainer,N=E.setEditorViewContainerScroll,_=iy(),C=(0,l.A)(_,2),w=C[0],k=C[1],R=k.onEditorViewBlur,P=k.onEditorViewFocus,I=oy(),L=(0,l.A)(I,1)[0],j=sy(),D=(0,l.A)(j,1)[0].selectedOptionId,M=gy(),q=(0,l.A)(M,1)[0],F=Py(),U=(0,a.T7)().expanded,B=(0,n.useRef)(U),z=(0,n.useCallback)((function(){!U&&h.current&&(h.current.style.height="")}),[U,h]),V=(0,n.useCallback)((function(t){return S.onRegisterPluginContainer("main",t)}),[S]),H=(0,n.useCallback)((function(t){t&&T(t)}),[T]),J=(0,n.useMemo)((function(){return Ry()((function(t){N(t)}),1e3/60)}),[N]),G=(0,n.useCallback)((function(t){var e=t.currentTarget.scrollTop;J(e)}),[J]),W=(0,n.useCallback)((function(){return wm(wm({id:m,"data-testid":"jql-editor-input","data-gramm":"false",role:"combobox","aria-expanded":"".concat(q),"aria-autocomplete":"list","aria-label":b.formatMessage(_m.inputLabel),"aria-controls":g,"aria-owns":g,"aria-describedby":x},D&&{"aria-activedescendant":D}),F&&{"aria-invalid":"true"})}),[m,q,b,g,x,D,F]);(0,n.useEffect)((function(){u(W())}),[W,u]);var K=(0,n.useCallback)((function(t){t&&!o&&(c(t,W(),S),h.current=t)}),[o,c,W,S]);return(0,n.useEffect)((function(){h.current&&U!==B.current&&(U?(h.current.style.height=h.current.clientHeight+"px",requestAnimationFrame((function(){h.current&&(h.current.style.height="",h.current.setAttribute("data-expanded","true"))}))):o&&requestAnimationFrame((function(){h.current&&o&&(h.current.style.height=o.dom.clientHeight+"px",h.current.removeAttribute("data-expanded"))}))),B.current=U}),[U,B,h,o]),(0,n.useImperativeHandle)(e,(function(){return{focus:function(){o&&o.focus()}}})),(0,n.useEffect)((function(){return function(){o&&o.destroy()}}),[o]),n.createElement(Nm.A,{EditorControlsContent:n.createElement(Hy,null),EditorFooterContent:n.createElement(Tm,null),editorViewHasFocus:w,lineNumbersVisible:L,editorViewIsInvalid:F,mainId:d,onEditorMainRef:V,onEditorViewContainerRef:H,onEditorViewContainerScroll:G,onEditorViewRef:K,onEditorViewBlur:R,onEditorViewFocus:P,onEditorViewTransitionEnd:z})};const Rm=(0,i.Ay)((function(t){var e=t.analyticsSource,r=t.query,i=t.messages,l=void 0===i?[]:i,c=t.inputRef,u=t.isSearching,h=t.onEditorMounted,p=t.onDebugUnsafeMessage,d=t.onHydrate,f=t.onUpdate,g=t.onSearch,y=t.autocompleteProvider,m=t.intl,v=t.enableRichInlineNodes,x=void 0!==v&&v,O=t.isCompact,b=t.onSyntaxHelp,S=t.onFocus,A=(0,a.eV)({isSearch:!!g,isCompact:O}),E=function(t){return(0,o.j)(t,"@atlaskit/jql-editor","4.10.3",s.r)}(e),T=E.createAndFireAnalyticsEvent,N=(0,n.useRef)(m);return(0,n.useEffect)((function(){N.current=m}),[m]),n.createElement(by,{query:r,externalMessages:l,isSearching:u,intlRef:N,onEditorMounted:h,onDebugUnsafeMessage:p,onHydrate:d,onUpdate:f,onSearch:g,createAndFireAnalyticsEvent:T,autocompleteProvider:y,enableRichInlineNodes:x,onSyntaxHelp:b,onFocus:S},n.createElement(a.c3.Provider,{value:A},n.createElement(wy,null,n.createElement(km,{inputRef:c}))))}))},36210:(t,e,r)=>{"use strict";e.lQ=void 0;const n=r(12221),i=r(93027),o=r(83357);class s{constructor(){this.tokens=new Map,this.rules=new Map}}class a{constructor(){this.path=[],this.following=[]}}class l{constructor(t){this.showResult=!1,this.showDebugOutput=!1,this.debugOutputWithTransitions=!1,this.showRuleStack=!1,this.translateRulesTopDown=!1,this.tokenStartIndex=0,this.statesProcessed=0,this.shortcutMap=new Map,this.candidates=new s,this.parser=t,this.atn=t.atn,this.vocabulary=t.vocabulary,this.ruleNames=t.ruleNames,this.ignoredTokens=new Set,this.preferredRules=new Set}collectCandidates(t,e){this.shortcutMap.clear(),this.candidates.rules.clear(),this.candidates.tokens.clear(),this.statesProcessed=0,this.precedenceStack=[],this.tokenStartIndex=e?e.start.tokenIndex:0;const r=this.parser.inputStream;this.tokens=[];let i=this.tokenStartIndex;for(;;){const e=r.get(i++);if(e.channel===n.Token.DEFAULT_CHANNEL&&(this.tokens.push(e),e.tokenIndex>=t||e.type===n.Token.EOF))break;if(e.type===n.Token.EOF)break}const o=e?e.ruleIndex:0;if(this.processRule(this.atn.ruleToStartState[o],0,[],0,0),this.showResult){console.log(`States processed: ${this.statesProcessed}`),console.log("\n\nCollected rules:\n");for(const t of this.candidates.rules){let e="";for(const r of t[1].ruleList)e+=this.ruleNames[r]+" ";console.log(this.ruleNames[t[0]]+", path: ",e)}const t=new Set;for(const e of this.candidates.tokens){let r=this.vocabulary.getDisplayName(e[0]);for(const t of e[1])r+=" "+this.vocabulary.getDisplayName(t);t.add(r)}console.log("\n\nCollected tokens:\n");for(const e of t)console.log(e);console.log("\n\n")}return this.candidates}checkPredicate(t){return t.predicate.eval(this.parser,n.ParserRuleContext.emptyContext())}translateStackToRuleIndex(t){if(0===this.preferredRules.size)return!1;if(this.translateRulesTopDown){for(let e=t.length-1;e>=0;e--)if(this.translateToRuleIndex(e,t))return!0}else for(let e=0;e<t.length;e++)if(this.translateToRuleIndex(e,t))return!0;return!1}translateToRuleIndex(t,e){const{ruleIndex:r,startTokenIndex:n}=e[t];if(this.preferredRules.has(r)){const i=e.slice(0,t).map((({ruleIndex:t})=>t));let o=!0;for(const t of this.candidates.rules)if(t[0]===r&&t[1].ruleList.length===i.length&&i.every(((e,r)=>e===t[1].ruleList[r]))){o=!1;break}return o&&(this.candidates.rules.set(r,{startTokenIndex:n,ruleList:i}),this.showDebugOutput&&console.log("=====> collected: ",this.ruleNames[r])),!0}return!1}getFollowingTokens(t){const e=[],r=[t.target];for(;r.length>0;){const t=r.pop();t&&t.getTransitions().forEach((t=>{if(5===t.serializationType)if(t.isEpsilon)r.push(t.target);else{const n=t.label.toArray();1!==n.length||this.ignoredTokens.has(n[0])||(e.push(n[0]),r.push(t.target))}}))}return e}determineFollowSets(t,e){const r=[],n=this.collectFollowSets(t,e,r,[],[]),i=new o.IntervalSet;for(const t of r)i.addAll(t.intervals);return{sets:r,isExhaustive:n,combined:i}}collectFollowSets(t,e,r,s,l){if(s.find((e=>e===t)))return!0;if(s.push(t),t===e||t.stateType===i.ATNStateType.RULE_STOP)return s.pop(),!1;let c=!0;for(const i of t.getTransitions())if(3===i.serializationType){const t=i;if(-1!==l.indexOf(t.target.ruleIndex))continue;l.push(t.target.ruleIndex);const n=this.collectFollowSets(i.target,e,r,s,l);if(l.pop(),!n){const n=this.collectFollowSets(t.followState,e,r,s,l);c&&(c=n)}}else if(4===i.serializationType){if(this.checkPredicate(i)){const t=this.collectFollowSets(i.target,e,r,s,l);c&&(c=t)}}else if(i.isEpsilon){const t=this.collectFollowSets(i.target,e,r,s,l);c&&(c=t)}else if(9===i.serializationType){const t=new a;t.intervals=o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType),t.path=l.slice(),r.push(t)}else{let t=i.label;if(t&&t.size>0){8===i.serializationType&&(t=t.complement(o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)));const e=new a;e.intervals=t,e.path=l.slice(),e.following=this.getFollowingTokens(i),r.push(e)}}return s.pop(),c}processRule(t,e,r,s,a){let c=this.shortcutMap.get(t.ruleIndex);if(c){if(c.has(e))return this.showDebugOutput&&console.log("=====> shortcut"),c.get(e)}else c=new Map,this.shortcutMap.set(t.ruleIndex,c);const u=new Set;let h=l.followSetsByATN.get(this.parser.constructor.name);h||(h=new Map,l.followSetsByATN.set(this.parser.constructor.name,h));let p=h.get(t.stateNumber);if(!p){const e=this.atn.ruleToStopState[t.ruleIndex];p=this.determineFollowSets(t,e),h.set(t.stateNumber,p)}const d=this.tokens[e].tokenIndex;if(r.push({startTokenIndex:d,ruleIndex:t.ruleIndex}),e>=this.tokens.length-1){if(this.preferredRules.has(t.ruleIndex))this.translateStackToRuleIndex(r);else for(const t of p.sets){const e=r.slice(),n=t.path.map((t=>({startTokenIndex:d,ruleIndex:t})));if(e.push(...n),!this.translateStackToRuleIndex(e))for(const e of t.intervals.toArray())this.ignoredTokens.has(e)||(this.showDebugOutput&&console.log("=====> collected: ",this.vocabulary.getDisplayName(e)),this.candidates.tokens.has(e)?this.candidates.tokens.get(e)!==t.following&&this.candidates.tokens.set(e,[]):this.candidates.tokens.set(e,t.following))}return p.isExhaustive||u.add(e),r.pop(),u}{const t=this.tokens[e].type;if(p.isExhaustive&&!p.combined.contains(t))return r.pop(),u}t.isPrecedenceRule&&this.precedenceStack.push(s);const f=[];let g;for(f.push({state:t,tokenListIndex:e});f.length>0;){g=f.pop(),++this.statesProcessed;const t=this.tokens[g.tokenListIndex].type,e=g.tokenListIndex>=this.tokens.length-1;if(this.showDebugOutput&&(this.printDescription(a,g.state,this.generateBaseDescription(g.state),g.tokenListIndex),this.showRuleStack&&this.printRuleState(r)),g.state.stateType===i.ATNStateType.RULE_STOP){u.add(g.tokenListIndex);continue}const s=g.state.getTransitions();for(const i of s)switch(i.serializationType){case 3:{const t=i,e=this.processRule(i.target,g.tokenListIndex,r,t.precedence,a+1);for(const t of e)f.push({state:i.followState,tokenListIndex:t});break}case 4:this.checkPredicate(i)&&f.push({state:i.target,tokenListIndex:g.tokenListIndex});break;case 10:i.precedence>=this.precedenceStack[this.precedenceStack.length-1]&&f.push({state:i.target,tokenListIndex:g.tokenListIndex});break;case 9:if(e){if(!this.translateStackToRuleIndex(r))for(const t of o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType).toArray())this.ignoredTokens.has(t)||this.candidates.tokens.set(t,[])}else f.push({state:i.target,tokenListIndex:g.tokenListIndex+1});break;default:{if(i.isEpsilon){f.push({state:i.target,tokenListIndex:g.tokenListIndex});continue}let s=i.label;if(s&&s.size>0)if(8===i.serializationType&&(s=s.complement(o.IntervalSet.of(n.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),e){if(!this.translateStackToRuleIndex(r)){const t=s.toArray(),e=1===t.length;for(const r of t)this.ignoredTokens.has(r)||(this.showDebugOutput&&console.log("=====> collected: ",this.vocabulary.getDisplayName(r)),e?this.candidates.tokens.set(r,this.getFollowingTokens(i)):this.candidates.tokens.set(r,[]))}}else s.contains(t)&&(this.showDebugOutput&&console.log("=====> consumed: ",this.vocabulary.getDisplayName(t)),f.push({state:i.target,tokenListIndex:g.tokenListIndex+1}))}}}return r.pop(),t.isPrecedenceRule&&this.precedenceStack.pop(),c.set(e,u),u}generateBaseDescription(t){return`[${t.stateNumber===i.ATNState.INVALID_STATE_NUMBER?"Invalid":t.stateNumber} ${l.atnStateTypeMap[t.stateType]}] in ${this.ruleNames[t.ruleIndex]}`}printDescription(t,e,r,n){const i="  ".repeat(t);let o=i,s="";if(this.debugOutputWithTransitions)for(const t of e.getTransitions()){let e="";const r=t.label?t.label.toArray():[];if(r.length>2)e=this.vocabulary.getDisplayName(r[0])+" .. "+this.vocabulary.getDisplayName(r[r.length-1]);else for(const t of r)e.length>0&&(e+=", "),e+=this.vocabulary.getDisplayName(t);0===e.length&&(e=""),s+=`\n${i}\t(${e}) [${t.target.stateNumber} ${l.atnStateTypeMap[t.target.stateType]}] in ${this.ruleNames[t.target.ruleIndex]}`}n>=this.tokens.length-1?o+=`<<${this.tokenStartIndex+n}>> `:o+=`<${this.tokenStartIndex+n}> `,console.log(o+"Current state: "+r+s)}printRuleState(t){if(0!==t.length)for(const e of t)console.log(this.ruleNames[e.ruleIndex]);else console.log("<empty stack>")}}l.followSetsByATN=new Map,l.atnStateTypeMap=["invalid","basic","rule start","block start","plus block start","star block start","token start","rule stop","block end","star loop back","star loop entry","plus loop back","loop end"],e.lQ=l},52666:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},95635:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},67404:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ANTLRInputStream=void 0;const i=r(94148),o=r(72399),s=r(71492);class a{constructor(t){this.p=0,this.data=t,this.n=t.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw i(this.LA(1)===s.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(t){return 0===t?0:t<0&&(t++,this.p+t-1<0)||this.p+t-1>=this.n?s.IntStream.EOF:this.data.charCodeAt(this.p+t-1)}LT(t){return this.LA(t)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(t){}seek(t){if(t<=this.p)this.p=t;else for(t=Math.min(t,this.n);this.p<t;)this.consume()}getText(t){let e=t.a,r=t.b;r>=this.n&&(r=this.n-1);let n=r-e+1;return e>=this.n?"":this.data.substr(e,n)}get sourceName(){return this.name?this.name:s.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}n([o.Override],a.prototype,"consume",null),n([o.Override],a.prototype,"LA",null),n([o.Override],a.prototype,"index",null),n([o.Override],a.prototype,"size",null),n([o.Override],a.prototype,"mark",null),n([o.Override],a.prototype,"release",null),n([o.Override],a.prototype,"seek",null),n([o.Override],a.prototype,"getText",null),n([o.Override],a.prototype,"sourceName",null),n([o.Override],a.prototype,"toString",null),e.ANTLRInputStream=a},27442:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BailErrorStrategy=void 0;const i=r(43361),o=r(22468),s=r(72399),a=r(16897);class l extends i.DefaultErrorStrategy{recover(t,e){for(let r=t.context;r;r=r.parent)r.exception=e;throw new a.ParseCancellationException(e)}recoverInline(t){let e=new o.InputMismatchException(t);for(let r=t.context;r;r=r.parent)r.exception=e;throw new a.ParseCancellationException(e)}sync(t){}}n([s.Override],l.prototype,"recover",null),n([s.Override],l.prototype,"recoverInline",null),n([s.Override],l.prototype,"sync",null),e.BailErrorStrategy=l},46737:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedTokenStream=void 0;const o=r(94148),s=r(48291),a=r(7477),l=r(22807),c=r(72399),u=r(47760);let h=class{constructor(t){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,null==t)throw new Error("tokenSource cannot be null");this._tokenSource=t}get tokenSource(){return this._tokenSource}set tokenSource(t){this._tokenSource=t,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(t){}seek(t){this.lazyInit(),this.p=this.adjustSeekIndex(t)}get size(){return this.tokens.length}consume(){let t;if(t=this.p>=0&&(this.fetchedEOF?this.p<this.tokens.length-1:this.p<this.tokens.length),!t&&this.LA(1)===u.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(t){o(t>=0);let e=t-this.tokens.length+1;if(e>0){return this.fetch(e)>=e}return!0}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){let t=this.tokenSource.nextToken();if(this.isWritableToken(t)&&(t.tokenIndex=this.tokens.length),this.tokens.push(t),t.type===u.Token.EOF)return this.fetchedEOF=!0,e+1}return t}get(t){if(t<0||t>=this.tokens.length)throw new RangeError("token index "+t+" out of range 0.."+(this.tokens.length-1));return this.tokens[t]}getRange(t,e){if(t<0||e<0)return[];this.lazyInit();let r=new Array;e>=this.tokens.length&&(e=this.tokens.length-1);for(let n=t;n<=e;n++){let t=this.tokens[n];if(t.type===u.Token.EOF)break;r.push(t)}return r}LA(t){let e=this.LT(t);return e?e.type:u.Token.INVALID_TYPE}tryLB(t){if(!(this.p-t<0))return this.tokens[this.p-t]}LT(t){let e=this.tryLT(t);if(void 0===e)throw new RangeError("requested lookback index out of range");return e}tryLT(t){if(this.lazyInit(),0===t)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.p&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(t,e,r){if(this.lazyInit(),void 0===t)return o(void 0===e&&void 0===r),this.tokens;if(void 0===e&&(e=this.tokens.length-1),t<0||e>=this.tokens.length||e<0||t>=this.tokens.length)throw new RangeError("start "+t+" or stop "+e+" not in 0.."+(this.tokens.length-1));if(t>e)return[];if(void 0===r)return this.tokens.slice(t,e+1);"number"==typeof r&&(r=(new Set).add(r));let n=r,i=this.tokens.slice(t,e+1);return i=i.filter((t=>n.has(t.type))),i}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;let r=this.tokens[t];for(;r.channel!==e;){if(r.type===u.Token.EOF)return t;t++,this.sync(t),r=this.tokens[t]}return t}previousTokenOnChannel(t,e){if(this.sync(t),t>=this.size)return this.size-1;for(;t>=0;){let r=this.tokens[t];if(r.type===u.Token.EOF||r.channel===e)return t;t--}return t}getHiddenTokensToRight(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));let r,n=this.nextTokenOnChannel(t+1,l.Lexer.DEFAULT_TOKEN_CHANNEL),i=t+1;return r=-1===n?this.size-1:n,this.filterForChannel(i,r,e)}getHiddenTokensToLeft(t,e=-1){if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));if(0===t)return[];let r=this.previousTokenOnChannel(t-1,l.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===t-1)return[];let n=r+1,i=t-1;return this.filterForChannel(n,i,e)}filterForChannel(t,e,r){let n=new Array;for(let i=t;i<=e;i++){let t=this.tokens[i];-1===r?t.channel!==l.Lexer.DEFAULT_TOKEN_CHANNEL&&n.push(t):t.channel===r&&n.push(t)}return n}get sourceName(){return this.tokenSource.sourceName}getText(t){void 0===t?t=a.Interval.of(0,this.size-1):t instanceof a.Interval||(t=t.sourceInterval);let e=t.a,r=t.b;if(e<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let n="";for(let t=e;t<=r;t++){let e=this.tokens[t];if(e.type===u.Token.EOF)break;n+=e.text}return n.toString()}getTextFromRange(t,e){return this.isToken(t)&&this.isToken(e)?this.getText(a.Interval.of(t.tokenIndex,e.tokenIndex)):""}fill(){this.lazyInit();for(;;){if(this.fetch(1e3)<1e3)return}}isWritableToken(t){return t instanceof s.CommonToken}isToken(t){return t instanceof s.CommonToken}};n([c.NotNull],h.prototype,"_tokenSource",void 0),n([c.Override],h.prototype,"tokenSource",null),n([c.Override],h.prototype,"index",null),n([c.Override],h.prototype,"mark",null),n([c.Override],h.prototype,"release",null),n([c.Override],h.prototype,"seek",null),n([c.Override],h.prototype,"size",null),n([c.Override],h.prototype,"consume",null),n([c.Override],h.prototype,"get",null),n([c.Override],h.prototype,"LA",null),n([c.NotNull,c.Override],h.prototype,"LT",null),n([c.Override],h.prototype,"sourceName",null),n([c.NotNull,c.Override],h.prototype,"getText",null),n([c.NotNull,c.Override],h.prototype,"getTextFromRange",null),h=n([i(0,c.NotNull)],h),e.BufferedTokenStream=h},12781:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},36776:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CharStreams=void 0;const n=r(75866),i=r(90328),o=r(71492);!function(t){t.fromString=function(t,e){void 0!==e&&0!==e.length||(e=o.IntStream.UNKNOWN_SOURCE_NAME);let r=n.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);return r.append(s),i.CodePointCharStream.fromBuffer(r.build(),e)}}(e.CharStreams||(e.CharStreams={}))},75866:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointBuffer=void 0;const n=r(94148),i=r(24605);class o{constructor(t,e){this.buffer=t,this._position=0,this._size=e}static withArray(t){return new o(t,t.length)}get position(){return this._position}set position(t){if(t<0||t>this._size)throw new RangeError;this._position=t}get remaining(){return this._size-this.position}get(t){return this.buffer[t]}array(){return this.buffer.slice(0,this._size)}static builder(t){return new o.Builder(t)}}e.CodePointBuffer=o,function(t){let e;!function(t){t[t.BYTE=0]="BYTE",t[t.CHAR=1]="CHAR",t[t.INT=2]="INT"}(e||(e={}));class r{constructor(t){this.type=0,this.buffer=new Uint8Array(t),this.prevHighSurrogate=-1,this.position=0}build(){return new t(this.buffer,this.position)}static roundUpToNextPowerOfTwo(t){let e=32-Math.clz32(t-1);return Math.pow(2,e)}ensureRemaining(t){switch(this.type){case 0:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Uint8Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}break;case 1:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Uint16Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}break;case 2:if(this.buffer.length-this.position<t){let e=r.roundUpToNextPowerOfTwo(this.buffer.length+t),n=new Int32Array(e);n.set(this.buffer.subarray(0,this.position),0),this.buffer=n}}}append(t){this.ensureRemaining(t.length),this.appendArray(t)}appendArray(t){switch(this.type){case 0:this.appendArrayByte(t);break;case 1:this.appendArrayChar(t);break;case 2:this.appendArrayInt(t)}}appendArrayByte(t){n(-1===this.prevHighSurrogate);let e=t,r=0,o=t.length,s=this.buffer,a=this.position;for(;r<o;){let n=e[r];if(!(n<=255))return t=t.subarray(r,o),this.position=a,i.isHighSurrogate(n)?(this.byteToIntBuffer(t.length),void this.appendArrayInt(t)):(this.byteToCharBuffer(t.length),void this.appendArrayChar(t));s[a]=n,r++,a++}this.position=a}appendArrayChar(t){n(-1===this.prevHighSurrogate);let e=t,r=0,o=t.length,s=this.buffer,a=this.position;for(;r<o;){let n=e[r];if(i.isHighSurrogate(n))return t=t.subarray(r,o),this.position=a,this.charToIntBuffer(t.length),void this.appendArrayInt(t);s[a]=n,r++,a++}this.position=a}appendArrayInt(t){let e=t,r=0,n=t.length,o=this.buffer,s=this.position;for(;r<n;){let t=e[r];r++,-1!==this.prevHighSurrogate?i.isLowSurrogate(t)?(o[s]=String.fromCharCode(this.prevHighSurrogate,t).codePointAt(0),s++,this.prevHighSurrogate=-1):(o[s]=this.prevHighSurrogate,s++,i.isHighSurrogate(t)?this.prevHighSurrogate=t:(o[s]=t,s++,this.prevHighSurrogate=-1)):i.isHighSurrogate(t)?this.prevHighSurrogate=t:(o[s]=t,s++)}-1!==this.prevHighSurrogate&&(o[s]=this.prevHighSurrogate,s++),this.position=s}byteToCharBuffer(t){let e=new Uint16Array(Math.max(this.position+t,this.buffer.length>>1));e.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=e}byteToIntBuffer(t){let e=new Int32Array(Math.max(this.position+t,this.buffer.length>>2));e.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=e}charToIntBuffer(t){let e=new Int32Array(Math.max(this.position+t,this.buffer.length>>1));e.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=e}}t.Builder=r}(o=e.CodePointBuffer||(e.CodePointBuffer={}))},90328:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.CodePointCharStream=void 0;const i=r(94148),o=r(71492),s=r(7477),a=r(72399);class l{constructor(t,e,r,n){i(0===e),this._array=t,this._size=r,this._name=n,this._position=0}get internalStorage(){return this._array}static fromBuffer(t,e){return void 0!==e&&0!==e.length||(e=o.IntStream.UNKNOWN_SOURCE_NAME),new l(t.array(),t.position,t.remaining,e)}consume(){if(this._size-this._position==0)throw i(this.LA(1)===o.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(t){}seek(t){this._position=t}get sourceName(){return this._name}toString(){return this.getText(s.Interval.of(0,this.size-1))}LA(t){let e;switch(Math.sign(t)){case-1:return e=this.index+t,e<0?o.IntStream.EOF:this._array[e];case 0:return 0;case 1:return e=this.index+t-1,e>=this.size?o.IntStream.EOF:this._array[e]}throw new RangeError("Not reached")}getText(t){const e=Math.min(t.a,this.size),r=Math.min(t.b-t.a+1,this.size-e);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(e,e+r))):String.fromCharCode(...Array.from(this._array.subarray(e,e+r)))}}n([a.Override],l.prototype,"consume",null),n([a.Override],l.prototype,"index",null),n([a.Override],l.prototype,"size",null),n([a.Override],l.prototype,"mark",null),n([a.Override],l.prototype,"release",null),n([a.Override],l.prototype,"seek",null),n([a.Override],l.prototype,"sourceName",null),n([a.Override],l.prototype,"toString",null),n([a.Override],l.prototype,"LA",null),n([a.Override],l.prototype,"getText",null),e.CodePointCharStream=l},48291:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonToken=void 0;const o=r(7477),s=r(72399),a=r(47760);let l=class t{constructor(e,r,n=t.EMPTY_SOURCE,i=a.Token.DEFAULT_CHANNEL,o=0,s=0){this._line=0,this._charPositionInLine=-1,this._channel=a.Token.DEFAULT_CHANNEL,this.index=-1,this._text=r,this._type=e,this.source=n,this._channel=i,this.start=o,this.stop=s,null!=n.source&&(this._line=n.source.line,this._charPositionInLine=n.source.charPositionInLine)}static fromToken(e){let r=new t(e.type,void 0,t.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return r._line=e.line,r.index=e.tokenIndex,r._charPositionInLine=e.charPositionInLine,e instanceof t?(r._text=e._text,r.source=e.source):(r._text=e.text,r.source={source:e.tokenSource,stream:e.inputStream}),r}get type(){return this._type}set type(t){this._type=t}get line(){return this._line}set line(t){this._line=t}get text(){if(null!=this._text)return this._text;let t=this.inputStream;if(null==t)return;let e=t.size;return this.start<e&&this.stop<e?t.getText(o.Interval.of(this.start,this.stop)):"<EOF>"}set text(t){this._text=t}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(t){this._charPositionInLine=t}get channel(){return this._channel}set channel(t){this._channel=t}get startIndex(){return this.start}set startIndex(t){this.start=t}get stopIndex(){return this.stop}set stopIndex(t){this.stop=t}get tokenIndex(){return this.index}set tokenIndex(t){this.index=t}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(t){let e="";this._channel>0&&(e=",channel="+this._channel);let r=this.text;null!=r?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let n=String(this._type);return t&&(n=t.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+n+">"+e+","+this._line+":"+this.charPositionInLine+"]"}};l.EMPTY_SOURCE={source:void 0,stream:void 0},n([s.NotNull],l.prototype,"source",void 0),n([s.Override],l.prototype,"type",null),n([s.Override],l.prototype,"line",null),n([s.Override],l.prototype,"text",null),n([s.Override],l.prototype,"charPositionInLine",null),n([s.Override],l.prototype,"channel",null),n([s.Override],l.prototype,"startIndex",null),n([s.Override],l.prototype,"stopIndex",null),n([s.Override],l.prototype,"tokenIndex",null),n([s.Override],l.prototype,"tokenSource",null),n([s.Override],l.prototype,"inputStream",null),n([s.Override],l.prototype,"toString",null),n([i(0,s.NotNull)],l,"fromToken",null),l=n([i(2,s.NotNull)],l),e.CommonToken=l},25629:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenFactory=void 0;const i=r(48291),o=r(7477),s=r(72399);class a{constructor(t=!1){this.copyText=t}create(t,e,r,n,s,a,l,c){let u=new i.CommonToken(e,r,t,n,s,a);return u.line=l,u.charPositionInLine=c,null==r&&this.copyText&&null!=t.stream&&(u.text=t.stream.getText(o.Interval.of(s,a))),u}createSimple(t,e){return new i.CommonToken(t,e)}}n([s.Override],a.prototype,"create",null),n([s.Override],a.prototype,"createSimple",null),e.CommonTokenFactory=a,function(t){t.DEFAULT=new t}(a=e.CommonTokenFactory||(e.CommonTokenFactory={}))},95411:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTokenStream=void 0;const o=r(46737),s=r(72399),a=r(47760);let l=class extends o.BufferedTokenStream{constructor(t,e=a.Token.DEFAULT_CHANNEL){super(t),this.channel=e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}tryLB(t){if(this.p-t<0)return;let e=this.p,r=1;for(;r<=t&&e>0;)e=this.previousTokenOnChannel(e-1,this.channel),r++;return e<0?void 0:this.tokens[e]}tryLT(t){if(this.lazyInit(),0===t)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);let e=this.p,r=1;for(;r<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),r++;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e of this.tokens)if(e.channel===this.channel&&t++,e.type===a.Token.EOF)break;return t}};n([s.Override],l.prototype,"adjustSeekIndex",null),n([s.Override],l.prototype,"tryLB",null),n([s.Override],l.prototype,"tryLT",null),l=n([i(0,s.NotNull)],l),e.CommonTokenStream=l},13196:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleErrorListener=void 0;class r{syntaxError(t,e,r,n,i,o){console.error(`line ${r}:${n} ${i}`)}}e.ConsoleErrorListener=r,r.INSTANCE=new r},72399:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.SuppressWarnings=e.Override=e.Nullable=e.NotNull=void 0,e.NotNull=function(t,e,r){},e.Nullable=function(t,e,r){},e.Override=function(t,e,r){},e.SuppressWarnings=function(t){return(t,e,r)=>{}}},43361:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultErrorStrategy=void 0;const o=r(42813),s=r(77037),a=r(82262),l=r(22468),c=r(83357),u=r(40755),h=r(78859),p=r(47760),d=r(72399);class f{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=o.ATNState.INVALID_STATE_NUMBER}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof u.NoViableAltException?this.reportNoViableAlternative(t,e):e instanceof l.InputMismatchException?this.reportInputMismatch(t,e):e instanceof a.FailedPredicateException?this.reportFailedPredicate(t,e):(console.error(`unknown recognition error type: ${e}`),this.notifyErrorListeners(t,e.toString(),e)))}notifyErrorListeners(t,e,r){let n=r.getOffendingToken(t);void 0===n&&(n=null),t.notifyErrorListeners(e,n,r)}recover(t,e){this.lastErrorIndex===t.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(t.state)&&t.consume(),this.lastErrorIndex=t.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new c.IntervalSet),this.lastErrorStates.add(t.state);let r=this.getErrorRecoverySet(t);this.consumeUntil(t,r)}sync(t){let e=t.interpreter.atn.states[t.state];if(this.inErrorRecoveryMode(t))return;let r=t.inputStream.LA(1),n=t.atn.nextTokens(e);if(n.contains(r))return this.nextTokensContext=void 0,void(this.nextTokensState=o.ATNState.INVALID_STATE_NUMBER);if(n.contains(p.Token.EPSILON))void 0===this.nextTokensContext&&(this.nextTokensContext=t.context,this.nextTokensState=t.state);else switch(e.stateType){case s.ATNStateType.BLOCK_START:case s.ATNStateType.STAR_BLOCK_START:case s.ATNStateType.PLUS_BLOCK_START:case s.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(t))return;throw new l.InputMismatchException(t);case s.ATNStateType.PLUS_LOOP_BACK:case s.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(t);let e=t.getExpectedTokens().or(this.getErrorRecoverySet(t));this.consumeUntil(t,e)}}reportNoViableAlternative(t,e){let r,n=t.inputStream;r=n?e.startToken.type===p.Token.EOF?"<EOF>":n.getTextFromRange(e.startToken,e.getOffendingToken()):"<unknown input>";let i="no viable alternative at input "+this.escapeWSAndQuote(r);this.notifyErrorListeners(t,i,e)}reportInputMismatch(t,e){let r=e.expectedTokens,n=r?r.toStringVocabulary(t.vocabulary):"",i="mismatched input "+this.getTokenErrorDisplay(e.getOffendingToken(t))+" expecting "+n;this.notifyErrorListeners(t,i,e)}reportFailedPredicate(t,e){let r="rule "+t.ruleNames[t.context.ruleIndex]+" "+e.message;this.notifyErrorListeners(t,r,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.currentToken,r="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toStringVocabulary(t.vocabulary);t.notifyErrorListeners(r,e,void 0)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.currentToken,r="missing "+this.getExpectedTokens(t).toStringVocabulary(t.vocabulary)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(r,e,void 0)}recoverInline(t){let e=this.singleTokenDeletion(t);if(e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw void 0===this.nextTokensContext?new l.InputMismatchException(t):new l.InputMismatchException(t,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(t){let e=t.inputStream.LA(1),r=t.interpreter.atn.states[t.state].transition(0).target,n=t.interpreter.atn;return!!n.nextTokens(r,h.PredictionContext.fromRuleContext(n,t.context)).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){let e=t.inputStream.LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();let e=t.currentToken;return this.reportMatch(t),e}}getMissingSymbol(t){let e,r=t.currentToken,n=this.getExpectedTokens(t),i=p.Token.INVALID_TYPE;n.isNil||(i=n.minElement),e=i===p.Token.EOF?"<missing EOF>":"<missing "+t.vocabulary.getDisplayName(i)+">";let o=r,s=t.inputStream.tryLT(-1);return o.type===p.Token.EOF&&null!=s&&(o=s),this.constructToken(t.inputStream.tokenSource,i,e,o)}constructToken(t,e,r,n){let i=t.tokenFactory,o=n.tokenSource,s=o?o.inputStream:void 0;return i.create({source:t,stream:s},e,r,p.Token.DEFAULT_CHANNEL,-1,-1,n.line,n.charPositionInLine)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(!t)return"<no token>";let e=this.getSymbolText(t);return e||(e=this.getSymbolType(t)===p.Token.EOF?"<EOF>":`<${this.getSymbolType(t)}>`),this.escapeWSAndQuote(e)}getSymbolText(t){return t.text}getSymbolType(t){return t.type}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace("\n","\\n")).replace("\r","\\r")).replace("\t","\\t"))+"'"}getErrorRecoverySet(t){let e=t.interpreter.atn,r=t.context,n=new c.IntervalSet;for(;r&&r.invokingState>=0;){let t=e.states[r.invokingState].transition(0),i=e.nextTokens(t.followState);n.addAll(i),r=r._parent}return n.remove(p.Token.EPSILON),n}consumeUntil(t,e){let r=t.inputStream.LA(1);for(;r!==p.Token.EOF&&!e.contains(r);)t.consume(),r=t.inputStream.LA(1)}}n([d.Override],f.prototype,"reset",null),n([i(0,d.NotNull)],f.prototype,"beginErrorCondition",null),n([d.Override],f.prototype,"inErrorRecoveryMode",null),n([i(0,d.NotNull)],f.prototype,"endErrorCondition",null),n([d.Override],f.prototype,"reportMatch",null),n([d.Override],f.prototype,"reportError",null),n([i(0,d.NotNull)],f.prototype,"notifyErrorListeners",null),n([d.Override],f.prototype,"recover",null),n([d.Override],f.prototype,"sync",null),n([i(0,d.NotNull),i(1,d.NotNull)],f.prototype,"reportNoViableAlternative",null),n([i(0,d.NotNull),i(1,d.NotNull)],f.prototype,"reportInputMismatch",null),n([i(0,d.NotNull),i(1,d.NotNull)],f.prototype,"reportFailedPredicate",null),n([i(0,d.NotNull)],f.prototype,"reportUnwantedToken",null),n([i(0,d.NotNull)],f.prototype,"reportMissingToken",null),n([d.Override],f.prototype,"recoverInline",null),n([i(0,d.NotNull)],f.prototype,"singleTokenInsertion",null),n([i(0,d.NotNull)],f.prototype,"singleTokenDeletion",null),n([d.NotNull,i(0,d.NotNull)],f.prototype,"getMissingSymbol",null),n([d.NotNull,i(0,d.NotNull)],f.prototype,"getExpectedTokens",null),n([i(0,d.NotNull)],f.prototype,"getSymbolText",null),n([i(0,d.NotNull)],f.prototype,"getSymbolType",null),n([d.NotNull,i(0,d.NotNull)],f.prototype,"escapeWSAndQuote",null),n([d.NotNull,i(0,d.NotNull)],f.prototype,"getErrorRecoverySet",null),n([i(0,d.NotNull),i(1,d.NotNull)],f.prototype,"consumeUntil",null),e.DefaultErrorStrategy=f},77997:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Dependents=void 0,function(t){t[t.SELF=0]="SELF",t[t.PARENTS=1]="PARENTS",t[t.CHILDREN=2]="CHILDREN",t[t.ANCESTORS=3]="ANCESTORS",t[t.DESCENDANTS=4]="DESCENDANTS",t[t.SIBLINGS=5]="SIBLINGS",t[t.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",t[t.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",t[t.PRECEEDING=8]="PRECEEDING",t[t.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))},57866:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticErrorListener=void 0;const o=r(46889),s=r(72399),a=r(7477);class l{constructor(t=!0){this.exactOnly=t,this.exactOnly=t}syntaxError(t,e,r,n,i,o){}reportAmbiguity(t,e,r,n,i,o,s){if(this.exactOnly&&!i)return;let l=`reportAmbiguity d=${this.getDecisionDescription(t,e)}: ambigAlts=${this.getConflictingAlts(o,s)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,r,n,i,o){let s=`reportAttemptingFullContext d=${this.getDecisionDescription(t,e)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(s)}reportContextSensitivity(t,e,r,n,i,o){let s=`reportContextSensitivity d=${this.getDecisionDescription(t,e)}, input='${t.inputStream.getText(a.Interval.of(r,n))}'`;t.notifyErrorListeners(s)}getDecisionDescription(t,e){let r=e.decision,n=e.atnStartState.ruleIndex,i=t.ruleNames;if(n<0||n>=i.length)return r.toString();let o=i[n];return o?`${r} (${o})`:r.toString()}getConflictingAlts(t,e){if(null!=t)return t;let r=new o.BitSet;for(let t of e)r.set(t.alt);return r}}n([s.Override],l.prototype,"syntaxError",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(6,s.NotNull)],l.prototype,"reportAmbiguity",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(5,s.NotNull)],l.prototype,"reportAttemptingFullContext",null),n([s.Override,i(0,s.NotNull),i(1,s.NotNull),i(5,s.NotNull)],l.prototype,"reportContextSensitivity",null),n([i(0,s.NotNull),i(1,s.NotNull)],l.prototype,"getDecisionDescription",null),n([s.NotNull,i(1,s.NotNull)],l.prototype,"getConflictingAlts",null),e.DiagnosticErrorListener=l},82262:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.FailedPredicateException=void 0;const o=r(79449),s=r(72399),a=r(6369);let l=class t extends o.RecognitionException{constructor(e,r,n){super(e,e.inputStream,e.context,t.formatMessage(r,n));let i=e.interpreter.atn.states[e.state].transition(0);i instanceof a.PredicateTransition?(this._ruleIndex=i.ruleIndex,this._predicateIndex=i.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=r,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(t,e){return e||`failed predicate: {${t}}?`}};n([s.NotNull],l,"formatMessage",null),l=n([i(0,s.NotNull)],l),e.FailedPredicateException=l},22468:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.InputMismatchException=void 0;const o=r(79449),s=r(72399);let a=class extends o.RecognitionException{constructor(t,e,r){void 0===r&&(r=t.context),super(t,t.inputStream,r),void 0!==e&&this.setOffendingState(e),this.setOffendingToken(t,t.currentToken)}};a=n([i(0,s.NotNull)],a),e.InputMismatchException=a},71492:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntStream=void 0,function(t){t.EOF=-1,t.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))},3714:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.InterpreterRuleContext=void 0;const i=r(72399),o=r(41097);class s extends o.ParserRuleContext{constructor(t,e,r){void 0!==r?super(e,r):super(),this._ruleIndex=t}get ruleIndex(){return this._ruleIndex}}n([i.Override],s.prototype,"ruleIndex",null),e.InterpreterRuleContext=s},22807:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=void 0;const i=r(25629),o=r(41862),s=r(7477),a=r(71492),l=r(21088),c=r(86181),u=r(72399),h=r(18831),p=r(47760);class d extends h.Recognizer{constructor(t){super(),this._factory=i.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new o.IntegerStack,this._mode=d.DEFAULT_MODE,this._input=t,this._tokenFactorySourcePair={source:this,stream:t}}static get DEFAULT_TOKEN_CHANNEL(){return p.Token.DEFAULT_CHANNEL}static get HIDDEN(){return p.Token.HIDDEN_CHANNEL}reset(t){(void 0===t||t)&&this._input.seek(0),this._token=void 0,this._type=p.Token.INVALID_TYPE,this._channel=p.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=d.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(null==this._input)throw new Error("nextToken requires a non-null input stream.");let t=this._input.mark();try{t:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=p.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{let t;this._type=p.Token.INVALID_TYPE;try{t=this.interpreter.match(this._input,this._mode)}catch(e){if(!(e instanceof c.LexerNoViableAltException))throw e;this.notifyListeners(e),this.recover(e),t=d.SKIP}if(this._input.LA(1)===a.IntStream.EOF&&(this._hitEOF=!0),this._type===p.Token.INVALID_TYPE&&(this._type=t),this._type===d.SKIP)continue t}while(this._type===d.MORE);return null==this._token?this.emit():this._token}}finally{this._input.release(t)}}skip(){this._type=d.SKIP}more(){this._type=d.MORE}mode(t){this._mode=t}pushMode(t){l.LexerATNSimulator.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return l.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(t){this._factory=t}get inputStream(){return this._input}set inputStream(t){this.reset(!1),this._input=t,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(t){return t||(t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=t,t}emitEOF(){let t=this.charPositionInLine,e=this.line,r=this._factory.create(this._tokenFactorySourcePair,p.Token.EOF,void 0,p.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emit(r),r}get line(){return this.interpreter.line}set line(t){this.interpreter.line=t}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(t){this.interpreter.charPositionInLine=t}get charIndex(){return this._input.index}get text(){return null!=this._text?this._text:this.interpreter.getText(this._input)}set text(t){this._text=t}get token(){return this._token}set token(t){this._token=t}set type(t){this._type=t}get type(){return this._type}set channel(t){this._channel=t}get channel(){return this._channel}getAllTokens(){let t=[],e=this.nextToken();for(;e.type!==p.Token.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){let e=this._input.getText(s.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(e)+"'",n=this.getErrorListenerDispatch();n.syntaxError&&n.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,t)}getErrorDisplay(t){if("number"==typeof t){switch(t){case p.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(t)}return t.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(t){return"'"+this.getErrorDisplay(t)+"'"}recover(t){t instanceof c.LexerNoViableAltException?this._input.LA(1)!==a.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}}d.DEFAULT_MODE=0,d.MORE=-2,d.SKIP=-3,d.MIN_CHAR_VALUE=0,d.MAX_CHAR_VALUE=1114111,n([u.Override],d.prototype,"nextToken",null),n([u.Override],d.prototype,"tokenFactory",null),n([u.Override],d.prototype,"inputStream",null),n([u.Override],d.prototype,"sourceName",null),n([u.Override],d.prototype,"line",null),n([u.Override],d.prototype,"charPositionInLine",null),e.Lexer=d},96145:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerInterpreter=void 0;const o=r(22807),s=r(21088),a=r(72399),l=r(72399);let c=class extends o.Lexer{constructor(t,e,r,n,i,o,a){if(super(a),0!==o.grammarType)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=t,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=n.slice(0),this._modeNames=i.slice(0),this._vocabulary=e,this._interp=new s.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};n([a.NotNull],c.prototype,"_vocabulary",void 0),n([l.Override],c.prototype,"atn",null),n([l.Override],c.prototype,"grammarFileName",null),n([l.Override],c.prototype,"ruleNames",null),n([l.Override],c.prototype,"channelNames",null),n([l.Override],c.prototype,"modeNames",null),n([l.Override],c.prototype,"vocabulary",null),c=n([i(1,a.NotNull)],c),e.LexerInterpreter=c},86181:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerNoViableAltException=void 0;const o=r(79449),s=r(72399),a=r(7477),l=r(40659);let c=class extends o.RecognitionException{constructor(t,e,r,n){super(t,e),this._startIndex=r,this._deadEndConfigs=n}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let t="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(t=this.inputStream.getText(a.Interval.of(this._startIndex,this._startIndex)),t=l.escapeWhitespace(t,!1)),`LexerNoViableAltException('${t}')`}};n([s.Override],c.prototype,"inputStream",null),n([s.Override],c.prototype,"toString",null),c=n([i(1,s.NotNull)],c),e.LexerNoViableAltException=c},309:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ListTokenSource=void 0;const o=r(25629),s=r(72399),a=r(47760);let l=class{constructor(t,e){if(this.i=0,this._factory=o.CommonTokenFactory.DEFAULT,null==t)throw new Error("tokens cannot be null");this.tokens=t,this._sourceName=e}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(null!=this.eofToken)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.text;if(null!=e){let t=e.lastIndexOf("\n");if(t>=0)return e.length-t-1}return t.charPositionInLine+t.stopIndex-t.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(null==this.eofToken){let t=-1;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1].stopIndex;-1!==e&&(t=e+1)}let e=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},a.Token.EOF,"EOF",a.Token.DEFAULT_CHANNEL,t,e,this.line,this.charPositionInLine)}return this.eofToken}let t=this.tokens[this.i];return this.i===this.tokens.length-1&&t.type===a.Token.EOF&&(this.eofToken=t),this.i++,t}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(null!=this.eofToken)return this.eofToken.line;if(this.tokens.length>0){let t=this.tokens[this.tokens.length-1],e=t.line,r=t.text;if(null!=r)for(let t=0;t<r.length;t++)"\n"===r.charAt(t)&&e++;return e}return 1}get inputStream(){return this.i<this.tokens.length?this.tokens[this.i].inputStream:null!=this.eofToken?this.eofToken.inputStream:this.tokens.length>0?this.tokens[this.tokens.length-1].inputStream:void 0}get sourceName(){if(this._sourceName)return this._sourceName;let t=this.inputStream;return null!=t?t.sourceName:"List"}set tokenFactory(t){this._factory=t}get tokenFactory(){return this._factory}};n([s.Override],l.prototype,"charPositionInLine",null),n([s.Override],l.prototype,"nextToken",null),n([s.Override],l.prototype,"line",null),n([s.Override],l.prototype,"inputStream",null),n([s.Override],l.prototype,"sourceName",null),n([s.Override,s.NotNull,i(0,s.NotNull)],l.prototype,"tokenFactory",null),l=n([i(0,s.NotNull)],l),e.ListTokenSource=l},40755:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.NoViableAltException=void 0;const i=r(35922),o=r(79449),s=r(72399);class a extends o.RecognitionException{constructor(t,e,r,n,o,s){t instanceof i.Parser&&(void 0===e&&(e=t.inputStream),void 0===r&&(r=t.currentToken),void 0===n&&(n=t.currentToken),void 0===s&&(s=t.context)),super(t,e,s),this._deadEndConfigs=o,this._startToken=r,this.setOffendingToken(t,n)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}}n([s.NotNull],a.prototype,"_startToken",void 0),e.NoViableAltException=a},35922:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;const s=r(40659),a=r(28955),l=r(60493),c=r(43361),u=r(61964),h=r(41862),p=r(22807),d=r(72399),f=r(38344),g=r(13161),y=r(86142),m=r(18831),v=r(30360),x=r(47760);class O{constructor(t,e){this.ruleNames=t,this.tokenStream=e}enterEveryRule(t){console.log("enter   "+this.ruleNames[t.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(t){console.log("exit    "+this.ruleNames[t.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(t){}visitTerminal(t){let e=t.parent.ruleContext,r=t.symbol;console.log("consume "+r+" rule "+this.ruleNames[e.ruleIndex])}}n([d.Override],O.prototype,"enterEveryRule",null),n([d.Override],O.prototype,"exitEveryRule",null),n([d.Override],O.prototype,"visitErrorNode",null),n([d.Override],O.prototype,"visitTerminal",null);class b extends m.Recognizer{constructor(t){super(),this._errHandler=new c.DefaultErrorStrategy,this._precedenceStack=new h.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=t}reset(t){(void 0===t||t)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let e=this.interpreter;null!=e&&e.reset()}match(t){let e=this.currentToken;return e.type===t?(t===x.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}matchWildcard(){let t=this.currentToken;return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}set buildParseTree(t){this._buildParseTrees=t}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(t){if(null==t)throw new TypeError("listener cannot be null");this._parseListeners.push(t)}removeParseListener(t){let e=this._parseListeners.findIndex((e=>e===t));-1!==e&&this._parseListeners.splice(e,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let t of this._parseListeners)t.enterEveryRule&&t.enterEveryRule(this._ctx),this._ctx.enterRule(t)}triggerExitRuleEvent(){for(let t=this._parseListeners.length-1;t>=0;t--){let e=this._parseListeners[t];this._ctx.exitRule(e),e.exitEveryRule&&e.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let t=this.serializedATN;if(null==t)throw new Error("The current parser does not support an ATN with bypass alternatives.");let e=b.bypassAltsAtnCache.get(t);if(null==e){let r=new a.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,e=new l.ATNDeserializer(r).deserialize(s.toCharArray(t)),b.bypassAltsAtnCache.set(t,e)}return e}compileParseTreePattern(t,e,n){return o(this,void 0,void 0,(function*(){if(!n){if(this.inputStream){let t=this.inputStream.tokenSource;t instanceof p.Lexer&&(n=t)}if(!n)throw new Error("Parser can't discover a lexer to use")}let i=n;return new((yield Promise.resolve().then((()=>r(44864)))).ParseTreePatternMatcher)(i,this).compile(t,e)}))}get errorHandler(){return this._errHandler}set errorHandler(t){this._errHandler=t}get inputStream(){return this._input}set inputStream(t){this.reset(!1),this._input=t}get currentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,r){void 0===e?e=this.currentToken:null===e&&(e=void 0),this._syntaxErrors++;let n=-1,i=-1;null!=e&&(n=e.line,i=e.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,e,n,i,t,r)}consume(){let t=this.currentToken;t.type!==b.EOF&&this.inputStream.consume();let e=0!==this._parseListeners.length;if(this._buildParseTrees||e)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,t));if(e)for(let t of this._parseListeners)t.visitErrorNode&&t.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,t);if(this._ctx.addChild(r),e)for(let t of this._parseListeners)t.visitTerminal&&t.visitTerminal(r)}return t}createTerminalNode(t,e){return new v.TerminalNode(e)}createErrorNode(t,e){return new u.ErrorNode(e)}addContextToParseTree(){let t=this._ctx._parent;null!=t&&t.addChild(this._ctx)}enterRule(t,e,r){this.state=e,this._ctx=t,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(t,e,r){if(this.state=e,this._buildParseTrees){let e=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),e._parent=t,t.addChild(e)}this._ctx=t,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(t,e){if(t.altNumber=e,this._buildParseTrees&&this._ctx!==t){let e=this._ctx._parent;null!=e&&(e.removeLastChild(),e.addChild(t))}this._ctx=t}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(t,e,r,n){this.state=e,this._precedenceStack.push(n),this._ctx=t,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,r){let n=this._ctx;n._parent=t,n.invokingState=e,n._stop=this._input.tryLT(-1),this._ctx=t,this._ctx._start=n._start,this._buildParseTrees&&this._ctx.addChild(n),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let e=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=t;e._parent=t,this._buildParseTrees&&null!=t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;e&&e.ruleIndex!==t;)e=e._parent;return e}get context(){return this._ctx}set context(t){this._ctx=t}precpred(t,e){return e>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new y.ProxyParserErrorListener(this.getErrorListeners())}inContext(t){return!1}isExpectedToken(t){let e=this.interpreter.atn,r=this._ctx,n=e.states[this.state],i=e.nextTokens(n);if(i.contains(t))return!0;if(!i.contains(x.Token.EPSILON))return!1;for(;null!=r&&r.invokingState>=0&&i.contains(x.Token.EPSILON);){let n=e.states[r.invokingState].transition(0);if(i=e.nextTokens(n.followState),i.contains(t))return!0;r=r._parent}return!(!i.contains(x.Token.EPSILON)||t!==x.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let t=this.interpreter.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){let e=this.getRuleIndexMap().get(t);return null!=e?e:-1}get ruleContext(){return this._ctx}getRuleInvocationStack(t=this._ctx){let e=t,r=this.ruleNames,n=[];for(;null!=e;){let t=e.ruleIndex;t<0?n.push("n/a"):n.push(r[t]),e=e._parent}return n}getDFAStrings(){let t=[];for(let e of this._interp.atn.decisionToDFA)t.push(e.toString(this.vocabulary,this.ruleNames));return t}dumpDFA(){let t=!1;for(let e of this._interp.atn.decisionToDFA)e.isEmpty||(t&&console.log(),console.log("Decision "+e.decision+":"),process.stdout.write(e.toString(this.vocabulary,this.ruleNames)),t=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then((()=>r(51284))).then((t=>{let e=this.interpreter;if(e instanceof t.ProfilingATNSimulator)return new f.ParseInfo(e)}))}setProfile(t){return o(this,void 0,void 0,(function*(){let e=yield Promise.resolve().then((()=>r(51284))),n=this.interpreter;t?n instanceof e.ProfilingATNSimulator||(this.interpreter=new e.ProfilingATNSimulator(this)):n instanceof e.ProfilingATNSimulator&&(this.interpreter=new g.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(n.getPredictionMode())}))}set isTrace(t){t?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new O(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return null!=this._tracer}}b.bypassAltsAtnCache=new Map,n([d.NotNull],b.prototype,"_errHandler",void 0),n([d.NotNull],b.prototype,"match",null),n([d.NotNull],b.prototype,"matchWildcard",null),n([d.NotNull],b.prototype,"getParseListeners",null),n([i(0,d.NotNull)],b.prototype,"addParseListener",null),n([d.NotNull],b.prototype,"getATNWithBypassAlts",null),n([d.NotNull,i(0,d.NotNull)],b.prototype,"errorHandler",null),n([d.Override],b.prototype,"inputStream",null),n([d.NotNull],b.prototype,"currentToken",null),n([i(0,d.NotNull)],b.prototype,"enterRule",null),n([d.Override,i(0,d.Nullable)],b.prototype,"precpred",null),n([d.Override],b.prototype,"getErrorListenerDispatch",null),n([d.NotNull],b.prototype,"getExpectedTokens",null),n([d.NotNull],b.prototype,"getExpectedTokensWithinCurrentRule",null),n([d.Override],b.prototype,"parseInfo",null),e.Parser=b},60754:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},49274:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserInterpreter=void 0;const o=r(42813),s=r(77037),a=r(46889),l=r(82262),c=r(22468),u=r(3714),h=r(46251),p=r(72399),d=r(72399),f=r(35922),g=r(13161),y=r(79449),m=r(4016),v=r(47760);let x=class t extends f.Parser{constructor(e,r,n,i,o){if(super(e instanceof t?e.inputStream:o),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof t){let t=e;this._grammarFileName=t._grammarFileName,this._atn=t._atn,this.pushRecursionContextStates=t.pushRecursionContextStates,this._ruleNames=t._ruleNames,this._vocabulary=t._vocabulary,this.interpreter=new g.ParserATNSimulator(this._atn,this)}else{this._grammarFileName=e,this._atn=i,this._ruleNames=n.slice(0),this._vocabulary=r,this.pushRecursionContextStates=new a.BitSet(i.states.length);for(let t of i.states)t instanceof m.StarLoopEntryState&&t.precedenceRuleDecision&&this.pushRecursionContextStates.set(t.stateNumber);this.interpreter=new g.ParserATNSimulator(i,this)}}reset(t){void 0===t?super.reset():super.reset(t),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(t){let e=this._atn.ruleToStartState[t];for(this._rootContext=this.createInterpreterRuleContext(void 0,o.ATNState.INVALID_STATE_NUMBER,t),e.isPrecedenceRule?this.enterRecursionRule(this._rootContext,e.stateNumber,t,0):this.enterRule(this._rootContext,e.stateNumber,t);;){let t=this.atnState;if(t.stateType===s.ATNStateType.RULE_STOP){if(this._ctx.isEmpty){if(e.isPrecedenceRule){let t=this._ctx,e=this._parentContextStack.pop();return this.unrollRecursionContexts(e[0]),t}return this.exitRule(),this._rootContext}this.visitRuleStopState(t)}else try{this.visitState(t)}catch(e){if(!(e instanceof y.RecognitionException))throw e;this.state=this._atn.ruleToStopState[t.ruleIndex].stateNumber,this.context.exception=e,this.errorHandler.reportError(this,e),this.recover(e)}}}enterRecursionRule(t,e,r,n){this._parentContextStack.push([this._ctx,t.invokingState]),super.enterRecursionRule(t,e,r,n)}get atnState(){return this._atn.states[this.state]}visitState(t){let e=1;t.numberOfTransitions>1&&(e=this.visitDecisionState(t));let r=t.transition(e-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(t.stateNumber)&&!(r.target instanceof h.LoopEndState)){let e=this._parentContextStack[this._parentContextStack.length-1],r=this.createInterpreterRuleContext(e[0],e[1],this._ctx.ruleIndex);this.pushNewRecursionContext(r,this._atn.ruleToStartState[t.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),v.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let e=r.target,n=e.ruleIndex,i=this.createInterpreterRuleContext(this._ctx,t.stateNumber,n);e.isPrecedenceRule?this.enterRecursionRule(i,e.stateNumber,n,r.precedence):this.enterRule(i,r.target.stateNumber,n);break;case 4:let o=r;if(!this.sempred(this._ctx,o.ruleIndex,o.predIndex))throw new l.FailedPredicateException(this);break;case 6:let s=r;this.action(this._ctx,s.ruleIndex,s.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let t=r.precedence;throw new l.FailedPredicateException(this,`precpred(_ctx, ${t})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(t){let e;this.errorHandler.sync(this);let r=t.decision;return r!==this.overrideDecision||this._input.index!==this.overrideDecisionInputIndex||this.overrideDecisionReached?e=this.interpreter.adaptivePredict(this._input,r,this._ctx):(e=this.overrideDecisionAlt,this.overrideDecisionReached=!0),e}createInterpreterRuleContext(t,e,r){return new u.InterpreterRuleContext(r,t,e)}visitRuleStopState(t){if(this._atn.ruleToStartState[t.ruleIndex].isPrecedenceRule){let t=this._parentContextStack.pop();this.unrollRecursionContexts(t[0]),this.state=t[1]}else this.exitRule();let e=this._atn.states[this.state].transition(0);this.state=e.followState.stateNumber}addDecisionOverride(t,e,r){this.overrideDecision=t,this.overrideDecisionInputIndex=e,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(t){let e=this._input.index;if(this.errorHandler.recover(this,t),this._input.index===e){let e=t.getOffendingToken();if(!e)throw new Error("Expected exception to have an offending token");let r=e.tokenSource,n={source:r,stream:void 0!==r?r.inputStream:void 0};if(t instanceof c.InputMismatchException){let r=t.expectedTokens;if(void 0===r)throw new Error("Expected the exception to provide expected tokens");let i=v.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let o=this.tokenFactory.create(n,i,e.text,v.Token.DEFAULT_CHANNEL,-1,-1,e.line,e.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,o))}else{e.tokenSource;let t=this.tokenFactory.create(n,v.Token.INVALID_TYPE,e.text,v.Token.DEFAULT_CHANNEL,-1,-1,e.line,e.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};n([p.NotNull],x.prototype,"_vocabulary",void 0),n([d.Override],x.prototype,"reset",null),n([d.Override],x.prototype,"atn",null),n([d.Override],x.prototype,"vocabulary",null),n([d.Override],x.prototype,"ruleNames",null),n([d.Override],x.prototype,"grammarFileName",null),n([d.Override],x.prototype,"enterRecursionRule",null),x=n([i(1,p.NotNull)],x),e.ParserInterpreter=x},41097:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserRuleContext=void 0;const i=r(61964),o=r(7477),s=r(72399),a=r(89984),l=r(30360);class c extends a.RuleContext{constructor(t,e){null==e?super():super(t,e)}static emptyContext(){return c.EMPTY}copyFrom(t){if(this._parent=t._parent,this.invokingState=t.invokingState,this._start=t._start,this._stop=t._stop,t.children){this.children=[];for(let e of t.children)e instanceof i.ErrorNode&&this.addChild(e)}}enterRule(t){}exitRule(t){}addAnyChild(t){return this.children?this.children.push(t):this.children=[t],t}addChild(t){return t instanceof l.TerminalNode?(t.setParent(this),void this.addAnyChild(t)):t instanceof a.RuleContext?void this.addAnyChild(t):(t=new l.TerminalNode(t),this.addAnyChild(t),t.setParent(this),t)}addErrorNode(t){if(t instanceof i.ErrorNode){const e=t;return e.setParent(this),this.addAnyChild(e)}{const e=t;let r=new i.ErrorNode(e);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let t=super.parent;if(void 0===t||t instanceof c)return t;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(t,e){if(!this.children||t<0||t>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(null==e)return this.children[t];let r=this.tryGetChild(t,e);if(void 0===r)throw new Error("The specified node does not exist");return r}tryGetChild(t,e){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let n of this.children)if(n instanceof e&&(r++,r===t))return n}getToken(t,e){let r=this.tryGetToken(t,e);if(void 0===r)throw new Error("The specified token does not exist");return r}tryGetToken(t,e){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let n of this.children)if(n instanceof l.TerminalNode){if(n.symbol.type===t&&(r++,r===e))return n}}getTokens(t){let e=[];if(!this.children)return e;for(let r of this.children)if(r instanceof l.TerminalNode){r.symbol.type===t&&e.push(r)}return e}get ruleContext(){return this}getRuleContext(t,e){return this.getChild(t,e)}tryGetRuleContext(t,e){return this.tryGetChild(t,e)}getRuleContexts(t){let e=[];if(!this.children)return e;for(let r of this.children)r instanceof t&&e.push(r);return e}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?o.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):o.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):o.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(t){return"ParserRuleContext"+t.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}}c.EMPTY=new c,n([s.Override],c.prototype,"parent",null),n([s.Override],c.prototype,"childCount",null),n([s.Override],c.prototype,"sourceInterval",null),e.ParserRuleContext=c},57115:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyErrorListener=void 0;const o=r(72399);class s{constructor(t){if(this.delegates=t,!t)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(t,e,r,n,i,o){this.delegates.forEach((s=>{s.syntaxError&&s.syntaxError(t,e,r,n,i,o)}))}}n([o.Override,i(0,o.NotNull),i(4,o.NotNull)],s.prototype,"syntaxError",null),e.ProxyErrorListener=s},86142:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyParserErrorListener=void 0;const i=r(57115),o=r(72399);class s extends i.ProxyErrorListener{constructor(t){super(t)}reportAmbiguity(t,e,r,n,i,o,s){this.getDelegates().forEach((a=>{a.reportAmbiguity&&a.reportAmbiguity(t,e,r,n,i,o,s)}))}reportAttemptingFullContext(t,e,r,n,i,o){this.getDelegates().forEach((s=>{s.reportAttemptingFullContext&&s.reportAttemptingFullContext(t,e,r,n,i,o)}))}reportContextSensitivity(t,e,r,n,i,o){this.getDelegates().forEach((s=>{s.reportContextSensitivity&&s.reportContextSensitivity(t,e,r,n,i,o)}))}}n([o.Override],s.prototype,"reportAmbiguity",null),n([o.Override],s.prototype,"reportAttemptingFullContext",null),n([o.Override],s.prototype,"reportContextSensitivity",null),e.ProxyParserErrorListener=s},79449:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionException=void 0;class r extends Error{constructor(t,e,r,n){super(n),this._offendingState=-1,this._recognizer=t,this.input=e,this.ctx=r,t&&(this._offendingState=t.state)}get offendingState(){return this._offendingState}setOffendingState(t){this._offendingState=t}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(t){if(!t||t===this._recognizer)return this.offendingToken}setOffendingToken(t,e){t===this._recognizer&&(this.offendingToken=e)}get recognizer(){return this._recognizer}}e.RecognitionException=r},18831:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Recognizer=void 0;const o=r(13196),s=r(57115),a=r(72399),l=r(47760),c=r(40659);class u{constructor(){this._listeners=[o.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let t=this.vocabulary,e=u.tokenTypeMapCache.get(t);if(null==e){let r=new Map;for(let e=0;e<=this.atn.maxTokenType;e++){let n=t.getLiteralName(e);null!=n&&r.set(n,e);let i=t.getSymbolicName(e);null!=i&&r.set(i,e)}r.set("EOF",l.Token.EOF),e=r,u.tokenTypeMapCache.set(t,e)}return e}getRuleIndexMap(){let t=this.ruleNames;if(null==t)throw new Error("The current recognizer does not provide a list of rule names.");let e=u.ruleIndexMapCache.get(t);return null==e&&(e=c.toMap(t),u.ruleIndexMapCache.set(t,e)),e}getTokenType(t){let e=this.getTokenTypeMap().get(t);return null!=e?e:l.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(t){this._interp=t}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(t){let e=t.getOffendingToken();return e?"line "+e.line+":"+e.charPositionInLine:""}addErrorListener(t){if(!t)throw new TypeError("listener must not be null");this._listeners.push(t)}removeErrorListener(t){let e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new s.ProxyErrorListener(this.getErrorListeners())}sempred(t,e,r){return!0}precpred(t,e){return!0}action(t,e,r){}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}u.EOF=-1,u.tokenTypeMapCache=new WeakMap,u.ruleIndexMapCache=new WeakMap,n([a.SuppressWarnings("serial"),a.NotNull],u.prototype,"_listeners",void 0),n([a.NotNull],u.prototype,"getTokenTypeMap",null),n([a.NotNull],u.prototype,"getRuleIndexMap",null),n([a.NotNull],u.prototype,"serializedATN",null),n([a.NotNull],u.prototype,"atn",null),n([a.NotNull,i(0,a.NotNull)],u.prototype,"interpreter",null),n([a.NotNull,i(0,a.NotNull)],u.prototype,"getErrorHeader",null),n([i(0,a.NotNull)],u.prototype,"addErrorListener",null),n([i(0,a.NotNull)],u.prototype,"removeErrorListener",null),n([a.NotNull],u.prototype,"getErrorListeners",null),e.Recognizer=u},89984:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleContext=void 0;const i=r(74274),o=r(18831),s=r(85378),a=r(7477),l=r(72399),c=r(7239),u=r(41097);class h extends s.RuleNode{constructor(t,e){super(),this._parent=t,this.invokingState=null!=e?e:-1}static getChildContext(t,e){return new h(t,e)}depth(){let t=0,e=this;for(;e;)e=e._parent,t++;return t}get isEmpty(){return-1===this.invokingState}get sourceInterval(){return a.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(t){this._parent=t}get payload(){return this}get text(){if(0===this.childCount)return"";let t="";for(let e=0;e<this.childCount;e++)t+=this.getChild(e).text;return t.toString()}get ruleIndex(){return-1}get altNumber(){return i.ATN.INVALID_ALT_NUMBER}set altNumber(t){}getChild(t){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t){return c.Trees.toStringTree(this,t)}toString(t,e){const r=t instanceof o.Recognizer?t.ruleNames:t;e=e||u.ParserRuleContext.emptyContext();let n="",i=this;for(n+="[";i&&i!==e;){if(r){let t=i.ruleIndex;n+=t>=0&&t<r.length?r[t]:t.toString()}else i.isEmpty||(n+=i.invokingState);!i._parent||!r&&i._parent.isEmpty||(n+=" "),i=i._parent}return n+="]",n.toString()}}n([l.Override],h.prototype,"sourceInterval",null),n([l.Override],h.prototype,"ruleContext",null),n([l.Override],h.prototype,"parent",null),n([l.Override],h.prototype,"setParent",null),n([l.Override],h.prototype,"payload",null),n([l.Override],h.prototype,"text",null),n([l.Override],h.prototype,"getChild",null),n([l.Override],h.prototype,"childCount",null),n([l.Override],h.prototype,"accept",null),n([l.Override],h.prototype,"toStringTree",null),e.RuleContext=h},35481:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleContextWithAltNum=void 0;const i=r(74274),o=r(72399),s=r(41097);class a extends s.ParserRuleContext{constructor(t,e){void 0!==e?super(t,e):super(),this._altNumber=i.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(t){this._altNumber=t}}n([o.Override],a.prototype,"altNumber",null),e.RuleContextWithAltNum=a},33530:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleDependency=void 0,e.RuleDependency=function(t){return(t,e,r)=>{}}},74275:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleVersion=void 0,e.RuleVersion=function(t){return(t,e,r)=>{}}},47760:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Token=void 0;const n=r(71492);!function(t){t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=n.IntStream.EOF,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1,t.MIN_USER_CHANNEL_VALUE=2}(e.Token||(e.Token={}))},81668:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},58369:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},53696:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},92806:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RewriteOperation=e.TokenStreamRewriter=void 0;const i=r(7477),o=r(72399),s=r(47760);class a{constructor(t){this.tokens=t,this.programs=new Map,this.programs.set(a.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(t,e=a.DEFAULT_PROGRAM_NAME){let r=this.programs.get(e);null!=r&&this.programs.set(e,r.slice(a.MIN_TOKEN_INDEX,t))}deleteProgram(t=a.DEFAULT_PROGRAM_NAME){this.rollback(a.MIN_TOKEN_INDEX,t)}insertAfter(t,e,r=a.DEFAULT_PROGRAM_NAME){let n;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),o=new u(this.tokens,n,i.length,e);i.push(o)}insertBefore(t,e,r=a.DEFAULT_PROGRAM_NAME){let n;n="number"==typeof t?t:t.tokenIndex;let i=this.getProgram(r),o=new c(this.tokens,n,i.length,e);i.push(o)}replaceSingle(t,e){this.replace(t,t,e)}replace(t,e,r,n=a.DEFAULT_PROGRAM_NAME){if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(n),o=new h(this.tokens,t,e,i.length,r);i.push(o)}delete(t,e,r=a.DEFAULT_PROGRAM_NAME){void 0===e&&(e=t),this.replace(t,e,"",r)}getLastRewriteTokenIndex(t=a.DEFAULT_PROGRAM_NAME){let e=this.lastRewriteTokenIndexes.get(t);return null==e?-1:e}setLastRewriteTokenIndex(t,e){this.lastRewriteTokenIndexes.set(t,e)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){let e=[];return this.programs.set(t,e),e}getText(t,e=a.DEFAULT_PROGRAM_NAME){let r;r=t instanceof i.Interval?t:i.Interval.of(0,this.tokens.size-1),"string"==typeof t&&(e=t);let n=this.programs.get(e),o=r.a,l=r.b;if(l>this.tokens.size-1&&(l=this.tokens.size-1),o<0&&(o=0),null==n||0===n.length)return this.tokens.getText(r);let c=[],u=this.reduceToSingleOperationPerIndex(n),h=o;for(;h<=l&&h<this.tokens.size;){let t=u.get(h);u.delete(h);let e=this.tokens.get(h);null==t?(e.type!==s.Token.EOF&&c.push(String(e.text)),h++):h=t.execute(c)}if(l===this.tokens.size-1)for(let t of u.values())t.index>=this.tokens.size-1&&c.push(t.text.toString());return c.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let r=t[e];if(null==r)continue;if(!(r instanceof h))continue;let n=r,i=this.getKindOfOps(t,c,e);for(let e of i)e.index===n.index?(t[e.instructionIndex]=void 0,n.text=e.text.toString()+(null!=n.text?n.text.toString():"")):e.index>n.index&&e.index<=n.lastIndex&&(t[e.instructionIndex]=void 0);let o=this.getKindOfOps(t,h,e);for(let e of o){if(e.index>=n.index&&e.lastIndex<=n.lastIndex){t[e.instructionIndex]=void 0;continue}let r=e.lastIndex<n.index||e.index>n.lastIndex;if(null!=e.text||null!=n.text||r){if(!r)throw new Error(`replace op boundaries of ${n} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,n.index=Math.min(e.index,n.index),n.lastIndex=Math.max(e.lastIndex,n.lastIndex)}}for(let e=0;e<t.length;e++){let r=t[e];if(null==r)continue;if(!(r instanceof c))continue;let n=r,i=this.getKindOfOps(t,c,e);for(let e of i)e.index===n.index&&(e instanceof u?(n.text=this.catOpText(e.text,n.text),t[e.instructionIndex]=void 0):e instanceof c&&(n.text=this.catOpText(n.text,e.text),t[e.instructionIndex]=void 0));let o=this.getKindOfOps(t,h,e);for(let r of o)if(n.index!==r.index){if(n.index>=r.index&&n.index<=r.lastIndex)throw new Error(`insert op ${n} within boundaries of previous ${r}`)}else r.text=this.catOpText(n.text,r.text),t[e]=void 0}let e=new Map;for(let r of t)if(null!=r){if(null!=e.get(r.index))throw new Error("should only be one op per index");e.set(r.index,r)}return e}catOpText(t,e){let r="",n="";return null!=t&&(r=t.toString()),null!=e&&(n=e.toString()),r+n}getKindOfOps(t,e,r){let n=[];for(let i=0;i<r&&i<t.length;i++){let r=t[i];null!=r&&(r instanceof e&&n.push(r))}return n}}e.TokenStreamRewriter=a,a.DEFAULT_PROGRAM_NAME="default",a.PROGRAM_INIT_SIZE=100,a.MIN_TOKEN_INDEX=0;class l{constructor(t,e,r,n){this.tokens=t,this.instructionIndex=r,this.index=e,this.text=void 0===n?"":n}execute(t){return this.index}toString(){let t=this.constructor.name,e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}n([o.Override],l.prototype,"toString",null),e.RewriteOperation=l;class c extends l{constructor(t,e,r,n){super(t,e,r,n)}execute(t){return t.push(this.text.toString()),this.tokens.get(this.index).type!==s.Token.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}n([o.Override],c.prototype,"execute",null);class u extends c{constructor(t,e,r,n){super(t,e+1,r,n)}}class h extends l{constructor(t,e,r,n,i){super(t,e,n,i),this.lastIndex=r}execute(t){return null!=this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}n([o.Override],h.prototype,"execute",null),n([o.Override],h.prototype,"toString",null)},68897:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},67435:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.VocabularyImpl=void 0;const i=r(72399),o=r(47760);class s{constructor(t,e,r){this.literalNames=t,this.symbolicNames=e,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(t){if(t>=0&&t<this.literalNames.length)return this.literalNames[t]}getSymbolicName(t){return t>=0&&t<this.symbolicNames.length?this.symbolicNames[t]:t===o.Token.EOF?"EOF":void 0}getDisplayName(t){if(t>=0&&t<this.displayNames.length){let e=this.displayNames[t];if(e)return e}let e=this.getLiteralName(t);if(e)return e;let r=this.getSymbolicName(t);return r||String(t)}}s.EMPTY_VOCABULARY=new s([],[],[]),n([i.NotNull],s.prototype,"literalNames",void 0),n([i.NotNull],s.prototype,"symbolicNames",void 0),n([i.NotNull],s.prototype,"displayNames",void 0),n([i.Override],s.prototype,"maxTokenType",null),n([i.Override],s.prototype,"getLiteralName",null),n([i.Override],s.prototype,"getSymbolicName",null),n([i.Override,i.NotNull],s.prototype,"getDisplayName",null),n([i.NotNull],s,"EMPTY_VOCABULARY",void 0),e.VocabularyImpl=s},45116:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},74274:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATN=void 0;const o=r(73907),s=r(73074),a=r(83357),l=r(9803),c=r(39462),u=r(72399),h=r(70436),p=r(78859),d=r(47760),f=r(94148);let g=class{constructor(t,e){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new o.Array2DHashMap(h.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=t,this.maxTokenType=e}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let t=0;t<this.decisionToDFA.length;t++)this.decisionToDFA[t]=new s.DFA(this.decisionToState[t],t);this.modeToDFA=new Array(this.modeToStartState.length);for(let t=0;t<this.modeToDFA.length;t++)this.modeToDFA[t]=new s.DFA(this.modeToStartState[t]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(t){return p.PredictionContext.getCachedContext(t,this.contextCache,new p.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return f(null!=this.decisionToDFA&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(t,e){if(e){return new c.LL1Analyzer(this).LOOK(t,e)}return t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokens(t,p.PredictionContext.EMPTY_LOCAL),t.nextTokenWithinRule.setReadonly(!0)),t.nextTokenWithinRule}addState(t){t.atn=this,t.stateNumber=this.states.length,this.states.push(t)}removeState(t){let e=new l.InvalidState;e.atn=this,e.stateNumber=t.stateNumber,this.states[t.stateNumber]=e}defineMode(t,e){this.modeNameToStartState.set(t,e),this.modeToStartState.push(e),this.modeToDFA.push(new s.DFA(e)),this.defineDecisionState(e)}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(t,t.decision)),t.decision}getDecisionState(t){if(this.decisionToState.length>0)return this.decisionToState[t]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw new RangeError("Invalid state number.");let r=e,n=this.states[t],i=this.nextTokens(n);if(!i.contains(d.Token.EPSILON))return i;let o=new a.IntervalSet;for(o.addAll(i),o.remove(d.Token.EPSILON);null!=r&&r.invokingState>=0&&i.contains(d.Token.EPSILON);){let t=this.states[r.invokingState].transition(0);i=this.nextTokens(t.followState),o.addAll(i),o.remove(d.Token.EPSILON),r=r._parent}return i.contains(d.Token.EPSILON)&&o.add(d.Token.EOF),o}};n([u.NotNull],g.prototype,"states",void 0),n([u.NotNull],g.prototype,"decisionToState",void 0),n([u.NotNull],g.prototype,"modeNameToStartState",void 0),n([u.NotNull],g.prototype,"modeToStartState",void 0),n([u.NotNull],g.prototype,"decisionToDFA",void 0),n([u.NotNull],g.prototype,"modeToDFA",void 0),n([u.NotNull],g.prototype,"nextTokens",null),n([i(0,u.NotNull)],g.prototype,"removeState",null),n([i(0,u.NotNull),i(1,u.NotNull)],g.prototype,"defineMode",null),n([i(0,u.NotNull)],g.prototype,"defineDecisionState",null),n([u.NotNull],g.prototype,"getExpectedTokens",null),g=n([i(0,u.NotNull)],g),e.ATN=g,function(t){t.INVALID_ALT_NUMBER=0}(g=e.ATN||(e.ATN={})),e.ATN=g},78880:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNConfig=void 0;const o=r(73907),s=r(38016),a=r(75636),l=r(72399),c=r(70436),u=r(78859),h=r(32356),p=r(94148),d=2147483648;let f=class t{constructor(t,e,r){"number"==typeof e?(p((16777215&e)===e),this._state=t,this.altAndOuterContextDepth=e,this._context=r):(this._state=t,this.altAndOuterContextDepth=e.altAndOuterContextDepth,this._context=r)}static create(e,r,n,i=h.SemanticContext.NONE,o){return i!==h.SemanticContext.NONE?null!=o?new m(o,i,e,r,n,!1):new g(i,e,r,n):null!=o?new y(o,e,r,n,!1):new t(e,r,n)}get state(){return this._state}get alt(){return 16777215&this.altAndOuterContextDepth}get context(){return this._context}set context(t){this._context=t}get reachesIntoOuterContext(){return 0!==this.outerContextDepth}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(t){p(t>=0),t=Math.min(t,127),this.altAndOuterContextDepth=t<<24|(-2130706433&this.altAndOuterContextDepth)>>>0}get lexerActionExecutor(){}get semanticContext(){return h.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(t,e,r){return null==r?this.transformImpl(t,this._context,this.semanticContext,e,this.lexerActionExecutor):r instanceof u.PredictionContext?this.transformImpl(t,r,this.semanticContext,e,this.lexerActionExecutor):r instanceof h.SemanticContext?this.transformImpl(t,this._context,r,e,this.lexerActionExecutor):this.transformImpl(t,this._context,this.semanticContext,e,r)}transformImpl(e,r,n,i,o){let s=i&&t.checkNonGreedyDecision(this,e);return n!==h.SemanticContext.NONE?null!=o||s?new m(o,n,e,this,r,s):new g(n,e,this,r):null!=o||s?new y(o,e,this,r,s):new t(e,this,r)}static checkNonGreedyDecision(t,e){return t.hasPassedThroughNonGreedyDecision||e instanceof s.DecisionState&&e.nonGreedy}appendContext(t,e){if("number"==typeof t){let r=this.context.appendSingleContext(t,e);return this.transform(this.state,!1,r)}{let r=this.context.appendContext(t,e);return this.transform(this.state,!1,r)}}contains(t){if(this.state.stateNumber!==t.state.stateNumber||this.alt!==t.alt||!this.semanticContext.equals(t.semanticContext))return!1;let e=[],r=[];for(e.push(this.context),r.push(t.context);;){let t=e.pop(),n=r.pop();if(!t||!n)break;if(t===n)return!0;if(t.size<n.size)return!1;if(n.isEmpty)return t.hasEmpty;for(let i=0;i<n.size;i++){let o=t.findReturnState(n.getReturnState(i));if(o<0)return!1;e.push(t.getParent(o)),r.push(n.getParent(i))}}return!1}get isPrecedenceFilterSuppressed(){return!!(this.altAndOuterContextDepth&d)}set isPrecedenceFilterSuppressed(t){t?this.altAndOuterContextDepth|=d:this.altAndOuterContextDepth&=2147483647}equals(e){return this===e||e instanceof t&&(this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&c.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor))}hashCode(){let t=a.MurmurHash.initialize(7);return t=a.MurmurHash.update(t,this.state.stateNumber),t=a.MurmurHash.update(t,this.alt),t=a.MurmurHash.update(t,this.reachesIntoOuterContext?1:0),t=a.MurmurHash.update(t,this.context),t=a.MurmurHash.update(t,this.semanticContext),t=a.MurmurHash.update(t,this.hasPassedThroughNonGreedyDecision?1:0),t=a.MurmurHash.update(t,this.lexerActionExecutor),t=a.MurmurHash.finish(t,7),t}toDotString(){let t="";t+="digraph G {\n",t+="rankdir=LR;\n";let e=new o.Array2DHashMap(u.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function n(t){let n=e.size,i=e.putIfAbsent(t,n);return null!=i?i:(r.push(t),n)}for(r.push(this.context),e.put(this.context,0);;){let e=r.pop();if(!e)break;for(let r=0;r<e.size;r++)t+="  s"+n(e),t+="->",t+="s"+n(e.getParent(r)),t+='[label="'+e.getReturnState(r)+'"];\n'}return t+="}\n",t.toString()}toString(t,e,r){null==r&&(r=null!=e),null==e&&(e=!0);let n,i="";n=r?this.context.toStrings(t,this.state.stateNumber):["?"];let o=!0;for(let t of n)o?o=!1:i+=", ",i+="(",i+=this.state,e&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=t),this.semanticContext!==h.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};n([l.NotNull],f.prototype,"_state",void 0),n([l.NotNull],f.prototype,"_context",void 0),n([l.NotNull],f.prototype,"state",null),n([l.NotNull,i(0,l.NotNull)],f.prototype,"context",null),n([l.NotNull],f.prototype,"semanticContext",null),n([l.Override],f.prototype,"clone",null),n([i(0,l.NotNull),i(2,l.NotNull)],f.prototype,"transformImpl",null),n([l.Override],f.prototype,"equals",null),n([l.Override],f.prototype,"hashCode",null),n([i(0,l.NotNull),i(3,l.NotNull)],f,"create",null),f=n([i(0,l.NotNull),i(2,l.NotNull)],f),e.ATNConfig=f;let g=class extends f{constructor(t,e,r,n){super(e,r,n),this._semanticContext=t}get semanticContext(){return this._semanticContext}};n([l.NotNull],g.prototype,"_semanticContext",void 0),n([l.Override],g.prototype,"semanticContext",null),g=n([i(1,l.NotNull),i(2,l.NotNull)],g);let y=class extends f{constructor(t,e,r,n,i){if("number"==typeof r)super(e,r,n);else if(super(e,r,n),r.semanticContext!==h.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=i}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};n([l.Override],y.prototype,"lexerActionExecutor",null),n([l.Override],y.prototype,"hasPassedThroughNonGreedyDecision",null),y=n([i(1,l.NotNull),i(2,l.NotNull)],y);let m=class extends g{constructor(t,e,r,n,i,o){super(e,r,n,i),this._lexerActionExecutor=t,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};n([l.Override],m.prototype,"lexerActionExecutor",null),n([l.Override],m.prototype,"hasPassedThroughNonGreedyDecision",null),m=n([i(1,l.NotNull),i(2,l.NotNull)],m)},43258:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNConfigSet=void 0;const i=r(73907),o=r(1533),s=r(8151),a=r(74274),l=r(78880),c=r(46889),u=r(72399),h=r(70436),p=r(78859),d=r(56409),f=r(32356),g=r(94148),y=r(40659);class m{hashCode(t){return t.state^t.alt}equals(t,e){return t.state===e.state&&t.alt===e.alt}}function v(t){return t?new i.Array2DHashMap(t):new i.Array2DHashMap(m.INSTANCE)}m.INSTANCE=new m;class x{constructor(t,e){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,t?(e?(this.mergedConfigs=void 0,this.unmerged=void 0):t.isReadOnly?(this.mergedConfigs=v(),this.unmerged=[]):(this.mergedConfigs=v(t.mergedConfigs),this.unmerged=t.unmerged.slice(0)),this.configs=t.configs.slice(0),this._dipsIntoOuterContext=t._dipsIntoOuterContext,this._hasSemanticContext=t._hasSemanticContext,this.outermostConfigSet=t.outermostConfigSet,!e&&t.isReadOnly||(this._uniqueAlt=t._uniqueAlt,this._conflictInfo=t._conflictInfo)):(this.mergedConfigs=v(),this.unmerged=[],this.configs=[],this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts.clone();let t=new c.BitSet;for(let e of this)t.set(e.alt);return t}get isReadOnly(){return null==this.mergedConfigs}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(t){if(this.outermostConfigSet&&!t)throw new Error("IllegalStateException");g(!t||!this._dipsIntoOuterContext),this.outermostConfigSet=t}getStates(){let t=new o.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);for(let e of this.configs)t.add(e.state);return t}optimizeConfigs(t){if(0!==this.configs.length)for(let e of this.configs)e.context=t.atn.getCachedContext(e.context)}clone(t){let e=new x(this,t);return!t&&this.isReadOnly&&e.addAll(this.configs),e}get size(){return this.configs.length}get isEmpty(){return 0===this.configs.length}contains(t){if(!(t instanceof l.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let e=t,r=this.getKey(e),n=this.mergedConfigs.get(r);if(null!=n&&this.canMerge(e,r,n))return n.contains(e);for(let e of this.unmerged)if(e.contains(t))return!0}else for(let e of this.configs)if(e.contains(t))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(t,e){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");let r;g(!this.outermostConfigSet||!t.reachesIntoOuterContext),null==e&&(e=d.PredictionContextCache.UNCACHED);let n=this.getKey(t),i=this.mergedConfigs.get(n);if(r=null==i,null!=i&&this.canMerge(t,n,i)){i.outerContextDepth=Math.max(i.outerContextDepth,t.outerContextDepth),t.isPrecedenceFilterSuppressed&&(i.isPrecedenceFilterSuppressed=!0);let r=p.PredictionContext.join(i.context,t.context,e);return this.updatePropertiesForMergedConfig(t),i.context===r?!1:(i.context=r,!0)}for(let i=0;i<this.unmerged.length;i++){let o=this.unmerged[i];if(this.canMerge(t,n,o)){o.outerContextDepth=Math.max(o.outerContextDepth,t.outerContextDepth),t.isPrecedenceFilterSuppressed&&(o.isPrecedenceFilterSuppressed=!0);let s=p.PredictionContext.join(o.context,t.context,e);return this.updatePropertiesForMergedConfig(t),o.context===s?!1:(o.context=s,r&&(this.mergedConfigs.put(n,o),this.unmerged.splice(i,1)),!0)}}return this.configs.push(t),r?this.mergedConfigs.put(n,t):this.unmerged.push(t),this.updatePropertiesForAddedConfig(t),!0}updatePropertiesForMergedConfig(t){this._dipsIntoOuterContext=this._dipsIntoOuterContext||t.reachesIntoOuterContext,g(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(t){1===this.configs.length?this._uniqueAlt=t.alt:this._uniqueAlt!==t.alt&&(this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!f.SemanticContext.NONE.equals(t.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||t.reachesIntoOuterContext,g(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(t,e,r){return t.state.stateNumber===r.state.stateNumber&&(e.alt===r.alt&&t.semanticContext.equals(r.semanticContext))}getKey(t){return{state:t.state.stateNumber,alt:t.alt}}containsAll(t){for(let e of t){if(!(e instanceof l.ATNConfig))return!1;if(!this.contains(e))return!1}return!0}addAll(t,e){this.ensureWritable();let r=!1;for(let n of t)this.add(n,e)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=a.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(t){return this===t||t instanceof x&&(this.outermostConfigSet===t.outermostConfigSet&&y.equals(this._conflictInfo,t._conflictInfo)&&s.ArrayEqualityComparator.INSTANCE.equals(this.configs,t.configs))}hashCode(){if(this.isReadOnly&&-1!==this.cachedHashCode)return this.cachedHashCode;let t=1;return t=5*t^(this.outermostConfigSet?1:0),t=5*t^s.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=t),t}toString(t){null==t&&(t=!1);let e="",r=this.configs.slice(0);r.sort(((t,e)=>t.alt!==e.alt?t.alt-e.alt:t.state.stateNumber!==e.state.stateNumber?t.state.stateNumber-e.state.stateNumber:t.semanticContext.toString().localeCompare(e.semanticContext.toString()))),e+="[";for(let n=0;n<r.length;n++)n>0&&(e+=", "),e+=r[n].toString(void 0,!0,t);return e+="]",this._hasSemanticContext&&(e+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==a.ATN.INVALID_ALT_NUMBER&&(e+=",uniqueAlt="+this._uniqueAlt),null!=this._conflictInfo&&(e+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(e+="*")),this._dipsIntoOuterContext&&(e+=",dipsIntoOuterContext"),e.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(t){this.ensureWritable(),this._hasSemanticContext=t}get conflictInfo(){return this._conflictInfo}set conflictInfo(t){this.ensureWritable(),this._conflictInfo=t}get conflictingAlts(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts}get isExactConflict(){return null!=this._conflictInfo&&this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(t){return this.configs[t]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}}n([u.NotNull],x.prototype,"getRepresentedAlternatives",null),n([u.Override],x.prototype,"size",null),n([u.Override],x.prototype,"isEmpty",null),n([u.Override],x.prototype,"contains",null),n([u.Override],x.prototype,Symbol.iterator,null),n([u.Override],x.prototype,"toArray",null),n([u.Override],x.prototype,"containsAll",null),n([u.Override],x.prototype,"clear",null),n([u.Override],x.prototype,"equals",null),n([u.Override],x.prototype,"hashCode",null),e.ATNConfigSet=x},28955:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNDeserializationOptions=void 0;const i=r(72399);class o{constructor(t){this.readOnly=!1,t?(this.verifyATN=t.verifyATN,this.generateRuleBypassTransitions=t.generateRuleBypassTransitions,this.optimize=t.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return null==o._defaultOptions&&(o._defaultOptions=new o,o._defaultOptions.makeReadOnly()),o._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(t){this.throwIfReadOnly(),this.verifyATN=t}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(t){this.throwIfReadOnly(),this.generateRuleBypassTransitions=t}get isOptimize(){return this.optimize}set isOptimize(t){this.throwIfReadOnly(),this.optimize=t}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}n([i.NotNull],o,"defaultOptions",null),e.ATNDeserializationOptions=o},60493:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNDeserializer=void 0;const o=r(29202),s=r(1533),a=r(74274),l=r(28955),c=r(77037),u=r(5369),h=r(38749),p=r(78744),d=r(46889),f=r(50760),g=r(93099),y=r(38016),m=r(73074),v=r(29250),x=r(83357),O=r(9803),b=r(23972),S=r(37920),A=r(49616),E=r(56474),T=r(94283),N=r(84520),_=r(38240),C=r(16479),w=r(46251),k=r(72399),R=r(33575),P=r(13161),I=r(64891),L=r(66305),j=r(66061),D=r(6369),M=r(93053),q=r(79240),F=r(8840),U=r(23334),B=r(21384),z=r(38195),V=r(5481),H=r(4016),J=r(47760),G=r(68644),W=r(88567),K=r(24650);var Y;!function(t){t[t.UNICODE_BMP=0]="UNICODE_BMP",t[t.UNICODE_SMP=1]="UNICODE_SMP"}(Y||(Y={}));class ${constructor(t){void 0===t&&(t=l.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=t}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(t,e){let r=$.SUPPORTED_UUIDS.findIndex((e=>e.equals(t)));return!(r<0)&&$.SUPPORTED_UUIDS.findIndex((t=>t.equals(e)))>=r}static getUnicodeDeserializer(t){return 0===t?{readUnicode:(t,e)=>$.toInt(t[e]),size:1}:{readUnicode:(t,e)=>$.toInt32(t,e),size:2}}deserialize(t){t=t.slice(0);for(let e=1;e<t.length;e++)t[e]=t[e]-2&65535;let e=0,r=$.toInt(t[e++]);if(r!==$.SERIALIZED_VERSION){let t=`Could not deserialize ATN with version ${r} (expected ${$.SERIALIZED_VERSION}).`;throw new Error(t)}let n=$.toUUID(t,e);if(e+=8,$.SUPPORTED_UUIDS.findIndex((t=>t.equals(n)))<0){let t=`Could not deserialize ATN with UUID ${n} (expected ${$.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(t)}let i=$.isFeatureSupported($.ADDED_LEXER_ACTIONS,n),l=$.toInt(t[e++]),d=$.toInt(t[e++]),y=new a.ATN(l,d),x=[],b=[],A=$.toInt(t[e++]);for(let r=0;r<A;r++){let r=$.toInt(t[e++]);if(r===c.ATNStateType.INVALID_TYPE){y.addState(new O.InvalidState);continue}let n=$.toInt(t[e++]);65535===n&&(n=-1);let i=this.stateFactory(r,n);if(r===c.ATNStateType.LOOP_END){let r=$.toInt(t[e++]);x.push([i,r])}else if(i instanceof g.BlockStartState){let r=$.toInt(t[e++]);b.push([i,r])}y.addState(i)}for(let t of x)t[0].loopBackState=y.states[t[1]];for(let t of b)t[0].endState=y.states[t[1]];let E=$.toInt(t[e++]);for(let r=0;r<E;r++){let r=$.toInt(t[e++]);y.states[r].nonGreedy=!0}let T=$.toInt(t[e++]);for(let r=0;r<T;r++){let r=$.toInt(t[e++]);y.states[r].sll=!0}let N=$.toInt(t[e++]);for(let r=0;r<N;r++){let r=$.toInt(t[e++]);y.states[r].isPrecedenceRule=!0}let _=$.toInt(t[e++]);0===y.grammarType&&(y.ruleToTokenType=new Int32Array(_)),y.ruleToStartState=new Array(_);for(let r=0;r<_;r++){let i=$.toInt(t[e++]),o=y.states[i];if(o.leftFactored=0!==$.toInt(t[e++]),y.ruleToStartState[r]=o,0===y.grammarType){let i=$.toInt(t[e++]);if(65535===i&&(i=J.Token.EOF),y.ruleToTokenType[r]=i,!$.isFeatureSupported($.ADDED_LEXER_ACTIONS,n)){let r=$.toInt(t[e++]);65535===r&&(r=-1)}}}y.ruleToStopState=new Array(_);for(let t of y.states)t instanceof F.RuleStopState&&(y.ruleToStopState[t.ruleIndex]=t,y.ruleToStartState[t.ruleIndex].stopState=t);let C=$.toInt(t[e++]);for(let r=0;r<C;r++){let r=$.toInt(t[e++]);y.modeToStartState.push(y.states[r])}y.modeToDFA=new Array(C);for(let t=0;t<C;t++)y.modeToDFA[t]=new m.DFA(y.modeToStartState[t]);let k=[];e=this.deserializeSets(t,e,k,$.getUnicodeDeserializer(0)),$.isFeatureSupported($.ADDED_UNICODE_SMP,n)&&(e=this.deserializeSets(t,e,k,$.getUnicodeDeserializer(1)));let R=$.toInt(t[e++]);for(let r=0;r<R;r++){let r=$.toInt(t[e]),n=$.toInt(t[e+1]),i=$.toInt(t[e+2]),o=$.toInt(t[e+3]),s=$.toInt(t[e+4]),a=$.toInt(t[e+5]),l=this.edgeFactory(y,i,r,n,o,s,a,k);y.states[r].addTransition(l),e+=6}let P=new s.Array2DHashSet({hashCode:t=>t.stopState^t.returnState^t.outermostPrecedenceReturn,equals:(t,e)=>t.stopState===e.stopState&&t.returnState===e.returnState&&t.outermostPrecedenceReturn===e.outermostPrecedenceReturn}),j=[];for(let t of y.states){let e=t.ruleIndex>=0&&y.ruleToStartState[t.ruleIndex].leftFactored;for(let r=0;r<t.numberOfTransitions;r++){let n=t.transition(r);if(!(n instanceof U.RuleTransition))continue;let i=n;if(!y.ruleToStartState[i.target.ruleIndex].leftFactored&&e)continue;let o=-1;y.ruleToStartState[i.target.ruleIndex].isPrecedenceRule&&0===i.precedence&&(o=i.target.ruleIndex);let s={stopState:i.target.ruleIndex,returnState:i.followState.stateNumber,outermostPrecedenceReturn:o};P.add(s)&&j.push(s)}}for(let t of j){let e=new v.EpsilonTransition(y.states[t.returnState],t.outermostPrecedenceReturn);y.ruleToStopState[t.stopState].addTransition(e)}for(let t of y.states){if(t instanceof g.BlockStartState){if(void 0===t.endState)throw new Error("IllegalStateException");if(void 0!==t.endState.startState)throw new Error("IllegalStateException");t.endState.startState=t}if(t instanceof L.PlusLoopbackState){let e=t;for(let t=0;t<e.numberOfTransitions;t++){let r=e.transition(t).target;r instanceof I.PlusBlockStartState&&(r.loopBackState=e)}}else if(t instanceof V.StarLoopbackState){let e=t;for(let t=0;t<e.numberOfTransitions;t++){let r=e.transition(t).target;r instanceof H.StarLoopEntryState&&(r.loopBackState=e)}}}let D=$.toInt(t[e++]);for(let r=1;r<=D;r++){let n=$.toInt(t[e++]),i=y.states[n];y.decisionToState.push(i),i.decision=r-1}if(0===y.grammarType)if(i){y.lexerActions=new Array($.toInt(t[e++]));for(let r=0;r<y.lexerActions.length;r++){let n=$.toInt(t[e++]),i=$.toInt(t[e++]);65535===i&&(i=-1);let o=$.toInt(t[e++]);65535===o&&(o=-1);let s=this.lexerActionFactory(n,i,o);y.lexerActions[r]=s}}else{let t=[];for(let e of y.states)for(let r=0;r<e.numberOfTransitions;r++){let n=e.transition(r);if(!(n instanceof o.ActionTransition))continue;let i=n.ruleIndex,s=n.actionIndex,a=new S.LexerCustomAction(i,s);e.setTransition(r,new o.ActionTransition(n.target,i,t.length,!1)),t.push(a)}y.lexerActions=t}this.markPrecedenceDecisions(y),y.decisionToDFA=new Array(D);for(let t=0;t<D;t++)y.decisionToDFA[t]=new m.DFA(y.decisionToState[t],t);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(y),this.deserializationOptions.isGenerateRuleBypassTransitions&&1===y.grammarType){y.ruleToTokenType=new Int32Array(y.ruleToStartState.length);for(let t=0;t<y.ruleToStartState.length;t++)y.ruleToTokenType[t]=y.maxTokenType+t+1;for(let t=0;t<y.ruleToStartState.length;t++){let e=new h.BasicBlockStartState;e.ruleIndex=t,y.addState(e);let r,n,i=new f.BlockEndState;if(i.ruleIndex=t,y.addState(i),e.endState=i,y.defineDecisionState(e),i.startState=e,y.ruleToStartState[t].isPrecedenceRule){r=void 0;for(let e of y.states){if(e.ruleIndex!==t)continue;if(!(e instanceof H.StarLoopEntryState))continue;let n=e.transition(e.numberOfTransitions-1).target;if(n instanceof w.LoopEndState&&(n.epsilonOnlyTransitions&&n.transition(0).target instanceof F.RuleStopState)){r=e;break}}if(!r)throw new Error("Couldn't identify final state of the precedence rule prefix section.");n=r.loopBackState.transition(0)}else r=y.ruleToStopState[t];for(let t of y.states)for(let e=0;e<t.numberOfTransitions;e++){let o=t.transition(e);o!==n&&(o.target===r&&(o.target=i))}for(;y.ruleToStartState[t].numberOfTransitions>0;){let r=y.ruleToStartState[t].removeTransition(y.ruleToStartState[t].numberOfTransitions-1);e.addTransition(r)}y.ruleToStartState[t].addTransition(new v.EpsilonTransition(e)),i.addTransition(new v.EpsilonTransition(r));let o=new p.BasicState;y.addState(o),o.addTransition(new u.AtomTransition(i,y.ruleToTokenType[t])),e.addTransition(new v.EpsilonTransition(o))}this.deserializationOptions.isVerifyATN&&this.verifyATN(y)}if(this.deserializationOptions.isOptimize){for(;;){let t=0;t+=$.inlineSetRules(y),t+=$.combineChainedEpsilons(y);let e=0===y.grammarType;if(t+=$.optimizeSets(y,e),0===t)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(y)}return $.identifyTailCalls(y),y}deserializeSets(t,e,r,n){let i=$.toInt(t[e++]);for(let o=0;o<i;o++){let i=$.toInt(t[e]);e++;let o=new x.IntervalSet;r.push(o),0!==$.toInt(t[e++])&&o.add(-1);for(let r=0;r<i;r++){let r=n.readUnicode(t,e);e+=n.size;let i=n.readUnicode(t,e);e+=n.size,o.add(r,i)}}return e}markPrecedenceDecisions(t){let e=new Map;for(let r of t.states)if(r instanceof H.StarLoopEntryState&&t.ruleToStartState[r.ruleIndex].isPrecedenceRule){let n=r.transition(r.numberOfTransitions-1).target;n instanceof w.LoopEndState&&n.epsilonOnlyTransitions&&n.transition(0).target instanceof F.RuleStopState&&(e.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new d.BitSet(t.states.length))}for(let r of e)for(let e of t.ruleToStopState[r[0]].getTransitions()){if(1!==e.serializationType)continue;-1===e.outermostPrecedenceReturn&&r[1].precedenceLoopbackStates.set(e.target.stateNumber)}}verifyATN(t){for(let e of t.states)if(this.checkCondition(void 0!==e,"ATN states should not be undefined."),e.stateType!==c.ATNStateType.INVALID_TYPE){if(this.checkCondition(e.onlyHasEpsilonTransitions||e.numberOfTransitions<=1),e instanceof I.PlusBlockStartState&&this.checkCondition(void 0!==e.loopBackState),e instanceof H.StarLoopEntryState){let t=e;if(this.checkCondition(void 0!==t.loopBackState),this.checkCondition(2===t.numberOfTransitions),t.transition(0).target instanceof z.StarBlockStartState)this.checkCondition(t.transition(1).target instanceof w.LoopEndState),this.checkCondition(!t.nonGreedy);else{if(!(t.transition(0).target instanceof w.LoopEndState))throw new Error("IllegalStateException");this.checkCondition(t.transition(1).target instanceof z.StarBlockStartState),this.checkCondition(t.nonGreedy)}}if(e instanceof V.StarLoopbackState&&(this.checkCondition(1===e.numberOfTransitions),this.checkCondition(e.transition(0).target instanceof H.StarLoopEntryState)),e instanceof w.LoopEndState&&this.checkCondition(void 0!==e.loopBackState),e instanceof q.RuleStartState&&this.checkCondition(void 0!==e.stopState),e instanceof g.BlockStartState&&this.checkCondition(void 0!==e.endState),e instanceof f.BlockEndState&&this.checkCondition(void 0!==e.startState),e instanceof y.DecisionState){let t=e;this.checkCondition(t.numberOfTransitions<=1||t.decision>=0)}else this.checkCondition(e.numberOfTransitions<=1||e instanceof F.RuleStopState)}}checkCondition(t,e){if(!t)throw new Error("IllegalStateException: "+e)}static inlineSetRules(t){let e=0,r=new Array(t.ruleToStartState.length);for(let e=0;e<t.ruleToStartState.length;e++){let n=t.ruleToStartState[e];for(;n.onlyHasEpsilonTransitions&&1===n.numberOfOptimizedTransitions&&1===n.getOptimizedTransition(0).serializationType;)n=n.getOptimizedTransition(0).target;if(1!==n.numberOfOptimizedTransitions)continue;let i=n.getOptimizedTransition(0),o=i.target;if(!i.isEpsilon&&o.onlyHasEpsilonTransitions&&1===o.numberOfOptimizedTransitions&&o.getOptimizedTransition(0).target instanceof F.RuleStopState)switch(i.serializationType){case 5:case 2:case 7:r[e]=i;break;default:continue}}for(let n of t.states){if(n.ruleIndex<0)continue;let i;for(let o=0;o<n.numberOfOptimizedTransitions;o++){let s=n.getOptimizedTransition(o);if(!(s instanceof U.RuleTransition)){void 0!==i&&i.push(s);continue}let a=s,l=r[a.target.ruleIndex];if(void 0===l){void 0!==i&&i.push(s);continue}if(void 0===i){i=[];for(let t=0;t<o;t++)i.push(n.getOptimizedTransition(o))}e++;let c=a.followState,h=new p.BasicState;switch(h.setRuleIndex(c.ruleIndex),t.addState(h),i.push(new v.EpsilonTransition(h)),l.serializationType){case 5:h.addTransition(new u.AtomTransition(c,l._label));break;case 2:h.addTransition(new M.RangeTransition(c,l.from,l.to));break;case 7:h.addTransition(new B.SetTransition(c,l.label));break;default:throw new Error("UnsupportedOperationException")}}if(void 0!==i){if(n.isOptimized)for(;n.numberOfOptimizedTransitions>0;)n.removeOptimizedTransition(n.numberOfOptimizedTransitions-1);for(let t of i)n.addOptimizedTransition(t)}}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+e+" rule invocations by inlining sets."),e}static combineChainedEpsilons(t){let e=0;for(let r of t.states){if(!r.onlyHasEpsilonTransitions||r instanceof F.RuleStopState)continue;let t;t:for(let n=0;n<r.numberOfOptimizedTransitions;n++){let i=r.getOptimizedTransition(n),o=i.target;if(1===i.serializationType&&-1===i.outermostPrecedenceReturn&&o.stateType===c.ATNStateType.BASIC&&o.onlyHasEpsilonTransitions){for(let e=0;e<o.numberOfOptimizedTransitions;e++)if(1!==o.getOptimizedTransition(e).serializationType||-1!==o.getOptimizedTransition(e).outermostPrecedenceReturn){void 0!==t&&t.push(i);continue t}if(e++,void 0===t){t=[];for(let e=0;e<n;e++)t.push(r.getOptimizedTransition(e))}for(let e=0;e<o.numberOfOptimizedTransitions;e++){let r=o.getOptimizedTransition(e).target;t.push(new v.EpsilonTransition(r))}}else void 0!==t&&t.push(i)}if(void 0!==t){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let e of t)r.addOptimizedTransition(e)}}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+e+" transitions by combining chained epsilon transitions."),e}static optimizeSets(t,e){if(e)return 0;let r=0,n=t.decisionToState;for(let e of n){let n=new x.IntervalSet;for(let t=0;t<e.numberOfOptimizedTransitions;t++){let r=e.getOptimizedTransition(t);if(!(r instanceof v.EpsilonTransition))continue;if(1!==r.target.numberOfOptimizedTransitions)continue;let i=r.target.getOptimizedTransition(0);i.target instanceof f.BlockEndState&&(i instanceof R.NotSetTransition||(i instanceof u.AtomTransition||i instanceof M.RangeTransition||i instanceof B.SetTransition)&&n.add(t))}if(n.size<=1)continue;let i=[];for(let t=0;t<e.numberOfOptimizedTransitions;t++)n.contains(t)||i.push(e.getOptimizedTransition(t));let o,s=e.getOptimizedTransition(n.minElement).target.getOptimizedTransition(0).target,a=new x.IntervalSet;for(let t of n.intervals)for(let r=t.a;r<=t.b;r++){let t=e.getOptimizedTransition(r).target.getOptimizedTransition(0);if(t instanceof R.NotSetTransition)throw new Error("Not yet implemented.");a.addAll(t.label)}if(1===a.intervals.length)if(1===a.size)o=new u.AtomTransition(s,a.minElement);else{let t=a.intervals[0];o=new M.RangeTransition(s,t.a,t.b)}else o=new B.SetTransition(s,a);let l=new p.BasicState;if(l.setRuleIndex(e.ruleIndex),t.addState(l),l.addTransition(o),i.push(new v.EpsilonTransition(l)),r+=e.numberOfOptimizedTransitions-i.length,e.isOptimized)for(;e.numberOfOptimizedTransitions>0;)e.removeOptimizedTransition(e.numberOfOptimizedTransitions-1);for(let t of i)e.addOptimizedTransition(t)}return P.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(t){for(let e of t.states){for(let r=0;r<e.numberOfTransitions;r++){let n=e.transition(r);n instanceof U.RuleTransition&&(n.tailCall=this.testTailCall(t,n,!1),n.optimizedTailCall=this.testTailCall(t,n,!0))}if(e.isOptimized)for(let r=0;r<e.numberOfOptimizedTransitions;r++){let n=e.getOptimizedTransition(r);n instanceof U.RuleTransition&&(n.tailCall=this.testTailCall(t,n,!1),n.optimizedTailCall=this.testTailCall(t,n,!0))}}}static testTailCall(t,e,r){if(!r&&e.tailCall)return!0;if(r&&e.optimizedTailCall)return!0;let n=new d.BitSet(t.states.length),i=[];for(i.push(e.followState);;){let t=i.pop();if(!t)break;if(n.get(t.stateNumber))continue;if(t instanceof F.RuleStopState)continue;if(!t.onlyHasEpsilonTransitions)return!1;let e=r?t.numberOfOptimizedTransitions:t.numberOfTransitions;for(let n=0;n<e;n++){let e=r?t.getOptimizedTransition(n):t.transition(n);if(1!==e.serializationType)return!1;i.push(e.target)}}return!0}static toInt(t){return t}static toInt32(t,e){return(t[e]|t[e+1]<<16)>>>0}static toUUID(t,e){let r=$.toInt32(t,e),n=$.toInt32(t,e+2),i=$.toInt32(t,e+4),o=$.toInt32(t,e+6);return new W.UUID(o,i,n,r)}edgeFactory(t,e,r,n,i,s,a,l){let c=t.states[n];switch(e){case 1:return new v.EpsilonTransition(c);case 2:return 0!==a?new M.RangeTransition(c,J.Token.EOF,s):new M.RangeTransition(c,i,s);case 3:return new U.RuleTransition(t.states[i],s,a,c);case 4:return new D.PredicateTransition(c,i,s,0!==a);case 10:return new j.PrecedencePredicateTransition(c,i);case 5:return 0!==a?new u.AtomTransition(c,J.Token.EOF):new u.AtomTransition(c,i);case 6:return new o.ActionTransition(c,i,s,0!==a);case 7:return new B.SetTransition(c,l[i]);case 8:return new R.NotSetTransition(c,l[i]);case 9:return new K.WildcardTransition(c)}throw new Error("The specified transition type is not valid.")}stateFactory(t,e){let r;switch(t){case c.ATNStateType.INVALID_TYPE:return new O.InvalidState;case c.ATNStateType.BASIC:r=new p.BasicState;break;case c.ATNStateType.RULE_START:r=new q.RuleStartState;break;case c.ATNStateType.BLOCK_START:r=new h.BasicBlockStartState;break;case c.ATNStateType.PLUS_BLOCK_START:r=new I.PlusBlockStartState;break;case c.ATNStateType.STAR_BLOCK_START:r=new z.StarBlockStartState;break;case c.ATNStateType.TOKEN_START:r=new G.TokensStartState;break;case c.ATNStateType.RULE_STOP:r=new F.RuleStopState;break;case c.ATNStateType.BLOCK_END:r=new f.BlockEndState;break;case c.ATNStateType.STAR_LOOP_BACK:r=new V.StarLoopbackState;break;case c.ATNStateType.STAR_LOOP_ENTRY:r=new H.StarLoopEntryState;break;case c.ATNStateType.PLUS_LOOP_BACK:r=new L.PlusLoopbackState;break;case c.ATNStateType.LOOP_END:r=new w.LoopEndState;break;default:throw new Error(`The specified state type ${t} is not valid.`)}return r.ruleIndex=e,r}lexerActionFactory(t,e,r){switch(t){case 0:return new b.LexerChannelAction(e);case 1:return new S.LexerCustomAction(e,r);case 2:return new A.LexerModeAction(e);case 3:return E.LexerMoreAction.INSTANCE;case 4:return T.LexerPopModeAction.INSTANCE;case 5:return new N.LexerPushModeAction(e);case 6:return _.LexerSkipAction.INSTANCE;case 7:return new C.LexerTypeAction(e);default:throw new Error(`The specified lexer action type ${t} is not valid.`)}}}$.BASE_SERIALIZED_UUID=W.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),$.ADDED_LEXER_ACTIONS=W.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),$.ADDED_UNICODE_SMP=W.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),$.SUPPORTED_UUIDS=[$.BASE_SERIALIZED_UUID,$.ADDED_LEXER_ACTIONS,$.ADDED_UNICODE_SMP],$.SERIALIZED_UUID=$.ADDED_UNICODE_SMP,n([k.NotNull],$.prototype,"deserializationOptions",void 0),n([i(0,k.NotNull)],$.prototype,"deserialize",null),n([i(0,k.NotNull)],$.prototype,"markPrecedenceDecisions",null),n([k.NotNull,i(0,k.NotNull)],$.prototype,"edgeFactory",null),e.ATNDeserializer=$},56298:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNSimulator=void 0;const o=r(43258),s=r(69709),a=r(72399),l=r(78859);let c=class t{constructor(t){this.atn=t}static get ERROR(){return t._ERROR||(t._ERROR=new s.DFAState(new o.ATNConfigSet),t._ERROR.stateNumber=l.PredictionContext.EMPTY_FULL_STATE_KEY),t._ERROR}clearDFA(){this.atn.clearDFA()}};n([a.NotNull],c.prototype,"atn",void 0),n([a.NotNull],c,"ERROR",null),c=n([i(0,a.NotNull)],c),e.ATNSimulator=c,c=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=c},42813:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ATNState=void 0;const i=r(72399);class o{constructor(){this.stateNumber=o.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(t){return t instanceof o&&this.stateNumber===t.stateNumber}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(t,e){if(0===this.transitions.length)this.epsilonOnlyTransitions=t.isEpsilon;else if(this.epsilonOnlyTransitions!==t.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(void 0!==e?e:this.transitions.length,0,t)}transition(t){return this.transitions[t]}setTransition(t,e){this.transitions[t]=e}removeTransition(t){return this.transitions.splice(t,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(t){this.ruleIndex=t}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(t){return this.optimizedTransitions[t]}addOptimizedTransition(t){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(t)}setOptimizedTransition(t,e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[t]=e}removeOptimizedTransition(t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(t,1)}}n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"equals",null),n([i.Override],o.prototype,"toString",null),e.ATNState=o,function(t){t.INVALID_STATE_NUMBER=-1}(o=e.ATNState||(e.ATNState={}))},77037:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNStateType=void 0,function(t){t[t.INVALID_TYPE=0]="INVALID_TYPE",t[t.BASIC=1]="BASIC",t[t.RULE_START=2]="RULE_START",t[t.BLOCK_START=3]="BLOCK_START",t[t.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",t[t.STAR_BLOCK_START=5]="STAR_BLOCK_START",t[t.TOKEN_START=6]="TOKEN_START",t[t.RULE_STOP=7]="RULE_STOP",t[t.BLOCK_END=8]="BLOCK_END",t[t.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",t[t.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",t[t.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",t[t.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))},38730:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ATNType=void 0,function(t){t[t.LEXER=0]="LEXER",t[t.PARSER=1]="PARSER"}(e.ATNType||(e.ATNType={}))},58939:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPredicateTransition=void 0;const n=r(11072);class i extends n.Transition{constructor(t){super(t)}}e.AbstractPredicateTransition=i},29202:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e,r=-1,n=!1){super(t),this.ruleIndex=e,this.actionIndex=r,this.isCtxDependent=n}get serializationType(){return 6}get isEpsilon(){return!0}matches(t,e,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.ActionTransition=a},77886:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.AmbiguityInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o){super(t,e,n,i,o,e.useContext),this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};n([s.NotNull],a.prototype,"ambigAlts",void 0),n([s.NotNull],a.prototype,"ambiguousAlternatives",null),a=n([i(1,s.NotNull),i(2,s.NotNull),i(3,s.NotNull)],a),e.AmbiguityInfo=a},5369:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.AtomTransition=void 0;const o=r(83357),s=r(72399),a=r(11072);let l=class extends a.Transition{constructor(t,e){super(t),this._label=e}get serializationType(){return 5}get label(){return o.IntervalSet.of(this._label)}matches(t,e,r){return this._label===t}toString(){return String(this.label)}};n([s.Override],l.prototype,"serializationType",null),n([s.Override,s.NotNull],l.prototype,"label",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.AtomTransition=l},38749:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.BasicBlockStartState=a},78744:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.BASIC}}n([s.Override],a.prototype,"stateType",null),e.BasicState=a},50760:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockEndState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.BLOCK_END}}n([s.Override],a.prototype,"stateType",null),e.BlockEndState=a},93099:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.BlockStartState=void 0;const n=r(38016);class i extends n.DecisionState{}e.BlockStartState=i},55620:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.createWithCodePointRange=e.createWithCodePoint=void 0;const n=r(24605),i=r(5369),o=r(83357),s=r(93053),a=r(21384);e.createWithCodePoint=function(t,e){return n.isSupplementaryCodePoint(e)?new a.SetTransition(t,o.IntervalSet.of(e)):new i.AtomTransition(t,e)},e.createWithCodePointRange=function(t,e,r){return n.isSupplementaryCodePoint(e)||n.isSupplementaryCodePoint(r)?new a.SetTransition(t,o.IntervalSet.of(e,r)):new s.RangeTransition(t,e,r)}},61405:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ConflictInfo=void 0;const i=r(72399),o=r(40659);class s{constructor(t,e){this._conflictedAlts=t,this.exact=e}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(t){return t===this||t instanceof s&&(this.isExact===t.isExact&&o.equals(this.conflictedAlts,t.conflictedAlts))}hashCode(){return this.conflictedAlts.hashCode()}}n([i.Override],s.prototype,"equals",null),n([i.Override],s.prototype,"hashCode",null),e.ConflictInfo=s},52433:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextSensitivityInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i){super(t,e,r,n,i,!0)}};a=n([i(1,s.NotNull),i(2,s.NotNull)],a),e.ContextSensitivityInfo=a},71173:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionEventInfo=void 0;const o=r(72399);let s=class{constructor(t,e,r,n,i,o){this.decision=t,this.fullCtx=o,this.stopIndex=i,this.input=r,this.startIndex=n,this.state=e}};n([o.NotNull],s.prototype,"input",void 0),s=n([i(2,o.NotNull)],s),e.DecisionEventInfo=s},50585:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionInfo=void 0;const i=r(72399);class o{constructor(t){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=t}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}}n([i.Override],o.prototype,"toString",null),e.DecisionInfo=o},38016:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.DecisionState=void 0;const n=r(42813);class i extends n.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}e.DecisionState=i},29250:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.EpsilonTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e=-1){super(t),this._outermostPrecedenceReturn=e}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(t,e,r){return!1}toString(){return"epsilon"}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),n([o.Override,o.NotNull],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.EpsilonTransition=a},44241:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i){super(t,e,r,n,i,e.useContext)}};a=n([i(1,s.NotNull),i(2,s.NotNull)],a),e.ErrorInfo=a},9803:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidState=void 0;const i=r(77037),o=r(78744),s=r(72399);class a extends o.BasicState{get stateType(){return i.ATNStateType.INVALID_TYPE}}n([s.Override],a.prototype,"stateType",null),e.InvalidState=a},39462:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LL1Analyzer=void 0;const o=r(58939),s=r(1533),a=r(78880),l=r(46889),c=r(83357),u=r(72399),h=r(33575),p=r(70436),d=r(78859),f=r(8840),g=r(23334),y=r(47760),m=r(24650);let v=class t{constructor(t){this.atn=t}getDecisionLookahead(e){if(null==e)return;let r=new Array(e.numberOfTransitions);for(let n=0;n<e.numberOfTransitions;n++){let i=new c.IntervalSet;r[n]=i;let o=new s.Array2DHashSet(p.ObjectEqualityComparator.INSTANCE),a=!1;this._LOOK(e.transition(n).target,void 0,d.PredictionContext.EMPTY_LOCAL,i,o,new l.BitSet,a,!1),(0===i.size||i.contains(t.HIT_PRED))&&(i=void 0,r[n]=i)}return r}LOOK(t,e,r){if(void 0===r){if(null==t.atn)throw new Error("Illegal state");r=t.atn.ruleToStopState[t.ruleIndex]}else null===r&&(r=void 0);let n=new c.IntervalSet;return this._LOOK(t,r,e,n,new s.Array2DHashSet,new l.BitSet,!0,!0),n}_LOOK(e,r,n,i,s,l,u,p){let v=a.ATNConfig.create(e,0,n);if(!s.add(v))return;if(e===r){if(d.PredictionContext.isEmptyLocal(n))return void i.add(y.Token.EPSILON);if(n.isEmpty)return void(p&&i.add(y.Token.EOF))}if(e instanceof f.RuleStopState){if(n.isEmpty&&!d.PredictionContext.isEmptyLocal(n))return void(p&&i.add(y.Token.EOF));let t=l.get(e.ruleIndex);try{l.clear(e.ruleIndex);for(let t=0;t<n.size;t++){if(n.getReturnState(t)===d.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let e=this.atn.states[n.getReturnState(t)];this._LOOK(e,r,n.getParent(t),i,s,l,u,p)}}finally{t&&l.set(e.ruleIndex)}}let x=e.numberOfTransitions;for(let a=0;a<x;a++){let d=e.transition(a);if(d instanceof g.RuleTransition){if(l.get(d.ruleIndex))continue;let t=n.getChild(d.followState.stateNumber);try{l.set(d.ruleIndex),this._LOOK(d.target,r,t,i,s,l,u,p)}finally{l.clear(d.ruleIndex)}}else if(d instanceof o.AbstractPredicateTransition)u?this._LOOK(d.target,r,n,i,s,l,u,p):i.add(t.HIT_PRED);else if(d.isEpsilon)this._LOOK(d.target,r,n,i,s,l,u,p);else if(d instanceof m.WildcardTransition)i.addAll(c.IntervalSet.of(y.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let t=d.label;null!=t&&(d instanceof h.NotSetTransition&&(t=t.complement(c.IntervalSet.of(y.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(t))}}}};v.HIT_PRED=y.Token.INVALID_TYPE,n([u.NotNull],v.prototype,"atn",void 0),n([u.NotNull,i(0,u.NotNull),i(1,u.NotNull)],v.prototype,"LOOK",null),n([i(0,u.NotNull),i(2,u.NotNull),i(3,u.NotNull),i(4,u.NotNull),i(5,u.NotNull)],v.prototype,"_LOOK",null),v=n([i(0,u.NotNull)],v),e.LL1Analyzer=v},21088:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerATNSimulator=void 0;const o=r(52962),s=r(74274),a=r(78880),l=r(43258),c=r(56298),u=r(69709),h=r(7477),p=r(71492),d=r(22807),f=r(22662),g=r(86181),y=r(72399),m=r(75895),v=r(78859),x=r(8840),O=r(47760),b=r(94148);let S=class t extends c.ATNSimulator{constructor(e,r){super(e),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=d.Lexer.DEFAULT_MODE,this.prevAccept=new t.SimState,this.recog=r}copyState(t){this._charPositionInLine=t.charPositionInLine,this._line=t._line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;let r=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();let r=this.atn.modeToDFA[e].s0;return null==r?this.matchATN(t):this.execATN(t,r)}finally{t.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=d.Lexer.DEFAULT_MODE}matchATN(e){let r=this.atn.modeToStartState[this.mode];t.debug&&console.log(`matchATN mode ${this.mode} start: ${r}`);let n=this.mode,i=this.computeStartState(e,r),o=i.hasSemanticContext;o&&(i.hasSemanticContext=!1);let s=this.addDFAState(i);if(!o){let t=this.atn.modeToDFA[this.mode];t.s0?s=t.s0:t.s0=s}let a=this.execATN(e,s);return t.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[n].toLexerString()}`),a}execATN(e,r){t.debug&&console.log(`start state closure=${r.configs}`),r.isAcceptState&&this.captureSimState(this.prevAccept,e,r);let n=e.LA(1),i=r;for(;;){t.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let r=this.getExistingTargetState(i,n);if(null==r&&(r=this.computeTargetState(e,i,n)),r===c.ATNSimulator.ERROR)break;if(n!==p.IntStream.EOF&&this.consume(e),r.isAcceptState&&(this.captureSimState(this.prevAccept,e,r),n===p.IntStream.EOF))break;n=e.LA(1),i=r}return this.failOrAccept(this.prevAccept,e,i.configs,n)}getExistingTargetState(e,r){let n=e.getTarget(r);return t.debug&&null!=n&&console.log("reuse state "+e.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,r){let n=new m.OrderedATNConfigSet;return this.getReachableConfigSet(t,e.configs,n,r),n.isEmpty?(n.hasSemanticContext||this.addDFAEdge(e,r,c.ATNSimulator.ERROR),c.ATNSimulator.ERROR):this.addDFAEdge(e,r,n)}failOrAccept(t,e,r,n){if(null!=t.dfaState){let r=t.dfaState.lexerActionExecutor;return this.accept(e,r,this.startIndex,t.index,t.line,t.charPos),t.dfaState.prediction}if(n===p.IntStream.EOF&&e.index===this.startIndex)return O.Token.EOF;throw new g.LexerNoViableAltException(this.recog,e,this.startIndex,r)}getReachableConfigSet(e,r,n,i){let o=s.ATN.INVALID_ALT_NUMBER;for(let s of r){let r=s.alt===o;if(r&&s.hasPassedThroughNonGreedyDecision)continue;t.debug&&console.log(`testing ${this.getTokenName(i)} at ${s.toString(this.recog,!0)}`);let a=s.state.numberOfOptimizedTransitions;for(let t=0;t<a;t++){let a=s.state.getOptimizedTransition(t),l=this.getReachableTarget(a,i);if(null!=l){let t,a=s.lexerActionExecutor;null!=a?(a=a.fixOffsetBeforeMatch(e.index-this.startIndex),t=s.transform(l,!0,a)):(b(null==s.lexerActionExecutor),t=s.transform(l,!0));let c=i===p.IntStream.EOF;if(this.closure(e,t,n,r,!0,c)){o=s.alt;break}}}}}accept(e,r,n,i,o,s){t.debug&&console.log(`ACTION ${r}`),e.seek(i),this._line=o,this._charPositionInLine=s,null!=r&&null!=this.recog&&r.execute(this.recog,e,n)}getReachableTarget(t,e){if(t.matches(e,d.Lexer.MIN_CHAR_VALUE,d.Lexer.MAX_CHAR_VALUE))return t.target}computeStartState(t,e){let r=v.PredictionContext.EMPTY_FULL,n=new m.OrderedATNConfigSet;for(let i=0;i<e.numberOfTransitions;i++){let o=e.transition(i).target,s=a.ATNConfig.create(o,i+1,r);this.closure(t,s,n,!1,!1,!1)}return n}closure(e,r,n,i,o,s){if(t.debug&&console.log("closure("+r.toString(this.recog,!0)+")"),r.state instanceof x.RuleStopState){t.debug&&(null!=this.recog?console.log(`closure at ${this.recog.ruleNames[r.state.ruleIndex]} rule stop ${r}`):console.log(`closure at rule stop ${r}`));let a=r.context;if(a.isEmpty)return n.add(r),!0;a.hasEmpty&&(n.add(r.transform(r.state,!0,v.PredictionContext.EMPTY_FULL)),i=!0);for(let t=0;t<a.size;t++){let l=a.getReturnState(t);if(l===v.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let c=a.getParent(t),u=this.atn.states[l],h=r.transform(u,!1,c);i=this.closure(e,h,n,i,o,s)}return i}r.state.onlyHasEpsilonTransitions||i&&r.hasPassedThroughNonGreedyDecision||n.add(r);let a=r.state;for(let t=0;t<a.numberOfOptimizedTransitions;t++){let l=a.getOptimizedTransition(t),c=this.getEpsilonTarget(e,r,l,n,o,s);null!=c&&(i=this.closure(e,c,n,i,o,s))}return i}getEpsilonTarget(e,r,n,i,o,s){let a;switch(n.serializationType){case 3:let l=n;if(this.optimize_tail_calls&&l.optimizedTailCall&&!r.context.hasEmpty)a=r.transform(n.target,!0);else{let t=r.context.getChild(l.followState.stateNumber);a=r.transform(n.target,!0,t)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let c=n;t.debug&&console.log("EVAL rule "+c.ruleIndex+":"+c.predIndex),i.hasSemanticContext=!0,a=this.evaluatePredicate(e,c.ruleIndex,c.predIndex,o)?r.transform(n.target,!0):void 0;break;case 6:if(r.context.hasEmpty){let t=f.LexerActionExecutor.append(r.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=r.transform(n.target,!0,t);break}a=r.transform(n.target,!0);break;case 1:a=r.transform(n.target,!0);break;case 5:case 2:case 7:if(s&&n.matches(p.IntStream.EOF,d.Lexer.MIN_CHAR_VALUE,d.Lexer.MAX_CHAR_VALUE)){a=r.transform(n.target,!1);break}a=void 0;break;default:a=void 0}return a}evaluatePredicate(t,e,r,n){if(null==this.recog)return!0;if(!n)return this.recog.sempred(void 0,e,r);let i=this._charPositionInLine,o=this._line,s=t.index,a=t.mark();try{return this.consume(t),this.recog.sempred(void 0,e,r)}finally{this._charPositionInLine=i,this._line=o,t.seek(s),t.release(a)}}captureSimState(t,e,r){t.index=e.index,t.line=this._line,t.charPos=this._charPositionInLine,t.dfaState=r}addDFAEdge(e,r,n){if(n instanceof l.ATNConfigSet){let t=n.hasSemanticContext;t&&(n.hasSemanticContext=!1);let i=this.addDFAState(n);return t||this.addDFAEdge(e,r,i),i}t.debug&&console.log("EDGE "+e+" -> "+n+" upon "+String.fromCharCode(r)),null!=e&&e.setTarget(r,n)}addDFAState(t){b(!t.hasSemanticContext);let e=new u.DFAState(t),r=this.atn.modeToDFA[this.mode].states.get(e);if(null!=r)return r;t.optimizeConfigs(this);let n,i=new u.DFAState(t.clone(!0));for(let e of t)if(e.state instanceof x.RuleStopState){n=e;break}if(null!=n){let t=this.atn.ruleToTokenType[n.state.ruleIndex],e=n.lexerActionExecutor;i.acceptStateInfo=new o.AcceptStateInfo(t,e)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(t){return this.atn.modeToDFA[t]}getText(t){return t.getText(h.Interval.of(this.startIndex,t.index-1))}get line(){return this._line}set line(t){this._line=t}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(t){this._charPositionInLine=t}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}};n([y.NotNull],S.prototype,"prevAccept",void 0),n([i(0,y.NotNull)],S.prototype,"copyState",null),n([i(0,y.NotNull)],S.prototype,"match",null),n([y.Override],S.prototype,"reset",null),n([i(0,y.NotNull)],S.prototype,"matchATN",null),n([i(0,y.NotNull),i(1,y.NotNull)],S.prototype,"execATN",null),n([i(0,y.NotNull)],S.prototype,"getExistingTargetState",null),n([y.NotNull,i(0,y.NotNull),i(1,y.NotNull)],S.prototype,"computeTargetState",null),n([i(0,y.NotNull),i(1,y.NotNull),i(2,y.NotNull)],S.prototype,"getReachableConfigSet",null),n([i(0,y.NotNull)],S.prototype,"accept",null),n([y.NotNull,i(0,y.NotNull),i(1,y.NotNull)],S.prototype,"computeStartState",null),n([i(0,y.NotNull),i(1,y.NotNull),i(2,y.NotNull)],S.prototype,"closure",null),n([i(0,y.NotNull),i(1,y.NotNull),i(2,y.NotNull),i(3,y.NotNull)],S.prototype,"getEpsilonTarget",null),n([i(0,y.NotNull)],S.prototype,"evaluatePredicate",null),n([i(0,y.NotNull),i(1,y.NotNull),i(2,y.NotNull)],S.prototype,"captureSimState",null),n([y.NotNull,i(0,y.NotNull)],S.prototype,"addDFAState",null),n([y.NotNull],S.prototype,"getDFA",null),n([y.NotNull,i(0,y.NotNull)],S.prototype,"getText",null),n([i(0,y.NotNull)],S.prototype,"consume",null),n([y.NotNull],S.prototype,"getTokenName",null),S=n([i(0,y.NotNull)],S),e.LexerATNSimulator=S,function(t){t.debug=!1,t.dfa_debug=!1;t.SimState=class{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}}(S=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=S},52367:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0})},22662:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerActionExecutor=void 0;const o=r(8151),s=r(59057),a=r(75636),l=r(72399);let c=class t{constructor(t){this._lexerActions=t;let e=a.MurmurHash.initialize();for(let r of t)e=a.MurmurHash.update(e,r);this.cachedHashCode=a.MurmurHash.finish(e,t.length)}static append(e,r){if(!e)return new t([r]);let n=e._lexerActions.slice(0);return n.push(r),new t(n)}fixOffsetBeforeMatch(e){let r;for(let t=0;t<this._lexerActions.length;t++)!this._lexerActions[t].isPositionDependent||this._lexerActions[t]instanceof s.LexerIndexedCustomAction||(r||(r=this._lexerActions.slice(0)),r[t]=new s.LexerIndexedCustomAction(e,this._lexerActions[t]));return r?new t(r):this}get lexerActions(){return this._lexerActions}execute(t,e,r){let n=!1,i=e.index;try{for(let o of this._lexerActions){if(o instanceof s.LexerIndexedCustomAction){let t=o.offset;e.seek(r+t),o=o.action,n=r+t!==i}else o.isPositionDependent&&(e.seek(i),n=!1);o.execute(t)}}finally{n&&e.seek(i)}}hashCode(){return this.cachedHashCode}equals(e){return e===this||e instanceof t&&(this.cachedHashCode===e.cachedHashCode&&o.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions))}};n([l.NotNull],c.prototype,"_lexerActions",void 0),n([l.NotNull],c.prototype,"lexerActions",null),n([i(0,l.NotNull)],c.prototype,"execute",null),n([l.Override],c.prototype,"hashCode",null),n([l.Override],c.prototype,"equals",null),n([l.NotNull,i(1,l.NotNull)],c,"append",null),c=n([i(0,l.NotNull)],c),e.LexerActionExecutor=c},89383:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.LexerActionType=void 0,function(t){t[t.CHANNEL=0]="CHANNEL",t[t.CUSTOM=1]="CUSTOM",t[t.MODE=2]="MODE",t[t.MORE=3]="MORE",t[t.POP_MODE=4]="POP_MODE",t[t.PUSH_MODE=5]="PUSH_MODE",t[t.SKIP=6]="SKIP",t[t.TYPE=7]="TYPE"}(e.LexerActionType||(e.LexerActionType={}))},23972:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerChannelAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._channel=t}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(t){t.channel=this._channel}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._channel),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._channel===t._channel}toString(){return`channel(${this._channel})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerChannelAction=a},37920:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerCustomAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t,e){this._ruleIndex=t,this._actionIndex=e}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(t){t.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._ruleIndex),t=o.MurmurHash.update(t,this._actionIndex),o.MurmurHash.finish(t,3)}equals(t){return t===this||t instanceof a&&(this._ruleIndex===t._ruleIndex&&this._actionIndex===t._actionIndex)}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),e.LexerCustomAction=a},59057:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerIndexedCustomAction=void 0;const o=r(75636),s=r(72399);let a=class t{constructor(t,e){this._offset=t,this._action=e}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(t){this._action.execute(t)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this._offset),t=o.MurmurHash.update(t,this._action),o.MurmurHash.finish(t,2)}equals(e){return e===this||e instanceof t&&(this._offset===e._offset&&this._action.equals(e._action))}};n([s.NotNull],a.prototype,"action",null),n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),a=n([i(1,s.NotNull)],a),e.LexerIndexedCustomAction=a},49616:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(t){t.mode(this._mode)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._mode),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._mode===t._mode}toString(){return`mode(${this._mode})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerModeAction=a},56474:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerMoreAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(t){t.more()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"more"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerMoreAction=a,function(t){t.INSTANCE=new t}(a=e.LexerMoreAction||(e.LexerMoreAction={}))},94283:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPopModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(t){t.popMode()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"popMode"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerPopModeAction=a,function(t){t.INSTANCE=new t}(a=e.LexerPopModeAction||(e.LexerPopModeAction={}))},84520:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerPushModeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._mode=t}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(t){t.pushMode(this._mode)}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._mode),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._mode===t._mode}toString(){return`pushMode(${this._mode})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerPushModeAction=a},38240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerSkipAction=void 0;const o=r(75636),s=r(72399);class a{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(t){t.skip()}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),o.MurmurHash.finish(t,1)}equals(t){return t===this}toString(){return"skip"}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerSkipAction=a,function(t){t.INSTANCE=new t}(a=e.LexerSkipAction||(e.LexerSkipAction={}))},16479:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerTypeAction=void 0;const o=r(75636),s=r(72399);class a{constructor(t){this._type=t}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(t){t.type=this._type}hashCode(){let t=o.MurmurHash.initialize();return t=o.MurmurHash.update(t,this.actionType),t=o.MurmurHash.update(t,this._type),o.MurmurHash.finish(t,2)}equals(t){return t===this||t instanceof a&&this._type===t._type}toString(){return`type(${this._type})`}}n([s.Override],a.prototype,"actionType",null),n([s.Override],a.prototype,"isPositionDependent",null),n([s.Override,i(0,s.NotNull)],a.prototype,"execute",null),n([s.Override],a.prototype,"hashCode",null),n([s.Override],a.prototype,"equals",null),n([s.Override],a.prototype,"toString",null),e.LexerTypeAction=a},37059:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LookaheadEventInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o,s){super(t,e,n,i,o,s),this.predictedAlt=r}};a=n([i(3,s.NotNull)],a),e.LookaheadEventInfo=a},46251:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.LoopEndState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get stateType(){return o.ATNStateType.LOOP_END}}n([s.Override],a.prototype,"stateType",null),e.LoopEndState=a},33575:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotSetTransition=void 0;const o=r(72399),s=r(21384);let a=class extends s.SetTransition{constructor(t,e){super(t,e)}get serializationType(){return 8}matches(t,e,r){return t>=e&&t<=r&&!super.matches(t,e,r)}toString(){return"~"+super.toString()}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"matches",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull),i(1,o.Nullable)],a),e.NotSetTransition=a},75895:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.OrderedATNConfigSet=void 0;const i=r(43258),o=r(72399);class s extends i.ATNConfigSet{constructor(t,e){null!=t&&null!=e?super(t,e):super()}clone(t){let e=new s(this,t);return!t&&this.isReadOnly&&e.addAll(this),e}getKey(t){return{state:0,alt:t.hashCode()}}canMerge(t,e,r){return t.equals(r)}}n([o.Override],s.prototype,"clone",null),n([o.Override],s.prototype,"getKey",null),n([o.Override],s.prototype,"canMerge",null),e.OrderedATNConfigSet=s},38344:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseInfo=void 0;const o=r(72399);let s=class{constructor(t){this.atnSimulator=t}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let t=this.atnSimulator.getDecisionInfo(),e=[];for(let r=0;r<t.length;r++){t[r].LL_Fallback>0&&e.push(r)}return e}getTotalTimeInPrediction(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.timeInPrediction;return e}getTotalSLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_TotalLook;return e}getTotalLLLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.LL_TotalLook;return e}getTotalSLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_ATNTransitions;return e}getTotalLLATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.LL_ATNTransitions;return e}getTotalATNLookaheadOps(){let t=this.atnSimulator.getDecisionInfo(),e=0;for(let r of t)e+=r.SLL_ATNTransitions,e+=r.LL_ATNTransitions;return e}getDFASize(t){if(t){return this.atnSimulator.atn.decisionToDFA[t].states.size}{let t=0,e=this.atnSimulator.atn.decisionToDFA;for(let r=0;r<e.length;r++)t+=this.getDFASize(r);return t}}};n([o.NotNull],s.prototype,"getDecisionInfo",null),n([o.NotNull],s.prototype,"getLLDecisions",null),s=n([i(0,o.NotNull)],s),e.ParseInfo=s},13161:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserATNSimulator=void 0;const o=r(52962),s=r(29202),a=r(1533),l=r(95754),c=r(74274),u=r(78880),h=r(43258),p=r(56298),d=r(77037),f=r(5369),g=r(46889),y=r(61405),m=r(38016),v=r(69709),x=r(18240),O=r(7477),b=r(71492),S=r(72399),A=r(33575),E=r(40755),T=r(70436),N=r(41097),_=r(78859),C=r(56409),w=r(30333),k=r(8840),R=r(23334),P=r(32356),I=r(21384),L=r(84364),j=r(47760),D=r(67435),M=r(94148),q=-2147483648;let F=class t extends p.ATNSimulator{constructor(t,e){super(t),this.predictionMode=w.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=e}getPredictionMode(){return this.predictionMode}setPredictionMode(t){this.predictionMode=t}reset(){}adaptivePredict(e,r,n,i){void 0===i&&(i=!1);let o,s=this.atn.decisionToDFA[r];if(M(null!=s),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let t=e.LA(1);if(t>=0&&t<=65535){let e=(r<<16>>>0)+t,n=this.atn.LL1Table.get(e);if(null!=n)return n}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==w.PredictionMode.SLL&&null!=n&&!this.atn.decisionToState[r].sll,null==n&&(n=N.ParserRuleContext.emptyContext()),s.isEmpty||(o=this.getStartState(s,e,n,i)),null==o&&(null==n&&(n=N.ParserRuleContext.emptyContext()),t.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+n.toString(this._parser)),o=this.computeStartState(s,n,i));let a=e.mark(),l=e.index;try{let r=this.execDFA(s,e,l,o);return t.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),r}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(t,e,r,n){if(!n){if(t.isPrecedenceDfa){let e=t.getPrecedenceStartState(this._parser.precedence,!1);if(null==e)return;return new L.SimulatorState(r,e,!1,r)}if(null==t.s0)return;return new L.SimulatorState(r,t.s0,!1,r)}if(!this.enable_global_context_dfa)return;let i,o=r;for(M(null!=r),i=t.isPrecedenceDfa?t.getPrecedenceStartState(this._parser.precedence,!0):t.s0full;null!=o&&null!=i&&i.isContextSensitive;)o=this.skipTailCalls(o),i=i.getContextTarget(this.getReturnState(o)),o.isEmpty?M(null==i||!i.isContextSensitive):o=o.parent;return null!=i?new L.SimulatorState(r,i,n,o):void 0}execDFA(e,r,n,i){let o=i.outerContext;t.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(r)+", outerContext="+o.toString(this._parser)),t.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let s=i.s0,a=r.LA(1),l=i.remainingOuterContext;for(;;){if(t.dfa_debug&&console.log("DFA state "+s.stateNumber+" LA(1)=="+this.getLookaheadName(r)),i.useContext)for(;s.isContextSymbol(a);){let t;if(null!=l&&(l=this.skipTailCalls(l),t=s.getContextTarget(this.getReturnState(l))),null==t){let t=new L.SimulatorState(i.outerContext,s,i.useContext,l);return this.execATN(e,r,n,t)}M(null!=l),l=l.parent,s=t}if(this.isAcceptState(s,i.useContext)){null!=s.predicates?t.dfa_debug&&console.log("accept "+s):t.dfa_debug&&console.log("accept; predict "+s.prediction+" in state "+s.stateNumber);break}M(!this.isAcceptState(s,i.useContext));let c=this.getExistingTargetState(s,a);if(null==c){let c;if(t.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a)),t.dfa_debug){let t=O.Interval.of(n,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(t)+" at DFA state "+s.stateNumber)}let u=new L.SimulatorState(o,s,i.useContext,l);return c=this.execATN(e,r,n,u),t.dfa_debug&&console.log("back from DFA update, alt="+c+", dfa=\n"+e.toString(this._parser.vocabulary,this._parser.ruleNames)),t.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+c),c}if(c===p.ATNSimulator.ERROR){let t=new L.SimulatorState(o,s,i.useContext,l);return this.handleNoViableAlt(r,n,t)}s=c,this.isAcceptState(s,i.useContext)||a===b.IntStream.EOF||(r.consume(),a=r.LA(1))}if(!i.useContext&&null!=s.configs.conflictInfo&&e.atnStartState instanceof m.DecisionState&&!(!this.userWantsCtxSensitive||!s.configs.dipsIntoOuterContext&&s.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&r.index===n)){let t;M(!i.useContext);let a=s.predicates;if(null!=a){let e=r.index;if(e!==n&&r.seek(n),t=this.evalSemanticContext(a,o,!0),1===t.cardinality())return t.nextSetBit(0);e!==n&&r.seek(e)}if(this.reportAmbiguities){let a=new L.SimulatorState(o,s,i.useContext,l);this.reportAttemptingFullContext(e,t,a,n,r.index)}return r.seek(n),this.adaptivePredict(r,e.decision,o,!0)}let c=s.predicates;if(null!=c){let t=r.index;n!==t&&r.seek(n);let i=this.evalSemanticContext(c,o,this.reportAmbiguities&&this.predictionMode===w.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(i.cardinality()){case 0:throw this.noViableAlt(r,o,s.configs,n);case 1:return i.nextSetBit(0);default:return n!==t&&r.seek(t),this.reportAmbiguity(e,s,n,t,s.configs.isExactConflict,i,s.configs),i.nextSetBit(0)}}return t.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+s.prediction),s.prediction}isAcceptState(t,e){return!!t.isAcceptState&&(null==t.configs.conflictingAlts||(!e||this.predictionMode!==w.PredictionMode.LL_EXACT_AMBIG_DETECTION||t.configs.isExactConflict))}execATN(e,r,n,i){t.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(r));let o=i.outerContext,s=i.useContext,a=r.LA(1),l=i,u=new C.PredictionContextCache;for(;;){let i=this.computeReachSet(e,l,a,u);if(null==i)return this.setDFAEdge(l.s0,r.LA(1),p.ATNSimulator.ERROR),this.handleNoViableAlt(r,n,l);let h=i.s0;if(M(h.isAcceptState||h.prediction===c.ATN.INVALID_ALT_NUMBER),M(h.isAcceptState||null==h.configs.conflictInfo),this.isAcceptState(h,s)){let l=h.configs.conflictingAlts,u=null==l?h.prediction:c.ATN.INVALID_ALT_NUMBER;if(u!==c.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&r.index===n&&!e.isPrecedenceDfa&&i.outerContext===i.remainingOuterContext&&e.decision>=0&&!h.configs.hasSemanticContext&&a>=0&&a<=65535){let t=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(t,u)}s&&this.always_try_local_context&&this.reportContextSensitivity(e,u,i,n,r.index)}u=h.prediction;let p=null!=l&&this.userWantsCtxSensitive;if(p&&(p=!s&&(h.configs.dipsIntoOuterContext||!h.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||r.index!==n)),h.configs.hasSemanticContext){let t=h.predicates;if(null!=t){let e=r.index;switch(e!==n&&r.seek(n),l=this.evalSemanticContext(t,o,p||this.reportAmbiguities),l.cardinality()){case 0:throw this.noViableAlt(r,o,h.configs,n);case 1:return l.nextSetBit(0)}e!==n&&r.seek(e)}}if(p){M(!s),M(this.isAcceptState(h,!1)),t.debug&&console.log("RETRY with outerContext="+o);let a=this.computeStartState(e,o,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,l,i,n,r.index),r.seek(n),this.execATN(e,r,n,a)}return null!=l&&(this.reportAmbiguities&&l.cardinality()>1&&this.reportAmbiguity(e,h,n,r.index,h.configs.isExactConflict,l,h.configs),u=l.nextSetBit(0)),u}l=i,a!==b.IntStream.EOF&&(r.consume(),a=r.LA(1))}}handleNoViableAlt(t,e,r){if(null!=r.s0){let n=new g.BitSet,i=0;for(let t of r.s0.configs)(t.reachesIntoOuterContext||t.state instanceof k.RuleStopState)&&(n.set(t.alt),i=Math.max(i,t.alt));switch(n.cardinality()){case 0:break;case 1:return n.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return n.nextSetBit(0);let o=new h.ATNConfigSet;for(let t of r.s0.configs)(t.reachesIntoOuterContext||t.state instanceof k.RuleStopState)&&o.add(t);let s=this.getPredsForAmbigAlts(n,o,i);if(null!=s){let i=this.getPredicatePredictions(n,s);if(null!=i){let n=t.index;try{t.seek(e);let n=this.evalSemanticContext(i,r.outerContext,!1);if(!n.isEmpty)return n.nextSetBit(0)}finally{t.seek(n)}}}return n.nextSetBit(0)}}throw this.noViableAlt(t,r.outerContext,r.s0.configs,e)}computeReachSet(t,e,r,n){let i=e.useContext,o=e.remainingOuterContext,s=e.s0;if(i)for(;s.isContextSymbol(r);){let t;if(null!=o&&(o=this.skipTailCalls(o),t=s.getContextTarget(this.getReturnState(o))),null==t)break;M(null!=o),o=o.parent,s=t}if(M(!this.isAcceptState(s,i)),this.isAcceptState(s,i))return new L.SimulatorState(e.outerContext,s,i,o);let a=s,l=this.getExistingTargetState(a,r);if(null==l){let e=this.computeTargetState(t,a,o,r,i,n);l=e[0],o=e[1]}return l!==p.ATNSimulator.ERROR?(M(!i||!l.configs.dipsIntoOuterContext),new L.SimulatorState(e.outerContext,l,i,o)):void 0}getExistingTargetState(t,e){return t.getTarget(e)}computeTargetState(e,r,n,i,o,s){let a,l,u=r.configs.toArray(),d=new h.ATNConfigSet;do{let e=!o||null!=n;e||(d.isOutermostConfigSet=!0);let r,p=new h.ATNConfigSet;for(let e of u){if(t.debug&&console.log("testing "+this.getTokenName(i)+" at "+e.toString()),e.state instanceof k.RuleStopState){M(e.context.isEmpty),(o&&!e.reachesIntoOuterContext||i===b.IntStream.EOF)&&(null==r&&(r=[]),r.push(e));continue}let n=e.state.numberOfOptimizedTransitions;for(let t=0;t<n;t++){let r=e.state.getOptimizedTransition(t),n=this.getReachableTarget(e,r,i);null!=n&&p.add(e.transform(n,!1),s)}}if(this.optimize_unique_closure&&null==r&&i!==j.Token.EOF&&p.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER){p.isOutermostConfigSet=d.isOutermostConfigSet,d=p;break}let f=!1,g=i===j.Token.EOF;if(this.closure(p,d,f,e,s,g),l=d.dipsIntoOuterContext,i===b.IntStream.EOF&&(d=this.removeAllConfigsNotInRuleStopState(d,s)),!(null==r||o&&w.PredictionMode.hasConfigInRuleStopState(d))){M(r.length>0);for(let t of r)d.add(t,s)}if(o&&l){d.clear(),n=this.skipTailCalls(n);let t=this.getReturnState(n);if(null==a&&(a=new x.IntegerList),n=n.isEmpty?void 0:n.parent,a.add(t),t!==_.PredictionContext.EMPTY_FULL_STATE_KEY)for(let e=0;e<u.length;e++)u[e]=u[e].appendContext(t,s)}}while(o&&l);return d.isEmpty?(this.setDFAEdge(r,i,p.ATNSimulator.ERROR),[p.ATNSimulator.ERROR,n]):[this.addDFAEdge(e,r,i,a,d,s),n]}removeAllConfigsNotInRuleStopState(t,e){if(w.PredictionMode.allConfigsInRuleStopStates(t))return t;let r=new h.ATNConfigSet;for(let n of t)n.state instanceof k.RuleStopState&&r.add(n,e);return r}computeStartState(t,e,r){let n=t.isPrecedenceDfa?t.getPrecedenceStartState(this._parser.precedence,r):r?t.s0full:t.s0;if(null!=n){if(!r)return new L.SimulatorState(e,n,r,e);n.setContextSensitive(this.atn)}t.decision;let i=t.atnStartState,o=0,s=e,a=r?_.PredictionContext.EMPTY_FULL:_.PredictionContext.EMPTY_LOCAL,l=new C.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;null!=s;)s.isEmpty?(o=_.PredictionContext.EMPTY_FULL_STATE_KEY,s=void 0):(o=this.getReturnState(s),a=a.appendSingleContext(o,l),s=s.parent);for(;null!=n&&n.isContextSensitive&&null!=s;){let t;if(s=this.skipTailCalls(s),s.isEmpty?(t=n.getContextTarget(_.PredictionContext.EMPTY_FULL_STATE_KEY),o=_.PredictionContext.EMPTY_FULL_STATE_KEY,s=void 0):(o=this.getReturnState(s),t=n.getContextTarget(o),a=a.appendSingleContext(o,l),s=s.parent),null==t)break;n=t}}if(null!=n&&!n.isContextSensitive)return new L.SimulatorState(e,n,r,s);let c=new h.ATNConfigSet;for(;;){let p=new h.ATNConfigSet,d=i.numberOfTransitions;for(let t=0;t<d;t++){let e=i.transition(t).target;p.add(u.ATNConfig.create(e,t+1,a))}let f=null!=s;f||(c.isOutermostConfigSet=!0);let g=!0;this.closure(p,c,g,f,l,!1);let y,m=c.dipsIntoOuterContext;if(r&&!this.enable_global_context_dfa){n=this.addDFAState(t,c,l);break}if(null==n?t.isPrecedenceDfa?(c=this.applyPrecedenceFilter(c,e,l),y=this.addDFAState(t,c,l),t.setPrecedenceStartState(this._parser.precedence,r,y)):(y=this.addDFAState(t,c,l),r?t.s0full?y=t.s0full:t.s0full=y:t.s0?y=t.s0:t.s0=y):(t.isPrecedenceDfa&&(c=this.applyPrecedenceFilter(c,e,l)),y=this.addDFAState(t,c,l),n.setContextTarget(o,y)),n=y,!r||!m)break;y.setContextSensitive(this.atn),c.clear(),s=this.skipTailCalls(s);let v=this.getReturnState(s);s=s.isEmpty?void 0:s.parent,v!==_.PredictionContext.EMPTY_FULL_STATE_KEY&&(a=a.appendSingleContext(v,l)),o=v}return new L.SimulatorState(e,n,r,s)}applyPrecedenceFilter(t,e,r){let n=new Map,i=new h.ATNConfigSet;for(let o of t){if(1!==o.alt)continue;let t=o.semanticContext.evalPrecedence(this._parser,e);null!=t&&(n.set(o.state.stateNumber,o.context),t!==o.semanticContext?i.add(o.transform(o.state,!1,t),r):i.add(o,r))}for(let e of t)if(1!==e.alt){if(!e.isPrecedenceFilterSuppressed){let t=n.get(e.state.stateNumber);if(null!=t&&t.equals(e.context))continue}i.add(e,r)}return i}getReachableTarget(t,e,r){if(e.matches(r,0,this.atn.maxTokenType))return e.target}predicateDFAState(e,r,n){let i=this.getConflictingAltsFromConfigSet(r);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");t.debug&&console.log("predicateDFAState "+e);let o,s=this.getPredsForAmbigAlts(i,r,n);return null!=s&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,r,n){let i=new Array(n+1),o=i.length;for(let t of r)e.get(t.alt)&&(i[t.alt]=P.SemanticContext.or(i[t.alt],t.semanticContext));let s=0;for(let t=0;t<o;t++)null==i[t]?i[t]=P.SemanticContext.NONE:i[t]!==P.SemanticContext.NONE&&s++;let a=i;return 0===s&&(a=void 0),t.debug&&console.log("getPredsForAmbigAlts result "+(a?l.Arrays.toString(a):"undefined")),a}getPredicatePredictions(t,e){let r=[],n=!1;for(let i=1;i<e.length;i++){let o=e[i];M(null!=o),null!=t&&t.get(i)&&o===P.SemanticContext.NONE?r.push(new v.DFAState.PredPrediction(o,i)):o!==P.SemanticContext.NONE&&(n=!0,r.push(new v.DFAState.PredPrediction(o,i)))}if(n)return r}evalSemanticContext(e,r,n){let i=new g.BitSet;for(let o of e){if(o.pred===P.SemanticContext.NONE){if(i.set(o.alt),!n)break;continue}let e=this.evalSemanticContextImpl(o.pred,r,o.alt);if((t.debug||t.dfa_debug)&&console.log("eval pred "+o+"="+e),e&&((t.debug||t.dfa_debug)&&console.log("PREDICT "+o.alt),i.set(o.alt),!n))break}return i}evalSemanticContextImpl(t,e,r){return t.eval(this._parser,e)}closure(t,e,r,n,i,o){null==i&&(i=C.PredictionContextCache.UNCACHED);let s=t,l=new a.Array2DHashSet(T.ObjectEqualityComparator.INSTANCE);for(;s.size>0;){let t=new h.ATNConfigSet;for(let a of s)this.closureImpl(a,e,t,l,r,n,i,0,o);s=t}}closureImpl(e,r,n,i,o,a,l,c,h){if(t.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof k.RuleStopState)if(e.context.isEmpty){if(!a)return void r.add(e,l);t.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===_.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,_.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&_.PredictionContext.isEmptyLocal(e.context)&&r.add(e,l)}else{let t=e.context.hasEmpty,s=e.context.size-(t?1:0);for(let t=0;t<s;t++){let s=e.context.getParent(t),p=this.atn.states[e.context.getReturnState(t)],d=u.ATNConfig.create(p,e.alt,s,e.semanticContext);d.outerContextDepth=e.outerContextDepth,d.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,M(c>q),this.closureImpl(d,r,n,i,o,a,l,c-1,h)}if(!t||!a)return;e=e.transform(e.state,!1,_.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(r.add(e,l),t.debug&&console.log("added config "+r));for(let u=0;u<p.numberOfOptimizedTransitions;u++){if(0===u&&p.stateType===d.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let t=p,r=!0;for(let n=0;n<e.context.size;n++)if(!t.precedenceLoopbackStates.get(e.context.getReturnState(n))){r=!1;break}if(r)continue}let f=p.getOptimizedTransition(u),g=!(f instanceof s.ActionTransition)&&o,y=this.getEpsilonTarget(e,f,g,0===c,l,h);if(null!=y){if(f instanceof R.RuleTransition&&null!=n&&!o){n.add(y,l);continue}let s=c;if(e.state instanceof k.RuleStopState){if(null!=this.dfa&&this.dfa.isPrecedenceDfa){f.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(y.isPrecedenceFilterSuppressed=!0)}if(y.outerContextDepth=y.outerContextDepth+1,!i.add(y))continue;M(s>q),s--,t.debug&&console.log("dips into outer ctx: "+y)}else if(f instanceof R.RuleTransition)!this.optimize_tail_calls||!f.optimizedTailCall||this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)?s>=0&&s++:(M(y.context===e.context),0===s&&(s--,!this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)&&(y.outerContextDepth=y.outerContextDepth+1)));else if(!f.isEpsilon&&!i.add(y))continue;this.closureImpl(y,r,n,i,g,a,l,s,h)}}}getRuleName(t){return null!=this._parser&&t>=0?this._parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,r,n,i,o){switch(e.serializationType){case 3:return this.ruleTransition(t,e,i);case 10:return this.precedenceTransition(t,e,r,n);case 4:return this.predTransition(t,e,r,n);case 6:return this.actionTransition(t,e);case 1:return t.transform(e.target,!1);case 5:case 2:case 7:return o&&e.matches(j.Token.EOF,0,1)?t.transform(e.target,!1):void 0;default:return}}actionTransition(e,r){return t.debug&&console.log("ACTION edge "+r.ruleIndex+":"+r.actionIndex),e.transform(r.target,!1)}precedenceTransition(e,r,n,i){let o;if(t.debug&&(console.log("PRED (collectPredicates="+n+") "+r.precedence+">=_p, ctx dependent=true"),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),n&&i){let t=P.SemanticContext.and(e.semanticContext,r.predicate);o=e.transform(r.target,!1,t)}else o=e.transform(r.target,!1);return t.debug&&console.log("config from pred transition="+o),o}predTransition(e,r,n,i){let o;if(t.debug&&(console.log("PRED (collectPredicates="+n+") "+r.ruleIndex+":"+r.predIndex+", ctx dependent="+r.isCtxDependent),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),n&&(!r.isCtxDependent||r.isCtxDependent&&i)){let t=P.SemanticContext.and(e.semanticContext,r.predicate);o=e.transform(r.target,!1,t)}else o=e.transform(r.target,!1);return t.debug&&console.log("config from pred transition="+o),o}ruleTransition(e,r,n){t.debug&&console.log("CALL rule "+this.getRuleName(r.target.ruleIndex)+", ctx="+e.context);let i,o=r.followState;return i=!this.optimize_tail_calls||!r.optimizedTailCall||this.tail_call_preserves_sll&&_.PredictionContext.isEmptyLocal(e.context)?null!=n?n.getChild(e.context,o.stateNumber):e.context.getChild(o.stateNumber):e.context,e.transform(r.target,!1,i)}isConflicted(e,r){if(e.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let n=e.toArray();n.sort(t.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,o=new g.BitSet,s=n[0].alt;o.set(s);let a,l=n[0].state.nonStopStateNumber;for(let t of n){let e=t.state.nonStopStateNumber;if(e!==l){if(t.alt!==s)return;l=e}}if(i){l=n[0].state.nonStopStateNumber,a=new g.BitSet;let t=s;for(let e of n){if(e.state.nonStopStateNumber!==l)break;let r=e.alt;a.set(r),t=r}l=n[0].state.nonStopStateNumber;let e=s;for(let r of n){let n=r.state.nonStopStateNumber,o=r.alt;if(n!==l){if(e!==t){i=!1;break}l=n,e=s}else if(o!==e){if(o!==a.nextSetBit(e+1)){i=!1;break}e=o}}}l=n[0].state.nonStopStateNumber;let u=0,h=0,p=n[0].context;for(let t=1;t<n.length;t++){let e=n[t];if(e.alt!==s)break;if(e.state.nonStopStateNumber!==l)break;h=t,p=r.join(p,n[t].context)}for(let t=h+1;t<n.length;t++){let e=n[t],a=e.state;if(o.set(e.alt),a.nonStopStateNumber!==l){l=a.nonStopStateNumber,u=t,h=t,p=e.context;for(let t=u+1;t<n.length;t++){let e=n[t];if(e.alt!==s)break;if(e.state.nonStopStateNumber!==l)break;h=t,p=r.join(p,e.context)}t=h;continue}let c=e.context,d=e.alt,f=t;for(let t=f+1;t<n.length;t++){let e=n[t];if(e.alt!==d)break;if(e.state.nonStopStateNumber!==l)break;f=t,c=r.join(c,e.context)}t=f;let g=r.join(p,c);if(!p.equals(g))return;i=i&&p.equals(c)}return new y.ConflictInfo(o,i)}getConflictingAltsFromConfigSet(t){let e=t.conflictingAlts;return null==e&&t.uniqueAlt!==c.ATN.INVALID_ALT_NUMBER&&(e=new g.BitSet,e.set(t.uniqueAlt)),e}getTokenName(t){if(t===j.Token.EOF)return"EOF";let e=(null!=this._parser?this._parser.vocabulary:D.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(t);return e===String(t)?e:e+"<"+t+">"}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");let e=t.deadEndConfigs;if(e)for(let t of e){let e="no edges";if(t.state.numberOfOptimizedTransitions>0){let r=t.state.getOptimizedTransition(0);if(r instanceof f.AtomTransition)e="Atom "+this.getTokenName(r._label);else if(r instanceof I.SetTransition){e=(r instanceof A.NotSetTransition?"~":"")+"Set "+r.set.toString()}}console.log(t.toString(this._parser,!0)+":"+e)}}noViableAlt(t,e,r,n){return new E.NoViableAltException(this._parser,t,t.get(n),t.LT(1),r,e)}getUniqueAlt(t){let e=c.ATN.INVALID_ALT_NUMBER;for(let r of t)if(e===c.ATN.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return c.ATN.INVALID_ALT_NUMBER;return e}configWithAltAtStopState(t,e){for(let r of t)if(r.alt===e&&r.state instanceof k.RuleStopState)return!0;return!1}addDFAEdge(e,r,n,i,o,s){M(null==i||i.isEmpty||e.isContextSensitive);let a=r,l=this.addDFAState(e,o,s);if(null!=i)for(let t of i.toArray()){if(t===_.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(n);let r=a.getContextTarget(t);null==r?(r=this.addDFAContextState(e,a.configs,t,s),M(t!==_.PredictionContext.EMPTY_FULL_STATE_KEY||r.configs.isOutermostConfigSet),a.setContextTarget(t,r),a=r):a=r}return t.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(n)),this.setDFAEdge(a,n,l),t.debug&&console.log("DFA=\n"+e.toString(null!=this._parser?this._parser.vocabulary:D.VocabularyImpl.EMPTY_VOCABULARY,null!=this._parser?this._parser.ruleNames:void 0)),l}setDFAEdge(t,e,r){null!=t&&t.setTarget(e,r)}addDFAContextState(t,e,r,n){if(r!==_.PredictionContext.EMPTY_FULL_STATE_KEY){let i=new h.ATNConfigSet;for(let t of e)i.add(t.appendContext(r,n));return this.addDFAState(t,i,n)}return M(!e.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),(e=e.clone(!0)).isOutermostConfigSet=!0,this.addDFAState(t,e,n)}addDFAState(e,r,n){let i=this.enable_global_context_dfa||!r.isOutermostConfigSet;if(i){r.isReadOnly||r.optimizeConfigs(this);let t=this.createDFAState(e,r),n=e.states.get(t);if(null!=n)return n}r.isReadOnly||null==r.conflictInfo&&(r.conflictInfo=this.isConflicted(r,n));let s=this.createDFAState(e,r.clone(!0)),a=this.atn.getDecisionState(e.decision),l=this.getUniqueAlt(r);if(l!==c.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new o.AcceptStateInfo(l);else if(null!=r.conflictingAlts){let t=r.conflictingAlts;t&&(s.acceptStateInfo=new o.AcceptStateInfo(t.nextSetBit(0)))}if(s.isAcceptState&&r.hasSemanticContext&&this.predicateDFAState(s,r,a.numberOfTransitions),!i)return s;let u=e.addState(s);return t.debug&&u===s&&console.log("adding new DFA state: "+s),u}createDFAState(t,e){return new v.DFAState(e)}reportAttemptingFullContext(e,r,n,i,o){if(t.debug||t.retry_debug){let t=O.Interval.of(i,o);console.log("reportAttemptingFullContext decision="+e.decision+":"+n.s0.configs+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportAttemptingFullContext&&t.reportAttemptingFullContext(this._parser,e,i,o,r,n)}}reportContextSensitivity(e,r,n,i,o){if(t.debug||t.retry_debug){let t=O.Interval.of(i,o);console.log("reportContextSensitivity decision="+e.decision+":"+n.s0.configs+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportContextSensitivity&&t.reportContextSensitivity(this._parser,e,i,o,r,n)}}reportAmbiguity(e,r,n,i,o,s,a){if(t.debug||t.retry_debug){let t=O.Interval.of(n,i);console.log("reportAmbiguity "+s+":"+a+", input="+this._parser.inputStream.getText(t))}if(null!=this._parser){let t=this._parser.getErrorListenerDispatch();t.reportAmbiguity&&t.reportAmbiguity(this._parser,e,n,i,o,s,a)}}getReturnState(t){if(t.isEmpty)return _.PredictionContext.EMPTY_FULL_STATE_KEY;return this.atn.states[t.invokingState].transition(0).followState.stateNumber}skipTailCalls(t){if(!this.optimize_tail_calls)return t;for(;!t.isEmpty;){let e=this.atn.states[t.invokingState];if(M(1===e.numberOfTransitions&&3===e.transition(0).serializationType),!e.transition(0).tailCall)break;t=t.parent}return t}get parser(){return this._parser}};F.debug=!1,F.dfa_debug=!1,F.retry_debug=!1,F.STATE_ALT_SORT_COMPARATOR=(t,e)=>{let r=t.state.nonStopStateNumber-e.state.nonStopStateNumber;return 0!==r?r:(r=t.alt-e.alt,0!==r?r:0)},n([S.NotNull],F.prototype,"predictionMode",void 0),n([S.NotNull],F.prototype,"getPredictionMode",null),n([i(0,S.NotNull)],F.prototype,"setPredictionMode",null),n([S.Override],F.prototype,"reset",null),n([i(0,S.NotNull)],F.prototype,"adaptivePredict",null),n([i(0,S.NotNull),i(1,S.NotNull),i(2,S.NotNull)],F.prototype,"getStartState",null),n([i(0,S.NotNull),i(1,S.NotNull),i(3,S.NotNull)],F.prototype,"execDFA",null),n([i(0,S.NotNull),i(1,S.NotNull),i(3,S.NotNull)],F.prototype,"execATN",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"handleNoViableAlt",null),n([i(0,S.NotNull)],F.prototype,"getExistingTargetState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"computeTargetState",null),n([S.NotNull,i(0,S.NotNull)],F.prototype,"removeAllConfigsNotInRuleStopState",null),n([S.NotNull],F.prototype,"computeStartState",null),n([S.NotNull,i(0,S.NotNull)],F.prototype,"applyPrecedenceFilter",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getReachableTarget",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getPredsForAmbigAlts",null),n([i(0,S.NotNull)],F.prototype,"evalSemanticContext",null),n([i(0,S.NotNull)],F.prototype,"evalSemanticContextImpl",null),n([i(1,S.NotNull),i(4,S.Nullable)],F.prototype,"closure",null),n([i(0,S.NotNull),i(1,S.NotNull),i(2,S.Nullable),i(3,S.NotNull),i(6,S.NotNull)],F.prototype,"closureImpl",null),n([S.NotNull],F.prototype,"getRuleName",null),n([i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"getEpsilonTarget",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"actionTransition",null),n([S.Nullable,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"precedenceTransition",null),n([S.Nullable,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"predTransition",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(2,S.Nullable)],F.prototype,"ruleTransition",null),n([i(0,S.NotNull)],F.prototype,"isConflicted",null),n([S.NotNull],F.prototype,"getTokenName",null),n([i(0,S.NotNull)],F.prototype,"dumpDeadEndConfigs",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(2,S.NotNull)],F.prototype,"noViableAlt",null),n([i(0,S.NotNull)],F.prototype,"getUniqueAlt",null),n([i(0,S.NotNull)],F.prototype,"configWithAltAtStopState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull),i(4,S.NotNull)],F.prototype,"addDFAEdge",null),n([i(0,S.Nullable),i(2,S.Nullable)],F.prototype,"setDFAEdge",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"addDFAContextState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"addDFAState",null),n([S.NotNull,i(0,S.NotNull),i(1,S.NotNull)],F.prototype,"createDFAState",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"reportAttemptingFullContext",null),n([i(0,S.NotNull),i(2,S.NotNull)],F.prototype,"reportContextSensitivity",null),n([i(0,S.NotNull),i(5,S.NotNull),i(6,S.NotNull)],F.prototype,"reportAmbiguity",null),F=n([i(0,S.NotNull)],F),e.ParserATNSimulator=F},64891:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PlusBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.PLUS_BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.PlusBlockStartState=a},66305:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PlusLoopbackState=void 0;const i=r(77037),o=r(38016),s=r(72399);class a extends o.DecisionState{get stateType(){return i.ATNStateType.PLUS_LOOP_BACK}}n([s.Override],a.prototype,"stateType",null),e.PlusLoopbackState=a},66061:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrecedencePredicateTransition=void 0;const o=r(58939),s=r(72399),a=r(32356);let l=class extends o.AbstractPredicateTransition{constructor(t,e){super(t),this.precedence=e}get serializationType(){return 10}get isEpsilon(){return!0}matches(t,e,r){return!1}get predicate(){return new a.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};n([s.Override],l.prototype,"serializationType",null),n([s.Override],l.prototype,"isEpsilon",null),n([s.Override],l.prototype,"matches",null),n([s.Override],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.PrecedencePredicateTransition=l},97004:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredicateEvalInfo=void 0;const o=r(71173),s=r(72399);let a=class extends o.DecisionEventInfo{constructor(t,e,r,n,i,o,s,a){super(e,t,r,n,i,t.useContext),this.semctx=o,this.evalResult=s,this.predictedAlt=a}};a=n([i(0,s.NotNull),i(2,s.NotNull),i(5,s.NotNull)],a),e.PredicateEvalInfo=a},6369:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredicateTransition=void 0;const o=r(58939),s=r(72399),a=r(32356);let l=class extends o.AbstractPredicateTransition{constructor(t,e,r,n){super(t),this.ruleIndex=e,this.predIndex=r,this.isCtxDependent=n}get serializationType(){return 4}get isEpsilon(){return!0}matches(t,e,r){return!1}get predicate(){return new a.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};n([s.Override],l.prototype,"serializationType",null),n([s.Override],l.prototype,"isEpsilon",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.PredicateTransition=l},78859:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SingletonPredictionContext=e.PredictionContext=void 0;const o=r(73907),s=r(1533),a=r(95754),l=r(75636),c=r(72399),u=r(56409),h=r(94148);class p{constructor(t){this.cachedHashCode=t}static calculateEmptyHashCode(){let t=l.MurmurHash.initialize(1);return t=l.MurmurHash.finish(t,0),t}static calculateSingleHashCode(t,e){let r=l.MurmurHash.initialize(1);return r=l.MurmurHash.update(r,t),r=l.MurmurHash.update(r,e),r=l.MurmurHash.finish(r,2),r}static calculateHashCode(t,e){let r=l.MurmurHash.initialize(1);for(let e of t)r=l.MurmurHash.update(r,e);for(let t of e)r=l.MurmurHash.update(r,t);return r=l.MurmurHash.finish(r,2*t.length),r}static fromRuleContext(t,e,r=!0){if(e.isEmpty)return r?p.EMPTY_FULL:p.EMPTY_LOCAL;let n;n=e._parent?p.fromRuleContext(t,e._parent,r):r?p.EMPTY_FULL:p.EMPTY_LOCAL;let i=t.states[e.invokingState].transition(0);return n.getChild(i.followState.stateNumber)}static addEmptyContext(t){return t.addEmptyContext()}static removeEmptyContext(t){return t.removeEmptyContext()}static join(t,e,r=u.PredictionContextCache.UNCACHED){if(t===e)return t;if(t.isEmpty)return p.isEmptyLocal(t)?t:p.addEmptyContext(e);if(e.isEmpty)return p.isEmptyLocal(e)?e:p.addEmptyContext(t);let n=t.size,i=e.size;if(1===n&&1===i&&t.getReturnState(0)===e.getReturnState(0)){let n=r.join(t.getParent(0),e.getParent(0));return n===t.getParent(0)?t:n===e.getParent(0)?e:n.getChild(t.getReturnState(0))}let o=0,s=new Array(n+i),a=new Array(s.length),l=0,c=0,d=!0,y=!0;for(;l<n&&c<i;)t.getReturnState(l)===e.getReturnState(c)?(s[o]=r.join(t.getParent(l),e.getParent(c)),a[o]=t.getReturnState(l),d=d&&s[o]===t.getParent(l),y=y&&s[o]===e.getParent(c),l++,c++):t.getReturnState(l)<e.getReturnState(c)?(s[o]=t.getParent(l),a[o]=t.getReturnState(l),y=!1,l++):(h(e.getReturnState(c)<t.getReturnState(l)),s[o]=e.getParent(c),a[o]=e.getReturnState(c),d=!1,c++),o++;for(;l<n;)s[o]=t.getParent(l),a[o]=t.getReturnState(l),l++,y=!1,o++;for(;c<i;)s[o]=e.getParent(c),a[o]=e.getReturnState(c),c++,d=!1,o++;return d?t:y?e:(o<s.length&&(s=s.slice(0,o),a=a.slice(0,o)),0===s.length?p.EMPTY_FULL:1===s.length?new g(s[0],a[0]):new f(s,a))}static isEmptyLocal(t){return t===p.EMPTY_LOCAL}static getCachedContext(t,e,r){if(t.isEmpty)return t;let n=r.get(t);if(n)return n;if(n=e.get(t),n)return r.put(t,n),n;let i,o=!1,s=new Array(t.size);for(let n=0;n<s.length;n++){let i=p.getCachedContext(t.getParent(n),e,r);if(o||i!==t.getParent(n)){if(!o){s=new Array(t.size);for(let e=0;e<t.size;e++)s[e]=t.getParent(e);o=!0}s[n]=i}}if(!o)return n=e.putIfAbsent(t,t),r.put(t,null!=n?n:t),t;if(1===s.length)i=new g(s[0],t.getReturnState(0));else{let e=new Array(t.size);for(let r=0;r<t.size;r++)e[r]=t.getReturnState(r);i=new f(s,e,t.hashCode())}return n=e.putIfAbsent(i,i),r.put(i,n||i),r.put(t,n||i),i}appendSingleContext(t,e){return this.appendContext(p.EMPTY_FULL.getChild(t),e)}getChild(t){return new g(this,t)}hashCode(){return this.cachedHashCode}toStrings(t,e,r=p.EMPTY_FULL){let n=[];t:for(let i=0;;i++){let o=0,s=!0,a=this,l=e,c="";for(c+="[";!a.isEmpty&&a!==r;){let e=0;if(a.size>0){let t=1;for(;1<<t>>>0<a.size;)t++;if(e=i>>o&(1<<t>>>0)-1,s=s&&e>=a.size-1,e>=a.size)continue t;o+=t}if(t){c.length>1&&(c+=" ");let e=t.atn.states[l];c+=t.ruleNames[e.ruleIndex]}else a.getReturnState(e)!==p.EMPTY_FULL_STATE_KEY&&(a.isEmpty||(c.length>1&&(c+=" "),c+=a.getReturnState(e)));l=a.getReturnState(e),a=a.getParent(e)}if(c+="]",n.push(c),s)break}return n}}n([c.Override],p.prototype,"hashCode",null),n([i(0,c.NotNull),i(1,c.NotNull),i(2,c.NotNull)],p,"join",null),n([i(0,c.NotNull),i(1,c.NotNull),i(2,c.NotNull)],p,"getCachedContext",null),e.PredictionContext=p;class d extends p{constructor(t){super(p.calculateEmptyHashCode()),this.fullContext=t}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(t){throw new Error("index out of bounds")}getReturnState(t){throw new Error("index out of bounds")}findReturnState(t){return-1}get size(){return 0}appendSingleContext(t,e){return e.getChild(this,t)}appendContext(t,e){return t}get isEmpty(){return!0}get hasEmpty(){return!0}equals(t){return this===t}toStrings(t,e,r){return["[]"]}}n([c.Override],d.prototype,"addEmptyContext",null),n([c.Override],d.prototype,"removeEmptyContext",null),n([c.Override],d.prototype,"getParent",null),n([c.Override],d.prototype,"getReturnState",null),n([c.Override],d.prototype,"findReturnState",null),n([c.Override],d.prototype,"size",null),n([c.Override],d.prototype,"appendSingleContext",null),n([c.Override],d.prototype,"appendContext",null),n([c.Override],d.prototype,"isEmpty",null),n([c.Override],d.prototype,"hasEmpty",null),n([c.Override],d.prototype,"equals",null),n([c.Override],d.prototype,"toStrings",null);let f=class t extends p{constructor(t,e,r){super(r||p.calculateHashCode(t,e)),h(t.length===e.length),h(e.length>1||e[0]!==p.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=t,this.returnStates=e}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}findReturnState(t){return a.Arrays.binarySearch(this.returnStates,t)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===p.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),r=this.returnStates.slice(0);return e.push(p.EMPTY_FULL),r.push(p.EMPTY_FULL_STATE_KEY),new t(e,r)}removeEmptyContext(){if(!this.hasEmpty)return this;if(2===this.returnStates.length)return new g(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),r=this.returnStates.slice(0,this.returnStates.length-1);return new t(e,r)}}appendContext(e,r){return t.appendContextImpl(this,e,new p.IdentityHashMap)}static appendContextImpl(e,r,n){if(r.isEmpty){if(p.isEmptyLocal(r)){if(e.hasEmpty)return p.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(1!==r.size)throw new Error("Appending a tree suffix is not yet supported.");let i=n.get(e);if(!i){if(e.isEmpty)i=r;else{let o=e.size;e.hasEmpty&&o--;let s=new Array(o),a=new Array(o);for(let t=0;t<o;t++)a[t]=e.getReturnState(t);for(let i=0;i<o;i++)s[i]=t.appendContextImpl(e.getParent(i),r,n);1===s.length?i=new g(s[0],a[0]):(h(s.length>1),i=new t(s,a)),e.hasEmpty&&(i=p.join(i,r))}n.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof t))return!1;if(this.hashCode()!==e.hashCode())return!1;let r=e;return this.equalsImpl(r,new s.Array2DHashSet)}equalsImpl(t,e){let r=[],n=[];for(r.push(this),n.push(t);;){let t=r.pop(),i=n.pop();if(!t||!i)break;let o=new u.PredictionContextCache.IdentityCommutativePredictionContextOperands(t,i);if(!e.add(o))continue;let s=o.x.size;if(0!==s){if(s!==o.y.size)return!1;for(let t=0;t<s;t++){if(o.x.getReturnState(t)!==o.y.getReturnState(t))return!1;let e=o.x.getParent(t),i=o.y.getParent(t);if(e.hashCode()!==i.hashCode())return!1;e!==i&&(r.push(e),n.push(i))}}else if(!o.x.equals(o.y))return!1}return!0}};n([c.NotNull],f.prototype,"parents",void 0),n([c.NotNull],f.prototype,"returnStates",void 0),n([c.Override],f.prototype,"getParent",null),n([c.Override],f.prototype,"getReturnState",null),n([c.Override],f.prototype,"findReturnState",null),n([c.Override],f.prototype,"size",null),n([c.Override],f.prototype,"isEmpty",null),n([c.Override],f.prototype,"hasEmpty",null),n([c.Override],f.prototype,"addEmptyContext",null),n([c.Override],f.prototype,"removeEmptyContext",null),n([c.Override],f.prototype,"appendContext",null),n([c.Override],f.prototype,"equals",null),f=n([i(0,c.NotNull)],f);let g=class t extends p{constructor(t,e){super(p.calculateSingleHashCode(t,e)),this.parent=t,this.returnState=e}getParent(t){return this.parent}getReturnState(t){return this.returnState}findReturnState(t){return this.returnState===t?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(t,e){return e.getChild(this.parent.appendContext(t,e),this.returnState)}addEmptyContext(){let t=[this.parent,p.EMPTY_FULL],e=[this.returnState,p.EMPTY_FULL_STATE_KEY];return new f(t,e)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof t))return!1;let r=e;return this.hashCode()===r.hashCode()&&(this.returnState===r.returnState&&this.parent.equals(r.parent))}};n([c.NotNull],g.prototype,"parent",void 0),n([c.Override],g.prototype,"getParent",null),n([c.Override],g.prototype,"getReturnState",null),n([c.Override],g.prototype,"findReturnState",null),n([c.Override],g.prototype,"size",null),n([c.Override],g.prototype,"isEmpty",null),n([c.Override],g.prototype,"hasEmpty",null),n([c.Override],g.prototype,"appendContext",null),n([c.Override],g.prototype,"addEmptyContext",null),n([c.Override],g.prototype,"removeEmptyContext",null),n([c.Override],g.prototype,"equals",null),g=n([i(0,c.NotNull)],g),e.SingletonPredictionContext=g,function(t){t.EMPTY_LOCAL=new d(!1),t.EMPTY_FULL=new d(!0),t.EMPTY_LOCAL_STATE_KEY=-2147483648,t.EMPTY_FULL_STATE_KEY=2147483647;class e extends o.Array2DHashMap{constructor(){super(r.INSTANCE)}}t.IdentityHashMap=e;class r{IdentityEqualityComparator(){}hashCode(t){return t.hashCode()}equals(t,e){return t===e}}r.INSTANCE=new r,n([c.Override],r.prototype,"hashCode",null),n([c.Override],r.prototype,"equals",null),t.IdentityEqualityComparator=r}(p=e.PredictionContext||(e.PredictionContext={}))},56409:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionContextCache=void 0;const i=r(73907),o=r(72399),s=r(70436),a=r(78859),l=r(94148);class c{constructor(t=!0){this.contexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new i.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=t}getAsCached(t){if(!this.enableCache)return t;let e=this.contexts.get(t);return e||(e=t,this.contexts.put(t,t)),e}getChild(t,e){if(!this.enableCache)return t.getChild(e);let r=new c.PredictionContextAndInt(t,e),n=this.childContexts.get(r);return n||(n=t.getChild(e),n=this.getAsCached(n),this.childContexts.put(r,n)),n}join(t,e){if(!this.enableCache)return a.PredictionContext.join(t,e,this);let r=new c.IdentityCommutativePredictionContextOperands(t,e),n=this.joinContexts.get(r);return n||(n=a.PredictionContext.join(t,e,this),n=this.getAsCached(n),this.joinContexts.put(r,n),n)}}e.PredictionContextCache=c,c.UNCACHED=new c(!1),function(t){class e{constructor(t,e){this.obj=t,this.value=e}equals(t){if(!(t instanceof e))return!1;if(t===this)return!0;let r=t;return this.value===r.value&&(this.obj===r.obj||null!=this.obj&&this.obj.equals(r.obj))}hashCode(){let t=5;return t=7*t+(null!=this.obj?this.obj.hashCode():0),t=7*t+this.value,t}}n([o.Override],e.prototype,"equals",null),n([o.Override],e.prototype,"hashCode",null),t.PredictionContextAndInt=e;class r{constructor(t,e){l(null!=t),l(null!=e),this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}equals(t){if(!(t instanceof r))return!1;if(this===t)return!0;let e=t;return this._x===e._x&&this._y===e._y||this._x===e._y&&this._y===e._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}n([o.Override],r.prototype,"equals",null),n([o.Override],r.prototype,"hashCode",null),t.IdentityCommutativePredictionContextOperands=r}(c=e.PredictionContextCache||(e.PredictionContextCache={}))},30333:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionMode=void 0;const i=r(73907),o=r(75636),s=r(72399),a=r(8840);!function(t){t[t.SLL=0]="SLL",t[t.LL=1]="LL",t[t.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"}(e.PredictionMode||(e.PredictionMode={})),function(t){i.Array2DHashMap;class e{AltAndContextConfigEqualityComparator(){}hashCode(t){let e=o.MurmurHash.initialize(7);return e=o.MurmurHash.update(e,t.state.stateNumber),e=o.MurmurHash.update(e,t.context),e=o.MurmurHash.finish(e,2),e}equals(t,e){return t===e||null!=t&&null!=e&&(t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context))}}e.INSTANCE=new e,n([s.Override],e.prototype,"hashCode",null),n([s.Override],e.prototype,"equals",null),t.hasConfigInRuleStopState=function(t){for(let e of t)if(e.state instanceof a.RuleStopState)return!0;return!1},t.allConfigsInRuleStopStates=function(t){for(let e of t)if(!(e.state instanceof a.RuleStopState))return!1;return!0}}(e.PredictionMode||(e.PredictionMode={}))},51284:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfilingATNSimulator=void 0;const o=r(77886),s=r(74274),a=r(56298),l=r(52433),c=r(50585),u=r(44241),h=r(72399),p=r(37059),d=r(13161),f=r(97004),g=r(32356),y=r(84364);class m extends d.ParserATNSimulator{constructor(t){super(t.interpreter.atn,t),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new c.DecisionInfo(t))}adaptivePredict(t,e,r,n){if(void 0!==n)return super.adaptivePredict(t,e,r,n);try{this._input=t,this._startIndex=t.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=e,this.currentState=void 0,this.conflictingAltResolvedBySLL=s.ATN.INVALID_ALT_NUMBER;let n=process.hrtime(),i=super.adaptivePredict(t,e,r),o=process.hrtime(),a=1e9*(o[0]-n[0]);0===a?a=o[1]-n[1]:a+=1e9-n[1]+o[1],this.decisions[e].timeInPrediction+=a,this.decisions[e].invocations++;let l=this._sllStopIndex-this._startIndex+1;if(this.decisions[e].SLL_TotalLook+=l,this.decisions[e].SLL_MinLook=0===this.decisions[e].SLL_MinLook?l:Math.min(this.decisions[e].SLL_MinLook,l),l>this.decisions[e].SLL_MaxLook&&(this.decisions[e].SLL_MaxLook=l,this.decisions[e].SLL_MaxLookEvent=new p.LookaheadEventInfo(e,void 0,i,t,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let r=this._llStopIndex-this._startIndex+1;this.decisions[e].LL_TotalLook+=r,this.decisions[e].LL_MinLook=0===this.decisions[e].LL_MinLook?r:Math.min(this.decisions[e].LL_MinLook,r),r>this.decisions[e].LL_MaxLook&&(this.decisions[e].LL_MaxLook=r,this.decisions[e].LL_MaxLookEvent=new p.LookaheadEventInfo(e,void 0,i,t,this._startIndex,this._llStopIndex,!0))}return i}finally{this._input=void 0,this.currentDecision=-1}}getStartState(t,e,r,n){let i=super.getStartState(t,e,r,n);return this.currentState=i,i}computeStartState(t,e,r){let n=super.computeStartState(t,e,r);return this.currentState=n,n}computeReachSet(t,e,r,n){if(void 0===this._input)throw new Error("Invalid state");let i=super.computeReachSet(t,e,r,n);return null==i&&this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,e,this._input,this._startIndex,this._input.index)),this.currentState=i,i}getExistingTargetState(t,e){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(t,e);if(null!=r&&(this.currentState=new y.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===a.ATNSimulator.ERROR)){let e=new y.SimulatorState(this.currentState.outerContext,t,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new u.ErrorInfo(this.currentDecision,e,this._input,this._startIndex,this._input.index))}return r}computeTargetState(t,e,r,n,i,o){let s=super.computeTargetState(t,e,r,n,i,o);return i?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,s}evalSemanticContextImpl(t,e,r){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let n=super.evalSemanticContextImpl(t,e,r);if(!(t instanceof g.SemanticContext.PrecedencePredicate)){let e=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new f.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,e,t,n,r))}return n}reportContextSensitivity(t,e,r,n,i){if(void 0===this._input)throw new Error("Invalid state");e!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new l.ContextSensitivityInfo(this.currentDecision,r,this._input,n,i)),super.reportContextSensitivity(t,e,r,n,i)}reportAttemptingFullContext(t,e,r,n,i){this.conflictingAltResolvedBySLL=null!=e?e.nextSetBit(0):r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(t,e,r,n,i)}reportAmbiguity(t,e,r,n,i,a,c){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let u;u=null!=a?a.nextSetBit(0):c.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==s.ATN.INVALID_ALT_NUMBER&&u!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new l.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,n)),this.decisions[this.currentDecision].ambiguities.push(new o.AmbiguityInfo(this.currentDecision,this.currentState,a,this._input,r,n)),super.reportAmbiguity(t,e,r,n,i,a,c)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}}n([h.Override,i(0,h.NotNull)],m.prototype,"adaptivePredict",null),n([h.Override],m.prototype,"getStartState",null),n([h.Override],m.prototype,"computeStartState",null),n([h.Override],m.prototype,"computeReachSet",null),n([h.Override],m.prototype,"getExistingTargetState",null),n([h.Override],m.prototype,"computeTargetState",null),n([h.Override],m.prototype,"evalSemanticContextImpl",null),n([h.Override],m.prototype,"reportContextSensitivity",null),n([h.Override],m.prototype,"reportAttemptingFullContext",null),n([h.Override,i(0,h.NotNull),i(5,h.NotNull),i(6,h.NotNull)],m.prototype,"reportAmbiguity",null),e.ProfilingATNSimulator=m},93053:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RangeTransition=void 0;const o=r(83357),s=r(72399),a=r(11072);let l=class extends a.Transition{constructor(t,e,r){super(t),this.from=e,this.to=r}get serializationType(){return 2}get label(){return o.IntervalSet.of(this.from,this.to)}matches(t,e,r){return t>=this.from&&t<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};n([s.Override],l.prototype,"serializationType",null),n([s.Override,s.NotNull],l.prototype,"label",null),n([s.Override],l.prototype,"matches",null),n([s.Override,s.NotNull],l.prototype,"toString",null),l=n([i(0,s.NotNull)],l),e.RangeTransition=l},79240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleStartState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return o.ATNStateType.RULE_START}}n([s.Override],a.prototype,"stateType",null),e.RuleStartState=a},8840:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleStopState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get nonStopStateNumber(){return-1}get stateType(){return o.ATNStateType.RULE_STOP}}n([s.Override],a.prototype,"nonStopStateNumber",null),n([s.Override],a.prototype,"stateType",null),e.RuleStopState=a},23334:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t,e,r,n){super(t),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=e,this.precedence=r,this.followState=n}get serializationType(){return 3}get isEpsilon(){return!0}matches(t,e,r){return!1}};n([o.NotNull],a.prototype,"followState",void 0),n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"isEpsilon",null),n([o.Override],a.prototype,"matches",null),a=n([i(0,o.NotNull),i(3,o.NotNull)],a),e.RuleTransition=a},32356:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticContext=void 0;const o=r(1533),s=r(8151),a=r(75636),l=r(72399),c=r(70436),u=r(40659);class h{static get NONE(){return void 0===h._NONE&&(h._NONE=new h.Predicate),h._NONE}evalPrecedence(t,e){return this}static and(t,e){if(!t||t===h.NONE)return e;if(e===h.NONE)return t;let r=new h.AND(t,e);return 1===r.opnds.length?r.opnds[0]:r}static or(t,e){if(!t)return e;if(t===h.NONE||e===h.NONE)return h.NONE;let r=new h.OR(t,e);return 1===r.opnds.length?r.opnds[0]:r}}e.SemanticContext=h,function(t){function e(e){let r=[];for(let n=0;n<e.length;n++){let i=e[n];i instanceof t.PrecedencePredicate&&(r.push(i),e.splice(n,1),n--)}return r}class r extends t{constructor(t=-1,e=-1,r=!1){super(),this.ruleIndex=t,this.predIndex=e,this.isCtxDependent=r}eval(t,e){let r=this.isCtxDependent?e:void 0;return t.sempred(r,this.ruleIndex,this.predIndex)}hashCode(){let t=a.MurmurHash.initialize();return t=a.MurmurHash.update(t,this.ruleIndex),t=a.MurmurHash.update(t,this.predIndex),t=a.MurmurHash.update(t,this.isCtxDependent?1:0),t=a.MurmurHash.finish(t,3),t}equals(t){return t instanceof r&&(this===t||this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent)}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}n([l.Override],r.prototype,"eval",null),n([l.Override],r.prototype,"hashCode",null),n([l.Override],r.prototype,"equals",null),n([l.Override],r.prototype,"toString",null),t.Predicate=r;class h extends t{constructor(t){super(),this.precedence=t}eval(t,e){return t.precpred(e,this.precedence)}evalPrecedence(e,r){return e.precpred(r,this.precedence)?t.NONE:void 0}compareTo(t){return this.precedence-t.precedence}hashCode(){let t=1;return t=31*t+this.precedence,t}equals(t){return t instanceof h&&(this===t||this.precedence===t.precedence)}toString(){return"{"+this.precedence+">=prec}?"}}n([l.Override],h.prototype,"eval",null),n([l.Override],h.prototype,"evalPrecedence",null),n([l.Override],h.prototype,"compareTo",null),n([l.Override],h.prototype,"hashCode",null),n([l.Override],h.prototype,"equals",null),n([l.Override],h.prototype,"toString",null),t.PrecedencePredicate=h;class p extends t{}t.Operator=p;let d=class r extends p{constructor(t,n){super();let i=new o.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);t instanceof r?i.addAll(t.opnds):i.add(t),n instanceof r?i.addAll(n.opnds):i.add(n),this.opnds=i.toArray();let s=function(t){let e;for(let r of t)void 0!==e?e.compareTo(r)>0&&(e=r):e=r;return e}(e(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(t){return this===t||t instanceof r&&s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,t.opnds)}hashCode(){return a.MurmurHash.hashCode(this.opnds,40363613)}eval(t,e){for(let r of this.opnds)if(!r.eval(t,e))return!1;return!0}evalPrecedence(e,r){let n=!1,i=[];for(let o of this.opnds){let s=o.evalPrecedence(e,r);if(n=n||s!==o,null==s)return;s!==t.NONE&&i.push(s)}if(!n)return this;if(0===i.length)return t.NONE;let o=i[0];for(let e=1;e<i.length;e++)o=t.and(o,i[e]);return o}toString(){return u.join(this.opnds,"&&")}};n([l.Override],d.prototype,"operands",null),n([l.Override],d.prototype,"equals",null),n([l.Override],d.prototype,"hashCode",null),n([l.Override],d.prototype,"eval",null),n([l.Override],d.prototype,"evalPrecedence",null),n([l.Override],d.prototype,"toString",null),d=n([i(0,l.NotNull),i(1,l.NotNull)],d),t.AND=d;let f=class r extends p{constructor(t,n){super();let i=new o.Array2DHashSet(c.ObjectEqualityComparator.INSTANCE);t instanceof r?i.addAll(t.opnds):i.add(t),n instanceof r?i.addAll(n.opnds):i.add(n),this.opnds=i.toArray();let s=function(t){let e;for(let r of t)void 0!==e?e.compareTo(r)<0&&(e=r):e=r;return e}(e(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(t){return this===t||t instanceof r&&s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,t.opnds)}hashCode(){return a.MurmurHash.hashCode(this.opnds,486279973)}eval(t,e){for(let r of this.opnds)if(r.eval(t,e))return!0;return!1}evalPrecedence(e,r){let n=!1,i=[];for(let o of this.opnds){let s=o.evalPrecedence(e,r);if(n=n||s!==o,s===t.NONE)return t.NONE;s&&i.push(s)}if(!n)return this;if(0===i.length)return;let o=i[0];for(let e=1;e<i.length;e++)o=t.or(o,i[e]);return o}toString(){return u.join(this.opnds,"||")}};n([l.Override],f.prototype,"operands",null),n([l.Override],f.prototype,"equals",null),n([l.Override],f.prototype,"hashCode",null),n([l.Override],f.prototype,"eval",null),n([l.Override],f.prototype,"evalPrecedence",null),n([l.Override],f.prototype,"toString",null),f=n([i(0,l.NotNull),i(1,l.NotNull)],f),t.OR=f}(h=e.SemanticContext||(e.SemanticContext={}))},21384:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SetTransition=void 0;const o=r(83357),s=r(72399),a=r(47760),l=r(11072);let c=class extends l.Transition{constructor(t,e){super(t),null==e&&(e=o.IntervalSet.of(a.Token.INVALID_TYPE)),this.set=e}get serializationType(){return 7}get label(){return this.set}matches(t,e,r){return this.set.contains(t)}toString(){return this.set.toString()}};n([s.NotNull],c.prototype,"set",void 0),n([s.Override],c.prototype,"serializationType",null),n([s.Override,s.NotNull],c.prototype,"label",null),n([s.Override],c.prototype,"matches",null),n([s.Override,s.NotNull],c.prototype,"toString",null),c=n([i(0,s.NotNull),i(1,s.Nullable)],c),e.SetTransition=c},84364:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.SimulatorState=void 0;const o=r(72399),s=r(41097);let a=class{constructor(t,e,r,n){this.outerContext=null!=t?t:s.ParserRuleContext.emptyContext(),this.s0=e,this.useContext=r,this.remainingOuterContext=n}};a=n([i(1,o.NotNull)],a),e.SimulatorState=a},38195:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarBlockStartState=void 0;const i=r(77037),o=r(93099),s=r(72399);class a extends o.BlockStartState{get stateType(){return i.ATNStateType.STAR_BLOCK_START}}n([s.Override],a.prototype,"stateType",null),e.StarBlockStartState=a},4016:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarLoopEntryState=void 0;const i=r(77037),o=r(46889),s=r(38016),a=r(72399);class l extends s.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new o.BitSet}get stateType(){return i.ATNStateType.STAR_LOOP_ENTRY}}n([a.Override],l.prototype,"stateType",null),e.StarLoopEntryState=l},5481:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.StarLoopbackState=void 0;const i=r(42813),o=r(77037),s=r(72399);class a extends i.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return o.ATNStateType.STAR_LOOP_BACK}}n([s.Override],a.prototype,"stateType",null),e.StarLoopbackState=a},68644:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStartState=void 0;const i=r(77037),o=r(38016),s=r(72399);class a extends o.DecisionState{get stateType(){return i.ATNStateType.TOKEN_START}}n([s.Override],a.prototype,"stateType",null),e.TokensStartState=a},11072:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transition=void 0;const o=r(72399);let s=class{constructor(t){if(null==t)throw new Error("target cannot be null.");this.target=t}get isEpsilon(){return!1}get label(){}};s.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],n([o.NotNull],s.prototype,"target",void 0),s=n([i(0,o.NotNull)],s),e.Transition=s},67672:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.TransitionType=void 0,function(t){t[t.EPSILON=1]="EPSILON",t[t.RANGE=2]="RANGE",t[t.RULE=3]="RULE",t[t.PREDICATE=4]="PREDICATE",t[t.ATOM=5]="ATOM",t[t.ACTION=6]="ACTION",t[t.SET=7]="SET",t[t.NOT_SET=8]="NOT_SET",t[t.WILDCARD=9]="WILDCARD",t[t.PRECEDENCE=10]="PRECEDENCE"}(e.TransitionType||(e.TransitionType={}))},24650:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.WildcardTransition=void 0;const o=r(72399),s=r(11072);let a=class extends s.Transition{constructor(t){super(t)}get serializationType(){return 9}matches(t,e,r){return t>=e&&t<=r}toString(){return"."}};n([o.Override],a.prototype,"serializationType",null),n([o.Override],a.prototype,"matches",null),n([o.Override,o.NotNull],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.WildcardTransition=a},93027:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(58939),e),i(r(29202),e),i(r(77886),e),i(r(74274),e),i(r(78880),e),i(r(43258),e),i(r(28955),e),i(r(60493),e),i(r(56298),e),i(r(42813),e),i(r(77037),e),i(r(38730),e),i(r(5369),e),i(r(38749),e),i(r(78744),e),i(r(50760),e),i(r(93099),e),i(r(55620),e),i(r(61405),e),i(r(52433),e),i(r(71173),e),i(r(50585),e),i(r(38016),e),i(r(29250),e),i(r(44241),e),i(r(9803),e),i(r(52367),e),i(r(22662),e),i(r(89383),e),i(r(21088),e),i(r(23972),e),i(r(37920),e),i(r(59057),e),i(r(49616),e),i(r(56474),e),i(r(94283),e),i(r(84520),e),i(r(38240),e),i(r(16479),e),i(r(39462),e),i(r(37059),e),i(r(46251),e),i(r(33575),e),i(r(75895),e),i(r(38344),e),i(r(13161),e),i(r(64891),e),i(r(66305),e),i(r(66061),e),i(r(97004),e),i(r(6369),e),i(r(78859),e),i(r(56409),e),i(r(30333),e),i(r(51284),e),i(r(93053),e),i(r(79240),e),i(r(8840),e),i(r(23334),e),i(r(32356),e),i(r(21384),e),i(r(84364),e),i(r(38195),e),i(r(5481),e),i(r(4016),e),i(r(68644),e),i(r(11072),e),i(r(67672),e),i(r(24650),e)},52962:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.AcceptStateInfo=void 0;e.AcceptStateInfo=class{constructor(t,e){this._prediction=t,this._lexerActionExecutor=e}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}},73074:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFA=void 0;const o=r(1533),s=r(43258),a=r(68590),l=r(69709),c=r(80324),u=r(72399),h=r(70436),p=r(4016),d=r(67435);let f=class{constructor(t,e=0){if(this.states=new o.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!t.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=t,this.atn=t.atn,this.decision=e;let r=!1;t instanceof p.StarLoopEntryState&&t.precedenceRuleDecision&&(r=!0,this.s0=new l.DFAState(new s.ATNConfigSet),this.s0full=new l.DFAState(new s.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(t,e){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return e?this.s0full.getTarget(t):this.s0.getTarget(t)}setPrecedenceStartState(t,e,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");t<0||(e?this.s0full.setTarget(t,r):this.s0.setTarget(t,r))}get isEmpty(){return this.isPrecedenceDfa?0===this.s0.getEdgeMap().size&&0===this.s0full.getEdgeMap().size:null==this.s0&&null==this.s0full}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:null!=this.s0full}addState(t){return t.stateNumber=this.nextStateNumber++,this.states.getOrAdd(t)}toString(t,e){if(t||(t=d.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return r=e?new a.DFASerializer(this,t,e,this.atnStartState.atn):new a.DFASerializer(this,t),r.toString()}toLexerString(){if(!this.s0)return"";return new c.LexerDFASerializer(this).toString()}};n([u.NotNull],f.prototype,"states",void 0),n([u.NotNull],f.prototype,"atnStartState",void 0),n([u.NotNull],f.prototype,"atn",void 0),f=n([i(0,u.NotNull)],f),e.DFA=f},68590:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DFASerializer=void 0;const i=r(56298),o=r(72399),s=r(78859),a=r(18831),l=r(67435);class c{constructor(t,e,r,n){e instanceof a.Recognizer?(r=e.ruleNames,n=e.atn,e=e.vocabulary):e||(e=l.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=t,this.vocabulary=e,this.ruleNames=r,this.atn=n}toString(){if(!this.dfa.s0)return"";let t="";if(this.dfa.states){let e=new Array(...this.dfa.states.toArray());e.sort(((t,e)=>t.stateNumber-e.stateNumber));for(let r of e){let e=r.getEdgeMap(),n=[...e.keys()].sort(((t,e)=>t-e)),o=r.getContextEdgeMap(),s=[...o.keys()].sort(((t,e)=>t-e));for(let o of n){let n=e.get(o);if((null==n||n===i.ATNSimulator.ERROR)&&!r.isContextSymbol(o))continue;let s=!1;t+=this.getStateString(r)+"-"+this.getEdgeLabel(o)+"->",r.isContextSymbol(o)&&(t+="!",s=!0);let a=n;a&&a.stateNumber!==i.ATNSimulator.ERROR.stateNumber?t+=this.getStateString(a)+"\n":s&&(t+="ctx\n")}if(r.isContextSensitive)for(let e of s)t+=this.getStateString(r)+"-"+this.getContextLabel(e)+"->"+this.getStateString(o.get(e))+"\n"}}let e=t;return 0===e.length?"":e}getContextLabel(t){if(t===s.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(t===s.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&t>0&&t<=this.atn.states.length){let e=this.atn.states[t].ruleIndex;if(this.ruleNames&&e>=0&&e<this.ruleNames.length)return"ctx:"+String(t)+"("+this.ruleNames[e]+")"}return"ctx:"+String(t)}getEdgeLabel(t){return this.vocabulary.getDisplayName(t)}getStateString(t){if(t===i.ATNSimulator.ERROR)return"ERROR";let e=t.stateNumber,r="s"+e;if(t.isAcceptState&&(r=t.predicates?":s"+e+"=>"+t.predicates:":s"+e+"=>"+t.prediction),t.isContextSensitive){r+="*";for(let e of t.configs)if(e.reachesIntoOuterContext){r+="*";break}}return r}}n([o.NotNull],c.prototype,"dfa",void 0),n([o.NotNull],c.prototype,"vocabulary",void 0),n([o.Override],c.prototype,"toString",null),e.DFASerializer=c},69709:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.DFAState=void 0;const o=r(74274),s=r(46889),a=r(75636),l=r(72399),c=r(78859),u=r(94148);class h{constructor(t){this.stateNumber=-1,this.configs=t,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(t){return!!this.isContextSensitive&&this.contextSymbols.get(t)}setContextSymbol(t){u(this.isContextSensitive),this.contextSymbols.set(t)}setContextSensitive(t){u(!this.configs.isOutermostConfigSet),this.isContextSensitive||this.contextSymbols||(this.contextSymbols=new s.BitSet)}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(t){this._acceptStateInfo=t}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:o.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(t){return this.edges.get(t)}setTarget(t,e){this.edges.set(t,e)}getEdgeMap(){return this.edges}getContextTarget(t){return t===c.PredictionContext.EMPTY_FULL_STATE_KEY&&(t=-1),this.contextEdges.get(t)}setContextTarget(t,e){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");t===c.PredictionContext.EMPTY_FULL_STATE_KEY&&(t=-1),this.contextEdges.set(t,e)}getContextEdgeMap(){let t=new Map(this.contextEdges),e=t.get(-1);if(void 0!==e){if(1===t.size){let t=new Map;return t.set(c.PredictionContext.EMPTY_FULL_STATE_KEY,e),t}t.delete(-1),t.set(c.PredictionContext.EMPTY_FULL_STATE_KEY,e)}return t}hashCode(){let t=a.MurmurHash.initialize(7);return t=a.MurmurHash.update(t,this.configs.hashCode()),t=a.MurmurHash.finish(t,1),t}equals(t){if(this===t)return!0;if(!(t instanceof h))return!1;let e=t;return this.configs.equals(e.configs)}toString(){let t="";return t+=this.stateNumber+":"+this.configs,this.isAcceptState&&(t+="=>",this.predicates?t+=this.predicates:t+=this.prediction),t.toString()}}n([l.NotNull],h.prototype,"configs",void 0),n([l.NotNull],h.prototype,"edges",void 0),n([l.NotNull],h.prototype,"contextEdges",void 0),n([l.Override],h.prototype,"hashCode",null),n([l.Override],h.prototype,"equals",null),n([l.Override],h.prototype,"toString",null),e.DFAState=h,function(t){let e=class{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}};n([l.NotNull],e.prototype,"pred",void 0),n([l.Override],e.prototype,"toString",null),e=n([i(0,l.NotNull)],e),t.PredPrediction=e}(h=e.DFAState||(e.DFAState={}))},80324:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.LexerDFASerializer=void 0;const o=r(68590),s=r(72399),a=r(67435);let l=class extends o.DFASerializer{constructor(t){super(t,a.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(t){return"'"+String.fromCodePoint(t)+"'"}};n([s.Override,s.NotNull],l.prototype,"getEdgeLabel",null),l=n([i(0,s.NotNull)],l),e.LexerDFASerializer=l},12221:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(52666),e),i(r(95635),e),i(r(67404),e),i(r(27442),e),i(r(46737),e),i(r(12781),e),i(r(36776),e),i(r(75866),e),i(r(90328),e),i(r(48291),e),i(r(25629),e),i(r(95411),e),i(r(13196),e),i(r(43361),e),i(r(77997),e),i(r(57866),e),i(r(82262),e),i(r(22468),e),i(r(3714),e),i(r(71492),e),i(r(22807),e),i(r(96145),e),i(r(86181),e),i(r(309),e),i(r(40755),e),i(r(35922),e),i(r(60754),e),i(r(49274),e),i(r(41097),e),i(r(57115),e),i(r(86142),e),i(r(79449),e),i(r(18831),e),i(r(89984),e),i(r(35481),e),i(r(33530),e),i(r(74275),e),i(r(47760),e),i(r(81668),e),i(r(58369),e),i(r(53696),e),i(r(92806),e),i(r(68897),e),i(r(67435),e),i(r(45116),e)},73907:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Array2DHashMap=void 0;const n=r(1533);class i{constructor(t){this.keyComparator=t}hashCode(t){return this.keyComparator.hashCode(t.key)}equals(t,e){return this.keyComparator.equals(t.key,e.key)}}class o{constructor(t){this.backingStore=t instanceof o?new n.Array2DHashSet(t.backingStore):new n.Array2DHashSet(new i(t))}clear(){this.backingStore.clear()}containsKey(t){return this.backingStore.contains({key:t})}get(t){let e=this.backingStore.get({key:t});if(e)return e.value}get isEmpty(){return this.backingStore.isEmpty}put(t,e){let r,n=this.backingStore.get({key:t,value:e});return n?(r=n.value,n.value=e):this.backingStore.add({key:t,value:e}),r}putIfAbsent(t,e){let r,n=this.backingStore.get({key:t,value:e});return n?r=n.value:this.backingStore.add({key:t,value:e}),r}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(t){return t instanceof o&&this.backingStore.equals(t.backingStore)}}e.Array2DHashMap=o},1533:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Array2DHashSet=void 0;const o=r(94148),s=r(65643),a=r(72399),l=r(75636),c=.75;class u{constructor(t,e=16){if(this.n=0,this.threshold=Math.floor(12),t instanceof u){this.comparator=t.comparator,this.buckets=t.buckets.slice(0);for(let t=0;t<this.buckets.length;t++){let e=this.buckets[t];e&&(this.buckets[t]=e.slice(0))}this.n=t.n,this.threshold=t.threshold}else this.comparator=t||s.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(e)}getOrAdd(t){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(t)}getOrAddImpl(t){let e=this.getBucket(t),r=this.buckets[e];if(!r)return r=[t],this.buckets[e]=r,this.n++,t;for(let e of r)if(this.comparator.equals(e,t))return e;return r.push(t),this.n++,t}get(t){if(null==t)return t;let e=this.getBucket(t),r=this.buckets[e];if(r)for(let e of r)if(this.comparator.equals(e,t))return e}getBucket(t){return this.comparator.hashCode(t)&this.buckets.length-1}hashCode(){let t=l.MurmurHash.initialize();for(let e of this.buckets)if(null!=e)for(let r of e){if(null==r)break;t=l.MurmurHash.update(t,this.comparator.hashCode(r))}return t=l.MurmurHash.finish(t,this.size),t}equals(t){if(t===this)return!0;if(!(t instanceof u))return!1;if(t.size!==this.size)return!1;return this.containsAll(t)}expand(){let t=this.buckets,e=2*this.buckets.length,r=this.createBuckets(e);this.buckets=r,this.threshold=Math.floor(e*c);let n=this.size;for(let e of t)if(e)for(let t of e){let e=this.getBucket(t),r=this.buckets[e];r||(r=[],this.buckets[e]=r),r.push(t)}o(this.n===n)}add(t){return this.getOrAdd(t)===t}get size(){return this.n}get isEmpty(){return 0===this.n}contains(t){return this.containsFast(this.asElementType(t))}containsFast(t){return null!=t&&null!=this.get(t)}*[Symbol.iterator](){yield*this.toArray()}toArray(){const t=new Array(this.size);let e=0;for(let r of this.buckets)if(null!=r)for(let n of r){if(null==n)break;t[e++]=n}return t}containsAll(t){if(t instanceof u){let e=t;for(let t of e.buckets)if(null!=t)for(let e of t){if(null==e)break;if(!this.containsFast(this.asElementType(e)))return!1}}else for(let e of t)if(!this.containsFast(this.asElementType(e)))return!1;return!0}addAll(t){let e=!1;for(let r of t){this.getOrAdd(r)!==r&&(e=!0)}return e}clear(){this.buckets=this.createBuckets(16),this.n=0,this.threshold=Math.floor(12)}toString(){if(0===this.size)return"{}";let t="{",e=!0;for(let r of this.buckets)if(null!=r)for(let n of r){if(null==n)break;e?e=!1:t+=", ",t+=n.toString()}return t+="}",t}toTableString(){let t="";for(let e of this.buckets){if(null==e){t+="null\n";continue}t+="[";let r=!0;for(let n of e)r?r=!1:t+=" ",t+=null==n?"_":n.toString();t+="]\n"}return t}asElementType(t){return t}createBuckets(t){return new Array(t)}}n([a.NotNull],u.prototype,"comparator",void 0),n([a.Override],u.prototype,"hashCode",null),n([a.Override],u.prototype,"equals",null),n([a.Override],u.prototype,"add",null),n([a.Override],u.prototype,"size",null),n([a.Override],u.prototype,"isEmpty",null),n([a.Override],u.prototype,"contains",null),n([i(0,a.Nullable)],u.prototype,"containsFast",null),n([a.Override],u.prototype,Symbol.iterator,null),n([a.Override],u.prototype,"toArray",null),n([a.Override],u.prototype,"containsAll",null),n([a.Override],u.prototype,"addAll",null),n([a.Override],u.prototype,"clear",null),n([a.Override],u.prototype,"toString",null),n([a.SuppressWarnings("unchecked")],u.prototype,"asElementType",null),n([a.SuppressWarnings("unchecked")],u.prototype,"createBuckets",null),e.Array2DHashSet=u},8151:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayEqualityComparator=void 0;const i=r(72399),o=r(75636),s=r(70436);class a{hashCode(t){return null==t?0:o.MurmurHash.hashCode(t,0)}equals(t,e){if(null==t)return null==e;if(null==e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!s.ObjectEqualityComparator.INSTANCE.equals(t[r],e[r]))return!1;return!0}}a.INSTANCE=new a,n([i.Override],a.prototype,"hashCode",null),n([i.Override],a.prototype,"equals",null),e.ArrayEqualityComparator=a},95754:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Arrays=void 0,function(t){t.binarySearch=function(t,e,r,n){return function(t,e,r,n){let i=e,o=r-1;for(;i<=o;){let e=i+o>>>1,r=t[e];if(r<n)i=e+1;else{if(!(r>n))return e;o=e-1}}return-(i+1)}(t,void 0!==r?r:0,void 0!==n?n:t.length,e)},t.toString=function(t){let e="[",r=!0;for(let n of t)r?r=!1:e+=", ",e+=null===n?"null":void 0===n?"undefined":n;return e+="]",e}}(e.Arrays||(e.Arrays={}))},46889:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.BitSet=void 0;const n=r(40537),i=r(75636),o=new Uint16Array(0);function s(t){return t>>>4}function a(t){return 16*t}function l(t){let e=1;for(let r=0;r<16;r++){if(t&e)return r;e=e<<1>>>0}throw new RangeError("No specified bit found")}function c(t){let e=32768;for(let r=15;r>=0;r--){if(t&e)return r;e>>>=1}throw new RangeError("No specified bit found")}function u(t,e){return(t&=15)===(e&=15)?1<<t>>>0:65535>>>15-e^65535>>>16-t}const h=new Uint8Array(65536);for(let t=0;t<16;t++){const e=1<<t>>>0;let r=0;for(;r<h.length;){r+=e;for(let t=0;t<e;t++)h[r]++,r++}}class p{constructor(t){if(t)if("number"==typeof t){if(t<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(s(t-1)+1)}else if(t instanceof p)this.data=t.data.slice(0);else{let e=-1;for(let r of t)e<r&&(e=r);this.data=new Uint16Array(s(e-1)+1);for(let e of t)this.set(e)}else this.data=o}and(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length);let i=-1;for(let t=0;t<n;t++){0!==(e[t]&=r[t])&&(i=t)}-1===i&&(this.data=o),i<e.length-1&&(this.data=e.slice(0,i+1))}andNot(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length);let i=-1;for(let t=0;t<n;t++){0!==(e[t]&=65535^r[t])&&(i=t)}-1===i&&(this.data=o),i<e.length-1&&(this.data=e.slice(0,i+1))}cardinality(){if(this.isEmpty)return 0;const t=this.data,e=t.length;let r=0;for(let n=0;n<e;n++)r+=h[t[n]];return r}clear(t,e){null==t?this.data.fill(0):null==e?this.set(t,!1):this.set(t,e,!1)}flip(t,e){if(null==e&&(e=t),t<0||e<t)throw new RangeError;let r=s(t);const n=s(e);if(r===n)this.data[r]^=u(t,e);else{for(this.data[r++]^=u(t,15);r<n;)this.data[r++]^=65535;this.data[r++]^=u(0,e)}}get(t,e){if(void 0===e)return!!(this.data[s(t)]&u(t,t));{let r=new p(e+1);for(let n=t;n<=e;n++)r.set(n,this.get(n));return r}}intersects(t){let e=Math.min(this.length(),t.length());if(0===e)return!1;let r=s(e-1);for(let e=0;e<=r;e++)if(this.data[e]&t.data[e])return!0;return!1}get isEmpty(){return 0===this.length()}length(){return this.data.length?this.previousSetBit(a(this.data.length)-1)+1:0}nextClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);if(n>r)return-1;let i=65535^u(t,15);if(65535==(e[n]|i)){for(n++,i=0;n<r&&65535===e[n];n++);if(n===r)return-1}return a(n)+l(65535^(e[n]|i))}nextSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);if(n>r)return-1;let i=u(t,15);if(!(e[n]&i)){for(n++,i=65535;n<r&&0===e[n];n++);if(n>=r)return-1}return a(n)+l(e[n]&i)}or(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length),i=Math.max(e.length,r.length),s=e.length===i?e:new Uint16Array(i);let a=-1;for(let t=0;t<n;t++){0!==(s[t]=e[t]|r[t])&&(a=t)}const l=e.length>r.length?e:r;for(let t=n;t<i;t++){0!==(s[t]=l[t])&&(a=t)}-1===a?this.data=o:s.length===a+1?this.data=s:this.data=s.slice(0,a)}previousClearBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);n>=r&&(n=r-1);let i=65535^u(0,t);if(65535==(e[n]|i)){for(i=0,n--;n>=0&&65535===e[n];n--);if(n<0)return-1}return a(n)+c(65535^(e[n]|i))}previousSetBit(t){if(t<0)throw new RangeError("fromIndex cannot be negative");const e=this.data,r=e.length;let n=s(t);n>=r&&(n=r-1);let i=u(0,t);if(!(e[n]&i)){for(n--,i=65535;n>=0&&0===e[n];n--);if(n<0)return-1}return a(n)+c(e[n]&i)}set(t,e,r){if(void 0===e?(e=t,r=!0):"boolean"==typeof e&&(r=e,e=t),void 0===r&&(r=!0),t<0||t>e)throw new RangeError;let n=s(t),i=s(e);if(r&&i>=this.data.length){let t=new Uint16Array(i+1);this.data.forEach(((e,r)=>t[r]=e)),this.data=t}else if(!r){if(n>=this.data.length)return;i>=this.data.length&&(i=this.data.length-1,e=16*this.data.length-1)}if(n===i)this._setBits(n,r,u(t,e));else{for(this._setBits(n++,r,u(t,15));n<i;)this.data[n++]=r?65535:0;this._setBits(n,r,u(0,e))}}_setBits(t,e,r){e?this.data[t]|=r:this.data[t]&=65535^r}get size(){return 8*this.data.byteLength}hashCode(){return i.MurmurHash.hashCode(this.data,22)}equals(t){if(t===this)return!0;if(!(t instanceof p))return!1;const e=this.length();if(e!==t.length())return!1;if(0===e)return!0;let r=s(e-1);for(let e=0;e<=r;e++)if(this.data[e]!==t.data[e])return!1;return!0}toString(){let t="{",e=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))e?e=!1:t+=", ",t+=r;return t+="}",t}xor(t){const e=this.data,r=t.data,n=Math.min(e.length,r.length),i=Math.max(e.length,r.length),s=e.length===i?e:new Uint16Array(i);let a=-1;for(let t=0;t<n;t++){0!==(s[t]=e[t]^r[t])&&(a=t)}const l=e.length>r.length?e:r;for(let t=n;t<i;t++){0!==(s[t]=l[t])&&(a=t)}-1===a?this.data=o:s.length===a+1?this.data=s:this.data=s.slice(0,a+1)}clone(){return new p(this)}[Symbol.iterator](){return new d(this.data)}[n.inspect.custom](){return"BitSet "+this.toString()}}e.BitSet=p;class d{constructor(t){this.data=t,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const t=this.data[this.index]&this.mask;if(0!==t){const e=a(this.index)+l(t);return this.mask=u(e+1,15),{done:!1,value:e}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}},24605:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.isSupplementaryCodePoint=e.isLowSurrogate=e.isHighSurrogate=void 0,e.isHighSurrogate=function(t){return t>=55296&&t<=56319},e.isLowSurrogate=function(t){return t>=56320&&t<=57343},e.isSupplementaryCodePoint=function(t){return t>=65536}},65643:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultEqualityComparator=void 0;const i=r(72399),o=r(75636),s=r(70436);class a{hashCode(t){return null==t?0:"string"==typeof t||"number"==typeof t?o.MurmurHash.hashCode([t]):s.ObjectEqualityComparator.INSTANCE.hashCode(t)}equals(t,e){return null==t?null==e:"string"==typeof t||"number"==typeof t?t===e:s.ObjectEqualityComparator.INSTANCE.equals(t,e)}}a.INSTANCE=new a,n([i.Override],a.prototype,"hashCode",null),n([i.Override],a.prototype,"equals",null),e.DefaultEqualityComparator=a},18240:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.IntegerList=void 0;const i=r(95754),o=r(72399),s=new Int32Array(0),a=2147483639;class l{constructor(t){if(t)if(t instanceof l)this._data=t._data.slice(0),this._size=t._size;else if("number"==typeof t)0===t?(this._data=s,this._size=0):(this._data=new Int32Array(t),this._size=0);else{this._data=s,this._size=0;for(let e of t)this.add(e)}else this._data=s,this._size=0}add(t){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=t,this._size++}addAll(t){if(Array.isArray(t))this.ensureCapacity(this._size+t.length),this._data.subarray(this._size,this._size+t.length).set(t),this._size+=t.length;else if(t instanceof l)this.ensureCapacity(this._size+t._size),this._data.subarray(this._size,this._size+t.size).set(t._data),this._size+=t._size;else{this.ensureCapacity(this._size+t.size);let e=0;for(let r of t)this._data[this._size+e]=r,e++;this._size+=t.size}}get(t){if(t<0||t>=this._size)throw RangeError();return this._data[t]}contains(t){for(let e=0;e<this._size;e++)if(this._data[e]===t)return!0;return!1}set(t,e){if(t<0||t>=this._size)throw RangeError();let r=this._data[t];return this._data[t]=e,r}removeAt(t){let e=this.get(t);return this._data.copyWithin(t,t+1,this._size),this._data[this._size-1]=0,this._size--,e}removeRange(t,e){if(t<0||e<0||t>this._size||e>this._size)throw RangeError();if(t>e)throw RangeError();this._data.copyWithin(e,t,this._size),this._data.fill(0,this._size-(e-t),this._size),this._size-=e-t}get isEmpty(){return 0===this._size}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return 0===this._size?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(t){if(t===this)return!0;if(!(t instanceof l))return!1;if(this._size!==t._size)return!1;for(let e=0;e<this._size;e++)if(this._data[e]!==t._data[e])return!1;return!0}hashCode(){let t=1;for(let e=0;e<this._size;e++)t=31*t+this._data[e];return t}toString(){return this._data.toString()}binarySearch(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this._size),e<0||r<0||e>this._size||r>this._size)throw new RangeError;if(e>r)throw new RangeError;return i.Arrays.binarySearch(this._data,t,e,r)}ensureCapacity(t){if(t<0||t>a)throw new RangeError;let e;for(e=0===this._data.length?4:this._data.length;e<t;)e*=2,(e<0||e>a)&&(e=a);let r=new Int32Array(e);r.set(this._data),this._data=r}toCharArray(){let t=new Uint16Array(this._size),e=0,r=!1;for(let n=0;n<this._size;n++){let i=this._data[n];if(i>=0&&i<65536){t[e]=i,e++;continue}if(!r){let e=new Uint16Array(this.charArraySize());e.set(t,0),t=e,r=!0}let o=String.fromCodePoint(i);t[e]=o.charCodeAt(0),t[e+1]=o.charCodeAt(1),e+=2}return t}charArraySize(){let t=0;for(let e=0;e<this._size;e++)t+=this._data[e]>=65536?2:1;return t}}n([o.NotNull],l.prototype,"_data",void 0),n([o.Override],l.prototype,"equals",null),n([o.Override],l.prototype,"hashCode",null),n([o.Override],l.prototype,"toString",null),e.IntegerList=l},41862:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.IntegerStack=void 0;const n=r(18240);class i extends n.IntegerList{constructor(t){super(t)}push(t){this.add(t)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}e.IntegerStack=i},7477:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Interval=void 0;const i=r(72399);class o{constructor(t,e){this.a=t,this.b=e}static get INVALID(){return o._INVALID}static of(t,e){return t!==e||t<0||t>1e3?new o(t,e):(null==o.cache[t]&&(o.cache[t]=new o(t,t)),o.cache[t])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(t){return t===this||t instanceof o&&(this.a===t.a&&this.b===t.b)}hashCode(){let t=23;return t=31*t+this.a,t=31*t+this.b,t}startsBeforeDisjoint(t){return this.a<t.a&&this.b<t.a}startsBeforeNonDisjoint(t){return this.a<=t.a&&this.b>=t.a}startsAfter(t){return this.a>t.a}startsAfterDisjoint(t){return this.a>t.b}startsAfterNonDisjoint(t){return this.a>t.a&&this.a<=t.b}disjoint(t){return this.startsBeforeDisjoint(t)||this.startsAfterDisjoint(t)}adjacent(t){return this.a===t.b+1||this.b===t.a-1}properlyContains(t){return t.a>=this.a&&t.b<=this.b}union(t){return o.of(Math.min(this.a,t.a),Math.max(this.b,t.b))}intersection(t){return o.of(Math.max(this.a,t.a),Math.min(this.b,t.b))}differenceNotProperlyContained(t){let e;return t.startsBeforeNonDisjoint(this)?e=o.of(Math.max(this.a,t.b+1),this.b):t.startsAfterNonDisjoint(this)&&(e=o.of(this.a,t.a-1)),e}toString(){return this.a+".."+this.b}}o._INVALID=new o(-1,-2),o.cache=new Array(1001),n([i.Override],o.prototype,"equals",null),n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"toString",null),e.Interval=o},83357:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalSet=void 0;const o=r(8151),s=r(18240),a=r(7477),l=r(22807),c=r(75636),u=r(72399),h=r(47760);class p{constructor(t){this.readonly=!1,this._intervals=null!=t?t.slice(0):[]}static get COMPLETE_CHAR_SET(){return void 0===p._COMPLETE_CHAR_SET&&(p._COMPLETE_CHAR_SET=p.of(l.Lexer.MIN_CHAR_VALUE,l.Lexer.MAX_CHAR_VALUE),p._COMPLETE_CHAR_SET.setReadonly(!0)),p._COMPLETE_CHAR_SET}static get EMPTY_SET(){return null==p._EMPTY_SET&&(p._EMPTY_SET=new p,p._EMPTY_SET.setReadonly(!0)),p._EMPTY_SET}static of(t,e=t){let r=new p;return r.add(t,e),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(t,e=t){this.addRange(a.Interval.of(t,e))}addRange(t){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(t.b<t.a)){for(let e=0;e<this._intervals.length;e++){let r=this._intervals[e];if(t.equals(r))return;if(t.adjacent(r)||!t.disjoint(r)){let n=t.union(r);for(this._intervals[e]=n;e<this._intervals.length-1;){e++;let t=this._intervals[e];if(!n.adjacent(t)&&n.disjoint(t))break;this._intervals.splice(e,1),e--,this._intervals[e]=n.union(t)}return}if(t.startsBeforeDisjoint(r))return void this._intervals.splice(e,0,t)}this._intervals.push(t)}}static or(t){let e=new p;for(let r of t)e.addAll(r);return e}addAll(t){if(null==t)return this;if(t instanceof p){let e=t,r=e._intervals.length;for(let t=0;t<r;t++){let r=e._intervals[t];this.add(r.a,r.b)}}else for(let e of t.toArray())this.add(e);return this}complementRange(t,e){return this.complement(p.of(t,e))}complement(t){if(t.isNil)return p.EMPTY_SET;let e;return t instanceof p?e=t:(e=new p,e.addAll(t)),e.subtract(this)}subtract(t){if(null==t||t.isNil)return new p(this._intervals);if(t instanceof p)return p.subtract(this,t);let e=new p;return e.addAll(t),p.subtract(this,e)}static subtract(t,e){if(t.isNil)return new p;let r=new p(t._intervals);if(e.isNil)return r;let n=0,i=0;for(;n<r._intervals.length&&i<e._intervals.length;){let t,o,s=r._intervals[n],l=e._intervals[i];if(l.b<s.a)i++;else if(l.a>s.b)n++;else if(l.a>s.a&&(t=new a.Interval(s.a,l.a-1)),l.b<s.b&&(o=new a.Interval(l.b+1,s.b)),t){if(o){r._intervals[n]=t,r._intervals.splice(n+1,0,o),n++,i++;continue}r._intervals[n]=t,n++}else o?(r._intervals[n]=o,i++):r._intervals.splice(n,1)}return r}or(t){let e=new p;return e.addAll(this),e.addAll(t),e}and(t){if(t.isNil)return new p;let e,r=this._intervals,n=t._intervals,i=r.length,o=n.length,s=0,a=0;for(;s<i&&a<o;){let t=r[s],i=n[a];t.startsBeforeDisjoint(i)?s++:i.startsBeforeDisjoint(t)?a++:t.properlyContains(i)?(e||(e=new p),e.addRange(t.intersection(i)),a++):i.properlyContains(t)?(e||(e=new p),e.addRange(t.intersection(i)),s++):t.disjoint(i)||(e||(e=new p),e.addRange(t.intersection(i)),t.startsAfterNonDisjoint(i)?a++:i.startsAfterNonDisjoint(t)&&s++)}return e||new p}contains(t){let e=0,r=this._intervals.length-1;for(;e<=r;){let n=e+r>>1,i=this._intervals[n],o=i.a;if(i.b<t)e=n+1;else{if(!(o>t))return!0;r=n-1}}return!1}get isNil(){return null==this._intervals||0===this._intervals.length}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let t=c.MurmurHash.initialize();for(let e of this._intervals)t=c.MurmurHash.update(t,e.a),t=c.MurmurHash.update(t,e.b);return t=c.MurmurHash.finish(t,2*this._intervals.length),t}equals(t){return null!=t&&t instanceof p&&o.ArrayEqualityComparator.INSTANCE.equals(this._intervals,t._intervals)}toString(t=!1){let e="";if(null==this._intervals||0===this._intervals.length)return"{}";this.size>1&&(e+="{");let r=!0;for(let n of this._intervals){r?r=!1:e+=", ";let i=n.a,o=n.b;i===o?i===h.Token.EOF?e+="<EOF>":e+=t?"'"+String.fromCodePoint(i)+"'":i:e+=t?"'"+String.fromCodePoint(i)+"'..'"+String.fromCodePoint(o)+"'":i+".."+o}return this.size>1&&(e+="}"),e}toStringVocabulary(t){if(null==this._intervals||0===this._intervals.length)return"{}";let e="";this.size>1&&(e+="{");let r=!0;for(let n of this._intervals){r?r=!1:e+=", ";let i=n.a,o=n.b;if(i===o)e+=this.elementName(t,i);else for(let r=i;r<=o;r++)r>i&&(e+=", "),e+=this.elementName(t,r)}return this.size>1&&(e+="}"),e}elementName(t,e){return e===h.Token.EOF?"<EOF>":e===h.Token.EPSILON?"<EPSILON>":t.getDisplayName(e)}get size(){let t=0,e=this._intervals.length;if(1===e){let t=this._intervals[0];return t.b-t.a+1}for(let r=0;r<e;r++){let e=this._intervals[r];t+=e.b-e.a+1}return t}toIntegerList(){let t=new s.IntegerList(this.size),e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;for(let e=n;e<=i;e++)t.add(e)}return t}toSet(){let t=new Set;for(let e of this._intervals){let r=e.a,n=e.b;for(let e=r;e<=n;e++)t.add(e)}return t}toArray(){let t=new Array,e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;for(let e=n;e<=i;e++)t.push(e)}return t}remove(t){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let e=this._intervals.length;for(let r=0;r<e;r++){let e=this._intervals[r],n=e.a,i=e.b;if(t<n)break;if(t===n&&t===i){this._intervals.splice(r,1);break}if(t===n){this._intervals[r]=a.Interval.of(e.a+1,e.b);break}if(t===i){this._intervals[r]=a.Interval.of(e.a,e.b-1);break}if(t>n&&t<i){let n=e.b;this._intervals[r]=a.Interval.of(e.a,t-1),this.add(t+1,n)}}}get isReadonly(){return this.readonly}setReadonly(t){if(this.readonly&&!t)throw new Error("can't alter readonly IntervalSet");this.readonly=t}}n([u.Override],p.prototype,"addAll",null),n([u.Override],p.prototype,"complement",null),n([u.Override],p.prototype,"subtract",null),n([u.Override],p.prototype,"or",null),n([u.Override],p.prototype,"and",null),n([u.Override],p.prototype,"contains",null),n([u.Override],p.prototype,"isNil",null),n([u.Override],p.prototype,"hashCode",null),n([u.Override],p.prototype,"equals",null),n([i(0,u.NotNull)],p.prototype,"toStringVocabulary",null),n([u.NotNull,i(0,u.NotNull)],p.prototype,"elementName",null),n([u.Override],p.prototype,"size",null),n([u.Override],p.prototype,"remove",null),n([u.NotNull],p,"of",null),n([u.NotNull],p,"subtract",null),e.IntervalSet=p},10821:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MultiMap=void 0;class r extends Map{constructor(){super()}map(t,e){let r=super.get(t);r||(r=[],super.set(t,r)),r.push(e)}getPairs(){let t=[];return this.forEach(((e,r)=>{e.forEach((e=>{t.push([r,e])}))})),t}}e.MultiMap=r},75636:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash=void 0,function(t){function e(t=0){return t}function r(t,e){null==e?e=0:"string"==typeof e?e=function(t){let e=t.length;if(0===e)return 0;let r=0;for(let n=0;n<e;n++){r=(r<<5>>>0)-r+t.charCodeAt(n),r|=0}return r}(e):"object"==typeof e&&(e=e.hashCode());let r=e;return r=Math.imul(r,3432918353),r=r<<15|r>>>17,r=Math.imul(r,461845907),t=(t^=r)<<13|t>>>19,4294967295&(t=Math.imul(t,5)+3864292196)}function n(t,e){return t^=4*e,t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),t^=t>>>16}t.initialize=e,t.update=r,t.finish=n,t.hashCode=function(t,i=0){let o=e(i),s=0;for(let e of t)o=r(o,e),s++;return o=n(o,s),o}}(e.MurmurHash||(e.MurmurHash={}))},70436:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectEqualityComparator=void 0;const i=r(72399);class o{hashCode(t){return null==t?0:t.hashCode()}equals(t,e){return null==t?null==e:t.equals(e)}}o.INSTANCE=new o,n([i.Override],o.prototype,"hashCode",null),n([i.Override],o.prototype,"equals",null),e.ObjectEqualityComparator=o},16897:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.ParseCancellationException=void 0;class r extends Error{constructor(t){super(t.message),this.cause=t,this.stack=t.stack}getCause(){return this.cause}}e.ParseCancellationException=r},88567:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.UUID=void 0;const n=r(75636);class i{constructor(t,e,r,n){this.data=new Uint32Array(4),this.data[0]=t,this.data[1]=e,this.data[2]=r,this.data[3]=n}static fromString(t){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(t))throw new Error("Incorrectly formatted UUID");let e=t.split("-"),r=parseInt(e[0],16),n=(parseInt(e[1],16)<<16>>>0)+parseInt(e[2],16),o=(parseInt(e[3],16)<<16>>>0)+parseInt(e[4].substr(0,4),16),s=parseInt(e[4].substr(-8),16);return new i(r,n,o,s)}hashCode(){return n.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(t){return t===this||t instanceof i&&(this.data[0]===t.data[0]&&this.data[1]===t.data[1]&&this.data[2]===t.data[2]&&this.data[3]===t.data[3])}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}e.UUID=i},40659:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.toCharArray=e.toMap=e.equals=e.join=e.escapeWhitespace=void 0,e.escapeWhitespace=function(t,e){return e?t.replace(/ /,""):t.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")},e.join=function(t,e){let r="",n=!0;for(let i of t)n?n=!1:r+=e,r+=i;return r},e.equals=function(t,e){return t===e||void 0!==t&&void 0!==e&&t.equals(e)},e.toMap=function(t){let e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e},e.toCharArray=function(t){if("string"==typeof t){let e=new Uint16Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}return t.toCharArray()}},61964:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorNode=void 0;const i=r(72399),o=r(30360);class s extends o.TerminalNode{constructor(t){super(t)}accept(t){return t.visitErrorNode(this)}}n([i.Override],s.prototype,"accept",null),e.ErrorNode=s},85378:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.RuleNode=void 0;e.RuleNode=class{}},30360:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalNode=void 0;const i=r(7477),o=r(72399),s=r(47760);class a{constructor(t){this._symbol=t}getChild(t){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(t){this._parent=t}get payload(){return this._symbol}get sourceInterval(){let t=this._symbol.tokenIndex;return new i.Interval(t,t)}get childCount(){return 0}accept(t){return t.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(t){return this.toString()}toString(){return this._symbol.type===s.Token.EOF?"<EOF>":this._symbol.text||""}}n([o.Override],a.prototype,"getChild",null),n([o.Override],a.prototype,"parent",null),n([o.Override],a.prototype,"setParent",null),n([o.Override],a.prototype,"payload",null),n([o.Override],a.prototype,"sourceInterval",null),n([o.Override],a.prototype,"childCount",null),n([o.Override],a.prototype,"accept",null),n([o.Override],a.prototype,"text",null),n([o.Override],a.prototype,"toStringTree",null),n([o.Override],a.prototype,"toString",null),e.TerminalNode=a},7239:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.Trees=void 0;const o=r(74274),s=r(48291),a=r(61964),l=r(72399),c=r(35922),u=r(41097),h=r(85378),p=r(30360),d=r(47760),f=r(40659);class g{static toStringTree(t,e){let r;r=e instanceof c.Parser?e.ruleNames:e;let n=f.escapeWhitespace(this.getNodeText(t,r),!1);if(0===t.childCount)return n;let i="";i+="(",n=f.escapeWhitespace(this.getNodeText(t,r),!1),i+=n,i+=" ";for(let e=0;e<t.childCount;e++)e>0&&(i+=" "),i+=this.toStringTree(t.getChild(e),r);return i+=")",i}static getNodeText(t,e){let r;if(e instanceof c.Parser)r=e.ruleNames;else{if(!e){let e=t.payload;return"string"==typeof e.text?e.text:t.payload.toString()}r=e}if(t instanceof h.RuleNode){let e=t.ruleContext,n=r[e.ruleIndex],i=e.altNumber;return i!==o.ATN.INVALID_ALT_NUMBER?n+":"+i:n}if(t instanceof a.ErrorNode)return t.toString();if(t instanceof p.TerminalNode){return t.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(t){let e=[];for(let r=0;r<t.childCount;r++)e.push(t.getChild(r));return e}static getAncestors(t){let e=[],r=t.parent;for(;r;)e.unshift(r),r=r.parent;return e}static isAncestorOf(t,e){if(!t||!e||!t.parent)return!1;let r=e.parent;for(;r;){if(t===r)return!0;r=r.parent}return!1}static findAllTokenNodes(t,e){return g.findAllNodes(t,e,!0)}static findAllRuleNodes(t,e){return g.findAllNodes(t,e,!1)}static findAllNodes(t,e,r){let n=[];return g._findAllNodes(t,e,r,n),n}static _findAllNodes(t,e,r,n){r&&t instanceof p.TerminalNode?t.symbol.type===e&&n.push(t):!r&&t instanceof u.ParserRuleContext&&t.ruleIndex===e&&n.push(t);for(let i=0;i<t.childCount;i++)g._findAllNodes(t.getChild(i),e,r,n)}static getDescendants(t){let e=[];return function t(r){e.push(r);const n=r.childCount;for(let e=0;e<n;e++)t(r.getChild(e))}(t),e}static getRootOfSubtreeEnclosingRegion(t,e,r){let n=t.childCount;for(let i=0;i<n;i++){let n=t.getChild(i),o=g.getRootOfSubtreeEnclosingRegion(n,e,r);if(o)return o}if(t instanceof u.ParserRuleContext){let n=t.stop;if(e>=t.start.tokenIndex&&(null==n||r<=n.tokenIndex))return t}}static stripChildrenOutOfRange(t,e,r,n){if(!t)return;let i=t.childCount;for(let o=0;o<i;o++){let i=t.getChild(o),a=i.sourceInterval;if(i instanceof u.ParserRuleContext&&(a.b<r||a.a>n)&&g.isAncestorOf(i,e)){let e=new s.CommonToken(d.Token.INVALID_TYPE,"...");t.children[o]=new p.TerminalNode(e)}}}static findNodeSuchThat(t,e){if(e(t))return t;let r=t.childCount;for(let n=0;n<r;n++){let r=g.findNodeSuchThat(t.getChild(n),e);if(void 0!==r)return r}}}n([i(0,l.NotNull)],g,"toStringTree",null),n([l.NotNull,i(0,l.NotNull)],g,"getAncestors",null),n([i(0,l.NotNull)],g,"getRootOfSubtreeEnclosingRegion",null),e.Trees=g},80934:(t,e)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.Chunk=void 0;e.Chunk=class{}},28571:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreeMatch=void 0;const o=r(72399);let s=class{constructor(t,e,r,n){if(!t)throw new Error("tree cannot be null");if(!e)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=t,this._pattern=e,this._labels=r,this._mismatchedNode=n}get(t){let e=this._labels.get(t);if(e&&0!==e.length)return e[e.length-1]}getAll(t){const e=this._labels.get(t);return e||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};n([o.NotNull,i(0,o.NotNull)],s.prototype,"getAll",null),n([o.NotNull],s.prototype,"labels",null),n([o.NotNull],s.prototype,"pattern",null),n([o.NotNull],s.prototype,"tree",null),n([o.Override],s.prototype,"toString",null),s=n([i(0,o.NotNull),i(1,o.NotNull),i(2,o.NotNull)],s),e.ParseTreeMatch=s},95920:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePattern=void 0;const o=r(72399),s=r(46605);let a=class{constructor(t,e,r,n){this._matcher=t,this._patternRuleIndex=r,this._pattern=e,this._patternTree=n}match(t){return this._matcher.match(t,this)}matches(t){return this._matcher.match(t,this).succeeded}findAll(t,e){let r=s.XPath.findAll(t,e,this._matcher.parser),n=[];for(let t of r){let e=this.match(t);e.succeeded&&n.push(e)}return n}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};n([o.NotNull],a.prototype,"_pattern",void 0),n([o.NotNull],a.prototype,"_patternTree",void 0),n([o.NotNull],a.prototype,"_matcher",void 0),n([o.NotNull,i(0,o.NotNull)],a.prototype,"match",null),n([i(0,o.NotNull)],a.prototype,"matches",null),n([o.NotNull,i(0,o.NotNull),i(1,o.NotNull)],a.prototype,"findAll",null),n([o.NotNull],a.prototype,"matcher",null),n([o.NotNull],a.prototype,"pattern",null),n([o.NotNull],a.prototype,"patternTree",null),a=n([i(0,o.NotNull),i(1,o.NotNull),i(3,o.NotNull)],a),e.ParseTreePattern=a},44864:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParseTreePatternMatcher=void 0;const o=r(27442),s=r(36776),a=r(95411),l=r(309),c=r(10821),u=r(72399),h=r(16897),p=r(49274),d=r(41097),f=r(28571),g=r(95920),y=r(79449),m=r(85378),v=r(94776),x=r(89086),O=r(30360),b=r(66947),S=r(47760),A=r(3303);class E{constructor(t,e){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=t,this._parser=e}setDelimiters(t,e,r){if(!t)throw new Error("start cannot be null or empty");if(!e)throw new Error("stop cannot be null or empty");this.start=t,this.stop=e,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(t,e,r=0){if("string"==typeof e){let n=this.compile(e,r);return this.matches(t,n)}{let r=new c.MultiMap;return!this.matchImpl(t,e.patternTree,r)}}match(t,e,r=0){if("string"==typeof e){let n=this.compile(e,r);return this.match(t,n)}{let r=new c.MultiMap,n=this.matchImpl(t,e.patternTree,r);return new f.ParseTreeMatch(t,e,r,n)}}compile(t,e){let r=this.tokenize(t),n=new l.ListTokenSource(r),i=new a.CommonTokenStream(n);const s=this._parser;let c,u=new p.ParserInterpreter(s.grammarFileName,s.vocabulary,s.ruleNames,s.getATNWithBypassAlts(),i);try{u.errorHandler=new o.BailErrorStrategy,c=u.parse(e)}catch(t){throw t instanceof h.ParseCancellationException?t.getCause():t instanceof y.RecognitionException?t:t instanceof Error?new E.CannotInvokeStartRule(t):t}if(i.LA(1)!==S.Token.EOF)throw new E.StartRuleDoesNotConsumeFullPattern;return new g.ParseTreePattern(this,t,e,c)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(t,e,r){if(!t)throw new TypeError("tree cannot be null");if(!e)throw new TypeError("patternTree cannot be null");if(t instanceof O.TerminalNode&&e instanceof O.TerminalNode){let n;if(t.symbol.type===e.symbol.type)if(e.symbol instanceof A.TokenTagToken){let n=e.symbol;r.map(n.tokenName,t);const i=n.label;i&&r.map(i,t)}else t.text===e.text||n||(n=t);else n||(n=t);return n}if(t instanceof d.ParserRuleContext&&e instanceof d.ParserRuleContext){let n,i=this.getRuleTagToken(e);if(i){if(t.ruleContext.ruleIndex===e.ruleContext.ruleIndex){r.map(i.ruleName,t);const e=i.label;e&&r.map(e,t)}else n||(n=t);return n}if(t.childCount!==e.childCount)return n||(n=t),n;let o=t.childCount;for(let n=0;n<o;n++){let i=this.matchImpl(t.getChild(n),e.getChild(n),r);if(i)return i}return n}return t}getRuleTagToken(t){if(t instanceof m.RuleNode&&1===t.childCount&&t.getChild(0)instanceof O.TerminalNode){let e=t.getChild(0);if(e.symbol instanceof v.RuleTagToken)return e.symbol}}tokenize(t){let e=this.split(t),r=[];for(let n of e)if(n instanceof x.TagChunk){let e=n;const i=e.tag.substr(0,1);if(i===i.toUpperCase()){let n=this._parser.getTokenType(e.tag);if(n===S.Token.INVALID_TYPE)throw new Error("Unknown token "+e.tag+" in pattern: "+t);let i=new A.TokenTagToken(e.tag,n,e.label);r.push(i)}else{if(i!==i.toLowerCase())throw new Error("invalid tag: "+e.tag+" in pattern: "+t);{let n=this._parser.getRuleIndex(e.tag);if(-1===n)throw new Error("Unknown rule "+e.tag+" in pattern: "+t);let i=this._parser.getATNWithBypassAlts().ruleToTokenType[n];r.push(new v.RuleTagToken(e.tag,i,e.label))}}}else{let t=n;this._lexer.inputStream=s.CharStreams.fromString(t.text);let e=this._lexer.nextToken();for(;e.type!==S.Token.EOF;)r.push(e),e=this._lexer.nextToken()}return r}split(t){let e=0,r=t.length,n=[],i=[],o=[];for(;e<r;)e===t.indexOf(this.escape+this.start,e)?e+=this.escape.length+this.start.length:e===t.indexOf(this.escape+this.stop,e)?e+=this.escape.length+this.stop.length:e===t.indexOf(this.start,e)?(i.push(e),e+=this.start.length):e===t.indexOf(this.stop,e)?(o.push(e),e+=this.stop.length):e++;if(i.length>o.length)throw new Error("unterminated tag in pattern: "+t);if(i.length<o.length)throw new Error("missing start tag in pattern: "+t);let s=i.length;for(let e=0;e<s;e++)if(i[e]>=o[e])throw new Error("tag delimiters out of order in pattern: "+t);if(0===s){let e=t.substring(0,r);n.push(new b.TextChunk(e))}if(s>0&&i[0]>0){let e=t.substring(0,i[0]);n.push(new b.TextChunk(e))}for(let e=0;e<s;e++){let r,a=t.substring(i[e]+this.start.length,o[e]),l=a,c=a.indexOf(":");if(c>=0&&(r=a.substring(0,c),l=a.substring(c+1,a.length)),n.push(new x.TagChunk(l,r)),e+1<s){let r=t.substring(o[e]+this.stop.length,i[e+1]);n.push(new b.TextChunk(r))}}if(s>0){let e=o[s-1]+this.stop.length;if(e<r){let i=t.substring(e,r);n.push(new b.TextChunk(i))}}for(let t=0;t<n.length;t++){let e=n[t];if(e instanceof b.TextChunk){let r=e.text.replace(this.escapeRE,"");r.length<e.text.length&&(n[t]=new b.TextChunk(r))}}return n}}n([u.NotNull,i(1,u.NotNull)],E.prototype,"match",null),n([u.NotNull],E.prototype,"lexer",null),n([u.NotNull],E.prototype,"parser",null),n([i(0,u.NotNull),i(1,u.NotNull),i(2,u.NotNull)],E.prototype,"matchImpl",null),e.ParseTreePatternMatcher=E,function(t){class e extends Error{constructor(t){super(`CannotInvokeStartRule: ${t}`),this.error=t}}t.CannotInvokeStartRule=e;class r extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}t.StartRuleDoesNotConsumeFullPattern=r}(E=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))},94776:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.RuleTagToken=void 0;const o=r(72399),s=r(47760);let a=class{constructor(t,e,r){if(null==t||0===t.length)throw new Error("ruleName cannot be null or empty.");this._ruleName=t,this.bypassTokenType=e,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return s.Token.DEFAULT_CHANNEL}get text(){return null!=this._label?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};n([o.NotNull],a.prototype,"ruleName",null),n([o.Override],a.prototype,"channel",null),n([o.Override],a.prototype,"text",null),n([o.Override],a.prototype,"type",null),n([o.Override],a.prototype,"line",null),n([o.Override],a.prototype,"charPositionInLine",null),n([o.Override],a.prototype,"tokenIndex",null),n([o.Override],a.prototype,"startIndex",null),n([o.Override],a.prototype,"stopIndex",null),n([o.Override],a.prototype,"tokenSource",null),n([o.Override],a.prototype,"inputStream",null),n([o.Override],a.prototype,"toString",null),a=n([i(0,o.NotNull)],a),e.RuleTagToken=a},89086:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TagChunk=void 0;const i=r(80934),o=r(72399);class s extends i.Chunk{constructor(t,e){if(super(),null==t||0===t.length)throw new Error("tag cannot be null or empty");this._tag=t,this._label=e}get tag(){return this._tag}get label(){return this._label}toString(){return null!=this._label?this._label+":"+this._tag:this._tag}}n([o.NotNull],s.prototype,"tag",null),n([o.Override],s.prototype,"toString",null),e.TagChunk=s},66947:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextChunk=void 0;const o=r(80934),s=r(72399);let a=class extends o.Chunk{constructor(t){if(super(),null==t)throw new Error("text cannot be null");this._text=t}get text(){return this._text}toString(){return"'"+this._text+"'"}};n([s.NotNull],a.prototype,"_text",void 0),n([s.NotNull],a.prototype,"text",null),n([s.Override],a.prototype,"toString",null),a=n([i(0,s.NotNull)],a),e.TextChunk=a},3303:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},i=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenTagToken=void 0;const o=r(48291),s=r(72399);let a=class extends o.CommonToken{constructor(t,e,r){super(e),this._tokenName=t,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return null!=this._label?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};n([s.NotNull],a.prototype,"_tokenName",void 0),n([s.NotNull],a.prototype,"tokenName",null),n([s.Override],a.prototype,"text",null),n([s.Override],a.prototype,"toString",null),a=n([i(0,s.NotNull)],a),e.TokenTagToken=a},46605:(t,e,r)=>{"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.XPath=void 0;const n=r(36776),i=r(95411),o=r(86181),s=r(41097),a=r(47760),l=r(59939),c=r(42593),u=r(90996),h=r(46739),p=r(72193),d=r(56578),f=r(77712),g=r(72431);class y{constructor(t,e){this.parser=t,this.path=e,this.elements=this.split(e)}split(t){let e=new l.XPathLexer(n.CharStreams.fromString(t));e.recover=t=>{throw t},e.removeErrorListeners(),e.addErrorListener(new c.XPathLexerErrorListener);let r=new i.CommonTokenStream(e);try{r.fill()}catch(r){if(r instanceof o.LexerNoViableAltException){let n="Invalid tokens or characters at index "+e.charPositionInLine+" in path '"+t+"' -- "+r.message;throw new RangeError(n)}throw r}let s=r.getTokens(),u=[],h=s.length,p=0;t:for(;p<h;){let t,e=s[p];switch(e.type){case l.XPathLexer.ROOT:case l.XPathLexer.ANYWHERE:let r=e.type===l.XPathLexer.ANYWHERE;p++,t=s[p];let n=t.type===l.XPathLexer.BANG;n&&(p++,t=s[p]);let i=this.getXPathElement(t,r);i.invert=n,u.push(i),p++;break;case l.XPathLexer.TOKEN_REF:case l.XPathLexer.RULE_REF:case l.XPathLexer.WILDCARD:u.push(this.getXPathElement(e,!1)),p++;break;case a.Token.EOF:break t;default:throw new Error("Unknowth path element "+e)}}return u}getXPathElement(t,e){if(t.type===a.Token.EOF)throw new Error("Missing path element at end of path");let r=t.text;if(null==r)throw new Error("Expected wordToken to have text content.");let n=this.parser.getTokenType(r),i=this.parser.getRuleIndex(r);switch(t.type){case l.XPathLexer.WILDCARD:return e?new f.XPathWildcardAnywhereElement:new g.XPathWildcardElement;case l.XPathLexer.TOKEN_REF:case l.XPathLexer.STRING:if(n===a.Token.INVALID_TYPE)throw new Error(r+" at index "+t.startIndex+" isn't a valid token name");return e?new p.XPathTokenAnywhereElement(r,n):new d.XPathTokenElement(r,n);default:if(-1===i)throw new Error(r+" at index "+t.startIndex+" isn't a valid rule name");return e?new u.XPathRuleAnywhereElement(r,i):new h.XPathRuleElement(r,i)}}static findAll(t,e,r){return new y(r,e).evaluate(t)}evaluate(t){let e=new s.ParserRuleContext;e.addChild(t);let r=new Set([e]),n=0;for(;n<this.elements.length;){let t=new Set;for(let e of r)if(e.childCount>0){this.elements[n].evaluate(e).forEach(t.add,t)}n++,r=t}return r}}e.XPath=y,y.WILDCARD="*",y.NOT="!"},56869:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathElement=void 0;const i=r(72399);class o{constructor(t){this.nodeName=t,this.invert=!1}toString(){let t=this.invert?"!":"";return Object.constructor.name+"["+t+this.nodeName+"]"}}n([i.Override],o.prototype,"toString",null),e.XPathElement=o},59939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XPathLexer=void 0;const n=r(60493),i=r(22807),o=r(21088),s=r(67435),a=r(40659);class l extends i.Lexer{constructor(t){super(t),this._interp=new o.LexerATNSimulator(l._ATN,this)}get vocabulary(){return l.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return l.ruleNames}get serializedATN(){return l._serializedATN}get channelNames(){return l.channelNames}get modeNames(){return l.modeNames}action(t,e,r){if(4===e)this.ID_action(t,r)}ID_action(t,e){if(0===e){let t=this.text;t.charAt(0)===t.charAt(0).toUpperCase()?this.type=l.TOKEN_REF:this.type=l.RULE_REF}}static get _ATN(){return l.__ATN||(l.__ATN=(new n.ATNDeserializer).deserialize(a.toCharArray(l._serializedATN))),l.__ATN}}e.XPathLexer=l,l.TOKEN_REF=1,l.RULE_REF=2,l.ANYWHERE=3,l.ROOT=4,l.WILDCARD=5,l.BANG=6,l.ID=7,l.STRING=8,l.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],l.modeNames=["DEFAULT_MODE"],l.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],l._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],l._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],l.VOCABULARY=new s.VocabularyImpl(l._LITERAL_NAMES,l._SYMBOLIC_NAMES,[]),l._serializedATNSegments=2,l._serializedATNSegment0='\n2\b\t\t\t\t\t\t\b\t\b\t\t\t\n\f"\v\b\b\t\t\t,\n\t\f\t\t/\v\t\t\t-\n\t\b\v\t\r\n\n2;C\\aac|\r(*<>?AOR_\ud801\uda02\uda38\uda3d\uda6e\uda77\uda77\uda86\uda86\uda9d\udaa1\udaa3\udab1"C\\c|\r(*<>?AOR_',l._serializedATNSegment1="1\t\v\t\v\r%')111,\b#\n \b\r\"  !!#\" #$\b$\f%&\t&'(\t()-)*,\v+*,/-.-+.0/-01)1 -",l._serializedATN=a.join([l._serializedATNSegment0,l._serializedATNSegment1],"")},42593:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathLexerErrorListener=void 0;const i=r(72399);class o{syntaxError(t,e,r,n,i,o){}}n([i.Override],o.prototype,"syntaxError",null),e.XPathLexerErrorListener=o},90996:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathRuleAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(56869);class a extends s.XPathElement{constructor(t,e){super(t),this.ruleIndex=e}evaluate(t){return o.Trees.findAllRuleNodes(t,this.ruleIndex)}}n([i.Override],a.prototype,"evaluate",null),e.XPathRuleAnywhereElement=a},46739:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathRuleElement=void 0;const i=r(41097),o=r(72399),s=r(7239),a=r(56869);class l extends a.XPathElement{constructor(t,e){super(t),this.ruleIndex=e}evaluate(t){let e=[];for(let r of s.Trees.getChildren(t))r instanceof i.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&e.push(r);return e}}n([o.Override],l.prototype,"evaluate",null),e.XPathRuleElement=l},72193:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathTokenAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(56869);class a extends s.XPathElement{constructor(t,e){super(t),this.tokenType=e}evaluate(t){return o.Trees.findAllTokenNodes(t,this.tokenType)}}n([i.Override],a.prototype,"evaluate",null),e.XPathTokenAnywhereElement=a},56578:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathTokenElement=void 0;const i=r(72399),o=r(30360),s=r(7239),a=r(56869);class l extends a.XPathElement{constructor(t,e){super(t),this.tokenType=e}evaluate(t){let e=[];for(let r of s.Trees.getChildren(t))r instanceof o.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&e.push(r);return e}}n([i.Override],l.prototype,"evaluate",null),e.XPathTokenElement=l},77712:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathWildcardAnywhereElement=void 0;const i=r(72399),o=r(7239),s=r(46605),a=r(56869);class l extends a.XPathElement{constructor(){super(s.XPath.WILDCARD)}evaluate(t){return this.invert?[]:o.Trees.getDescendants(t)}}n([i.Override],l.prototype,"evaluate",null),e.XPathWildcardAnywhereElement=l},72431:function(t,e,r){"use strict";
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.XPathWildcardElement=void 0;const i=r(72399),o=r(7239),s=r(46605),a=r(56869);class l extends a.XPathElement{constructor(){super(s.XPath.WILDCARD)}evaluate(t){let e=[];if(this.invert)return e;for(let r of o.Trees.getChildren(t))e.push(r);return e}}n([i.Override],l.prototype,"evaluate",null),e.XPathWildcardElement=l},94148:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,s=void 0,s=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(s)?s:String(s)),i)}var o,s}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var s,a,l=r(69597).codes,c=l.ERR_AMBIGUOUS_ARGUMENT,u=l.ERR_INVALID_ARG_TYPE,h=l.ERR_INVALID_ARG_VALUE,p=l.ERR_INVALID_RETURN_VALUE,d=l.ERR_MISSING_ARGS,f=r(3918),g=r(40537).inspect,y=r(40537).types,m=y.isPromise,v=y.isRegExp,x=r(11514)(),O=r(9394)(),b=r(38075)("RegExp.prototype.test");new Map;function S(){var t=r(82299);s=t.isDeepEqual,a=t.isDeepStrictEqual}var A=!1,E=t.exports=C,T={};function N(t){if(t.message instanceof Error)throw t.message;throw new f(t)}function _(t,e,r,n){if(!r){var i=!1;if(0===e)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new f({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function C(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];_.apply(void 0,[C,e.length].concat(e))}E.fail=function t(e,r,n,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)n=e,e=void 0;else{if(!1===A)A=!0,(process.emitWarning?process.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===a&&(i="!=")}if(n instanceof Error)throw n;var l={actual:e,expected:r,operator:void 0===i?"fail":i,stackStartFn:o||t};void 0!==n&&(l.message=n);var c=new f(l);throw s&&(c.message=s,c.generatedMessage=!0),c},E.AssertionError=f,E.ok=C,E.equal=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");e!=r&&N({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},E.notEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");e==r&&N({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},E.deepEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&S(),s(e,r)||N({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},E.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&S(),s(e,r)&&N({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},E.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&S(),a(e,r)||N({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},E.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&S();a(e,r)&&N({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},E.strictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");O(e,r)||N({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},E.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");O(e,r)&&N({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var w=o((function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&v(e[t])&&b(e[t],n[t])?i[t]=n[t]:i[t]=e[t])}))}));function k(t,e,r,i){if("function"!=typeof e){if(v(e))return b(e,t);if(2===arguments.length)throw new u("expected",["Function","RegExp"],e);if("object"!==n(t)||null===t){var o=new f({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:i});throw o.operator=i.name,o}var l=Object.keys(e);if(e instanceof Error)l.push("name","message");else if(0===l.length)throw new h("error",e,"may not be an empty object");return void 0===s&&S(),l.forEach((function(n){"string"==typeof t[n]&&v(e[n])&&b(e[n],t[n])||function(t,e,r,n,i,o){if(!(r in t)||!a(t[r],e[r])){if(!n){var s=new w(t,i),l=new w(e,i,t),c=new f({actual:s,expected:l,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}N({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}(t,e,n,r,l,i)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function R(t){if("function"!=typeof t)throw new u("fn","Function",t);try{t()}catch(t){return t}return T}function P(t){return m(t)||null!==t&&"object"===n(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function I(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!P(e=t()))throw new p("instance of Promise","promiseFn",e)}else{if(!P(t))throw new u("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return T})).catch((function(t){return t}))}))}function L(t,e,r,i){if("string"==typeof r){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],r);if("object"===n(e)&&null!==e){if(e.message===r)throw new c("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new c("error/message",'The error "'.concat(e,'" is identical to the message.'));i=r,r=void 0}else if(null!=r&&"object"!==n(r)&&"function"!=typeof r)throw new u("error",["Object","Error","Function","RegExp"],r);if(e===T){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=i?": ".concat(i):".";var s="rejects"===t.name?"rejection":"exception";N({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(r&&!k(e,r,i,t))throw e}function j(t,e,r,n){if(e!==T){if("string"==typeof r&&(n=r,r=void 0),!r||k(e,r)){var i=n?": ".concat(n):".",o="doesNotReject"===t.name?"rejection":"exception";N({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function D(t,e,r,i,o){if(!v(e))throw new u("regexp","RegExp",e);var s="match"===o;if("string"!=typeof t||b(e,t)!==s){if(r instanceof Error)throw r;var a=!r;r=r||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(n(t)," (").concat(g(t),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(g(e),". Input:\n\n").concat(g(t),"\n"));var l=new f({actual:t,expected:e,message:r,operator:o,stackStartFn:i});throw l.generatedMessage=a,l}}function M(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];_.apply(void 0,[M,e.length].concat(e))}E.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];L.apply(void 0,[t,R(e)].concat(n))},E.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return L.apply(void 0,[t,e].concat(n))}))},E.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];j.apply(void 0,[t,R(e)].concat(n))},E.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return j.apply(void 0,[t,e].concat(n))}))},E.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===n(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=g(e);var i=new f({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),l=0;l<s.length;l++){var c=a.indexOf(s[l]);if(-1!==c){a=a.slice(0,c);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},E.match=function t(e,r,n){D(e,r,n,t,"match")},E.doesNotMatch=function t(e,r,n){D(e,r,n,t,"doesNotMatch")},E.strict=x(M,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},3918:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}function l(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)},u(t)}function h(t,e,r){return h=p()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&d(i,r.prototype),i},h.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}var y=r(40537).inspect,m=r(69597).codes.ERR_INVALID_ARG_TYPE;function v(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var x="",O="",b="",S="",A={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function T(t){return y(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function N(t,e,r){var n="",i="",o=0,s="",a=!1,l=T(t),c=l.split("\n"),u=T(e).split("\n"),h=0,p="";if("strictEqual"===r&&"object"===g(t)&&"object"===g(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===c.length&&1===u.length&&c[0]!==u[0]){var d=c[0].length+u[0].length;if(d<=10){if(!("object"===g(t)&&null!==t||"object"===g(e)&&null!==e||0===t&&0===e))return"".concat(A[r],"\n\n")+"".concat(c[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==r){if(d<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;c[0][h]===u[0][h];)h++;h>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",h),"^"),h=0)}}}for(var f=c[c.length-1],y=u[u.length-1];f===y&&(h++<2?s="\n  ".concat(f).concat(s):n=f,c.pop(),u.pop(),0!==c.length&&0!==u.length);)f=c[c.length-1],y=u[u.length-1];var m=Math.max(c.length,u.length);if(0===m){var E=l.split("\n");if(E.length>30)for(E[26]="".concat(x,"...").concat(S);E.length>27;)E.pop();return"".concat(A.notIdentical,"\n\n").concat(E.join("\n"),"\n")}h>3&&(s="\n".concat(x,"...").concat(S).concat(s),a=!0),""!==n&&(s="\n  ".concat(n).concat(s),n="");var N=0,_=A[r]+"\n".concat(O,"+ actual").concat(S," ").concat(b,"- expected").concat(S),C=" ".concat(x,"...").concat(S," Lines skipped");for(h=0;h<m;h++){var w=h-o;if(c.length<h+1)w>1&&h>2&&(w>4?(i+="\n".concat(x,"...").concat(S),a=!0):w>3&&(i+="\n  ".concat(u[h-2]),N++),i+="\n  ".concat(u[h-1]),N++),o=h,n+="\n".concat(b,"-").concat(S," ").concat(u[h]),N++;else if(u.length<h+1)w>1&&h>2&&(w>4?(i+="\n".concat(x,"...").concat(S),a=!0):w>3&&(i+="\n  ".concat(c[h-2]),N++),i+="\n  ".concat(c[h-1]),N++),o=h,i+="\n".concat(O,"+").concat(S," ").concat(c[h]),N++;else{var k=u[h],R=c[h],P=R!==k&&(!v(R,",")||R.slice(0,-1)!==k);P&&v(k,",")&&k.slice(0,-1)===R&&(P=!1,R+=","),P?(w>1&&h>2&&(w>4?(i+="\n".concat(x,"...").concat(S),a=!0):w>3&&(i+="\n  ".concat(c[h-2]),N++),i+="\n  ".concat(c[h-1]),N++),o=h,i+="\n".concat(O,"+").concat(S," ").concat(R),n+="\n".concat(b,"-").concat(S," ").concat(k),N+=2):(i+=n,n="",1!==w&&0!==h||(i+="\n  ".concat(R),N++))}if(N>20&&h<m-2)return"".concat(_).concat(C,"\n").concat(i,"\n").concat(x,"...").concat(S).concat(n,"\n")+"".concat(x,"...").concat(S)}return"".concat(_).concat(a?C:"","\n").concat(i).concat(n).concat(s).concat(p)}var _=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(v,t);var r,n,o,a,u,h=(r=v,n=p(),function(){var t,e=f(r);if(n){var i=f(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return l(this,t)});function v(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),"object"!==g(t)||null===t)throw new m("options","Object",t);var r=t.message,n=t.operator,i=t.stackStartFn,o=t.actual,s=t.expected,a=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)e=h.call(this,String(r));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(x="[34m",O="[32m",S="[39m",b="[31m"):(x="",O="",S="",b="")),"object"===g(o)&&null!==o&&"object"===g(s)&&null!==s&&"stack"in o&&o instanceof Error&&"stack"in s&&s instanceof Error&&(o=E(o),s=E(s)),"deepStrictEqual"===n||"strictEqual"===n)e=h.call(this,N(o,s,n));else if("notDeepStrictEqual"===n||"notStrictEqual"===n){var u=A[n],p=T(o).split("\n");if("notStrictEqual"===n&&"object"===g(o)&&null!==o&&(u=A.notStrictEqualObject),p.length>30)for(p[26]="".concat(x,"...").concat(S);p.length>27;)p.pop();e=1===p.length?h.call(this,"".concat(u," ").concat(p[0])):h.call(this,"".concat(u,"\n\n").concat(p.join("\n"),"\n"))}else{var d=T(o),f="",y=A[n];"notDeepEqual"===n||"notEqual"===n?(d="".concat(A[n],"\n\n").concat(d)).length>1024&&(d="".concat(d.slice(0,1021),"...")):(f="".concat(T(s)),d.length>512&&(d="".concat(d.slice(0,509),"...")),f.length>512&&(f="".concat(f.slice(0,509),"...")),"deepEqual"===n||"equal"===n?d="".concat(y,"\n\n").concat(d,"\n\nshould equal\n\n"):f=" ".concat(n," ").concat(f)),e=h.call(this,"".concat(d).concat(f))}return Error.stackTraceLimit=a,e.generatedMessage=!r,Object.defineProperty(c(e),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),e.code="ERR_ASSERTION",e.actual=o,e.expected=s,e.operator=n,Error.captureStackTrace&&Error.captureStackTrace(c(e),i),e.stack,e.name="AssertionError",l(e)}return o=v,(a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(t,e){return y(this,i(i({},e),{},{customInspect:!1,depth:0}))}}])&&s(o.prototype,a),u&&s(o,u),Object.defineProperty(o,"prototype",{writable:!1}),v}(u(Error),y.custom);t.exports=_},69597:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,s=void 0,s=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===n(s)?s:String(s)),i)}var o,s}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}var l,c,u={};function h(t,e,r){r||(r=Error);var n=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,r);var n,a,l,c=s(u);function u(r,n,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),o=c.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i)),o.code=t,o}return n=u,a&&i(n.prototype,a),l&&i(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n}(r);u[t]=n}function p(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}h("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),h("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,a,c;if(void 0===l&&(l=r(94148)),l("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(!a||a<0?0:+a,s.length)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))c="The ".concat(t," ").concat(o," ").concat(p(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";c='The "'.concat(t,'" ').concat(u," ").concat(o," ").concat(p(e,"type"))}return c+=". Received type ".concat(n(i))}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=r(40537));var i=c.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),h("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===l&&(l=r(94148)),l(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},82299:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var s=void 0!==/a/g.flags,a=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},l=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},c=Object.is?Object.is:r(37653),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},h=Number.isNaN?Number.isNaN:r(24133);function p(t){return t.call.bind(t)}var d=p(Object.prototype.hasOwnProperty),f=p(Object.prototype.propertyIsEnumerable),g=p(Object.prototype.toString),y=r(40537).types,m=y.isAnyArrayBuffer,v=y.isArrayBufferView,x=y.isDate,O=y.isMap,b=y.isRegExp,S=y.isSet,A=y.isNativeError,E=y.isBoxedPrimitive,T=y.isNumberObject,N=y.isStringObject,_=y.isBooleanObject,C=y.isBigIntObject,w=y.isSymbolObject,k=y.isFloat32Array,R=y.isFloat64Array;function P(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function I(t){return Object.keys(t).filter(P).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function L(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function j(t,e,r,n){if(t===e)return 0!==t||(!r||c(t,e));if(r){if("object"!==o(t))return"number"==typeof t&&h(t)&&h(e);if("object"!==o(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==o(t))return(null===e||"object"!==o(e))&&t==e;if(null===e||"object"!==o(e))return!1}var i,a,l,u,p=g(t);if(p!==g(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var d=I(t),f=I(e);return d.length===f.length&&M(t,e,r,n,1,d)}if("[object Object]"===p&&(!O(t)&&O(e)||!S(t)&&S(e)))return!1;if(x(t)){if(!x(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(b(t)){if(!b(e)||(l=t,u=e,!(s?l.source===u.source&&l.flags===u.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(u))))return!1}else if(A(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(v(t)){if(r||!k(t)&&!R(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===L(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var y=I(t),P=I(e);return y.length===P.length&&M(t,e,r,n,0,y)}if(S(t))return!(!S(e)||t.size!==e.size)&&M(t,e,r,n,2);if(O(t))return!(!O(e)||t.size!==e.size)&&M(t,e,r,n,3);if(m(t)){if(a=e,(i=t).byteLength!==a.byteLength||0!==L(new Uint8Array(i),new Uint8Array(a)))return!1}else if(E(t)&&!function(t,e){return T(t)?T(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):N(t)?N(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):_(t)?_(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):C(t)?C(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):w(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return M(t,e,r,n,0)}function D(t,e){return e.filter((function(e){return f(t,e)}))}function M(t,e,r,i,s,c){if(5===arguments.length){c=Object.keys(t);var h=Object.keys(e);if(c.length!==h.length)return!1}for(var p=0;p<c.length;p++)if(!d(e,c[p]))return!1;if(r&&5===arguments.length){var g=u(t);if(0!==g.length){var y=0;for(p=0;p<g.length;p++){var m=g[p];if(f(t,m)){if(!f(e,m))return!1;c.push(m),y++}else if(f(e,m))return!1}var v=u(e);if(g.length!==v.length&&D(e,v).length!==y)return!1}else{var x=u(e);if(0!==x.length&&0!==D(e,x).length)return!1}}if(0===c.length&&(0===s||1===s&&0===t.length||0===t.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var O=i.val1.get(t);if(void 0!==O){var b=i.val2.get(e);if(void 0!==b)return O===b}i.position++}i.val1.set(t,i.position),i.val2.set(e,i.position);var S=function(t,e,r,i,s,c){var u=0;if(2===c){if(!function(t,e,r,n){for(var i=null,s=a(t),l=0;l<s.length;l++){var c=s[l];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!e.has(c)){if(r)return!1;if(!U(t,e,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var u=a(e),h=0;h<u.length;h++){var p=u[h];if("object"===o(p)&&null!==p){if(!q(i,p,r,n))return!1}else if(!r&&!t.has(p)&&!q(i,p,r,n))return!1}return 0===i.size}return!0}(t,e,r,s))return!1}else if(3===c){if(!function(t,e,r,i){for(var s=null,a=l(t),c=0;c<a.length;c++){var u=n(a[c],2),h=u[0],p=u[1];if("object"===o(h)&&null!==h)null===s&&(s=new Set),s.add(h);else{var d=e.get(h);if(void 0===d&&!e.has(h)||!j(p,d,r,i)){if(r)return!1;if(!B(t,e,h,p,i))return!1;null===s&&(s=new Set),s.add(h)}}}if(null!==s){for(var f=l(e),g=0;g<f.length;g++){var y=n(f[g],2),m=y[0],v=y[1];if("object"===o(m)&&null!==m){if(!z(s,t,m,v,r,i))return!1}else if(!(r||t.has(m)&&j(t.get(m),v,!1,i)||z(s,t,m,v,!1,i)))return!1}return 0===s.size}return!0}(t,e,r,s))return!1}else if(1===c)for(;u<t.length;u++){if(!d(t,u)){if(d(e,u))return!1;for(var h=Object.keys(t);u<h.length;u++){var p=h[u];if(!d(e,p)||!j(t[p],e[p],r,s))return!1}return h.length===Object.keys(e).length}if(!d(e,u)||!j(t[u],e[u],r,s))return!1}for(u=0;u<i.length;u++){var f=i[u];if(!j(t[f],e[f],r,s))return!1}return!0}(t,e,r,c,i,s);return i.val1.delete(t),i.val2.delete(e),S}function q(t,e,r,n){for(var i=a(t),o=0;o<i.length;o++){var s=i[o];if(j(e,s,r,n))return t.delete(s),!0}return!1}function F(t){switch(o(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(h(t))return!1}return!0}function U(t,e,r){var n=F(r);return null!=n?n:e.has(n)&&!t.has(n)}function B(t,e,r,n,i){var o=F(r);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!j(n,s,!1,i))&&(!t.has(o)&&j(n,s,!1,i))}function z(t,e,r,n,i,o){for(var s=a(t),l=0;l<s.length;l++){var c=s[l];if(j(r,c,i,o)&&j(n,e.get(c),i,o))return t.delete(c),!0}return!1}t.exports={isDeepEqual:function(t,e){return j(t,e,false)},isDeepStrictEqual:function(t,e){return j(t,e,true)}}},38075:(t,e,r)=>{"use strict";var n=r(70453),i=r(10487),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},10487:(t,e,r)=>{"use strict";var n=r(66743),i=r(70453),o=r(96897),s=r(69675),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||n.call(l,a),u=r(30655),h=i("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(n,l,arguments);return o(e,1+h(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(n,a,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},52422:(t,e,r)=>{"use strict";var n=r(30655),i=r(58068),o=r(69675),s=r(75795);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(t,e);if(n)n(t,e,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===l&&h?h.writable:!l});else{if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},38452:(t,e,r)=>{"use strict";var n=r(1189),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(52422),l=r(30592)(),c=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;l?a(t,e,r,!0):a(t,e,r)},u=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)c(t,o[a],e[o[a]],r[o[a]])};u.supportsDescriptors=!!l,t.exports=u},30655:(t,e,r)=>{"use strict";var n=r(70453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},41237:t=>{"use strict";t.exports=EvalError},69383:t=>{"use strict";t.exports=Error},79290:t=>{"use strict";t.exports=RangeError},79538:t=>{"use strict";t.exports=ReferenceError},58068:t=>{"use strict";t.exports=SyntaxError},69675:t=>{"use strict";t.exports=TypeError},35345:t=>{"use strict";t.exports=URIError},82682:(t,e,r)=>{"use strict";var n=r(69600),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,s):function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s)}},89353:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments,1),a=r(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,n(s,arguments));return Object(e)===e?e:this}return i.apply(t,n(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},66743:(t,e,r)=>{"use strict";var n=r(89353);t.exports=Function.prototype.bind||n},70453:(t,e,r)=>{"use strict";var n,i=r(69383),o=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),u=r(35345),h=Function,p=function(t){try{return h('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}var f=function(){throw new c},g=d?function(){try{return f}catch(t){try{return d(arguments,"callee").get}catch(t){return f}}}():f,y=r(64039)(),m=r(80024)(),v=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),x={},O="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":x,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&v?v(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":O,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(t){var S=v(v(t));b["%Error.prototype%"]=S}var A=function t(e){var r;if("%AsyncFunction%"===e)r=p("async function () {}");else if("%GeneratorFunction%"===e)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=p("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&v&&(r=v(i.prototype))}return b[e]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(66743),N=r(9957),_=T.call(Function.call,Array.prototype.concat),C=T.call(Function.apply,Array.prototype.splice),w=T.call(Function.call,String.prototype.replace),k=T.call(Function.call,String.prototype.slice),R=T.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,L=function(t,e){var r,n=t;if(N(E,n)&&(n="%"+(r=E[n])[0]+"%"),N(b,n)){var i=b[n];if(i===x&&(i=A(n)),void 0===i&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=k(t,0,1),r=k(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return w(t,P,(function(t,e,r,i){n[n.length]=r?w(i,I,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=L("%"+n+"%",e),o=i.name,s=i.value,a=!1,u=i.alias;u&&(n=u[0],C(r,_([0,1],u)));for(var h=1,p=!0;h<r.length;h+=1){var f=r[h],g=k(f,0,1),y=k(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(a=!0),N(b,o="%"+(n+="."+f)+"%"))s=b[o];else if(null!=s){if(!(f in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&h+1>=r.length){var m=d(s,f);s=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[f]}else p=N(s,f),s=s[f];p&&!a&&(b[o]=s)}}return s}},75795:(t,e,r)=>{"use strict";var n=r(70453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},30592:(t,e,r)=>{"use strict";var n=r(30655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},80024:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},64039:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(41333);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},41333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},49092:(t,e,r)=>{"use strict";var n=r(41333);t.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(66743);t.exports=o.call(n,i)},56698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},47244:(t,e,r)=>{"use strict";var n=r(49092)(),i=r(38075)("Object.prototype.toString"),o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},69600:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=n.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(n.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var p=document.all;l.call(p)===l.call(document.all)&&(h=function(t){if((u||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!s(t)&&a(t)}:function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(c)return a(t);if(s(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},48184:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(49092)(),l=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!l)return!1;if(void 0===n){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&l(e)}return l(t)===n}},13003:t=>{"use strict";t.exports=function(t){return t!=t}},24133:(t,e,r)=>{"use strict";var n=r(10487),i=r(38452),o=r(13003),s=r(76642),a=r(92464),l=n(s(),Number);i(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},76642:(t,e,r)=>{"use strict";var n=r(13003);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},92464:(t,e,r)=>{"use strict";var n=r(38452),i=r(76642);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},35680:(t,e,r)=>{"use strict";var n=r(25767);t.exports=function(t){return!!n(t)}},55580:(t,e,r)=>{var n=r(56110)(r(9325),"DataView");t.exports=n},32804:(t,e,r)=>{var n=r(56110)(r(9325),"Promise");t.exports=n},76545:(t,e,r)=>{var n=r(56110)(r(9325),"Set");t.exports=n},38859:(t,e,r)=>{var n=r(53661),i=r(31380),o=r(51459);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},37217:(t,e,r)=>{var n=r(80079),i=r(51420),o=r(90938),s=r(63605),a=r(29817),l=r(80945);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},37828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},50684:(t,e,r)=>{var n=r(56110)(r(9325),"WeakMap");t.exports=n},63945:t=>{t.exports=function(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}},79770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},70695:(t,e,r)=>{var n=r(78096),i=r(72428),o=r(56449),s=r(3656),a=r(30361),l=r(37167),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),u=!r&&i(t),h=!r&&!u&&s(t),p=!r&&!u&&!h&&l(t),d=r||u||h||p,f=d?n(t.length,String):[],g=f.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||h&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,g))||f.push(y);return f}},14528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},14248:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},99811:(t,e,r)=>{var n=r(47237)("length");t.exports=n},61074:t=>{t.exports=function(t){return t.split("")}},62429:(t,e,r)=>{var n=r(80909);t.exports=function(t,e,r,i){return n(t,(function(t,n,o){e(i,t,r(t),o)})),i}},87133:t=>{t.exports=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}},80909:(t,e,r)=>{var n=r(30641),i=r(38329)(n);t.exports=i},86649:(t,e,r)=>{var n=r(83221)();t.exports=n},30641:(t,e,r)=>{var n=r(86649),i=r(95950);t.exports=function(t,e){return t&&n(t,e,i)}},47422:(t,e,r)=>{var n=r(31769),i=r(77797);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},82199:(t,e,r)=>{var n=r(14528),i=r(56449);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},28077:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},27534:(t,e,r)=>{var n=r(72552),i=r(40346);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},60270:(t,e,r)=>{var n=r(87068),i=r(40346);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,s,t,a))}},87068:(t,e,r)=>{var n=r(37217),i=r(25911),o=r(21986),s=r(50689),a=r(5861),l=r(56449),c=r(3656),u=r(37167),h="[object Arguments]",p="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,y,m){var v=l(t),x=l(e),O=v?p:a(t),b=x?p:a(e),S=(O=O==h?d:O)==d,A=(b=b==h?d:b)==d,E=O==b;if(E&&c(t)){if(!c(e))return!1;v=!0,S=!1}if(E&&!S)return m||(m=new n),v||u(t)?i(t,e,r,g,y,m):o(t,e,O,r,g,y,m);if(!(1&r)){var T=S&&f.call(t,"__wrapped__"),N=A&&f.call(e,"__wrapped__");if(T||N){var _=T?t.value():t,C=N?e.value():e;return m||(m=new n),y(_,C,r,g,m)}}return!!E&&(m||(m=new n),s(t,e,r,g,y,m))}},41799:(t,e,r)=>{var n=r(37217),i=r(60270);t.exports=function(t,e,r,o){var s=r.length,a=s,l=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=r[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var u=(c=r[s])[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var d=new n;if(o)var f=o(h,p,u,t,e,d);if(!(void 0===f?i(p,h,3,o,d):f))return!1}}return!0}},4901:(t,e,r)=>{var n=r(72552),i=r(30294),o=r(40346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},15389:(t,e,r)=>{var n=r(93663),i=r(87978),o=r(83488),s=r(56449),a=r(50583);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):n(t):a(t)}},88984:(t,e,r)=>{var n=r(55527),i=r(3650),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},93663:(t,e,r)=>{var n=r(41799),i=r(10776),o=r(67197);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},87978:(t,e,r)=>{var n=r(60270),i=r(58156),o=r(80631),s=r(28586),a=r(30756),l=r(67197),c=r(77797);t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(r){var s=i(r,t);return void 0===s&&s===e?o(r,t):n(e,s,3)}}},47237:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},17255:(t,e,r)=>{var n=r(47422);t.exports=function(t){return function(e){return n(e,t)}}},84051:t=>{var e=Math.floor;t.exports=function(t,r){var n="";if(!t||r<1||r>9007199254740991)return n;do{r%2&&(n+=t),(r=e(r/2))&&(t+=t)}while(r);return n}},25160:t=>{t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},78096:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},54128:(t,e,r)=>{var n=r(31800),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},27301:t=>{t.exports=function(t){return function(e){return t(e)}}},19219:t=>{t.exports=function(t,e){return t.has(e)}},28754:(t,e,r)=>{var n=r(25160);t.exports=function(t,e,r){var i=t.length;return r=void 0===r?i:r,!e&&r>=i?t:n(t,e,r)}},42e3:(t,e,r)=>{var n=r(63945),i=r(62429),o=r(15389),s=r(56449);t.exports=function(t,e){return function(r,a){var l=s(r)?n:i,c=e?e():{};return l(r,t,o(a,2),c)}}},38329:(t,e,r)=>{var n=r(64894);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,s=e?o:-1,a=Object(r);(e?s--:++s<o)&&!1!==i(a[s],s,a););return r}}},83221:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===r(o[l],l,o))break}return e}}},57216:(t,e,r)=>{var n=r(84051),i=r(77556),o=r(28754),s=r(49698),a=r(81993),l=r(63912),c=Math.ceil;t.exports=function(t,e){var r=(e=void 0===e?" ":i(e)).length;if(r<2)return r?n(e,t):e;var u=n(e,c(t/a(e)));return s(e)?o(l(u),0,t).join(""):u.slice(0,t)}},24647:(t,e,r)=>{var n=r(54552)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});t.exports=n},25911:(t,e,r)=>{var n=r(38859),i=r(14248),o=r(19219);t.exports=function(t,e,r,s,a,l){var c=1&r,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var p=l.get(t),d=l.get(e);if(p&&d)return p==e&&d==t;var f=-1,g=!0,y=2&r?new n:void 0;for(l.set(t,e),l.set(e,t);++f<u;){var m=t[f],v=e[f];if(s)var x=c?s(v,m,f,e,t,l):s(m,v,f,t,e,l);if(void 0!==x){if(x)continue;g=!1;break}if(y){if(!i(e,(function(t,e){if(!o(y,e)&&(m===t||a(m,t,r,s,l)))return y.push(e)}))){g=!1;break}}else if(m!==v&&!a(m,v,r,s,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},21986:(t,e,r)=>{var n=r(51873),i=r(37828),o=r(75288),s=r(25911),a=r(20317),l=r(84247),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,h,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=a;case"[object Set]":var f=1&n;if(d||(d=l),t.size!=e.size&&!f)return!1;var g=p.get(t);if(g)return g==e;n|=2,p.set(t,e);var y=s(d(t),d(e),n,c,h,p);return p.delete(t),y;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},50689:(t,e,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var l=1&r,c=n(t),u=c.length;if(u!=n(e).length&&!l)return!1;for(var h=u;h--;){var p=c[h];if(!(l?p in e:i.call(e,p)))return!1}var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=l;++h<u;){var m=t[p=c[h]],v=e[p];if(o)var x=l?o(v,m,p,e,t,a):o(m,v,p,t,e,a);if(!(void 0===x?m===v||s(m,v,r,o,a):x)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var O=t.constructor,b=e.constructor;O==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof O&&O instanceof O&&"function"==typeof b&&b instanceof b||(g=!1)}return a.delete(t),a.delete(e),g}},50002:(t,e,r)=>{var n=r(82199),i=r(4664),o=r(95950);t.exports=function(t){return n(t,o,i)}},10776:(t,e,r)=>{var n=r(30756),i=r(95950);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],s=t[o];e[r]=[o,s,n(s)]}return e}},4664:(t,e,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},5861:(t,e,r)=>{var n=r(55580),i=r(68223),o=r(32804),s=r(76545),a=r(50684),l=r(72552),c=r(47473),u="[object Map]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",f="[object DataView]",g=c(n),y=c(i),m=c(o),v=c(s),x=c(a),O=l;(n&&O(new n(new ArrayBuffer(1)))!=f||i&&O(new i)!=u||o&&O(o.resolve())!=h||s&&O(new s)!=p||a&&O(new a)!=d)&&(O=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case g:return f;case y:return u;case m:return h;case v:return p;case x:return d}return e}),t.exports=O},49326:(t,e,r)=>{var n=r(31769),i=r(72428),o=r(56449),s=r(30361),a=r(30294),l=r(77797);t.exports=function(t,e,r){for(var c=-1,u=(e=n(e,t)).length,h=!1;++c<u;){var p=l(e[c]);if(!(h=null!=t&&r(t,p)))break;t=t[p]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(p,u)&&(o(t)||i(t))}},49698:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},55527:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},30756:(t,e,r)=>{var n=r(23805);t.exports=function(t){return t==t&&!n(t)}},20317:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},67197:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},3650:(t,e,r)=>{var n=r(74335)(Object.keys,Object);t.exports=n},86009:(t,e,r)=>{t=r.nmd(t);var n=r(34840),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},74335:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},31380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},51459:t=>{t.exports=function(t){return this.__data__.has(t)}},84247:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},51420:(t,e,r)=>{var n=r(80079);t.exports=function(){this.__data__=new n,this.size=0}},90938:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},63605:t=>{t.exports=function(t){return this.__data__.get(t)}},29817:t=>{t.exports=function(t){return this.__data__.has(t)}},80945:(t,e,r)=>{var n=r(80079),i=r(68223),o=r(53661);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},81993:(t,e,r)=>{var n=r(99811),i=r(49698),o=r(77927);t.exports=function(t){return i(t)?o(t):n(t)}},63912:(t,e,r)=>{var n=r(61074),i=r(49698),o=r(42054);t.exports=function(t){return i(t)?o(t):n(t)}},31800:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},77927:t=>{var e="\\ud800-\\udfff",r="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+n+"?",n,s,a,r].join("|")+")",p=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){for(var e=p.lastIndex=0;p.test(t);)++e;return e}},42054:t=>{var e="\\ud800-\\udfff",r="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+n+"?",n,s,a,r].join("|")+")",p=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){return t.match(p)||[]}},78659:(t,e,r)=>{var n=r(87133),i=r(99374);t.exports=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=i(r))==r?r:0),void 0!==e&&(e=(e=i(e))==e?e:0),n(i(t),e,r)}},38221:(t,e,r)=>{var n=r(23805),i=r(10124),o=r(99374),s=Math.max,a=Math.min;t.exports=function(t,e,r){var l,c,u,h,p,d,f=0,g=!1,y=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var r=l,n=c;return l=c=void 0,f=e,h=t.apply(n,r)}function x(t){var r=t-d;return void 0===d||r>=e||r<0||y&&t-f>=u}function O(){var t=i();if(x(t))return b(t);p=setTimeout(O,function(t){var r=e-(t-d);return y?a(r,u-(t-f)):r}(t))}function b(t){return p=void 0,m&&l?v(t):(l=c=void 0,h)}function S(){var t=i(),r=x(t);if(l=arguments,c=this,d=t,r){if(void 0===p)return function(t){return f=t,p=setTimeout(O,e),g?v(t):h}(d);if(y)return clearTimeout(p),p=setTimeout(O,e),v(d)}return void 0===p&&(p=setTimeout(O,e)),h}return e=o(e)||0,n(r)&&(g=!!r.leading,u=(y="maxWait"in r)?s(o(r.maxWait)||0,e):u,m="trailing"in r?!!r.trailing:m),S.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=d=c=p=void 0},S.flush=function(){return void 0===p?h:b(i())},S}},50828:(t,e,r)=>{var n=r(24647),i=r(13222),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,n).replace(s,"")}},58156:(t,e,r)=>{var n=r(47422);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},94394:(t,e,r)=>{var n=r(43360),i=r(42e3),o=Object.prototype.hasOwnProperty,s=i((function(t,e,r){o.call(t,r)?t[r].push(e):n(t,r,[e])}));t.exports=s},80631:(t,e,r)=>{var n=r(28077),i=r(49326);t.exports=function(t,e){return null!=t&&i(t,e,n)}},83488:t=>{t.exports=function(t){return t}},72428:(t,e,r)=>{var n=r(27534),i=r(40346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},64894:(t,e,r)=>{var n=r(1882),i=r(30294);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},3656:(t,e,r)=>{t=r.nmd(t);var n=r(9325),i=r(89935),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;t.exports=l},30294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},37167:(t,e,r)=>{var n=r(4901),i=r(27301),o=r(86009),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},95950:(t,e,r)=>{var n=r(70695),i=r(88984),o=r(64894);t.exports=function(t){return o(t)?n(t):i(t)}},79674:(t,e,r)=>{var n=r(43360),i=r(30641),o=r(15389);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,e(t,i,o),t)})),r}},73916:(t,e,r)=>{var n=r(43360),i=r(30641),o=r(15389);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,i,e(t,i,o))})),r}},10124:(t,e,r)=>{var n=r(9325);t.exports=function(){return n.Date.now()}},52037:(t,e,r)=>{var n=r(57216),i=r(81993),o=r(61489),s=r(13222);t.exports=function(t,e,r){t=s(t);var a=(e=o(e))?i(t):0;return e&&a<e?n(e-a,r)+t:t}},50583:(t,e,r)=>{var n=r(47237),i=r(17255),o=r(28586),s=r(77797);t.exports=function(t){return o(t)?n(s(t)):i(t)}},63345:t=>{t.exports=function(){return[]}},89935:t=>{t.exports=function(){return!1}},7350:(t,e,r)=>{var n=r(38221),i=r(23805);t.exports=function(t,e,r){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),n(t,e,{leading:o,maxWait:e,trailing:s})}},17400:(t,e,r)=>{var n=r(99374),i=1/0;t.exports=function(t){return t?(t=n(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},61489:(t,e,r)=>{var n=r(17400);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},99374:(t,e,r)=>{var n=r(54128),i=r(23805),o=r(44394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=a.test(t);return r||l.test(t)?c(t.slice(2),r?2:8):s.test(t)?NaN:+t}},89211:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},37653:(t,e,r)=>{"use strict";var n=r(38452),i=r(10487),o=r(89211),s=r(9394),a=r(36576),l=i(s(),Object);n(l,{getPolyfill:s,implementation:o,shim:a}),t.exports=l},9394:(t,e,r)=>{"use strict";var n=r(89211);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},36576:(t,e,r)=>{"use strict";var n=r(9394),i=r(38452);t.exports=function(){var t=n();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},28875:(t,e,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===o.call(t),n=s(t),a=e&&"[object String]"===o.call(t),p=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=c&&r;if(a&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)p.push(String(g));if(n&&t.length>0)for(var y=0;y<t.length;++y)p.push(String(y));else for(var m in t)f&&"prototype"===m||!i.call(t,m)||p.push(String(m));if(l)for(var v=function(t){if("undefined"==typeof window||!d)return h(t);try{return h(t)}catch(t){return!1}}(t),x=0;x<u.length;++x)v&&"constructor"===u[x]||!i.call(t,u[x])||p.push(u[x]);return p}}t.exports=n},1189:(t,e,r)=>{"use strict";var n=Array.prototype.slice,i=r(1093),o=Object.keys,s=o?function(t){return o(t)}:r(28875),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(n.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},1093:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},38403:(t,e,r)=>{"use strict";var n=r(1189),i=r(41333)(),o=r(38075),s=Object,a=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),c=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=s(t);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var u=s(arguments[o]),h=n(u),p=i&&(Object.getOwnPropertySymbols||c);if(p)for(var d=p(u),f=0;f<d.length;++f){var g=d[f];l(u,g)&&a(h,g)}for(var y=0;y<h.length;++y){var m=h[y];if(l(u,m)){var v=u[m];r[m]=v}}}return r}},11514:(t,e,r)=>{"use strict";var n=r(38403);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return t!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},76578:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},61920:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(29707),o=r(61308),s=r(28303),a=r(50703),l=r(64169),c=r(64429),u=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=u;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[c.rxSubscriber]=function(){return new u(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=h;var p=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},64169:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(28303).Subscription);e.SubjectSubscription=i},15576:(t,e,r)=>{"use strict";var n=r(29707),i=r(76840),o=r(77452),s=r(31055);e.h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,l=t[t.length-1];return o.isScheduler(l)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof l&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.Observable?t[0]:s.mergeAll(r)(new i.ArrayObservable(t,a))}},31055:(t,e,r)=>{"use strict";var n=r(29982),i=r(21291);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,t)}},24995:function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=r(61308);e.tap=function(t,e,r){return function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,o){t.call(this,e);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},50703:function(t,e){"use strict";var r=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=n},21291:(t,e)=>{"use strict";e.identity=function(t){return t}},96897:(t,e,r)=>{"use strict";var n=r(70453),i=r(52422),o=r(30592)(),s=r(75795),a=r(69675),l=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},81135:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},49032:(t,e,r)=>{"use strict";var n=r(47244),i=r(48184),o=r(25767),s=r(35680);function a(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=a(Object.prototype.toString),h=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(l)var f=a(BigInt.prototype.valueOf);if(c)var g=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===u(t)}function v(t){return"[object Set]"===u(t)}function x(t){return"[object WeakMap]"===u(t)}function O(t){return"[object WeakSet]"===u(t)}function b(t){return"[object ArrayBuffer]"===u(t)}function S(t){return"undefined"!=typeof ArrayBuffer&&(b.working?b(t):t instanceof ArrayBuffer)}function A(t){return"[object DataView]"===u(t)}function E(t){return"undefined"!=typeof DataView&&(A.working?A(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||E(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(v.working?v(t):t instanceof Set)},x.working="undefined"!=typeof WeakMap&&x(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(x.working?x(t):t instanceof WeakMap)},O.working="undefined"!=typeof WeakSet&&O(new WeakSet),e.isWeakSet=function(t){return O(t)},b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),e.isArrayBuffer=S,A.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&A(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function N(t){return"[object SharedArrayBuffer]"===u(t)}function _(t){return void 0!==T&&(void 0===N.working&&(N.working=N(new T)),N.working?N(t):t instanceof T)}function C(t){return y(t,h)}function w(t){return y(t,p)}function k(t){return y(t,d)}function R(t){return l&&y(t,f)}function P(t){return c&&y(t,g)}e.isSharedArrayBuffer=_,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===u(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===u(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===u(t)},e.isGeneratorObject=function(t){return"[object Generator]"===u(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===u(t)},e.isNumberObject=C,e.isStringObject=w,e.isBooleanObject=k,e.isBigIntObject=R,e.isSymbolObject=P,e.isBoxedPrimitive=function(t){return C(t)||w(t)||k(t)||R(t)||P(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(S(t)||_(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},40537:(t,e,r)=>{var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(l(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])y(a)||!b(a)?s+=" "+a:s+=" "+l(a);return s},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var o={},s=/^$/;if("MISSING_ENV_VAR".NODE_DEBUG){var a="MISSING_ENV_VAR".NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function l(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&e._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),h(n,t,n.depth)}function c(t,e){var r=l.styles[e];return r?"["+l.colors[r][0]+"m"+t+"["+l.colors[r][1]+"m":t}function u(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return v(i)||(i=h(t,i,n)),i}var o=function(t,e){if(x(e))return t.stylize("undefined","undefined");if(v(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(m(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),A(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(E(r)){var l=r.name?": "+r.name:"";return t.stylize("[Function"+l+"]","special")}if(O(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return p(r)}var c,u="",b=!1,T=["{","}"];(f(r)&&(b=!0,T=["[","]"]),E(r))&&(u=" [Function"+(r.name?": "+r.name:"")+"]");return O(r)&&(u=" "+RegExp.prototype.toString.call(r)),S(r)&&(u=" "+Date.prototype.toUTCString.call(r)),A(r)&&(u=" "+p(r)),0!==s.length||b&&0!=r.length?n<0?O(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=b?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(d(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(t,e,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return d(t,r,n,a,e,b)})),t.seen.pop(),function(t,e,r){var n=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,u,T)):T[0]+u+T[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),C(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=y(r)?h(t,l.value,null):h(t,l.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function x(t){return void 0===t}function O(t){return b(t)&&"[object RegExp]"===T(t)}function b(t){return"object"==typeof t&&null!==t}function S(t){return b(t)&&"[object Date]"===T(t)}function A(t){return b(t)&&("[object Error]"===T(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function N(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!o[t])if(s.test(t)){var r=process.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(49032),e.isArray=f,e.isBoolean=g,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=x,e.isRegExp=O,e.types.isRegExp=O,e.isObject=b,e.isDate=S,e.types.isDate=S,e.isError=A,e.types.isNativeError=A,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(81135);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[N(t.getHours()),N(t.getMinutes()),N(t.getSeconds())].join(":"),[t.getDate(),_[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(56698),e._extend=function(t,e){if(!e||!b(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var w="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(w&&t[w]){var e;if("function"!=typeof(e=t[w]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,w,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),w&&Object.defineProperty(e,w,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=w,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){process.nextTick(o.bind(null,null,t))}),(function(t){process.nextTick(k.bind(null,t,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},68414:(t,e,r)=>{var n=r(41033),i=r(12550),o=i;o.v1=n,o.v4=i,t.exports=o},60471:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,i=e;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},25814:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)3&e||(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},17608:t=>{"use strict";function e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function r(t,e){return t<<e|t>>>32-e}t.exports=function(t){var n=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=new Array(o.length);for(var s=0;s<o.length;s++)t[s]=o.charCodeAt(s)}t.push(128);var a=t.length/4+2,l=Math.ceil(a/16),c=new Array(l);for(s=0;s<l;s++){c[s]=new Array(16);for(var u=0;u<16;u++)c[s][u]=t[64*s+4*u]<<24|t[64*s+4*u+1]<<16|t[64*s+4*u+2]<<8|t[64*s+4*u+3]}for(c[l-1][14]=8*(t.length-1)/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=8*(t.length-1)&4294967295,s=0;s<l;s++){for(var h=new Array(80),p=0;p<16;p++)h[p]=c[s][p];for(p=16;p<80;p++)h[p]=r(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var d=i[0],f=i[1],g=i[2],y=i[3],m=i[4];for(p=0;p<80;p++){var v=Math.floor(p/20),x=r(d,5)+e(v,f,g,y)+m+n[v]+h[p]>>>0;m=y,y=g,g=r(f,30)>>>0,f=d,d=x}i[0]=i[0]+d>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+g>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+m>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},7680:(t,e,r)=>{var n=r(60471);t.exports=function(t,e,r){var i=function(t,i,o,s){var a=o&&s||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(t)),"string"==typeof i&&(i=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(i)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var l=r(i.concat(t));if(l[6]=15&l[6]|e,l[8]=63&l[8]|128,o)for(var c=0;c<16;++c)o[a+c]=l[c];return o||n(l)};try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}},41033:(t,e,r)=>{var n,i,o=r(25814),s=r(60471),a=0,l=0;t.exports=function(t,e,r){var c=e&&r||0,u=e||[],h=(t=t||{}).node||n,p=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==p){var d=o();null==h&&(h=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:l+1,y=f-a+(g-l)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||f>a)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,l=g,i=p;var m=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[c++]=m>>>24&255,u[c++]=m>>>16&255,u[c++]=m>>>8&255,u[c++]=255&m;var v=f/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var x=0;x<6;++x)u[c+x]=h[x];return e||s(u)}},12550:(t,e,r)=>{var n=r(25814),i=r(60471);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},80293:(t,e,r)=>{var n=r(7680),i=r(17608);t.exports=n("v5",80,i)},25767:(t,e,r)=>{"use strict";var n=r(82682),i=r(39209),o=r(10487),s=r(38075),a=r(75795),l=s("Object.prototype.toString"),c=r(49092)(),u="undefined"==typeof globalThis?r.g:globalThis,h=i(),p=s("String.prototype.slice"),d=Object.getPrototypeOf,f=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},g={__proto__:null};n(h,c&&a&&d?function(t){var e=new u[t];if(Symbol.toStringTag in e){var r=d(e),n=a(r,Symbol.toStringTag);if(!n){var i=d(r);n=a(i,Symbol.toStringTag)}g["$"+t]=o(n.get)}}:function(t){var e=new u[t],r=e.slice||e.set;r&&(g["$"+t]=o(r))});t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!c){var e=p(l(t),8,-1);return f(h,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(g,(function(r,n){if(!e)try{r(t),e=p(n,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return n(g,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=p(n,1))}catch(t){}})),e}(t):null}},39209:(t,e,r)=>{"use strict";var n=r(76578),i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}}}]);